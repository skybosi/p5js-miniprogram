module.exports=function(global){var define,module,exports,window=global.window,screen=global.screen,navigator=window.navigator,document=global.document;var p55555=function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r}()({1:[function(_dereq_,module,exports){module.exports={p5:{describe:{name:"describe",params:[{name:"text",description:"<p>description of the canvas</p>\n",type:"String"},{name:"display",description:"<p>either LABEL or FALLBACK</p>\n",type:"Constant",optional:true}],class:"p5",module:"Environment"},describeElement:{name:"describeElement",params:[{name:"name",description:"<p>name of the element</p>\n",type:"String"},{name:"text",description:"<p>description of the element</p>\n",type:"String"},{name:"display",description:"<p>either LABEL or FALLBACK</p>\n",type:"Constant",optional:true}],class:"p5",module:"Environment"},textOutput:{name:"textOutput",params:[{name:"display",description:"<p>either FALLBACK or LABEL</p>\n",type:"Constant",optional:true}],class:"p5",module:"Environment"},gridOutput:{name:"gridOutput",params:[{name:"display",description:"<p>either FALLBACK or LABEL</p>\n",type:"Constant",optional:true}],class:"p5",module:"Environment"},alpha:{name:"alpha",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},blue:{name:"blue",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},brightness:{name:"brightness",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},color:{name:"color",class:"p5",module:"Color",overloads:[{params:[{name:"gray",description:"<p>number specifying value between white and black.</p>\n",type:"Number"},{name:"alpha",description:"<p>alpha value relative to current color range\n                                (default is 0-255)</p>\n",type:"Number",optional:true}]},{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}]},{params:[{name:"value",description:"<p>a color string</p>\n",type:"String"}]},{params:[{name:"values",description:"<p>an array containing the red,green,blue &\n                                and alpha components of the color</p>\n",type:"Number[]"}]},{params:[{name:"color",description:"",type:"p5.Color"}]}]},green:{name:"green",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},hue:{name:"hue",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},lerpColor:{name:"lerpColor",params:[{name:"c1",description:"<p>interpolate from this color</p>\n",type:"p5.Color"},{name:"c2",description:"<p>interpolate to this color</p>\n",type:"p5.Color"},{name:"amt",description:"<p>number between 0 and 1</p>\n",type:"Number"}],class:"p5",module:"Color"},lightness:{name:"lightness",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},red:{name:"red",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},saturation:{name:"saturation",params:[{name:"color",description:'<p><a href="#/p5.Color">p5.Color</a> object, color components,\n                                        or CSS color</p>\n',type:"p5.Color|Number[]|String"}],class:"p5",module:"Color"},background:{name:"background",class:"p5",module:"Color",overloads:[{params:[{name:"color",description:'<p>any value created by the <a href="#/p5/color">color()</a> function</p>\n',type:"p5.Color"}],chainable:1},{params:[{name:"colorstring",description:"<p>color string, possible formats include: integer\n                        rgb() or rgba(), percentage rgb() or rgba(),\n                        3-digit hex, 6-digit hex</p>\n",type:"String"},{name:"a",description:"<p>opacity of the background relative to current\n                            color range (default is 0-255)</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"gray",description:"<p>specifies a value between white and black</p>\n",type:"Number"},{name:"a",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"v1",description:"<p>red or hue value (depending on the current color\n                       mode)</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value (depending on the current\n                       color mode)</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value (depending on the current\n                       color mode)</p>\n",type:"Number"},{name:"a",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"values",description:"<p>an array containing the red, green, blue\n                                and alpha components of the color</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"image",description:'<p>image created with <a href="#/p5/loadImage">loadImage()</a> or <a href="#/p5/createImage">createImage()</a>,\n                            to set as background\n                            (must be same size as the sketch window)</p>\n',type:"p5.Image"},{name:"a",description:"",type:"Number",optional:true}],chainable:1}]},clear:{name:"clear",params:[{name:"r",description:"<p>normalized red val.</p>\n",type:"Number"},{name:"g",description:"<p>normalized green val.</p>\n",type:"Number"},{name:"b",description:"<p>normalized blue val.</p>\n",type:"Number"},{name:"a",description:"<p>normalized alpha val.</p>\n",type:"Number"}],class:"p5",module:"Color"},colorMode:{name:"colorMode",class:"p5",module:"Color",overloads:[{params:[{name:"mode",description:"<p>either RGB, HSB or HSL, corresponding to\n                         Red/Green/Blue and Hue/Saturation/Brightness\n                         (or Lightness)</p>\n",type:"Constant"},{name:"max",description:"<p>range for all values</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"mode",description:"",type:"Constant"},{name:"max1",description:"<p>range for the red or hue depending on the\n                             current color mode</p>\n",type:"Number"},{name:"max2",description:"<p>range for the green or saturation depending\n                             on the current color mode</p>\n",type:"Number"},{name:"max3",description:"<p>range for the blue or brightness/lightness\n                             depending on the current color mode</p>\n",type:"Number"},{name:"maxA",description:"<p>range for the alpha</p>\n",type:"Number",optional:true}],chainable:1}]},fill:{name:"fill",class:"p5",module:"Color",overloads:[{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"value",description:"<p>a color string</p>\n",type:"String"}],chainable:1},{params:[{name:"gray",description:"<p>a gray value</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"values",description:"<p>an array containing the red,green,blue &\n                                and alpha components of the color</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"color",description:"<p>the fill color</p>\n",type:"p5.Color"}],chainable:1}]},noFill:{name:"noFill",class:"p5",module:"Color"},noStroke:{name:"noStroke",class:"p5",module:"Color"},stroke:{name:"stroke",class:"p5",module:"Color",overloads:[{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"value",description:"<p>a color string</p>\n",type:"String"}],chainable:1},{params:[{name:"gray",description:"<p>a gray value</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"values",description:"<p>an array containing the red,green,blue &\n                                and alpha components of the color</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"color",description:"<p>the stroke color</p>\n",type:"p5.Color"}],chainable:1}]},erase:{name:"erase",params:[{name:"strengthFill",description:"<p>A number (0-255) for the strength of erasing for a shape's fill.\n                                       This will default to 255 when no argument is given, which\n                                       is full strength.</p>\n",type:"Number",optional:true},{name:"strengthStroke",description:"<p>A number (0-255) for the strength of erasing for a shape's stroke.\n                                       This will default to 255 when no argument is given, which\n                                       is full strength.</p>\n",type:"Number",optional:true}],class:"p5",module:"Color"},noErase:{name:"noErase",class:"p5",module:"Color"},arc:{name:"arc",params:[{name:"x",description:"<p>x-coordinate of the arc's ellipse</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the arc's ellipse</p>\n",type:"Number"},{name:"w",description:"<p>width of the arc's ellipse by default</p>\n",type:"Number"},{name:"h",description:"<p>height of the arc's ellipse by default</p>\n",type:"Number"},{name:"start",description:"<p>angle to start the arc, specified in radians</p>\n",type:"Number"},{name:"stop",description:"<p>angle to stop the arc, specified in radians</p>\n",type:"Number"},{name:"mode",description:"<p>optional parameter to determine the way of drawing\n                        the arc. either CHORD, PIE or OPEN</p>\n",type:"Constant",optional:true},{name:"detail",description:"<p>optional parameter for WebGL mode only. This is to\n                        specify the number of vertices that makes up the\n                        perimeter of the arc. Default value is 25. Won't\n                        draw a stroke for a detail of more than 50.</p>\n",type:"Integer",optional:true}],class:"p5",module:"Shape"},ellipse:{name:"ellipse",class:"p5",module:"Shape",overloads:[{params:[{name:"x",description:"<p>x-coordinate of the center of ellipse.</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the center of ellipse.</p>\n",type:"Number"},{name:"w",description:"<p>width of the ellipse.</p>\n",type:"Number"},{name:"h",description:"<p>height of the ellipse.</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"w",description:"",type:"Number"},{name:"h",description:"",type:"Number"},{name:"detail",description:"<p>optional parameter for WebGL mode only. This is to\n                        specify the number of vertices that makes up the\n                        perimeter of the ellipse. Default value is 25. Won't\n                        draw a stroke for a detail of more than 50.</p>\n",type:"Integer",optional:true}]}]},circle:{name:"circle",params:[{name:"x",description:"<p>x-coordinate of the centre of the circle.</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the centre of the circle.</p>\n",type:"Number"},{name:"d",description:"<p>diameter of the circle.</p>\n",type:"Number"}],class:"p5",module:"Shape"},line:{name:"line",class:"p5",module:"Shape",overloads:[{params:[{name:"x1",description:"<p>the x-coordinate of the first point</p>\n",type:"Number"},{name:"y1",description:"<p>the y-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"<p>the x-coordinate of the second point</p>\n",type:"Number"},{name:"y2",description:"<p>the y-coordinate of the second point</p>\n",type:"Number"}],chainable:1},{params:[{name:"x1",description:"",type:"Number"},{name:"y1",description:"",type:"Number"},{name:"z1",description:"<p>the z-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"",type:"Number"},{name:"y2",description:"",type:"Number"},{name:"z2",description:"<p>the z-coordinate of the second point</p>\n",type:"Number"}],chainable:1}]},point:{name:"point",class:"p5",module:"Shape",overloads:[{params:[{name:"x",description:"<p>the x-coordinate</p>\n",type:"Number"},{name:"y",description:"<p>the y-coordinate</p>\n",type:"Number"},{name:"z",description:"<p>the z-coordinate (for WebGL mode)</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"coordinate_vector",description:"<p>the coordinate vector</p>\n",type:"p5.Vector"}],chainable:1}]},quad:{name:"quad",class:"p5",module:"Shape",overloads:[{params:[{name:"x1",description:"<p>the x-coordinate of the first point</p>\n",type:"Number"},{name:"y1",description:"<p>the y-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"<p>the x-coordinate of the second point</p>\n",type:"Number"},{name:"y2",description:"<p>the y-coordinate of the second point</p>\n",type:"Number"},{name:"x3",description:"<p>the x-coordinate of the third point</p>\n",type:"Number"},{name:"y3",description:"<p>the y-coordinate of the third point</p>\n",type:"Number"},{name:"x4",description:"<p>the x-coordinate of the fourth point</p>\n",type:"Number"},{name:"y4",description:"<p>the y-coordinate of the fourth point</p>\n",type:"Number"},{name:"detailX",description:"<p>number of segments in the x-direction</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>number of segments in the y-direction</p>\n",type:"Integer",optional:true}],chainable:1},{params:[{name:"x1",description:"",type:"Number"},{name:"y1",description:"",type:"Number"},{name:"z1",description:"<p>the z-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"",type:"Number"},{name:"y2",description:"",type:"Number"},{name:"z2",description:"<p>the z-coordinate of the second point</p>\n",type:"Number"},{name:"x3",description:"",type:"Number"},{name:"y3",description:"",type:"Number"},{name:"z3",description:"<p>the z-coordinate of the third point</p>\n",type:"Number"},{name:"x4",description:"",type:"Number"},{name:"y4",description:"",type:"Number"},{name:"z4",description:"<p>the z-coordinate of the fourth point</p>\n",type:"Number"},{name:"detailX",description:"",type:"Integer",optional:true},{name:"detailY",description:"",type:"Integer",optional:true}],chainable:1}]},rect:{name:"rect",class:"p5",module:"Shape",overloads:[{params:[{name:"x",description:"<p>x-coordinate of the rectangle.</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the rectangle.</p>\n",type:"Number"},{name:"w",description:"<p>width of the rectangle.</p>\n",type:"Number"},{name:"h",description:"<p>height of the rectangle.</p>\n",type:"Number",optional:true},{name:"tl",description:"<p>optional radius of top-left corner.</p>\n",type:"Number",optional:true},{name:"tr",description:"<p>optional radius of top-right corner.</p>\n",type:"Number",optional:true},{name:"br",description:"<p>optional radius of bottom-right corner.</p>\n",type:"Number",optional:true},{name:"bl",description:"<p>optional radius of bottom-left corner.</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"w",description:"",type:"Number"},{name:"h",description:"",type:"Number"},{name:"detailX",description:"<p>number of segments in the x-direction (for WebGL mode)</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>number of segments in the y-direction (for WebGL mode)</p>\n",type:"Integer",optional:true}],chainable:1}]},square:{name:"square",params:[{name:"x",description:"<p>x-coordinate of the square.</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the square.</p>\n",type:"Number"},{name:"s",description:"<p>side size of the square.</p>\n",type:"Number"},{name:"tl",description:"<p>optional radius of top-left corner.</p>\n",type:"Number",optional:true},{name:"tr",description:"<p>optional radius of top-right corner.</p>\n",type:"Number",optional:true},{name:"br",description:"<p>optional radius of bottom-right corner.</p>\n",type:"Number",optional:true},{name:"bl",description:"<p>optional radius of bottom-left corner.</p>\n",type:"Number",optional:true}],class:"p5",module:"Shape"},triangle:{name:"triangle",params:[{name:"x1",description:"<p>x-coordinate of the first point</p>\n",type:"Number"},{name:"y1",description:"<p>y-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"<p>x-coordinate of the second point</p>\n",type:"Number"},{name:"y2",description:"<p>y-coordinate of the second point</p>\n",type:"Number"},{name:"x3",description:"<p>x-coordinate of the third point</p>\n",type:"Number"},{name:"y3",description:"<p>y-coordinate of the third point</p>\n",type:"Number"}],class:"p5",module:"Shape"},ellipseMode:{name:"ellipseMode",params:[{name:"mode",description:"<p>either CENTER, RADIUS, CORNER, or CORNERS</p>\n",type:"Constant"}],class:"p5",module:"Shape"},noSmooth:{name:"noSmooth",class:"p5",module:"Shape"},rectMode:{name:"rectMode",params:[{name:"mode",description:"<p>either CORNER, CORNERS, CENTER, or RADIUS</p>\n",type:"Constant"}],class:"p5",module:"Shape"},smooth:{name:"smooth",class:"p5",module:"Shape"},strokeCap:{name:"strokeCap",params:[{name:"cap",description:"<p>either ROUND, SQUARE or PROJECT</p>\n",type:"Constant"}],class:"p5",module:"Shape"},strokeJoin:{name:"strokeJoin",params:[{name:"join",description:"<p>either MITER, BEVEL, ROUND</p>\n",type:"Constant"}],class:"p5",module:"Shape"},strokeWeight:{name:"strokeWeight",params:[{name:"weight",description:"<p>the weight of the stroke (in pixels)</p>\n",type:"Number"}],class:"p5",module:"Shape"},bezier:{name:"bezier",class:"p5",module:"Shape",overloads:[{params:[{name:"x1",description:"<p>x-coordinate for the first anchor point</p>\n",type:"Number"},{name:"y1",description:"<p>y-coordinate for the first anchor point</p>\n",type:"Number"},{name:"x2",description:"<p>x-coordinate for the first control point</p>\n",type:"Number"},{name:"y2",description:"<p>y-coordinate for the first control point</p>\n",type:"Number"},{name:"x3",description:"<p>x-coordinate for the second control point</p>\n",type:"Number"},{name:"y3",description:"<p>y-coordinate for the second control point</p>\n",type:"Number"},{name:"x4",description:"<p>x-coordinate for the second anchor point</p>\n",type:"Number"},{name:"y4",description:"<p>y-coordinate for the second anchor point</p>\n",type:"Number"}],chainable:1},{params:[{name:"x1",description:"",type:"Number"},{name:"y1",description:"",type:"Number"},{name:"z1",description:"<p>z-coordinate for the first anchor point</p>\n",type:"Number"},{name:"x2",description:"",type:"Number"},{name:"y2",description:"",type:"Number"},{name:"z2",description:"<p>z-coordinate for the first control point</p>\n",type:"Number"},{name:"x3",description:"",type:"Number"},{name:"y3",description:"",type:"Number"},{name:"z3",description:"<p>z-coordinate for the second control point</p>\n",type:"Number"},{name:"x4",description:"",type:"Number"},{name:"y4",description:"",type:"Number"},{name:"z4",description:"<p>z-coordinate for the second anchor point</p>\n",type:"Number"}],chainable:1}]},bezierDetail:{name:"bezierDetail",params:[{name:"detail",description:"<p>resolution of the curves</p>\n",type:"Number"}],class:"p5",module:"Shape"},bezierPoint:{name:"bezierPoint",params:[{name:"a",description:"<p>coordinate of first point on the curve</p>\n",type:"Number"},{name:"b",description:"<p>coordinate of first control point</p>\n",type:"Number"},{name:"c",description:"<p>coordinate of second control point</p>\n",type:"Number"},{name:"d",description:"<p>coordinate of second point on the curve</p>\n",type:"Number"},{name:"t",description:"<p>value between 0 and 1</p>\n",type:"Number"}],class:"p5",module:"Shape"},bezierTangent:{name:"bezierTangent",params:[{name:"a",description:"<p>coordinate of first point on the curve</p>\n",type:"Number"},{name:"b",description:"<p>coordinate of first control point</p>\n",type:"Number"},{name:"c",description:"<p>coordinate of second control point</p>\n",type:"Number"},{name:"d",description:"<p>coordinate of second point on the curve</p>\n",type:"Number"},{name:"t",description:"<p>value between 0 and 1</p>\n",type:"Number"}],class:"p5",module:"Shape"},curve:{name:"curve",class:"p5",module:"Shape",overloads:[{params:[{name:"x1",description:"<p>x-coordinate for the beginning control point</p>\n",type:"Number"},{name:"y1",description:"<p>y-coordinate for the beginning control point</p>\n",type:"Number"},{name:"x2",description:"<p>x-coordinate for the first point</p>\n",type:"Number"},{name:"y2",description:"<p>y-coordinate for the first point</p>\n",type:"Number"},{name:"x3",description:"<p>x-coordinate for the second point</p>\n",type:"Number"},{name:"y3",description:"<p>y-coordinate for the second point</p>\n",type:"Number"},{name:"x4",description:"<p>x-coordinate for the ending control point</p>\n",type:"Number"},{name:"y4",description:"<p>y-coordinate for the ending control point</p>\n",type:"Number"}],chainable:1},{params:[{name:"x1",description:"",type:"Number"},{name:"y1",description:"",type:"Number"},{name:"z1",description:"<p>z-coordinate for the beginning control point</p>\n",type:"Number"},{name:"x2",description:"",type:"Number"},{name:"y2",description:"",type:"Number"},{name:"z2",description:"<p>z-coordinate for the first point</p>\n",type:"Number"},{name:"x3",description:"",type:"Number"},{name:"y3",description:"",type:"Number"},{name:"z3",description:"<p>z-coordinate for the second point</p>\n",type:"Number"},{name:"x4",description:"",type:"Number"},{name:"y4",description:"",type:"Number"},{name:"z4",description:"<p>z-coordinate for the ending control point</p>\n",type:"Number"}],chainable:1}]},curveDetail:{name:"curveDetail",params:[{name:"resolution",description:"<p>resolution of the curves</p>\n",type:"Number"}],class:"p5",module:"Shape"},curveTightness:{name:"curveTightness",params:[{name:"amount",description:"<p>amount of deformation from the original vertices</p>\n",type:"Number"}],class:"p5",module:"Shape"},curvePoint:{name:"curvePoint",params:[{name:"a",description:"<p>coordinate of first control point of the curve</p>\n",type:"Number"},{name:"b",description:"<p>coordinate of first point</p>\n",type:"Number"},{name:"c",description:"<p>coordinate of second point</p>\n",type:"Number"},{name:"d",description:"<p>coordinate of second control point</p>\n",type:"Number"},{name:"t",description:"<p>value between 0 and 1</p>\n",type:"Number"}],class:"p5",module:"Shape"},curveTangent:{name:"curveTangent",params:[{name:"a",description:"<p>coordinate of first control point</p>\n",type:"Number"},{name:"b",description:"<p>coordinate of first point on the curve</p>\n",type:"Number"},{name:"c",description:"<p>coordinate of second point on the curve</p>\n",type:"Number"},{name:"d",description:"<p>coordinate of second conrol point</p>\n",type:"Number"},{name:"t",description:"<p>value between 0 and 1</p>\n",type:"Number"}],class:"p5",module:"Shape"},beginContour:{name:"beginContour",class:"p5",module:"Shape"},beginShape:{name:"beginShape",params:[{name:"kind",description:"<p>either POINTS, LINES, TRIANGLES, TRIANGLE_FAN\n                               TRIANGLE_STRIP, QUADS, QUAD_STRIP or TESS</p>\n",type:"Constant",optional:true}],class:"p5",module:"Shape"},bezierVertex:{name:"bezierVertex",class:"p5",module:"Shape",overloads:[{params:[{name:"x2",description:"<p>x-coordinate for the first control point</p>\n",type:"Number"},{name:"y2",description:"<p>y-coordinate for the first control point</p>\n",type:"Number"},{name:"x3",description:"<p>x-coordinate for the second control point</p>\n",type:"Number"},{name:"y3",description:"<p>y-coordinate for the second control point</p>\n",type:"Number"},{name:"x4",description:"<p>x-coordinate for the anchor point</p>\n",type:"Number"},{name:"y4",description:"<p>y-coordinate for the anchor point</p>\n",type:"Number"}],chainable:1},{params:[{name:"x2",description:"",type:"Number"},{name:"y2",description:"",type:"Number"},{name:"z2",description:"<p>z-coordinate for the first control point (for WebGL mode)</p>\n",type:"Number"},{name:"x3",description:"",type:"Number"},{name:"y3",description:"",type:"Number"},{name:"z3",description:"<p>z-coordinate for the second control point (for WebGL mode)</p>\n",type:"Number"},{name:"x4",description:"",type:"Number"},{name:"y4",description:"",type:"Number"},{name:"z4",description:"<p>z-coordinate for the anchor point (for WebGL mode)</p>\n",type:"Number"}],chainable:1}]},curveVertex:{name:"curveVertex",class:"p5",module:"Shape",overloads:[{params:[{name:"x",description:"<p>x-coordinate of the vertex</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the vertex</p>\n",type:"Number"}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"<p>z-coordinate of the vertex (for WebGL mode)</p>\n",type:"Number",optional:true}],chainable:1}]},endContour:{name:"endContour",class:"p5",module:"Shape"},endShape:{name:"endShape",params:[{name:"mode",description:"<p>use CLOSE to close the shape</p>\n",type:"Constant",optional:true}],class:"p5",module:"Shape"},quadraticVertex:{name:"quadraticVertex",class:"p5",module:"Shape",overloads:[{params:[{name:"cx",description:"<p>x-coordinate for the control point</p>\n",type:"Number"},{name:"cy",description:"<p>y-coordinate for the control point</p>\n",type:"Number"},{name:"x3",description:"<p>x-coordinate for the anchor point</p>\n",type:"Number"},{name:"y3",description:"<p>y-coordinate for the anchor point</p>\n",type:"Number"}],chainable:1},{params:[{name:"cx",description:"",type:"Number"},{name:"cy",description:"",type:"Number"},{name:"cz",description:"<p>z-coordinate for the control point (for WebGL mode)</p>\n",type:"Number"},{name:"x3",description:"",type:"Number"},{name:"y3",description:"",type:"Number"},{name:"z3",description:"<p>z-coordinate for the anchor point (for WebGL mode)</p>\n",type:"Number"}],chainable:1}]},vertex:{name:"vertex",class:"p5",module:"Shape",overloads:[{params:[{name:"x",description:"<p>x-coordinate of the vertex</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the vertex</p>\n",type:"Number"}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"<p>z-coordinate of the vertex.\n                      Defaults to 0 if not specified.</p>\n",type:"Number"}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number",optional:true},{name:"u",description:"<p>the vertex's texture u-coordinate</p>\n",type:"Number"},{name:"v",description:"<p>the vertex's texture v-coordinate</p>\n",type:"Number"}],chainable:1}]},normal:{name:"normal",class:"p5",module:"Shape",overloads:[{params:[{name:"vector",description:"<p>A p5.Vector representing the vertex normal.</p>\n",type:"Vector"}],chainable:1},{params:[{name:"x",description:"<p>The x component of the vertex normal.</p>\n",type:"Number"},{name:"y",description:"<p>The y component of the vertex normal.</p>\n",type:"Number"},{name:"z",description:"<p>The z component of the vertex normal.</p>\n",type:"Number"}],chainable:1}]},VERSION:{name:"VERSION",class:"p5",module:"Constants"},P2D:{name:"P2D",class:"p5",module:"Constants"},WEBGL:{name:"WEBGL",class:"p5",module:"Constants"},ARROW:{name:"ARROW",class:"p5",module:"Constants"},CROSS:{name:"CROSS",class:"p5",module:"Constants"},HAND:{name:"HAND",class:"p5",module:"Constants"},MOVE:{name:"MOVE",class:"p5",module:"Constants"},TEXT:{name:"TEXT",class:"p5",module:"Constants"},WAIT:{name:"WAIT",class:"p5",module:"Constants"},HALF_PI:{name:"HALF_PI",class:"p5",module:"Constants"},PI:{name:"PI",class:"p5",module:"Constants"},QUARTER_PI:{name:"QUARTER_PI",class:"p5",module:"Constants"},TAU:{name:"TAU",class:"p5",module:"Constants"},TWO_PI:{name:"TWO_PI",class:"p5",module:"Constants"},DEGREES:{name:"DEGREES",class:"p5",module:"Constants"},RADIANS:{name:"RADIANS",class:"p5",module:"Constants"},CORNER:{name:"CORNER",class:"p5",module:"Constants"},CORNERS:{name:"CORNERS",class:"p5",module:"Constants"},RADIUS:{name:"RADIUS",class:"p5",module:"Constants"},RIGHT:{name:"RIGHT",class:"p5",module:"Constants"},LEFT:{name:"LEFT",class:"p5",module:"Constants"},CENTER:{name:"CENTER",class:"p5",module:"Constants"},TOP:{name:"TOP",class:"p5",module:"Constants"},BOTTOM:{name:"BOTTOM",class:"p5",module:"Constants"},BASELINE:{name:"BASELINE",class:"p5",module:"Constants"},POINTS:{name:"POINTS",class:"p5",module:"Constants"},LINES:{name:"LINES",class:"p5",module:"Constants"},LINE_STRIP:{name:"LINE_STRIP",class:"p5",module:"Constants"},LINE_LOOP:{name:"LINE_LOOP",class:"p5",module:"Constants"},TRIANGLES:{name:"TRIANGLES",class:"p5",module:"Constants"},TRIANGLE_FAN:{name:"TRIANGLE_FAN",class:"p5",module:"Constants"},TRIANGLE_STRIP:{name:"TRIANGLE_STRIP",class:"p5",module:"Constants"},QUADS:{name:"QUADS",class:"p5",module:"Constants"},QUAD_STRIP:{name:"QUAD_STRIP",class:"p5",module:"Constants"},TESS:{name:"TESS",class:"p5",module:"Constants"},CLOSE:{name:"CLOSE",class:"p5",module:"Constants"},OPEN:{name:"OPEN",class:"p5",module:"Constants"},CHORD:{name:"CHORD",class:"p5",module:"Constants"},PIE:{name:"PIE",class:"p5",module:"Constants"},PROJECT:{name:"PROJECT",class:"p5",module:"Constants"},SQUARE:{name:"SQUARE",class:"p5",module:"Constants"},ROUND:{name:"ROUND",class:"p5",module:"Constants"},BEVEL:{name:"BEVEL",class:"p5",module:"Constants"},MITER:{name:"MITER",class:"p5",module:"Constants"},RGB:{name:"RGB",class:"p5",module:"Constants"},HSB:{name:"HSB",class:"p5",module:"Constants"},HSL:{name:"HSL",class:"p5",module:"Constants"},AUTO:{name:"AUTO",class:"p5",module:"Constants"},ALT:{name:"ALT",class:"p5",module:"Constants"},BACKSPACE:{name:"BACKSPACE",class:"p5",module:"Constants"},CONTROL:{name:"CONTROL",class:"p5",module:"Constants"},DELETE:{name:"DELETE",class:"p5",module:"Constants"},DOWN_ARROW:{name:"DOWN_ARROW",class:"p5",module:"Constants"},ENTER:{name:"ENTER",class:"p5",module:"Constants"},ESCAPE:{name:"ESCAPE",class:"p5",module:"Constants"},LEFT_ARROW:{name:"LEFT_ARROW",class:"p5",module:"Constants"},OPTION:{name:"OPTION",class:"p5",module:"Constants"},RETURN:{name:"RETURN",class:"p5",module:"Constants"},RIGHT_ARROW:{name:"RIGHT_ARROW",class:"p5",module:"Constants"},SHIFT:{name:"SHIFT",class:"p5",module:"Constants"},TAB:{name:"TAB",class:"p5",module:"Constants"},UP_ARROW:{name:"UP_ARROW",class:"p5",module:"Constants"},BLEND:{name:"BLEND",class:"p5",module:"Constants"},REMOVE:{name:"REMOVE",class:"p5",module:"Constants"},ADD:{name:"ADD",class:"p5",module:"Constants"},DARKEST:{name:"DARKEST",class:"p5",module:"Constants"},LIGHTEST:{name:"LIGHTEST",class:"p5",module:"Constants"},DIFFERENCE:{name:"DIFFERENCE",class:"p5",module:"Constants"},SUBTRACT:{name:"SUBTRACT",class:"p5",module:"Constants"},EXCLUSION:{name:"EXCLUSION",class:"p5",module:"Constants"},MULTIPLY:{name:"MULTIPLY",class:"p5",module:"Constants"},SCREEN:{name:"SCREEN",class:"p5",module:"Constants"},REPLACE:{name:"REPLACE",class:"p5",module:"Constants"},OVERLAY:{name:"OVERLAY",class:"p5",module:"Constants"},HARD_LIGHT:{name:"HARD_LIGHT",class:"p5",module:"Constants"},SOFT_LIGHT:{name:"SOFT_LIGHT",class:"p5",module:"Constants"},DODGE:{name:"DODGE",class:"p5",module:"Constants"},BURN:{name:"BURN",class:"p5",module:"Constants"},THRESHOLD:{name:"THRESHOLD",class:"p5",module:"Constants"},GRAY:{name:"GRAY",class:"p5",module:"Constants"},OPAQUE:{name:"OPAQUE",class:"p5",module:"Constants"},INVERT:{name:"INVERT",class:"p5",module:"Constants"},POSTERIZE:{name:"POSTERIZE",class:"p5",module:"Constants"},DILATE:{name:"DILATE",class:"p5",module:"Constants"},ERODE:{name:"ERODE",class:"p5",module:"Constants"},BLUR:{name:"BLUR",class:"p5",module:"Constants"},NORMAL:{name:"NORMAL",class:"p5",module:"Constants"},ITALIC:{name:"ITALIC",class:"p5",module:"Constants"},BOLD:{name:"BOLD",class:"p5",module:"Constants"},BOLDITALIC:{name:"BOLDITALIC",class:"p5",module:"Constants"},CHAR:{name:"CHAR",class:"p5",module:"Constants"},WORD:{name:"WORD",class:"p5",module:"Constants"},LINEAR:{name:"LINEAR",class:"p5",module:"Constants"},QUADRATIC:{name:"QUADRATIC",class:"p5",module:"Constants"},BEZIER:{name:"BEZIER",class:"p5",module:"Constants"},CURVE:{name:"CURVE",class:"p5",module:"Constants"},STROKE:{name:"STROKE",class:"p5",module:"Constants"},FILL:{name:"FILL",class:"p5",module:"Constants"},TEXTURE:{name:"TEXTURE",class:"p5",module:"Constants"},IMMEDIATE:{name:"IMMEDIATE",class:"p5",module:"Constants"},IMAGE:{name:"IMAGE",class:"p5",module:"Constants"},NEAREST:{name:"NEAREST",class:"p5",module:"Constants"},REPEAT:{name:"REPEAT",class:"p5",module:"Constants"},CLAMP:{name:"CLAMP",class:"p5",module:"Constants"},MIRROR:{name:"MIRROR",class:"p5",module:"Constants"},LANDSCAPE:{name:"LANDSCAPE",class:"p5",module:"Constants"},PORTRAIT:{name:"PORTRAIT",class:"p5",module:"Constants"},GRID:{name:"GRID",class:"p5",module:"Constants"},AXES:{name:"AXES",class:"p5",module:"Constants"},LABEL:{name:"LABEL",class:"p5",module:"Constants"},FALLBACK:{name:"FALLBACK",class:"p5",module:"Constants"},print:{name:"print",params:[{name:"contents",description:"<p>any combination of Number, String, Object, Boolean,\n                      Array to print</p>\n",type:"Any"}],class:"p5",module:"Environment"},frameCount:{name:"frameCount",class:"p5",module:"Environment"},deltaTime:{name:"deltaTime",class:"p5",module:"Environment"},focused:{name:"focused",class:"p5",module:"Environment"},cursor:{name:"cursor",params:[{name:"type",description:"<p>Built-In: either ARROW, CROSS, HAND, MOVE, TEXT and WAIT\n                              Native CSS properties: 'grab', 'progress', 'cell' etc.\n                              External: path for cursor's images\n                              (Allowed File extensions: .cur, .gif, .jpg, .jpeg, .png)\n                              For more information on Native CSS cursors and url visit:\n                              <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\">https://developer.mozilla.org/en-US/docs/Web/CSS/cursor</a></p>\n",type:"String|Constant"},{name:"x",description:"<p>the horizontal active spot of the cursor (must be less than 32)</p>\n",type:"Number",optional:true},{name:"y",description:"<p>the vertical active spot of the cursor (must be less than 32)</p>\n",type:"Number",optional:true}],class:"p5",module:"Environment"},frameRate:{name:"frameRate",class:"p5",module:"Environment",overloads:[{params:[{name:"fps",description:"<p>number of frames to be displayed every second</p>\n",type:"Number"}],chainable:1},{params:[]}]},noCursor:{name:"noCursor",class:"p5",module:"Environment"},displayWidth:{name:"displayWidth",class:"p5",module:"Environment"},displayHeight:{name:"displayHeight",class:"p5",module:"Environment"},windowWidth:{name:"windowWidth",class:"p5",module:"Environment"},windowHeight:{name:"windowHeight",class:"p5",module:"Environment"},windowResized:{name:"windowResized",params:[{name:"event",description:"<p>optional Event callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Environment"},width:{name:"width",class:"p5",module:"Environment"},height:{name:"height",class:"p5",module:"Environment"},fullscreen:{name:"fullscreen",params:[{name:"val",description:"<p>whether the sketch should be in fullscreen mode\nor not</p>\n",type:"Boolean",optional:true}],class:"p5",module:"Environment"},pixelDensity:{name:"pixelDensity",class:"p5",module:"Environment",overloads:[{params:[{name:"val",description:"<p>whether or how much the sketch should scale</p>\n",type:"Number"}],chainable:1},{params:[]}]},displayDensity:{name:"displayDensity",class:"p5",module:"Environment"},getURL:{name:"getURL",class:"p5",module:"Environment"},getURLPath:{name:"getURLPath",class:"p5",module:"Environment"},getURLParams:{name:"getURLParams",class:"p5",module:"Environment"},preload:{name:"preload",class:"p5",module:"Structure"},setup:{name:"setup",class:"p5",module:"Structure"},draw:{name:"draw",class:"p5",module:"Structure"},remove:{name:"remove",class:"p5",module:"Structure"},disableFriendlyErrors:{name:"disableFriendlyErrors",class:"p5",module:"Structure"},let:{name:"let",class:"p5",module:"Foundation"},const:{name:"const",class:"p5",module:"Foundation"},"===":{name:"===",class:"p5",module:"Foundation"},">":{name:">",class:"p5",module:"Foundation"},">=":{name:">=",class:"p5",module:"Foundation"},"<":{name:"<",class:"p5",module:"Foundation"},"<=":{name:"<=",class:"p5",module:"Foundation"},"if-else":{name:"if-else",class:"p5",module:"Foundation"},function:{name:"function",class:"p5",module:"Foundation"},return:{name:"return",class:"p5",module:"Foundation"},boolean:{name:"boolean",params:[{name:"n",description:"<p>value to parse</p>\n",type:"String|Boolean|Number|Array"}],class:"p5",module:"Data"},string:{name:"string",class:"p5",module:"Foundation"},number:{name:"number",class:"p5",module:"Foundation"},object:{name:"object",class:"p5",module:"Foundation"},class:{name:"class",class:"p5",module:"Foundation"},for:{name:"for",class:"p5",module:"Foundation"},while:{name:"while",class:"p5",module:"Foundation"},createCanvas:{name:"createCanvas",params:[{name:"w",description:"<p>width of the canvas</p>\n",type:"Number"},{name:"h",description:"<p>height of the canvas</p>\n",type:"Number"},{name:"renderer",description:"<p>either P2D or WEBGL</p>\n",type:"Constant",optional:true}],class:"p5",module:"Rendering"},resizeCanvas:{name:"resizeCanvas",params:[{name:"w",description:"<p>width of the canvas</p>\n",type:"Number"},{name:"h",description:"<p>height of the canvas</p>\n",type:"Number"},{name:"noRedraw",description:"<p>don't redraw the canvas immediately</p>\n",type:"Boolean",optional:true}],class:"p5",module:"Rendering"},noCanvas:{name:"noCanvas",class:"p5",module:"Rendering"},createGraphics:{name:"createGraphics",params:[{name:"w",description:"<p>width of the offscreen graphics buffer</p>\n",type:"Number"},{name:"h",description:"<p>height of the offscreen graphics buffer</p>\n",type:"Number"},{name:"renderer",description:"<p>either P2D or WEBGL\n                              undefined defaults to p2d</p>\n",type:"Constant",optional:true}],class:"p5",module:"Rendering"},blendMode:{name:"blendMode",params:[{name:"mode",description:"<p>blend mode to set for canvas.\n               either BLEND, DARKEST, LIGHTEST, DIFFERENCE, MULTIPLY,\n               EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\n               SOFT_LIGHT, DODGE, BURN, ADD, REMOVE or SUBTRACT</p>\n",type:"Constant"}],class:"p5",module:"Rendering"},drawingContext:{name:"drawingContext",class:"p5",module:"Rendering"},noLoop:{name:"noLoop",class:"p5",module:"Structure"},loop:{name:"loop",class:"p5",module:"Structure"},isLooping:{name:"isLooping",class:"p5",module:"Structure"},push:{name:"push",class:"p5",module:"Structure"},pop:{name:"pop",class:"p5",module:"Structure"},redraw:{name:"redraw",params:[{name:"n",description:"<p>Redraw for n-times. The default value is 1.</p>\n",type:"Integer",optional:true}],class:"p5",module:"Structure"},p5:{name:"p5",params:[{name:"sketch",description:"<p>a function containing a p5.js sketch</p>\n",type:"Object"},{name:"node",description:"<p>ID or pointer to HTML DOM node to contain sketch in</p>\n",type:"String|Object"}],class:"p5",module:"Structure"},applyMatrix:{name:"applyMatrix",params:[{name:"a",description:"<p>numbers which define the 2×3 matrix to be multiplied, or an array of numbers</p>\n",type:"Number|Array"},{name:"b",description:"<p>numbers which define the 2×3 matrix to be multiplied</p>\n",type:"Number"},{name:"c",description:"<p>numbers which define the 2×3 matrix to be multiplied</p>\n",type:"Number"},{name:"d",description:"<p>numbers which define the 2×3 matrix to be multiplied</p>\n",type:"Number"},{name:"e",description:"<p>numbers which define the 2×3 matrix to be multiplied</p>\n",type:"Number"},{name:"f",description:"<p>numbers which define the 2×3 matrix to be multiplied</p>\n",type:"Number"}],class:"p5",module:"Transform"},resetMatrix:{name:"resetMatrix",class:"p5",module:"Transform"},rotate:{name:"rotate",params:[{name:"angle",description:"<p>the angle of rotation, specified in radians\n                       or degrees, depending on current angleMode</p>\n",type:"Number"},{name:"axis",description:"<p>(in 3d) the axis to rotate around</p>\n",type:"p5.Vector|Number[]",optional:true}],class:"p5",module:"Transform"},rotateX:{name:"rotateX",params:[{name:"angle",description:"<p>the angle of rotation, specified in radians\n                       or degrees, depending on current angleMode</p>\n",type:"Number"}],class:"p5",module:"Transform"},rotateY:{name:"rotateY",params:[{name:"angle",description:"<p>the angle of rotation, specified in radians\n                       or degrees, depending on current angleMode</p>\n",type:"Number"}],class:"p5",module:"Transform"},rotateZ:{name:"rotateZ",params:[{name:"angle",description:"<p>the angle of rotation, specified in radians\n                       or degrees, depending on current angleMode</p>\n",type:"Number"}],class:"p5",module:"Transform"},scale:{name:"scale",class:"p5",module:"Transform",overloads:[{params:[{name:"s",description:"<p>percent to scale the object, or percentage to\n                     scale the object in the x-axis if multiple arguments\n                     are given</p>\n",type:"Number|p5.Vector|Number[]"},{name:"y",description:"<p>percent to scale the object in the y-axis</p>\n",type:"Number",optional:true},{name:"z",description:"<p>percent to scale the object in the z-axis (webgl only)</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"scales",description:"<p>per-axis percents to scale the object</p>\n",type:"p5.Vector|Number[]"}],chainable:1}]},shearX:{name:"shearX",params:[{name:"angle",description:"<p>angle of shear specified in radians or degrees,\n                       depending on current angleMode</p>\n",type:"Number"}],class:"p5",module:"Transform"},shearY:{name:"shearY",params:[{name:"angle",description:"<p>angle of shear specified in radians or degrees,\n                       depending on current angleMode</p>\n",type:"Number"}],class:"p5",module:"Transform"},translate:{name:"translate",class:"p5",module:"Transform",overloads:[{params:[{name:"x",description:"<p>left/right translation</p>\n",type:"Number"},{name:"y",description:"<p>up/down translation</p>\n",type:"Number"},{name:"z",description:"<p>forward/backward translation (webgl only)</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"vector",description:"<p>the vector to translate by</p>\n",type:"p5.Vector"}],chainable:1}]},storeItem:{name:"storeItem",params:[{name:"key",description:"",type:"String"},{name:"value",description:"",type:"String|Number|Object|Boolean|p5.Color|p5.Vector"}],class:"p5",module:"Data"},getItem:{name:"getItem",params:[{name:"key",description:"<p>name that you wish to use to store in local storage</p>\n",type:"String"}],class:"p5",module:"Data"},clearStorage:{name:"clearStorage",class:"p5",module:"Data"},removeItem:{name:"removeItem",params:[{name:"key",description:"",type:"String"}],class:"p5",module:"Data"},createStringDict:{name:"createStringDict",class:"p5",module:"Data",overloads:[{params:[{name:"key",description:"",type:"String"},{name:"value",description:"",type:"String"}]},{params:[{name:"object",description:"<p>object</p>\n",type:"Object"}]}]},createNumberDict:{name:"createNumberDict",class:"p5",module:"Data",overloads:[{params:[{name:"key",description:"",type:"Number"},{name:"value",description:"",type:"Number"}]},{params:[{name:"object",description:"<p>object</p>\n",type:"Object"}]}]},select:{name:"select",params:[{name:"selectors",description:"<p>CSS selector string of element to search for</p>\n",type:"String"},{name:"container",description:'<p>CSS selector string, <a href="#/p5.Element">p5.Element</a>, or\n                                            HTML element to search within</p>\n',type:"String|p5.Element|HTMLElement",optional:true}],class:"p5",module:"DOM"},selectAll:{name:"selectAll",params:[{name:"selectors",description:"<p>CSS selector string of elements to search for</p>\n",type:"String"},{name:"container",description:'<p>CSS selector string, <a href="#/p5.Element">p5.Element</a>\n                                            , or HTML element to search within</p>\n',type:"String|p5.Element|HTMLElement",optional:true}],class:"p5",module:"DOM"},removeElements:{name:"removeElements",class:"p5",module:"DOM"},changed:{name:"changed",params:[{name:"fxn",description:"<p>function to be fired when the value of\n                               an element changes.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5",module:"DOM"},input:{name:"input",params:[{name:"fxn",description:"<p>function to be fired when any user input is\n                               detected within the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5",module:"DOM"},createDiv:{name:"createDiv",params:[{name:"html",description:"<p>inner HTML for element created</p>\n",type:"String",optional:true}],class:"p5",module:"DOM"},createP:{name:"createP",params:[{name:"html",description:"<p>inner HTML for element created</p>\n",type:"String",optional:true}],class:"p5",module:"DOM"},createSpan:{name:"createSpan",params:[{name:"html",description:"<p>inner HTML for element created</p>\n",type:"String",optional:true}],class:"p5",module:"DOM"},createImg:{name:"createImg",class:"p5",module:"DOM",overloads:[{params:[{name:"src",description:"<p>src path or url for image</p>\n",type:"String"},{name:"alt",description:'<p><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Img#Attributes">alternate text</a> to be used if image does not load. You can use also an empty string (<code>""</code>) if that an image is not intended to be viewed.</p>\n',type:"String"}]},{params:[{name:"src",description:"",type:"String"},{name:"alt",description:"",type:"String"},{name:"crossOrigin",description:"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_settings_attributes\">crossOrigin property</a> of the <code>img</code> element; use either 'anonymous' or 'use-credentials' to retrieve the image with cross-origin access (for later use with <code>canvas</code>. if an empty string(<code>\"\"</code>) is passed, CORS is not used</p>\n",type:"String"},{name:"successCallback",description:'<p>callback to be called once image data is loaded with the <a href="#/p5.Element">p5.Element</a> as argument</p>\n',type:"Function",optional:true}]}]},createA:{name:"createA",params:[{name:"href",description:"<p>url of page to link to</p>\n",type:"String"},{name:"html",description:"<p>inner html of link element to display</p>\n",type:"String"},{name:"target",description:"<p>target where new link should open,\n                            could be _blank, _self, _parent, _top.</p>\n",type:"String",optional:true}],class:"p5",module:"DOM"},createSlider:{name:"createSlider",params:[{name:"min",description:"<p>minimum value of the slider</p>\n",type:"Number"},{name:"max",description:"<p>maximum value of the slider</p>\n",type:"Number"},{name:"value",description:"<p>default value of the slider</p>\n",type:"Number",optional:true},{name:"step",description:"<p>step size for each tick of the slider (if step is set to 0, the slider will move continuously from the minimum to the maximum value)</p>\n",type:"Number",optional:true}],class:"p5",module:"DOM"},createButton:{name:"createButton",params:[{name:"label",description:"<p>label displayed on the button</p>\n",type:"String"},{name:"value",description:"<p>value of the button</p>\n",type:"String",optional:true}],class:"p5",module:"DOM"},createCheckbox:{name:"createCheckbox",params:[{name:"label",description:"<p>label displayed after checkbox</p>\n",type:"String",optional:true},{name:"value",description:"<p>value of the checkbox; checked is true, unchecked is false</p>\n",type:"Boolean",optional:true}],class:"p5",module:"DOM"},createSelect:{name:"createSelect",class:"p5",module:"DOM",overloads:[{params:[{name:"multiple",description:"<p>true if dropdown should support multiple selections</p>\n",type:"Boolean",optional:true}]},{params:[{name:"existing",description:"<p>DOM select element</p>\n",type:"Object"}]}]},createRadio:{name:"createRadio",class:"p5",module:"DOM",overloads:[{params:[{name:"containerElement",description:"<p>An container HTML Element either a div\nor span inside which all existing radio inputs will be considered as options.</p>\n",type:"Object"},{name:"name",description:"<p>A name parameter for each Input Element.</p>\n",type:"String",optional:true}]},{params:[{name:"name",description:"",type:"String"}]},{params:[]}]},createColorPicker:{name:"createColorPicker",params:[{name:"value",description:"<p>default color of element</p>\n",type:"String|p5.Color",optional:true}],class:"p5",module:"DOM"},createInput:{name:"createInput",class:"p5",module:"DOM",overloads:[{params:[{name:"value",description:"<p>default value of the input box</p>\n",type:"String"},{name:"type",description:"<p>type of text, ie text, password etc. Defaults to text.\n  Needs a value to be specified first.</p>\n",type:"String",optional:true}]},{params:[{name:"value",description:"",type:"String",optional:true}]}]},createFileInput:{name:"createFileInput",params:[{name:"callback",description:"<p>callback function for when a file is loaded</p>\n",type:"Function"},{name:"multiple",description:"<p>optional, to allow multiple files to be selected</p>\n",type:"Boolean",optional:true}],class:"p5",module:"DOM"},createVideo:{name:"createVideo",params:[{name:"src",description:"<p>path to a video file, or array of paths for\n                            supporting different browsers</p>\n",type:"String|String[]"},{name:"callback",description:"<p>callback function to be called upon\n                            'canplaythrough' event fire, that is, when the\n                            browser can play the media, and estimates that\n                            enough data has been loaded to play the media\n                            up to its end without having to stop for\n                            further buffering of content</p>\n",type:"Function",optional:true}],class:"p5",module:"DOM"},createAudio:{name:"createAudio",params:[{name:"src",description:"<p>path to an audio file, or array of paths\n                            for supporting different browsers</p>\n",type:"String|String[]",optional:true},{name:"callback",description:"<p>callback function to be called upon\n                            'canplaythrough' event fire, that is, when the\n                            browser can play the media, and estimates that\n                            enough data has been loaded to play the media\n                            up to its end without having to stop for\n                            further buffering of content</p>\n",type:"Function",optional:true}],class:"p5",module:"DOM"},VIDEO:{name:"VIDEO",class:"p5",module:"DOM"},AUDIO:{name:"AUDIO",class:"p5",module:"DOM"},createCapture:{name:"createCapture",params:[{name:"type",description:"<p>type of capture, either VIDEO or\n                                  AUDIO if none specified, default both,\n                                  or a Constraints object</p>\n",type:"String|Constant|Object"},{name:"callback",description:"<p>function to be called once\n                                  stream has loaded</p>\n",type:"Function",optional:true}],class:"p5",module:"DOM"},createElement:{name:"createElement",params:[{name:"tag",description:"<p>tag for the new element</p>\n",type:"String"},{name:"content",description:"<p>html content to be inserted into the element</p>\n",type:"String",optional:true}],class:"p5",module:"DOM"},deviceOrientation:{name:"deviceOrientation",class:"p5",module:"Events"},accelerationX:{name:"accelerationX",class:"p5",module:"Events"},accelerationY:{name:"accelerationY",class:"p5",module:"Events"},accelerationZ:{name:"accelerationZ",class:"p5",module:"Events"},pAccelerationX:{name:"pAccelerationX",class:"p5",module:"Events"},pAccelerationY:{name:"pAccelerationY",class:"p5",module:"Events"},pAccelerationZ:{name:"pAccelerationZ",class:"p5",module:"Events"},rotationX:{name:"rotationX",class:"p5",module:"Events"},rotationY:{name:"rotationY",class:"p5",module:"Events"},rotationZ:{name:"rotationZ",class:"p5",module:"Events"},pRotationX:{name:"pRotationX",class:"p5",module:"Events"},pRotationY:{name:"pRotationY",class:"p5",module:"Events"},pRotationZ:{name:"pRotationZ",class:"p5",module:"Events"},turnAxis:{name:"turnAxis",class:"p5",module:"Events"},setMoveThreshold:{name:"setMoveThreshold",params:[{name:"value",description:"<p>The threshold value</p>\n",type:"Number"}],class:"p5",module:"Events"},setShakeThreshold:{name:"setShakeThreshold",params:[{name:"value",description:"<p>The threshold value</p>\n",type:"Number"}],class:"p5",module:"Events"},deviceMoved:{name:"deviceMoved",class:"p5",module:"Events"},deviceTurned:{name:"deviceTurned",class:"p5",module:"Events"},deviceShaken:{name:"deviceShaken",class:"p5",module:"Events"},keyIsPressed:{name:"keyIsPressed",class:"p5",module:"Events"},key:{name:"key",class:"p5",module:"Events"},keyCode:{name:"keyCode",class:"p5",module:"Events"},keyPressed:{name:"keyPressed",params:[{name:"event",description:"<p>optional KeyboardEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},keyReleased:{name:"keyReleased",params:[{name:"event",description:"<p>optional KeyboardEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},keyTyped:{name:"keyTyped",params:[{name:"event",description:"<p>optional KeyboardEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},keyIsDown:{name:"keyIsDown",params:[{name:"code",description:"<p>The key to check for.</p>\n",type:"Number"}],class:"p5",module:"Events"},movedX:{name:"movedX",class:"p5",module:"Events"},movedY:{name:"movedY",class:"p5",module:"Events"},mouseX:{name:"mouseX",class:"p5",module:"Events"},mouseY:{name:"mouseY",class:"p5",module:"Events"},pmouseX:{name:"pmouseX",class:"p5",module:"Events"},pmouseY:{name:"pmouseY",class:"p5",module:"Events"},winMouseX:{name:"winMouseX",class:"p5",module:"Events"},winMouseY:{name:"winMouseY",class:"p5",module:"Events"},pwinMouseX:{name:"pwinMouseX",class:"p5",module:"Events"},pwinMouseY:{name:"pwinMouseY",class:"p5",module:"Events"},mouseButton:{name:"mouseButton",class:"p5",module:"Events"},mouseIsPressed:{name:"mouseIsPressed",class:"p5",module:"Events"},mouseMoved:{name:"mouseMoved",params:[{name:"event",description:"<p>optional MouseEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},mouseDragged:{name:"mouseDragged",params:[{name:"event",description:"<p>optional MouseEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},mousePressed:{name:"mousePressed",params:[{name:"event",description:"<p>optional MouseEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},mouseReleased:{name:"mouseReleased",params:[{name:"event",description:"<p>optional MouseEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},mouseClicked:{name:"mouseClicked",params:[{name:"event",description:"<p>optional MouseEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},doubleClicked:{name:"doubleClicked",params:[{name:"event",description:"<p>optional MouseEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},mouseWheel:{name:"mouseWheel",params:[{name:"event",description:"<p>optional WheelEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},requestPointerLock:{name:"requestPointerLock",class:"p5",module:"Events"},exitPointerLock:{name:"exitPointerLock",class:"p5",module:"Events"},touches:{name:"touches",class:"p5",module:"Events"},touchStarted:{name:"touchStarted",params:[{name:"event",description:"<p>optional TouchEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},touchMoved:{name:"touchMoved",params:[{name:"event",description:"<p>optional TouchEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},touchEnded:{name:"touchEnded",params:[{name:"event",description:"<p>optional TouchEvent callback argument.</p>\n",type:"Object",optional:true}],class:"p5",module:"Events"},createImage:{name:"createImage",params:[{name:"width",description:"<p>width in pixels</p>\n",type:"Integer"},{name:"height",description:"<p>height in pixels</p>\n",type:"Integer"}],class:"p5",module:"Image"},saveCanvas:{name:"saveCanvas",class:"p5",module:"Image",overloads:[{params:[{name:"selectedCanvas",description:"<p>a variable\n                                representing a specific html5 canvas (optional)</p>\n",type:"p5.Element|HTMLCanvasElement"},{name:"filename",description:"",type:"String",optional:true},{name:"extension",description:"<p>'jpg' or 'png'</p>\n",type:"String",optional:true}]},{params:[{name:"filename",description:"",type:"String",optional:true},{name:"extension",description:"",type:"String",optional:true}]}]},saveFrames:{name:"saveFrames",params:[{name:"filename",description:"",type:"String"},{name:"extension",description:"<p>'jpg' or 'png'</p>\n",type:"String"},{name:"duration",description:"<p>Duration in seconds to save the frames for.</p>\n",type:"Number"},{name:"framerate",description:"<p>Framerate to save the frames in.</p>\n",type:"Number"},{name:"callback",description:"<p>A callback function that will be executed\n                                to handle the image data. This function\n                                should accept an array as argument. The\n                                array will contain the specified number of\n                                frames of objects. Each object has three\n                                properties: imageData - an\n                                image/octet-stream, filename and extension.</p>\n",type:"Function(Array)",optional:true}],class:"p5",module:"Image"},loadImage:{name:"loadImage",params:[{name:"path",description:"<p>Path of the image to be loaded</p>\n",type:"String"},{name:"successCallback",description:'<p>Function to be called once\n                               the image is loaded. Will be passed the\n                               <a href="#/p5.Image">p5.Image</a>.</p>\n',type:"function(p5.Image)",optional:true},{name:"failureCallback",description:"<p>called with event error if\n                               the image fails to load.</p>\n",type:"Function(Event)",optional:true}],class:"p5",module:"Image"},image:{name:"image",class:"p5",module:"Image",overloads:[{params:[{name:"img",description:"<p>the image to display</p>\n",type:"p5.Image|p5.Element|p5.Texture"},{name:"x",description:"<p>the x-coordinate of the top-left corner of the image</p>\n",type:"Number"},{name:"y",description:"<p>the y-coordinate of the top-left corner of the image</p>\n",type:"Number"},{name:"width",description:"<p>the width to draw the image</p>\n",type:"Number",optional:true},{name:"height",description:"<p>the height to draw the image</p>\n",type:"Number",optional:true}]},{params:[{name:"img",description:"",type:"p5.Image|p5.Element|p5.Texture"},{name:"dx",description:"<p>the x-coordinate of the destination\n                          rectangle in which to draw the source image</p>\n",type:"Number"},{name:"dy",description:"<p>the y-coordinate of the destination\n                          rectangle in which to draw the source image</p>\n",type:"Number"},{name:"dWidth",description:"<p>the width of the destination rectangle</p>\n",type:"Number"},{name:"dHeight",description:"<p>the height of the destination rectangle</p>\n",type:"Number"},{name:"sx",description:"<p>the x-coordinate of the subsection of the source\nimage to draw into the destination rectangle</p>\n",type:"Number"},{name:"sy",description:"<p>the y-coordinate of the subsection of the source\nimage to draw into the destination rectangle</p>\n",type:"Number"},{name:"sWidth",description:"<p>the width of the subsection of the\n                          source image to draw into the destination\n                          rectangle</p>\n",type:"Number",optional:true},{name:"sHeight",description:"<p>the height of the subsection of the\n                           source image to draw into the destination rectangle</p>\n",type:"Number",optional:true}]}]},tint:{name:"tint",class:"p5",module:"Image",overloads:[{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}]},{params:[{name:"value",description:"<p>a color string</p>\n",type:"String"}]},{params:[{name:"gray",description:"<p>a gray value</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}]},{params:[{name:"values",description:"<p>an array containing the red,green,blue &\n                                and alpha components of the color</p>\n",type:"Number[]"}]},{params:[{name:"color",description:"<p>the tint color</p>\n",type:"p5.Color"}]}]},noTint:{name:"noTint",class:"p5",module:"Image"},imageMode:{name:"imageMode",params:[{name:"mode",description:"<p>either CORNER, CORNERS, or CENTER</p>\n",type:"Constant"}],class:"p5",module:"Image"},pixels:{name:"pixels",class:"p5",module:"Image"},blend:{name:"blend",class:"p5",module:"Image",overloads:[{params:[{name:"srcImage",description:"<p>source image</p>\n",type:"p5.Image"},{name:"sx",description:"<p>X coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sy",description:"<p>Y coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sw",description:"<p>source image width</p>\n",type:"Integer"},{name:"sh",description:"<p>source image height</p>\n",type:"Integer"},{name:"dx",description:"<p>X coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dy",description:"<p>Y coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dw",description:"<p>destination image width</p>\n",type:"Integer"},{name:"dh",description:"<p>destination image height</p>\n",type:"Integer"},{name:"blendMode",description:"<p>the blend mode. either\n    BLEND, DARKEST, LIGHTEST, DIFFERENCE,\n    MULTIPLY, EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\n    SOFT_LIGHT, DODGE, BURN, ADD or NORMAL.</p>\n",type:"Constant"}]},{params:[{name:"sx",description:"",type:"Integer"},{name:"sy",description:"",type:"Integer"},{name:"sw",description:"",type:"Integer"},{name:"sh",description:"",type:"Integer"},{name:"dx",description:"",type:"Integer"},{name:"dy",description:"",type:"Integer"},{name:"dw",description:"",type:"Integer"},{name:"dh",description:"",type:"Integer"},{name:"blendMode",description:"",type:"Constant"}]}]},copy:{name:"copy",class:"p5",module:"Image",overloads:[{params:[{name:"srcImage",description:"<p>source image</p>\n",type:"p5.Image|p5.Element"},{name:"sx",description:"<p>X coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sy",description:"<p>Y coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sw",description:"<p>source image width</p>\n",type:"Integer"},{name:"sh",description:"<p>source image height</p>\n",type:"Integer"},{name:"dx",description:"<p>X coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dy",description:"<p>Y coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dw",description:"<p>destination image width</p>\n",type:"Integer"},{name:"dh",description:"<p>destination image height</p>\n",type:"Integer"}]},{params:[{name:"sx",description:"",type:"Integer"},{name:"sy",description:"",type:"Integer"},{name:"sw",description:"",type:"Integer"},{name:"sh",description:"",type:"Integer"},{name:"dx",description:"",type:"Integer"},{name:"dy",description:"",type:"Integer"},{name:"dw",description:"",type:"Integer"},{name:"dh",description:"",type:"Integer"}]}]},filter:{name:"filter",params:[{name:"filterType",description:"<p>either THRESHOLD, GRAY, OPAQUE, INVERT,\n                               POSTERIZE, BLUR, ERODE, DILATE or BLUR.\n                               See Filters.js for docs on\n                               each available filter</p>\n",type:"Constant"},{name:"filterParam",description:"<p>an optional parameter unique\n                               to each filter, see above</p>\n",type:"Number",optional:true}],class:"p5",module:"Image"},get:{name:"get",class:"p5",module:"Image",overloads:[{params:[{name:"x",description:"<p>x-coordinate of the pixel</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the pixel</p>\n",type:"Number"},{name:"w",description:"<p>width</p>\n",type:"Number"},{name:"h",description:"<p>height</p>\n",type:"Number"}]},{params:[]},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"}]}]},loadPixels:{name:"loadPixels",class:"p5",module:"Image"},set:{name:"set",params:[{name:"x",description:"<p>x-coordinate of the pixel</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the pixel</p>\n",type:"Number"},{name:"c",description:'<p>insert a grayscale value | a pixel array |\n                               a <a href="#/p5.Color">p5.Color</a> object | a <a href="#/p5.Image">p5.Image</a> to copy</p>\n',type:"Number|Number[]|Object"}],class:"p5",module:"Image"},updatePixels:{name:"updatePixels",params:[{name:"x",description:"<p>x-coordinate of the upper-left corner of region\n                        to update</p>\n",type:"Number",optional:true},{name:"y",description:"<p>y-coordinate of the upper-left corner of region\n                        to update</p>\n",type:"Number",optional:true},{name:"w",description:"<p>width of region to update</p>\n",type:"Number",optional:true},{name:"h",description:"<p>height of region to update</p>\n",type:"Number",optional:true}],class:"p5",module:"Image"},loadJSON:{name:"loadJSON",class:"p5",module:"IO",overloads:[{params:[{name:"path",description:"<p>name of the file or url to load</p>\n",type:"String"},{name:"jsonpOptions",description:"<p>options object for jsonp related settings</p>\n",type:"Object",optional:true},{name:"datatype",description:'<p>"json" or "jsonp"</p>\n',type:"String",optional:true},{name:"callback",description:'<p>function to be executed after\n                                   <a href="#/p5/loadJSON">loadJSON()</a> completes, data is passed\n                                   in as first argument</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                                   there is an error, response is passed\n                                   in as first argument</p>\n",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"datatype",description:"",type:"String"},{name:"callback",description:"",type:"Function",optional:true},{name:"errorCallback",description:"",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"callback",description:"",type:"Function"},{name:"errorCallback",description:"",type:"Function",optional:true}]}]},loadStrings:{name:"loadStrings",params:[{name:"filename",description:"<p>name of the file or url to load</p>\n",type:"String"},{name:"callback",description:'<p>function to be executed after <a href="#/p5/loadStrings">loadStrings()</a>\n                              completes, Array is passed in as first\n                              argument</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                              there is an error, response is passed\n                              in as first argument</p>\n",type:"Function",optional:true}],class:"p5",module:"IO"},loadTable:{name:"loadTable",params:[{name:"filename",description:"<p>name of the file or URL to load</p>\n",type:"String"},{name:"extension",description:'<p>parse the table by comma-separated values "csv", semicolon-separated\n                                     values "ssv", or tab-separated values "tsv"</p>\n',type:"String",optional:true},{name:"header",description:'<p>"header" to indicate table has header row</p>\n',type:"String",optional:true},{name:"callback",description:'<p>function to be executed after\n                                     <a href="#/p5/loadTable">loadTable()</a> completes. On success, the\n                                     <a href="#/p5.Table">Table</a> object is passed in as the\n                                     first argument.</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                                     there is an error, response is passed\n                                     in as first argument</p>\n",type:"Function",optional:true}],class:"p5",module:"IO"},loadXML:{name:"loadXML",params:[{name:"filename",description:"<p>name of the file or URL to load</p>\n",type:"String"},{name:"callback",description:'<p>function to be executed after <a href="#/p5/loadXML">loadXML()</a>\n                              completes, XML object is passed in as\n                              first argument</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                              there is an error, response is passed\n                              in as first argument</p>\n",type:"Function",optional:true}],class:"p5",module:"IO"},loadBytes:{name:"loadBytes",params:[{name:"file",description:"<p>name of the file or URL to load</p>\n",type:"String"},{name:"callback",description:'<p>function to be executed after <a href="#/p5/loadBytes">loadBytes()</a>\n                                   completes</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if there\n                                   is an error</p>\n",type:"Function",optional:true}],class:"p5",module:"IO"},httpGet:{name:"httpGet",class:"p5",module:"IO",overloads:[{params:[{name:"path",description:"<p>name of the file or url to load</p>\n",type:"String"},{name:"datatype",description:'<p>"json", "jsonp", "binary", "arrayBuffer",\n                                   "xml", or "text"</p>\n',type:"String",optional:true},{name:"data",description:"<p>param data passed sent with request</p>\n",type:"Object|Boolean",optional:true},{name:"callback",description:'<p>function to be executed after\n                                   <a href="#/p5/httpGet">httpGet()</a> completes, data is passed in\n                                   as first argument</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                                   there is an error, response is passed\n                                   in as first argument</p>\n",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"data",description:"",type:"Object|Boolean"},{name:"callback",description:"",type:"Function",optional:true},{name:"errorCallback",description:"",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"callback",description:"",type:"Function"},{name:"errorCallback",description:"",type:"Function",optional:true}]}]},httpPost:{name:"httpPost",class:"p5",module:"IO",overloads:[{params:[{name:"path",description:"<p>name of the file or url to load</p>\n",type:"String"},{name:"datatype",description:'<p>"json", "jsonp", "xml", or "text".\n                                   If omitted, <a href="#/p5/httpPost">httpPost()</a> will guess.</p>\n',type:"String",optional:true},{name:"data",description:"<p>param data passed sent with request</p>\n",type:"Object|Boolean",optional:true},{name:"callback",description:'<p>function to be executed after\n                                   <a href="#/p5/httpPost">httpPost()</a> completes, data is passed in\n                                   as first argument</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                                   there is an error, response is passed\n                                   in as first argument</p>\n",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"data",description:"",type:"Object|Boolean"},{name:"callback",description:"",type:"Function",optional:true},{name:"errorCallback",description:"",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"callback",description:"",type:"Function"},{name:"errorCallback",description:"",type:"Function",optional:true}]}]},httpDo:{name:"httpDo",class:"p5",module:"IO",overloads:[{params:[{name:"path",description:"<p>name of the file or url to load</p>\n",type:"String"},{name:"method",description:'<p>either "GET", "POST", or "PUT",\n                                   defaults to "GET"</p>\n',type:"String",optional:true},{name:"datatype",description:'<p>"json", "jsonp", "xml", or "text"</p>\n',type:"String",optional:true},{name:"data",description:"<p>param data passed sent with request</p>\n",type:"Object",optional:true},{name:"callback",description:'<p>function to be executed after\n                                   <a href="#/p5/httpGet">httpGet()</a> completes, data is passed in\n                                   as first argument</p>\n',type:"Function",optional:true},{name:"errorCallback",description:"<p>function to be executed if\n                                   there is an error, response is passed\n                                   in as first argument</p>\n",type:"Function",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"options",description:'<p>Request object options as documented in the\n                                   "fetch" API\n<a href="https://developer.mozilla.org/en/docs/Web/API/Fetch_API">reference</a></p>\n',type:"Object"},{name:"callback",description:"",type:"Function",optional:true},{name:"errorCallback",description:"",type:"Function",optional:true}]}]},createWriter:{name:"createWriter",params:[{name:"name",description:"<p>name of the file to be created</p>\n",type:"String"},{name:"extension",description:"",type:"String",optional:true}],class:"p5",module:"IO"},save:{name:"save",params:[{name:"objectOrFilename",description:"<p>If filename is provided, will\n                                           save canvas as an image with\n                                           either png or jpg extension\n                                           depending on the filename.\n                                           If object is provided, will\n                                           save depending on the object\n                                           and filename (see examples\n                                           above).</p>\n",type:"Object|String",optional:true},{name:"filename",description:"<p>If an object is provided as the first\n                             parameter, then the second parameter\n                             indicates the filename,\n                             and should include an appropriate\n                             file extension (see examples above).</p>\n",type:"String",optional:true},{name:"options",description:"<p>Additional options depend on\n                          filetype. For example, when saving JSON,\n                          <code>true</code> indicates that the\n                          output will be optimized for filesize,\n                          rather than readability.</p>\n",type:"Boolean|String",optional:true}],class:"p5",module:"IO"},saveJSON:{name:"saveJSON",params:[{name:"json",description:"",type:"Array|Object"},{name:"filename",description:"",type:"String"},{name:"optimize",description:"<p>If true, removes line breaks\n                               and spaces from the output\n                               file to optimize filesize\n                               (but not readability).</p>\n",type:"Boolean",optional:true}],class:"p5",module:"IO"},saveStrings:{name:"saveStrings",params:[{name:"list",description:"<p>string array to be written</p>\n",type:"String[]"},{name:"filename",description:"<p>filename for output</p>\n",type:"String"},{name:"extension",description:"<p>the filename's extension</p>\n",type:"String",optional:true},{name:"isCRLF",description:"<p>if true, change line-break to CRLF</p>\n",type:"Boolean",optional:true}],class:"p5",module:"IO"},saveTable:{name:"saveTable",params:[{name:"Table",description:'<p>the <a href="#/p5.Table">Table</a> object to save to a file</p>\n',type:"p5.Table"},{name:"filename",description:"<p>the filename to which the Table should be saved</p>\n",type:"String"},{name:"options",description:'<p>can be one of "tsv", "csv", or "html"</p>\n',type:"String",optional:true}],class:"p5",module:"IO"},abs:{name:"abs",params:[{name:"n",description:"<p>number to compute</p>\n",type:"Number"}],class:"p5",module:"Math"},ceil:{name:"ceil",params:[{name:"n",description:"<p>number to round up</p>\n",type:"Number"}],class:"p5",module:"Math"},constrain:{name:"constrain",params:[{name:"n",description:"<p>number to constrain</p>\n",type:"Number"},{name:"low",description:"<p>minimum limit</p>\n",type:"Number"},{name:"high",description:"<p>maximum limit</p>\n",type:"Number"}],class:"p5",module:"Math"},dist:{name:"dist",class:"p5",module:"Math",overloads:[{params:[{name:"x1",description:"<p>x-coordinate of the first point</p>\n",type:"Number"},{name:"y1",description:"<p>y-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"<p>x-coordinate of the second point</p>\n",type:"Number"},{name:"y2",description:"<p>y-coordinate of the second point</p>\n",type:"Number"}]},{params:[{name:"x1",description:"",type:"Number"},{name:"y1",description:"",type:"Number"},{name:"z1",description:"<p>z-coordinate of the first point</p>\n",type:"Number"},{name:"x2",description:"",type:"Number"},{name:"y2",description:"",type:"Number"},{name:"z2",description:"<p>z-coordinate of the second point</p>\n",type:"Number"}]}]},exp:{name:"exp",params:[{name:"n",description:"<p>exponent to raise</p>\n",type:"Number"}],class:"p5",module:"Math"},floor:{name:"floor",params:[{name:"n",description:"<p>number to round down</p>\n",type:"Number"}],class:"p5",module:"Math"},lerp:{name:"lerp",params:[{name:"start",description:"<p>first value</p>\n",type:"Number"},{name:"stop",description:"<p>second value</p>\n",type:"Number"},{name:"amt",description:"<p>number</p>\n",type:"Number"}],class:"p5",module:"Math"},log:{name:"log",params:[{name:"n",description:"<p>number greater than 0</p>\n",type:"Number"}],class:"p5",module:"Math"},mag:{name:"mag",params:[{name:"a",description:"<p>first value</p>\n",type:"Number"},{name:"b",description:"<p>second value</p>\n",type:"Number"}],class:"p5",module:"Math"},map:{name:"map",params:[{name:"value",description:"<p>the incoming value to be converted</p>\n",type:"Number"},{name:"start1",description:"<p>lower bound of the value's current range</p>\n",type:"Number"},{name:"stop1",description:"<p>upper bound of the value's current range</p>\n",type:"Number"},{name:"start2",description:"<p>lower bound of the value's target range</p>\n",type:"Number"},{name:"stop2",description:"<p>upper bound of the value's target range</p>\n",type:"Number"},{name:"withinBounds",description:"<p>constrain the value to the newly mapped range</p>\n",type:"Boolean",optional:true}],class:"p5",module:"Math"},max:{name:"max",class:"p5",module:"Math",overloads:[{params:[{name:"n0",description:"<p>Number to compare</p>\n",type:"Number"},{name:"n1",description:"<p>Number to compare</p>\n",type:"Number"}]},{params:[{name:"nums",description:"<p>Numbers to compare</p>\n",type:"Number[]"}]}]},min:{name:"min",class:"p5",module:"Math",overloads:[{params:[{name:"n0",description:"<p>Number to compare</p>\n",type:"Number"},{name:"n1",description:"<p>Number to compare</p>\n",type:"Number"}]},{params:[{name:"nums",description:"<p>Numbers to compare</p>\n",type:"Number[]"}]}]},norm:{name:"norm",params:[{name:"value",description:"<p>incoming value to be normalized</p>\n",type:"Number"},{name:"start",description:"<p>lower bound of the value's current range</p>\n",type:"Number"},{name:"stop",description:"<p>upper bound of the value's current range</p>\n",type:"Number"}],class:"p5",module:"Math"},pow:{name:"pow",params:[{name:"n",description:"<p>base of the exponential expression</p>\n",type:"Number"},{name:"e",description:"<p>power by which to raise the base</p>\n",type:"Number"}],class:"p5",module:"Math"},round:{name:"round",params:[{name:"n",description:"<p>number to round</p>\n",type:"Number"},{name:"decimals",description:"<p>number of decimal places to round to, default is 0</p>\n",type:"Number",optional:true}],class:"p5",module:"Math"},sq:{name:"sq",params:[{name:"n",description:"<p>number to square</p>\n",type:"Number"}],class:"p5",module:"Math"},sqrt:{name:"sqrt",params:[{name:"n",description:"<p>non-negative number to square root</p>\n",type:"Number"}],class:"p5",module:"Math"},fract:{name:"fract",params:[{name:"num",description:"<p>Number whose fractional part needs to be found out</p>\n",type:"Number"}],class:"p5",module:"Math"},createVector:{name:"createVector",params:[{name:"x",description:"<p>x component of the vector</p>\n",type:"Number",optional:true},{name:"y",description:"<p>y component of the vector</p>\n",type:"Number",optional:true},{name:"z",description:"<p>z component of the vector</p>\n",type:"Number",optional:true}],class:"p5",module:"Math"},noise:{name:"noise",params:[{name:"x",description:"<p>x-coordinate in noise space</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate in noise space</p>\n",type:"Number",optional:true},{name:"z",description:"<p>z-coordinate in noise space</p>\n",type:"Number",optional:true}],class:"p5",module:"Math"},noiseDetail:{name:"noiseDetail",params:[{name:"lod",description:"<p>number of octaves to be used by the noise</p>\n",type:"Number"},{name:"falloff",description:"<p>falloff factor for each octave</p>\n",type:"Number"}],class:"p5",module:"Math"},noiseSeed:{name:"noiseSeed",params:[{name:"seed",description:"<p>the seed value</p>\n",type:"Number"}],class:"p5",module:"Math"},randomSeed:{name:"randomSeed",params:[{name:"seed",description:"<p>the seed value</p>\n",type:"Number"}],class:"p5",module:"Math"},random:{name:"random",class:"p5",module:"Math",overloads:[{params:[{name:"min",description:"<p>the lower bound (inclusive)</p>\n",type:"Number",optional:true},{name:"max",description:"<p>the upper bound (exclusive)</p>\n",type:"Number",optional:true}]},{params:[{name:"choices",description:"<p>the array to choose from</p>\n",type:"Array"}]}]},randomGaussian:{name:"randomGaussian",params:[{name:"mean",description:"<p>the mean</p>\n",type:"Number",optional:true},{name:"sd",description:"<p>the standard deviation</p>\n",type:"Number",optional:true}],class:"p5",module:"Math"},acos:{name:"acos",params:[{name:"value",description:"<p>the value whose arc cosine is to be returned</p>\n",type:"Number"}],class:"p5",module:"Math"},asin:{name:"asin",params:[{name:"value",description:"<p>the value whose arc sine is to be returned</p>\n",type:"Number"}],class:"p5",module:"Math"},atan:{name:"atan",params:[{name:"value",description:"<p>the value whose arc tangent is to be returned</p>\n",type:"Number"}],class:"p5",module:"Math"},atan2:{name:"atan2",params:[{name:"y",description:"<p>y-coordinate of the point</p>\n",type:"Number"},{name:"x",description:"<p>x-coordinate of the point</p>\n",type:"Number"}],class:"p5",module:"Math"},cos:{name:"cos",params:[{name:"angle",description:"<p>the angle</p>\n",type:"Number"}],class:"p5",module:"Math"},sin:{name:"sin",params:[{name:"angle",description:"<p>the angle</p>\n",type:"Number"}],class:"p5",module:"Math"},tan:{name:"tan",params:[{name:"angle",description:"<p>the angle</p>\n",type:"Number"}],class:"p5",module:"Math"},degrees:{name:"degrees",params:[{name:"radians",description:"<p>the radians value to convert to degrees</p>\n",type:"Number"}],class:"p5",module:"Math"},radians:{name:"radians",params:[{name:"degrees",description:"<p>the degree value to convert to radians</p>\n",type:"Number"}],class:"p5",module:"Math"},angleMode:{name:"angleMode",params:[{name:"mode",description:"<p>either RADIANS or DEGREES</p>\n",type:"Constant"}],class:"p5",module:"Math"},textAlign:{name:"textAlign",class:"p5",module:"Typography",overloads:[{params:[{name:"horizAlign",description:"<p>horizontal alignment, either LEFT,\n                           CENTER, or RIGHT</p>\n",type:"Constant"},{name:"vertAlign",description:"<p>vertical alignment, either TOP,\n                           BOTTOM, CENTER, or BASELINE</p>\n",type:"Constant",optional:true}],chainable:1},{params:[]}]},textLeading:{name:"textLeading",class:"p5",module:"Typography",overloads:[{params:[{name:"leading",description:"<p>the size in pixels for spacing between lines</p>\n",type:"Number"}],chainable:1},{params:[]}]},textSize:{name:"textSize",class:"p5",module:"Typography",overloads:[{params:[{name:"theSize",description:"<p>the size of the letters in units of pixels</p>\n",type:"Number"}],chainable:1},{params:[]}]},textStyle:{name:"textStyle",class:"p5",module:"Typography",overloads:[{params:[{name:"theStyle",description:"<p>styling for text, either NORMAL,\n                           ITALIC, BOLD or BOLDITALIC</p>\n",type:"Constant"}],chainable:1},{params:[]}]},textWidth:{name:"textWidth",params:[{name:"theText",description:"<p>the String of characters to measure</p>\n",type:"String"}],class:"p5",module:"Typography"},textAscent:{name:"textAscent",class:"p5",module:"Typography"},textDescent:{name:"textDescent",class:"p5",module:"Typography"},textWrap:{name:"textWrap",params:[{name:"wrapStyle",description:"<p>text wrapping style, either WORD or CHAR</p>\n",type:"Constant"}],class:"p5",module:"Typography"},loadFont:{name:"loadFont",params:[{name:"path",description:"<p>name of the file or url to load</p>\n",type:"String"},{name:"callback",description:'<p>function to be executed after\n                                   <a href="#/p5/loadFont">loadFont()</a> completes</p>\n',type:"Function",optional:true},{name:"onError",description:"<p>function to be executed if\n                                   an error occurs</p>\n",type:"Function",optional:true}],class:"p5",module:"Typography"},text:{name:"text",params:[{name:"str",description:"<p>the alphanumeric\n                                            symbols to be displayed</p>\n",type:"String|Object|Array|Number|Boolean"},{name:"x",description:"<p>x-coordinate of text</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of text</p>\n",type:"Number"},{name:"x2",description:'<p>by default, the width of the text box,\n                    see <a href="#/p5/rectMode">rectMode()</a> for more info</p>\n',type:"Number",optional:true},{name:"y2",description:'<p>by default, the height of the text box,\n                    see <a href="#/p5/rectMode">rectMode()</a> for more info</p>\n',type:"Number",optional:true}],class:"p5",module:"Typography"},textFont:{name:"textFont",class:"p5",module:"Typography",overloads:[{params:[]},{params:[{name:"font",description:'<p>a font loaded via <a href="#/p5/loadFont">loadFont()</a>,\nor a String representing a <a href="https://mzl.la/2dOw8WD">web safe font</a>\n(a font that is generally available across all systems)</p>\n',type:"Object|String"},{name:"size",description:"<p>the font size to use</p>\n",type:"Number",optional:true}],chainable:1}]},append:{name:"append",params:[{name:"array",description:"<p>Array to append</p>\n",type:"Array"},{name:"value",description:"<p>to be added to the Array</p>\n",type:"Any"}],class:"p5",module:"Data"},arrayCopy:{name:"arrayCopy",class:"p5",module:"Data",overloads:[{params:[{name:"src",description:"<p>the source Array</p>\n",type:"Array"},{name:"srcPosition",description:"<p>starting position in the source Array</p>\n",type:"Integer"},{name:"dst",description:"<p>the destination Array</p>\n",type:"Array"},{name:"dstPosition",description:"<p>starting position in the destination Array</p>\n",type:"Integer"},{name:"length",description:"<p>number of Array elements to be copied</p>\n",type:"Integer"}]},{params:[{name:"src",description:"",type:"Array"},{name:"dst",description:"",type:"Array"},{name:"length",description:"",type:"Integer",optional:true}]}]},concat:{name:"concat",params:[{name:"a",description:"<p>first Array to concatenate</p>\n",type:"Array"},{name:"b",description:"<p>second Array to concatenate</p>\n",type:"Array"}],class:"p5",module:"Data"},reverse:{name:"reverse",params:[{name:"list",description:"<p>Array to reverse</p>\n",type:"Array"}],class:"p5",module:"Data"},shorten:{name:"shorten",params:[{name:"list",description:"<p>Array to shorten</p>\n",type:"Array"}],class:"p5",module:"Data"},shuffle:{name:"shuffle",params:[{name:"array",description:"<p>Array to shuffle</p>\n",type:"Array"},{name:"bool",description:"<p>modify passed array</p>\n",type:"Boolean",optional:true}],class:"p5",module:"Data"},sort:{name:"sort",params:[{name:"list",description:"<p>Array to sort</p>\n",type:"Array"},{name:"count",description:"<p>number of elements to sort, starting from 0</p>\n",type:"Integer",optional:true}],class:"p5",module:"Data"},splice:{name:"splice",params:[{name:"list",description:"<p>Array to splice into</p>\n",type:"Array"},{name:"value",description:"<p>value to be spliced in</p>\n",type:"Any"},{name:"position",description:"<p>in the array from which to insert data</p>\n",type:"Integer"}],class:"p5",module:"Data"},subset:{name:"subset",params:[{name:"list",description:"<p>Array to extract from</p>\n",type:"Array"},{name:"start",description:"<p>position to begin</p>\n",type:"Integer"},{name:"count",description:"<p>number of values to extract</p>\n",type:"Integer",optional:true}],class:"p5",module:"Data"},float:{name:"float",params:[{name:"str",description:"<p>float string to parse</p>\n",type:"String"}],class:"p5",module:"Data"},int:{name:"int",class:"p5",module:"Data",overloads:[{params:[{name:"n",description:"<p>value to parse</p>\n",type:"String|Boolean|Number"},{name:"radix",description:"<p>the radix to convert to (default: 10)</p>\n",type:"Integer",optional:true}]},{params:[{name:"ns",description:"<p>values to parse</p>\n",type:"Array"},{name:"radix",description:"",type:"Integer",optional:true}]}]},str:{name:"str",params:[{name:"n",description:"<p>value to parse</p>\n",type:"String|Boolean|Number|Array"}],class:"p5",module:"Data"},byte:{name:"byte",class:"p5",module:"Data",overloads:[{params:[{name:"n",description:"<p>value to parse</p>\n",type:"String|Boolean|Number"}]},{params:[{name:"ns",description:"<p>values to parse</p>\n",type:"Array"}]}]},char:{name:"char",class:"p5",module:"Data",overloads:[{params:[{name:"n",description:"<p>value to parse</p>\n",type:"String|Number"}]},{params:[{name:"ns",description:"<p>values to parse</p>\n",type:"Array"}]}]},unchar:{name:"unchar",class:"p5",module:"Data",overloads:[{params:[{name:"n",description:"<p>value to parse</p>\n",type:"String"}]},{params:[{name:"ns",description:"<p>values to parse</p>\n",type:"Array"}]}]},hex:{name:"hex",class:"p5",module:"Data",overloads:[{params:[{name:"n",description:"<p>value to parse</p>\n",type:"Number"},{name:"digits",description:"",type:"Number",optional:true}]},{params:[{name:"ns",description:"<p>array of values to parse</p>\n",type:"Number[]"},{name:"digits",description:"",type:"Number",optional:true}]}]},unhex:{name:"unhex",class:"p5",module:"Data",overloads:[{params:[{name:"n",description:"<p>value to parse</p>\n",type:"String"}]},{params:[{name:"ns",description:"<p>values to parse</p>\n",type:"Array"}]}]},join:{name:"join",params:[{name:"list",description:"<p>array of Strings to be joined</p>\n",type:"Array"},{name:"separator",description:"<p>String to be placed between each item</p>\n",type:"String"}],class:"p5",module:"Data"},match:{name:"match",params:[{name:"str",description:"<p>the String to be searched</p>\n",type:"String"},{name:"regexp",description:"<p>the regexp to be used for matching</p>\n",type:"String"}],class:"p5",module:"Data"},matchAll:{name:"matchAll",params:[{name:"str",description:"<p>the String to be searched</p>\n",type:"String"},{name:"regexp",description:"<p>the regexp to be used for matching</p>\n",type:"String"}],class:"p5",module:"Data"},nf:{name:"nf",class:"p5",module:"Data",overloads:[{params:[{name:"num",description:"<p>the Number to format</p>\n",type:"Number|String"},{name:"left",description:"<p>number of digits to the left of the\n                               decimal point</p>\n",type:"Integer|String",optional:true},{name:"right",description:"<p>number of digits to the right of the\n                               decimal point</p>\n",type:"Integer|String",optional:true}]},{params:[{name:"nums",description:"<p>the Numbers to format</p>\n",type:"Array"},{name:"left",description:"",type:"Integer|String",optional:true},{name:"right",description:"",type:"Integer|String",optional:true}]}]},nfc:{name:"nfc",class:"p5",module:"Data",overloads:[{params:[{name:"num",description:"<p>the Number to format</p>\n",type:"Number|String"},{name:"right",description:"<p>number of digits to the right of the\n                                 decimal point</p>\n",type:"Integer|String",optional:true}]},{params:[{name:"nums",description:"<p>the Numbers to format</p>\n",type:"Array"},{name:"right",description:"",type:"Integer|String",optional:true}]}]},nfp:{name:"nfp",class:"p5",module:"Data",overloads:[{params:[{name:"num",description:"<p>the Number to format</p>\n",type:"Number"},{name:"left",description:"<p>number of digits to the left of the decimal\n                               point</p>\n",type:"Integer",optional:true},{name:"right",description:"<p>number of digits to the right of the\n                               decimal point</p>\n",type:"Integer",optional:true}]},{params:[{name:"nums",description:"<p>the Numbers to format</p>\n",type:"Number[]"},{name:"left",description:"",type:"Integer",optional:true},{name:"right",description:"",type:"Integer",optional:true}]}]},nfs:{name:"nfs",class:"p5",module:"Data",overloads:[{params:[{name:"num",description:"<p>the Number to format</p>\n",type:"Number"},{name:"left",description:"<p>number of digits to the left of the decimal\n                               point</p>\n",type:"Integer",optional:true},{name:"right",description:"<p>number of digits to the right of the\n                               decimal point</p>\n",type:"Integer",optional:true}]},{params:[{name:"nums",description:"<p>the Numbers to format</p>\n",type:"Array"},{name:"left",description:"",type:"Integer",optional:true},{name:"right",description:"",type:"Integer",optional:true}]}]},split:{name:"split",params:[{name:"value",description:"<p>the String to be split</p>\n",type:"String"},{name:"delim",description:"<p>the String used to separate the data</p>\n",type:"String"}],class:"p5",module:"Data"},splitTokens:{name:"splitTokens",params:[{name:"value",description:"<p>the String to be split</p>\n",type:"String"},{name:"delim",description:"<p>list of individual Strings that will be used as\n                         separators</p>\n",type:"String",optional:true}],class:"p5",module:"Data"},trim:{name:"trim",class:"p5",module:"Data",overloads:[{params:[{name:"str",description:"<p>a String to be trimmed</p>\n",type:"String"}]},{params:[{name:"strs",description:"<p>an Array of Strings to be trimmed</p>\n",type:"Array"}]}]},day:{name:"day",class:"p5",module:"IO"},hour:{name:"hour",class:"p5",module:"IO"},minute:{name:"minute",class:"p5",module:"IO"},millis:{name:"millis",class:"p5",module:"IO"},month:{name:"month",class:"p5",module:"IO"},second:{name:"second",class:"p5",module:"IO"},year:{name:"year",class:"p5",module:"IO"},plane:{name:"plane",params:[{name:"width",description:"<p>width of the plane</p>\n",type:"Number",optional:true},{name:"height",description:"<p>height of the plane</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>Optional number of triangle\n                            subdivisions in x-dimension</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>Optional number of triangle\n                            subdivisions in y-dimension</p>\n",type:"Integer",optional:true}],class:"p5",module:"Shape"},box:{name:"box",params:[{name:"width",description:"<p>width of the box</p>\n",type:"Number",optional:true},{name:"Height",description:"<p>height of the box</p>\n",type:"Number",optional:true},{name:"depth",description:"<p>depth of the box</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>Optional number of triangle\n                           subdivisions in x-dimension</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>Optional number of triangle\n                           subdivisions in y-dimension</p>\n",type:"Integer",optional:true}],class:"p5",module:"Shape"},sphere:{name:"sphere",params:[{name:"radius",description:"<p>radius of circle</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>optional number of subdivisions in x-dimension</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>optional number of subdivisions in y-dimension</p>\n",type:"Integer",optional:true}],class:"p5",module:"Shape"},cylinder:{name:"cylinder",params:[{name:"radius",description:"<p>radius of the surface</p>\n",type:"Number",optional:true},{name:"height",description:"<p>height of the cylinder</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>number of subdivisions in x-dimension;\n                              default is 24</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>number of subdivisions in y-dimension;\n                              default is 1</p>\n",type:"Integer",optional:true},{name:"bottomCap",description:"<p>whether to draw the bottom of the cylinder</p>\n",type:"Boolean",optional:true},{name:"topCap",description:"<p>whether to draw the top of the cylinder</p>\n",type:"Boolean",optional:true}],class:"p5",module:"Shape"},cone:{name:"cone",params:[{name:"radius",description:"<p>radius of the bottom surface</p>\n",type:"Number",optional:true},{name:"height",description:"<p>height of the cone</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>number of segments,\n                            the more segments the smoother geometry\n                            default is 24</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>number of segments,\n                            the more segments the smoother geometry\n                            default is 1</p>\n",type:"Integer",optional:true},{name:"cap",description:"<p>whether to draw the base of the cone</p>\n",type:"Boolean",optional:true}],class:"p5",module:"Shape"},ellipsoid:{name:"ellipsoid",params:[{name:"radiusx",description:"<p>x-radius of ellipsoid</p>\n",type:"Number",optional:true},{name:"radiusy",description:"<p>y-radius of ellipsoid</p>\n",type:"Number",optional:true},{name:"radiusz",description:"<p>z-radius of ellipsoid</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>number of segments,\n                                   the more segments the smoother geometry\n                                   default is 24. Avoid detail number above\n                                   150, it may crash the browser.</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>number of segments,\n                                   the more segments the smoother geometry\n                                   default is 16. Avoid detail number above\n                                   150, it may crash the browser.</p>\n",type:"Integer",optional:true}],class:"p5",module:"Shape"},torus:{name:"torus",params:[{name:"radius",description:"<p>radius of the whole ring</p>\n",type:"Number",optional:true},{name:"tubeRadius",description:"<p>radius of the tube</p>\n",type:"Number",optional:true},{name:"detailX",description:"<p>number of segments in x-dimension,\n                               the more segments the smoother geometry\n                               default is 24</p>\n",type:"Integer",optional:true},{name:"detailY",description:"<p>number of segments in y-dimension,\n                               the more segments the smoother geometry\n                               default is 16</p>\n",type:"Integer",optional:true}],class:"p5",module:"Shape"},orbitControl:{name:"orbitControl",params:[{name:"sensitivityX",description:"<p>sensitivity to mouse movement along X axis</p>\n",type:"Number",optional:true},{name:"sensitivityY",description:"<p>sensitivity to mouse movement along Y axis</p>\n",type:"Number",optional:true},{name:"sensitivityZ",description:"<p>sensitivity to scroll movement along Z axis</p>\n",type:"Number",optional:true}],class:"p5",module:"3D"},debugMode:{name:"debugMode",class:"p5",module:"3D",overloads:[{params:[]},{params:[{name:"mode",description:"<p>either GRID or AXES</p>\n",type:"Constant"}]},{params:[{name:"mode",description:"",type:"Constant"},{name:"gridSize",description:"<p>size of one side of the grid</p>\n",type:"Number",optional:true},{name:"gridDivisions",description:"<p>number of divisions in the grid</p>\n",type:"Number",optional:true},{name:"xOff",description:"<p>X axis offset from origin (0,0,0)</p>\n",type:"Number",optional:true},{name:"yOff",description:"<p>Y axis offset from origin (0,0,0)</p>\n",type:"Number",optional:true},{name:"zOff",description:"<p>Z axis offset from origin (0,0,0)</p>\n",type:"Number",optional:true}]},{params:[{name:"mode",description:"",type:"Constant"},{name:"axesSize",description:"<p>size of axes icon</p>\n",type:"Number",optional:true},{name:"xOff",description:"",type:"Number",optional:true},{name:"yOff",description:"",type:"Number",optional:true},{name:"zOff",description:"",type:"Number",optional:true}]},{params:[{name:"gridSize",description:"",type:"Number",optional:true},{name:"gridDivisions",description:"",type:"Number",optional:true},{name:"gridXOff",description:"",type:"Number",optional:true},{name:"gridYOff",description:"",type:"Number",optional:true},{name:"gridZOff",description:"",type:"Number",optional:true},{name:"axesSize",description:"",type:"Number",optional:true},{name:"axesXOff",description:"",type:"Number",optional:true},{name:"axesYOff",description:"",type:"Number",optional:true},{name:"axesZOff",description:"",type:"Number",optional:true}]}]},noDebugMode:{name:"noDebugMode",class:"p5",module:"3D"},ambientLight:{name:"ambientLight",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"},{name:"alpha",description:"<p>the alpha value</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"value",description:"<p>a color string</p>\n",type:"String"}],chainable:1},{params:[{name:"gray",description:"<p>a gray value</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"values",description:"<p>an array containing the red,green,blue &\n                                and alpha components of the color</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"color",description:"<p>the ambient light color</p>\n",type:"p5.Color"}],chainable:1}]},specularColor:{name:"specularColor",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"}],chainable:1},{params:[{name:"value",description:"<p>a color string</p>\n",type:"String"}],chainable:1},{params:[{name:"gray",description:"<p>a gray value</p>\n",type:"Number"}],chainable:1},{params:[{name:"values",description:"<p>an array containing the red,green,blue &\n                                and alpha components of the color</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"color",description:"<p>the ambient light color</p>\n",type:"p5.Color"}],chainable:1}]},directionalLight:{name:"directionalLight",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>red or hue value (depending on the current\ncolor mode),</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value</p>\n",type:"Number"},{name:"position",description:"<p>the direction of the light</p>\n",type:"p5.Vector"}],chainable:1},{params:[{name:"color",description:'<p>color Array, CSS color string,\n                                            or <a href="#/p5.Color">p5.Color</a> value</p>\n',type:"Number[]|String|p5.Color"},{name:"x",description:"<p>x axis direction</p>\n",type:"Number"},{name:"y",description:"<p>y axis direction</p>\n",type:"Number"},{name:"z",description:"<p>z axis direction</p>\n",type:"Number"}],chainable:1},{params:[{name:"color",description:"",type:"Number[]|String|p5.Color"},{name:"position",description:"",type:"p5.Vector"}],chainable:1},{params:[{name:"v1",description:"",type:"Number"},{name:"v2",description:"",type:"Number"},{name:"v3",description:"",type:"Number"},{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number"}],chainable:1}]},pointLight:{name:"pointLight",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>red or hue value (depending on the current\ncolor mode),</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value</p>\n",type:"Number"},{name:"x",description:"<p>x axis position</p>\n",type:"Number"},{name:"y",description:"<p>y axis position</p>\n",type:"Number"},{name:"z",description:"<p>z axis position</p>\n",type:"Number"}],chainable:1},{params:[{name:"v1",description:"",type:"Number"},{name:"v2",description:"",type:"Number"},{name:"v3",description:"",type:"Number"},{name:"position",description:"<p>the position of the light</p>\n",type:"p5.Vector"}],chainable:1},{params:[{name:"color",description:'<p>color Array, CSS color string,\nor <a href="#/p5.Color">p5.Color</a> value</p>\n',type:"Number[]|String|p5.Color"},{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number"}],chainable:1},{params:[{name:"color",description:"",type:"Number[]|String|p5.Color"},{name:"position",description:"",type:"p5.Vector"}],chainable:1}]},lights:{name:"lights",class:"p5",module:"3D"},lightFalloff:{name:"lightFalloff",params:[{name:"constant",description:"<p>constant value for determining falloff</p>\n",type:"Number"},{name:"linear",description:"<p>linear value for determining falloff</p>\n",type:"Number"},{name:"quadratic",description:"<p>quadratic value for determining falloff</p>\n",type:"Number"}],class:"p5",module:"3D"},spotLight:{name:"spotLight",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>red or hue value (depending on the current\ncolor mode),</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value</p>\n",type:"Number"},{name:"x",description:"<p>x axis position</p>\n",type:"Number"},{name:"y",description:"<p>y axis position</p>\n",type:"Number"},{name:"z",description:"<p>z axis position</p>\n",type:"Number"},{name:"rx",description:"<p>x axis direction of light</p>\n",type:"Number"},{name:"ry",description:"<p>y axis direction of light</p>\n",type:"Number"},{name:"rz",description:"<p>z axis direction of light</p>\n",type:"Number"},{name:"angle",description:"<p>optional parameter for angle. Defaults to PI/3</p>\n",type:"Number",optional:true},{name:"conc",description:"<p>optional parameter for concentration. Defaults to 100</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"color",description:'<p>color Array, CSS color string,\nor <a href="#/p5.Color">p5.Color</a> value</p>\n',type:"Number[]|String|p5.Color"},{name:"position",description:"<p>the position of the light</p>\n",type:"p5.Vector"},{name:"direction",description:"<p>the direction of the light</p>\n",type:"p5.Vector"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]},{params:[{name:"v1",description:"",type:"Number"},{name:"v2",description:"",type:"Number"},{name:"v3",description:"",type:"Number"},{name:"position",description:"",type:"p5.Vector"},{name:"direction",description:"",type:"p5.Vector"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]},{params:[{name:"color",description:"",type:"Number[]|String|p5.Color"},{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number"},{name:"direction",description:"",type:"p5.Vector"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]},{params:[{name:"color",description:"",type:"Number[]|String|p5.Color"},{name:"position",description:"",type:"p5.Vector"},{name:"rx",description:"",type:"Number"},{name:"ry",description:"",type:"Number"},{name:"rz",description:"",type:"Number"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]},{params:[{name:"v1",description:"",type:"Number"},{name:"v2",description:"",type:"Number"},{name:"v3",description:"",type:"Number"},{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number"},{name:"direction",description:"",type:"p5.Vector"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]},{params:[{name:"v1",description:"",type:"Number"},{name:"v2",description:"",type:"Number"},{name:"v3",description:"",type:"Number"},{name:"position",description:"",type:"p5.Vector"},{name:"rx",description:"",type:"Number"},{name:"ry",description:"",type:"Number"},{name:"rz",description:"",type:"Number"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]},{params:[{name:"color",description:"",type:"Number[]|String|p5.Color"},{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number"},{name:"rx",description:"",type:"Number"},{name:"ry",description:"",type:"Number"},{name:"rz",description:"",type:"Number"},{name:"angle",description:"",type:"Number",optional:true},{name:"conc",description:"",type:"Number",optional:true}]}]},noLights:{name:"noLights",class:"p5",module:"3D"},loadModel:{name:"loadModel",class:"p5",module:"Shape",overloads:[{params:[{name:"path",description:"<p>Path of the model to be loaded</p>\n",type:"String"},{name:"normalize",description:"<p>If true, scale the model to a\n                                     standardized size when loading</p>\n",type:"Boolean"},{name:"successCallback",description:"<p>Function to be called\n                                    once the model is loaded. Will be passed\n                                    the 3D model object.</p>\n",type:"function(p5.Geometry)",optional:true},{name:"failureCallback",description:"<p>called with event error if\n                                        the model fails to load.</p>\n",type:"Function(Event)",optional:true},{name:"fileType",description:"<p>The file extension of the model\n                                     (<code>.stl</code>, <code>.obj</code>).</p>\n",type:"String",optional:true}]},{params:[{name:"path",description:"",type:"String"},{name:"successCallback",description:"",type:"function(p5.Geometry)",optional:true},{name:"failureCallback",description:"",type:"Function(Event)",optional:true},{name:"fileType",description:"",type:"String",optional:true}]}]},model:{name:"model",params:[{name:"model",description:"<p>Loaded 3d model to be rendered</p>\n",type:"p5.Geometry"}],class:"p5",module:"Shape"},loadShader:{name:"loadShader",params:[{name:"vertFilename",description:"<p>path to file containing vertex shader\nsource code</p>\n",type:"String"},{name:"fragFilename",description:"<p>path to file containing fragment shader\nsource code</p>\n",type:"String"},{name:"callback",description:"<p>callback to be executed after loadShader\ncompletes. On success, the p5.Shader object is passed as the first argument.</p>\n",type:"Function",optional:true},{name:"errorCallback",description:"<p>callback to be executed when an error\noccurs inside loadShader. On error, the error is passed as the first\nargument.</p>\n",type:"Function",optional:true}],class:"p5",module:"3D"},createShader:{name:"createShader",params:[{name:"vertSrc",description:"<p>source code for the vertex shader</p>\n",type:"String"},{name:"fragSrc",description:"<p>source code for the fragment shader</p>\n",type:"String"}],class:"p5",module:"3D"},shader:{name:"shader",params:[{name:"s",description:'<p>the <a href="#/p5.Shader">p5.Shader</a> object\nto use for rendering shapes.</p>\n',type:"p5.Shader"}],class:"p5",module:"3D"},resetShader:{name:"resetShader",class:"p5",module:"3D"},texture:{name:"texture",params:[{name:"tex",description:"<p>image to use as texture</p>\n",type:"p5.Image|p5.MediaElement|p5.Graphics|p5.Texture"}],class:"p5",module:"3D"},textureMode:{name:"textureMode",params:[{name:"mode",description:"<p>either IMAGE or NORMAL</p>\n",type:"Constant"}],class:"p5",module:"3D"},textureWrap:{name:"textureWrap",params:[{name:"wrapX",description:"<p>either CLAMP, REPEAT, or MIRROR</p>\n",type:"Constant"},{name:"wrapY",description:"<p>either CLAMP, REPEAT, or MIRROR</p>\n",type:"Constant",optional:true}],class:"p5",module:"3D"},normalMaterial:{name:"normalMaterial",class:"p5",module:"3D"},ambientMaterial:{name:"ambientMaterial",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>gray value, red or hue value\n                        (depending on the current color mode),</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value</p>\n",type:"Number",optional:true},{name:"v3",description:"<p>blue or brightness value</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"color",description:"<p>color, color Array, or CSS color string</p>\n",type:"Number[]|String|p5.Color"}],chainable:1}]},emissiveMaterial:{name:"emissiveMaterial",class:"p5",module:"3D",overloads:[{params:[{name:"v1",description:"<p>gray value, red or hue value\n                        (depending on the current color mode),</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value</p>\n",type:"Number",optional:true},{name:"v3",description:"<p>blue or brightness value</p>\n",type:"Number",optional:true},{name:"a",description:"<p>opacity</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"color",description:"<p>color, color Array, or CSS color string</p>\n",type:"Number[]|String|p5.Color"}],chainable:1}]},specularMaterial:{name:"specularMaterial",class:"p5",module:"3D",overloads:[{params:[{name:"gray",description:"<p>number specifying value between white and black.</p>\n",type:"Number"},{name:"alpha",description:"<p>alpha value relative to current color range\n                                (default is 0-255)</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"v1",description:"<p>red or hue value relative to\n                                the current color range</p>\n",type:"Number"},{name:"v2",description:"<p>green or saturation value\n                                relative to the current color range</p>\n",type:"Number"},{name:"v3",description:"<p>blue or brightness value\n                                relative to the current color range</p>\n",type:"Number"},{name:"alpha",description:"",type:"Number",optional:true}],chainable:1},{params:[{name:"color",description:"<p>color Array, or CSS color string</p>\n",type:"Number[]|String|p5.Color"}],chainable:1}]},shininess:{name:"shininess",params:[{name:"shine",description:"<p>Degree of Shininess.\n                      Defaults to 1.</p>\n",type:"Number"}],class:"p5",module:"3D"},camera:{name:"camera",params:[{name:"x",description:"<p>camera position value on x axis</p>\n",type:"Number",optional:true},{name:"y",description:"<p>camera position value on y axis</p>\n",type:"Number",optional:true},{name:"z",description:"<p>camera position value on z axis</p>\n",type:"Number",optional:true},{name:"centerX",description:"<p>x coordinate representing center of the sketch</p>\n",type:"Number",optional:true},{name:"centerY",description:"<p>y coordinate representing center of the sketch</p>\n",type:"Number",optional:true},{name:"centerZ",description:"<p>z coordinate representing center of the sketch</p>\n",type:"Number",optional:true},{name:"upX",description:"<p>x component of direction 'up' from camera</p>\n",type:"Number",optional:true},{name:"upY",description:"<p>y component of direction 'up' from camera</p>\n",type:"Number",optional:true},{name:"upZ",description:"<p>z component of direction 'up' from camera</p>\n",type:"Number",optional:true}],class:"p5",module:"3D"},perspective:{name:"perspective",params:[{name:"fovy",description:'<p>camera frustum vertical field of view,\n                          from bottom to top of view, in <a href="#/p5/angleMode">angleMode</a> units</p>\n',type:"Number",optional:true},{name:"aspect",description:"<p>camera frustum aspect ratio</p>\n",type:"Number",optional:true},{name:"near",description:"<p>frustum near plane length</p>\n",type:"Number",optional:true},{name:"far",description:"<p>frustum far plane length</p>\n",type:"Number",optional:true}],class:"p5",module:"3D"},ortho:{name:"ortho",params:[{name:"left",description:"<p>camera frustum left plane</p>\n",type:"Number",optional:true},{name:"right",description:"<p>camera frustum right plane</p>\n",type:"Number",optional:true},{name:"bottom",description:"<p>camera frustum bottom plane</p>\n",type:"Number",optional:true},{name:"top",description:"<p>camera frustum top plane</p>\n",type:"Number",optional:true},{name:"near",description:"<p>camera frustum near plane</p>\n",type:"Number",optional:true},{name:"far",description:"<p>camera frustum far plane</p>\n",type:"Number",optional:true}],class:"p5",module:"3D"},frustum:{name:"frustum",params:[{name:"left",description:"<p>camera frustum left plane</p>\n",type:"Number",optional:true},{name:"right",description:"<p>camera frustum right plane</p>\n",type:"Number",optional:true},{name:"bottom",description:"<p>camera frustum bottom plane</p>\n",type:"Number",optional:true},{name:"top",description:"<p>camera frustum top plane</p>\n",type:"Number",optional:true},{name:"near",description:"<p>camera frustum near plane</p>\n",type:"Number",optional:true},{name:"far",description:"<p>camera frustum far plane</p>\n",type:"Number",optional:true}],class:"p5",module:"3D"},createCamera:{name:"createCamera",class:"p5",module:"3D"},setCamera:{name:"setCamera",params:[{name:"cam",description:"<p>p5.Camera object</p>\n",type:"p5.Camera"}],class:"p5",module:"3D"},setAttributes:{name:"setAttributes",class:"p5",module:"Rendering",overloads:[{params:[{name:"key",description:"<p>Name of attribute</p>\n",type:"String"},{name:"value",description:"<p>New value of named attribute</p>\n",type:"Boolean"}]},{params:[{name:"obj",description:"<p>object with key-value pairs</p>\n",type:"Object"}]}]},getAudioContext:{name:"getAudioContext",class:"p5",module:"p5.sound"},userStartAudio:{params:[{name:"element(s)",description:"<p>This argument can be an Element,\n                              Selector String, NodeList, p5.Element,\n                              jQuery Element, or an Array of any of those.</p>\n",type:"Element|Array",optional:true},{name:"callback",description:"<p>Callback to invoke when the AudioContext\n                              has started</p>\n",type:"Function",optional:true}],name:"userStartAudio",class:"p5",module:"p5.sound"},getOutputVolume:{name:"getOutputVolume",class:"p5",module:"p5.sound"},outputVolume:{name:"outputVolume",params:[{name:"volume",description:"<p>Volume (amplitude) between 0.0\n                                   and 1.0 or modulating signal/oscillator</p>\n",type:"Number|Object"},{name:"rampTime",description:"<p>Fade for t seconds</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>Schedule this event to happen at\n                               t seconds in the future</p>\n",type:"Number",optional:true}],class:"p5",module:"p5.sound"},soundOut:{name:"soundOut",class:"p5",module:"p5.sound"},sampleRate:{name:"sampleRate",class:"p5",module:"p5.sound"},freqToMidi:{name:"freqToMidi",params:[{name:"frequency",description:'<p>A freqeuncy, for example, the "A"\n                           above Middle C is 440Hz</p>\n',type:"Number"}],class:"p5",module:"p5.sound"},midiToFreq:{name:"midiToFreq",params:[{name:"midiNote",description:"<p>The number of a MIDI note</p>\n",type:"Number"}],class:"p5",module:"p5.sound"},soundFormats:{name:"soundFormats",params:[{name:"formats",description:"<p>i.e. 'mp3', 'wav', 'ogg'</p>\n",type:"String",optional:true,multiple:true}],class:"p5",module:"p5.sound"},saveSound:{name:"saveSound",params:[{name:"soundFile",description:"<p>p5.SoundFile that you wish to save</p>\n",type:"p5.SoundFile"},{name:"fileName",description:"<p>name of the resulting .wav file.</p>\n",type:"String"}],class:"p5",module:"p5.sound"},loadSound:{name:"loadSound",params:[{name:"path",description:"<p>Path to the sound file, or an array with\n                                  paths to soundfiles in multiple formats\n                                  i.e. ['sound.ogg', 'sound.mp3'].\n                                  Alternately, accepts an object: either\n                                  from the HTML5 File API, or a p5.File.</p>\n",type:"String|Array"},{name:"successCallback",description:"<p>Name of a function to call once file loads</p>\n",type:"Function",optional:true},{name:"errorCallback",description:"<p>Name of a function to call if there is\n                                    an error loading the file.</p>\n",type:"Function",optional:true},{name:"whileLoading",description:"<p>Name of a function to call while file is loading.\n                               This function will receive the percentage loaded\n                               so far, from 0.0 to 1.0.</p>\n",type:"Function",optional:true}],class:"p5",module:"p5.sound"},createConvolver:{name:"createConvolver",params:[{name:"path",description:"<p>path to a sound file</p>\n",type:"String"},{name:"callback",description:"<p>function to call if loading is successful.\n                              The object will be passed in as the argument\n                              to the callback function.</p>\n",type:"Function",optional:true},{name:"errorCallback",description:"<p>function to call if loading is not successful.\n                              A custom error will be passed in as the argument\n                              to the callback function.</p>\n",type:"Function",optional:true}],class:"p5",module:"p5.sound"},setBPM:{name:"setBPM",params:[{name:"BPM",description:"<p>Beats Per Minute</p>\n",type:"Number"},{name:"rampTime",description:"<p>Seconds from now</p>\n",type:"Number"}],class:"p5",module:"p5.sound"}},"p5.Color":{toString:{name:"toString",params:[{name:"format",description:"<p>How the color string will be formatted.\nLeaving this empty formats the string as rgba(r, g, b, a).\n'#rgb' '#rgba' '#rrggbb' and '#rrggbbaa' format as hexadecimal color codes.\n'rgb' 'hsb' and 'hsl' return the color formatted in the specified color mode.\n'rgba' 'hsba' and 'hsla' are the same as above but with alpha channels.\n'rgb%' 'hsb%' 'hsl%' 'rgba%' 'hsba%' and 'hsla%' format as percentages.</p>\n",type:"String",optional:true}],class:"p5.Color",module:"Color"},setRed:{name:"setRed",params:[{name:"red",description:"<p>the new red value</p>\n",type:"Number"}],class:"p5.Color",module:"Color"},setGreen:{name:"setGreen",params:[{name:"green",description:"<p>the new green value</p>\n",type:"Number"}],class:"p5.Color",module:"Color"},setBlue:{name:"setBlue",params:[{name:"blue",description:"<p>the new blue value</p>\n",type:"Number"}],class:"p5.Color",module:"Color"},setAlpha:{name:"setAlpha",params:[{name:"alpha",description:"<p>the new alpha value</p>\n",type:"Number"}],class:"p5.Color",module:"Color"}},"p5.Element":{elt:{name:"elt",class:"p5.Element",module:"DOM"},parent:{name:"parent",class:"p5.Element",module:"DOM",overloads:[{params:[{name:"parent",description:'<p>the ID, DOM node, or <a href="#/p5.Element">p5.Element</a>\n                         of desired parent element</p>\n',type:"String|p5.Element|Object"}],chainable:1},{params:[]}]},id:{name:"id",class:"p5.Element",module:"DOM",overloads:[{params:[{name:"id",description:"<p>ID of the element</p>\n",type:"String"}],chainable:1},{params:[]}]},class:{name:"class",class:"p5.Element",module:"DOM",overloads:[{params:[{name:"class",description:"<p>class to add</p>\n",type:"String"}],chainable:1},{params:[]}]},mousePressed:{name:"mousePressed",params:[{name:"fxn",description:"<p>function to be fired when mouse is\n                               pressed over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},doubleClicked:{name:"doubleClicked",params:[{name:"fxn",description:"<p>function to be fired when mouse is\n                               double clicked over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},mouseWheel:{name:"mouseWheel",params:[{name:"fxn",description:"<p>function to be fired when mouse is\n                               scrolled over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},mouseReleased:{name:"mouseReleased",params:[{name:"fxn",description:"<p>function to be fired when mouse is\n                               released over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},mouseClicked:{name:"mouseClicked",params:[{name:"fxn",description:"<p>function to be fired when mouse is\n                               clicked over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},mouseMoved:{name:"mouseMoved",params:[{name:"fxn",description:"<p>function to be fired when a mouse moves\n                               over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},mouseOver:{name:"mouseOver",params:[{name:"fxn",description:"<p>function to be fired when a mouse moves\n                               onto the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},mouseOut:{name:"mouseOut",params:[{name:"fxn",description:"<p>function to be fired when a mouse\n                               moves off of an element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},touchStarted:{name:"touchStarted",params:[{name:"fxn",description:"<p>function to be fired when a touch\n                               starts over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},touchMoved:{name:"touchMoved",params:[{name:"fxn",description:"<p>function to be fired when a touch moves over\n                               the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},touchEnded:{name:"touchEnded",params:[{name:"fxn",description:"<p>function to be fired when a touch ends\n                               over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},dragOver:{name:"dragOver",params:[{name:"fxn",description:"<p>function to be fired when a file is\n                               dragged over the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},dragLeave:{name:"dragLeave",params:[{name:"fxn",description:"<p>function to be fired when a file is\n                               dragged off the element.\n                               if <code>false</code> is passed instead, the previously\n                               firing function will no longer fire.</p>\n",type:"Function|Boolean"}],class:"p5.Element",module:"DOM"},addClass:{name:"addClass",params:[{name:"class",description:"<p>name of class to add</p>\n",type:"String"}],class:"p5.Element",module:"DOM"},removeClass:{name:"removeClass",params:[{name:"class",description:"<p>name of class to remove</p>\n",type:"String"}],class:"p5.Element",module:"DOM"},hasClass:{name:"hasClass",params:[{name:"c",description:"<p>class name of class to check</p>\n",type:"String"}],class:"p5.Element",module:"DOM"},toggleClass:{name:"toggleClass",params:[{name:"c",description:"<p>class name to toggle</p>\n",type:"String"}],class:"p5.Element",module:"DOM"},child:{name:"child",class:"p5.Element",module:"DOM",overloads:[{params:[]},{params:[{name:"child",description:'<p>the ID, DOM node, or <a href="#/p5.Element">p5.Element</a>\n                        to add to the current element</p>\n',type:"String|p5.Element",optional:true}],chainable:1}]},center:{name:"center",params:[{name:"align",description:"<p>passing 'vertical', 'horizontal' aligns element accordingly</p>\n",type:"String",optional:true}],class:"p5.Element",module:"DOM"},html:{name:"html",class:"p5.Element",module:"DOM",overloads:[{params:[]},{params:[{name:"html",description:"<p>the HTML to be placed inside the element</p>\n",type:"String",optional:true},{name:"append",description:"<p>whether to append HTML to existing</p>\n",type:"Boolean",optional:true}],chainable:1}]},position:{name:"position",class:"p5.Element",module:"DOM",overloads:[{params:[]},{params:[{name:"x",description:"<p>x-position relative to upper left of window (optional)</p>\n",type:"Number",optional:true},{name:"y",description:"<p>y-position relative to upper left of window (optional)</p>\n",type:"Number",optional:true},{name:"positionType",description:"<p>it can be static, fixed, relative, sticky, initial or inherit (optional)</p>\n",type:"String",optional:true}],chainable:1}]},style:{name:"style",class:"p5.Element",module:"DOM",overloads:[{params:[{name:"property",description:"<p>property to be set</p>\n",type:"String"}]},{params:[{name:"property",description:"",type:"String"},{name:"value",description:"<p>value to assign to property</p>\n",type:"String|p5.Color"}],chainable:1}]},attribute:{name:"attribute",class:"p5.Element",module:"DOM",overloads:[{params:[]},{params:[{name:"attr",description:"<p>attribute to set</p>\n",type:"String"},{name:"value",description:"<p>value to assign to attribute</p>\n",type:"String"}],chainable:1}]},removeAttribute:{name:"removeAttribute",params:[{name:"attr",description:"<p>attribute to remove</p>\n",type:"String"}],class:"p5.Element",module:"DOM"},value:{name:"value",class:"p5.Element",module:"DOM",overloads:[{params:[]},{params:[{name:"value",description:"",type:"String|Number"}],chainable:1}]},show:{name:"show",class:"p5.Element",module:"DOM"},hide:{name:"hide",class:"p5.Element",module:"DOM"},size:{name:"size",class:"p5.Element",module:"DOM",overloads:[{params:[]},{params:[{name:"w",description:"<p>width of the element, either AUTO, or a number</p>\n",type:"Number|Constant"},{name:"h",description:"<p>height of the element, either AUTO, or a number</p>\n",type:"Number|Constant",optional:true}],chainable:1}]},remove:{name:"remove",class:"p5.Element",module:"DOM"},drop:{name:"drop",params:[{name:"callback",description:"<p>callback to receive loaded file, called for each file dropped.</p>\n",type:"Function"},{name:"fxn",description:"<p>callback triggered once when files are dropped with the drop event.</p>\n",type:"Function",optional:true}],class:"p5.Element",module:"DOM"}},"p5.Graphics":{reset:{name:"reset",class:"p5.Graphics",module:"Rendering"},remove:{name:"remove",class:"p5.Graphics",module:"Rendering"}},JSON:{stringify:{name:"stringify",params:[{name:"object",description:"<p>:Javascript object that you would like to convert to JSON</p>\n",type:"Object"}],class:"JSON",module:"Foundation"}},console:{log:{name:"log",params:[{name:"message",description:"<p>:Message that you would like to print to the console</p>\n",type:"String|Expression|Object"}],class:"console",module:"Foundation"}},"p5.TypedDict":{size:{name:"size",class:"p5.TypedDict",module:"Data"},hasKey:{name:"hasKey",params:[{name:"key",description:"<p>that you want to look up</p>\n",type:"Number|String"}],class:"p5.TypedDict",module:"Data"},get:{name:"get",params:[{name:"the",description:"<p>key you want to access</p>\n",type:"Number|String"}],class:"p5.TypedDict",module:"Data"},set:{name:"set",params:[{name:"key",description:"",type:"Number|String"},{name:"value",description:"",type:"Number|String"}],class:"p5.TypedDict",module:"Data"},create:{name:"create",class:"p5.TypedDict",module:"Data",overloads:[{params:[{name:"key",description:"",type:"Number|String"},{name:"value",description:"",type:"Number|String"}]},{params:[{name:"obj",description:"<p>key/value pair</p>\n",type:"Object"}]}]},clear:{name:"clear",class:"p5.TypedDict",module:"Data"},remove:{name:"remove",params:[{name:"key",description:"<p>for the pair to remove</p>\n",type:"Number|String"}],class:"p5.TypedDict",module:"Data"},print:{name:"print",class:"p5.TypedDict",module:"Data"},saveTable:{name:"saveTable",class:"p5.TypedDict",module:"Data"},saveJSON:{name:"saveJSON",class:"p5.TypedDict",module:"Data"}},"p5.NumberDict":{add:{name:"add",params:[{name:"Key",description:"<p>for the value you wish to add to</p>\n",type:"Number"},{name:"Number",description:"<p>to add to the value</p>\n",type:"Number"}],class:"p5.NumberDict",module:"Data"},sub:{name:"sub",params:[{name:"Key",description:"<p>for the value you wish to subtract from</p>\n",type:"Number"},{name:"Number",description:"<p>to subtract from the value</p>\n",type:"Number"}],class:"p5.NumberDict",module:"Data"},mult:{name:"mult",params:[{name:"Key",description:"<p>for value you wish to multiply</p>\n",type:"Number"},{name:"Amount",description:"<p>to multiply the value by</p>\n",type:"Number"}],class:"p5.NumberDict",module:"Data"},div:{name:"div",params:[{name:"Key",description:"<p>for value you wish to divide</p>\n",type:"Number"},{name:"Amount",description:"<p>to divide the value by</p>\n",type:"Number"}],class:"p5.NumberDict",module:"Data"},minValue:{name:"minValue",class:"p5.NumberDict",module:"Data"},maxValue:{name:"maxValue",class:"p5.NumberDict",module:"Data"},minKey:{name:"minKey",class:"p5.NumberDict",module:"Data"},maxKey:{name:"maxKey",class:"p5.NumberDict",module:"Data"}},"p5.MediaElement":{src:{name:"src",class:"p5.MediaElement",module:"DOM"},play:{name:"play",class:"p5.MediaElement",module:"DOM"},stop:{name:"stop",class:"p5.MediaElement",module:"DOM"},pause:{name:"pause",class:"p5.MediaElement",module:"DOM"},loop:{name:"loop",class:"p5.MediaElement",module:"DOM"},noLoop:{name:"noLoop",class:"p5.MediaElement",module:"DOM"},autoplay:{name:"autoplay",params:[{name:"shouldAutoplay",description:"<p>whether the element should autoplay</p>\n",type:"Boolean"}],class:"p5.MediaElement",module:"DOM"},volume:{name:"volume",class:"p5.MediaElement",module:"DOM",overloads:[{params:[]},{params:[{name:"val",description:"<p>volume between 0.0 and 1.0</p>\n",type:"Number"}],chainable:1}]},speed:{name:"speed",class:"p5.MediaElement",module:"DOM",overloads:[{params:[]},{params:[{name:"speed",description:"<p>speed multiplier for element playback</p>\n",type:"Number"}],chainable:1}]},time:{name:"time",class:"p5.MediaElement",module:"DOM",overloads:[{params:[]},{params:[{name:"time",description:"<p>time to jump to (in seconds)</p>\n",type:"Number"}],chainable:1}]},duration:{name:"duration",class:"p5.MediaElement",module:"DOM"},onended:{name:"onended",params:[{name:"callback",description:"<p>function to call when the\n                            soundfile has ended. The\n                            media element will be passed\n                            in as the argument to the\n                            callback.</p>\n",type:"Function"}],class:"p5.MediaElement",module:"DOM"},connect:{name:"connect",params:[{name:"audioNode",description:"<p>AudioNode from the Web Audio API,\nor an object from the p5.sound library</p>\n",type:"AudioNode|Object"}],class:"p5.MediaElement",module:"DOM"},disconnect:{name:"disconnect",class:"p5.MediaElement",module:"DOM"},showControls:{name:"showControls",class:"p5.MediaElement",module:"DOM"},hideControls:{name:"hideControls",class:"p5.MediaElement",module:"DOM"},addCue:{name:"addCue",params:[{name:"time",description:"<p>Time in seconds, relative to this media\n                            element's playback. For example, to trigger\n                            an event every time playback reaches two\n                            seconds, pass in the number 2. This will be\n                            passed as the first parameter to\n                            the callback function.</p>\n",type:"Number"},{name:"callback",description:"<p>Name of a function that will be\n                            called at the given time. The callback will\n                            receive time and (optionally) param as its\n                            two parameters.</p>\n",type:"Function"},{name:"value",description:"<p>An object to be passed as the\n                            second parameter to the\n                            callback function.</p>\n",type:"Object",optional:true}],class:"p5.MediaElement",module:"DOM"},removeCue:{name:"removeCue",params:[{name:"id",description:"<p>ID of the cue, as returned by addCue</p>\n",type:"Number"}],class:"p5.MediaElement",module:"DOM"},clearCues:{name:"clearCues",params:[{name:"id",description:"<p>ID of the cue, as returned by addCue</p>\n",type:"Number"}],class:"p5.MediaElement",module:"DOM"}},"p5.File":{file:{name:"file",class:"p5.File",module:"DOM"},type:{name:"type",class:"p5.File",module:"DOM"},subtype:{name:"subtype",class:"p5.File",module:"DOM"},name:{name:"name",class:"p5.File",module:"DOM"},size:{name:"size",class:"p5.File",module:"DOM"},data:{name:"data",class:"p5.File",module:"DOM"}},"p5.Image":{width:{name:"width",class:"p5.Image",module:"Image"},height:{name:"height",class:"p5.Image",module:"Image"},pixels:{name:"pixels",class:"p5.Image",module:"Image"},loadPixels:{name:"loadPixels",class:"p5.Image",module:"Image"},updatePixels:{name:"updatePixels",class:"p5.Image",module:"Image",overloads:[{params:[{name:"x",description:"<p>x-offset of the target update area for the\n                             underlying canvas</p>\n",type:"Integer"},{name:"y",description:"<p>y-offset of the target update area for the\n                             underlying canvas</p>\n",type:"Integer"},{name:"w",description:"<p>height of the target update area for the\n                             underlying canvas</p>\n",type:"Integer"},{name:"h",description:"<p>height of the target update area for the\n                             underlying canvas</p>\n",type:"Integer"}]},{params:[]}]},get:{name:"get",class:"p5.Image",module:"Image",overloads:[{params:[{name:"x",description:"<p>x-coordinate of the pixel</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the pixel</p>\n",type:"Number"},{name:"w",description:"<p>width</p>\n",type:"Number"},{name:"h",description:"<p>height</p>\n",type:"Number"}]},{params:[]},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"}]}]},set:{name:"set",params:[{name:"x",description:"<p>x-coordinate of the pixel</p>\n",type:"Number"},{name:"y",description:"<p>y-coordinate of the pixel</p>\n",type:"Number"},{name:"a",description:'<p>grayscale value | pixel array |\n                               a <a href="#/p5.Color">p5.Color</a> | image to copy</p>\n',type:"Number|Number[]|Object"}],class:"p5.Image",module:"Image"},resize:{name:"resize",params:[{name:"width",description:"<p>the resized image width</p>\n",type:"Number"},{name:"height",description:"<p>the resized image height</p>\n",type:"Number"}],class:"p5.Image",module:"Image"},copy:{name:"copy",class:"p5.Image",module:"Image",overloads:[{params:[{name:"srcImage",description:"<p>source image</p>\n",type:"p5.Image|p5.Element"},{name:"sx",description:"<p>X coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sy",description:"<p>Y coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sw",description:"<p>source image width</p>\n",type:"Integer"},{name:"sh",description:"<p>source image height</p>\n",type:"Integer"},{name:"dx",description:"<p>X coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dy",description:"<p>Y coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dw",description:"<p>destination image width</p>\n",type:"Integer"},{name:"dh",description:"<p>destination image height</p>\n",type:"Integer"}]},{params:[{name:"sx",description:"",type:"Integer"},{name:"sy",description:"",type:"Integer"},{name:"sw",description:"",type:"Integer"},{name:"sh",description:"",type:"Integer"},{name:"dx",description:"",type:"Integer"},{name:"dy",description:"",type:"Integer"},{name:"dw",description:"",type:"Integer"},{name:"dh",description:"",type:"Integer"}]}]},mask:{name:"mask",params:[{name:"srcImage",description:"<p>source image</p>\n",type:"p5.Image"}],class:"p5.Image",module:"Image"},filter:{name:"filter",params:[{name:"filterType",description:"<p>either THRESHOLD, GRAY, OPAQUE, INVERT,\n                               POSTERIZE, ERODE, DILATE or BLUR.\n                               See Filters.js for docs on\n                               each available filter</p>\n",type:"Constant"},{name:"filterParam",description:"<p>an optional parameter unique\n                               to each filter, see above</p>\n",type:"Number",optional:true}],class:"p5.Image",module:"Image"},blend:{name:"blend",class:"p5.Image",module:"Image",overloads:[{params:[{name:"srcImage",description:"<p>source image</p>\n",type:"p5.Image"},{name:"sx",description:"<p>X coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sy",description:"<p>Y coordinate of the source's upper left corner</p>\n",type:"Integer"},{name:"sw",description:"<p>source image width</p>\n",type:"Integer"},{name:"sh",description:"<p>source image height</p>\n",type:"Integer"},{name:"dx",description:"<p>X coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dy",description:"<p>Y coordinate of the destination's upper left corner</p>\n",type:"Integer"},{name:"dw",description:"<p>destination image width</p>\n",type:"Integer"},{name:"dh",description:"<p>destination image height</p>\n",type:"Integer"},{name:"blendMode",description:'<p>the blend mode. either\n    BLEND, DARKEST, LIGHTEST, DIFFERENCE,\n    MULTIPLY, EXCLUSION, SCREEN, REPLACE, OVERLAY, HARD_LIGHT,\n    SOFT_LIGHT, DODGE, BURN, ADD or NORMAL.</p>\n<p>Available blend modes are: normal | multiply | screen | overlay |\n           darken | lighten | color-dodge | color-burn | hard-light |\n           soft-light | difference | exclusion | hue | saturation |\n           color | luminosity</p>\n<p><a href="http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/">http://blogs.adobe.com/webplatform/2013/01/28/blending-features-in-canvas/</a></p>\n',type:"Constant"}]},{params:[{name:"sx",description:"",type:"Integer"},{name:"sy",description:"",type:"Integer"},{name:"sw",description:"",type:"Integer"},{name:"sh",description:"",type:"Integer"},{name:"dx",description:"",type:"Integer"},{name:"dy",description:"",type:"Integer"},{name:"dw",description:"",type:"Integer"},{name:"dh",description:"",type:"Integer"},{name:"blendMode",description:"",type:"Constant"}]}]},save:{name:"save",params:[{name:"filename",description:"<p>give your file a name</p>\n",type:"String"},{name:"extension",description:"<p>'png' or 'jpg'</p>\n",type:"String"}],class:"p5.Image",module:"Image"},reset:{name:"reset",class:"p5.Image",module:"Image"},getCurrentFrame:{name:"getCurrentFrame",class:"p5.Image",module:"Image"},setFrame:{name:"setFrame",params:[{name:"index",description:"<p>the index for the frame that should be displayed</p>\n",type:"Number"}],class:"p5.Image",module:"Image"},numFrames:{name:"numFrames",class:"p5.Image",module:"Image"},play:{name:"play",class:"p5.Image",module:"Image"},pause:{name:"pause",class:"p5.Image",module:"Image"},delay:{name:"delay",params:[{name:"d",description:"<p>the amount in milliseconds to delay between switching frames</p>\n",type:"Number"},{name:"index",description:"<p>the index of the frame that should have the new delay value {optional}</p>\n",type:"Number",optional:true}],class:"p5.Image",module:"Image"}},"p5.PrintWriter":{write:{name:"write",params:[{name:"data",description:"<p>all data to be written by the PrintWriter</p>\n",type:"Array"}],class:"p5.PrintWriter",module:"IO"},print:{name:"print",params:[{name:"data",description:"<p>all data to be printed by the PrintWriter</p>\n",type:"Array"}],class:"p5.PrintWriter",module:"IO"},clear:{name:"clear",class:"p5.PrintWriter",module:"IO"},close:{name:"close",class:"p5.PrintWriter",module:"IO"}},"p5.Table":{columns:{name:"columns",class:"p5.Table",module:"IO"},rows:{name:"rows",class:"p5.Table",module:"IO"},addRow:{name:"addRow",params:[{name:"row",description:"<p>row to be added to the table</p>\n",type:"p5.TableRow",optional:true}],class:"p5.Table",module:"IO"},removeRow:{name:"removeRow",params:[{name:"id",description:"<p>ID number of the row to remove</p>\n",type:"Integer"}],class:"p5.Table",module:"IO"},getRow:{name:"getRow",params:[{name:"rowID",description:"<p>ID number of the row to get</p>\n",type:"Integer"}],class:"p5.Table",module:"IO"},getRows:{name:"getRows",class:"p5.Table",module:"IO"},findRow:{name:"findRow",params:[{name:"value",description:"<p>The value to match</p>\n",type:"String"},{name:"column",description:"<p>ID number or title of the\n                               column to search</p>\n",type:"Integer|String"}],class:"p5.Table",module:"IO"},findRows:{name:"findRows",params:[{name:"value",description:"<p>The value to match</p>\n",type:"String"},{name:"column",description:"<p>ID number or title of the\n                               column to search</p>\n",type:"Integer|String"}],class:"p5.Table",module:"IO"},matchRow:{name:"matchRow",params:[{name:"regexp",description:"<p>The regular expression to match</p>\n",type:"String|RegExp"},{name:"column",description:"<p>The column ID (number) or\n                                 title (string)</p>\n",type:"String|Integer"}],class:"p5.Table",module:"IO"},matchRows:{name:"matchRows",params:[{name:"regexp",description:"<p>The regular expression to match</p>\n",type:"String"},{name:"column",description:"<p>The column ID (number) or\n                                 title (string)</p>\n",type:"String|Integer",optional:true}],class:"p5.Table",module:"IO"},getColumn:{name:"getColumn",params:[{name:"column",description:"<p>String or Number of the column to return</p>\n",type:"String|Number"}],class:"p5.Table",module:"IO"},clearRows:{name:"clearRows",class:"p5.Table",module:"IO"},addColumn:{name:"addColumn",params:[{name:"title",description:"<p>title of the given column</p>\n",type:"String",optional:true}],class:"p5.Table",module:"IO"},getColumnCount:{name:"getColumnCount",class:"p5.Table",module:"IO"},getRowCount:{name:"getRowCount",class:"p5.Table",module:"IO"},removeTokens:{name:"removeTokens",params:[{name:"chars",description:"<p>String listing characters to be removed</p>\n",type:"String"},{name:"column",description:"<p>Column ID (number)\n                                 or name (string)</p>\n",type:"String|Integer",optional:true}],class:"p5.Table",module:"IO"},trim:{name:"trim",params:[{name:"column",description:"<p>Column ID (number)\n                                 or name (string)</p>\n",type:"String|Integer",optional:true}],class:"p5.Table",module:"IO"},removeColumn:{name:"removeColumn",params:[{name:"column",description:"<p>columnName (string) or ID (number)</p>\n",type:"String|Integer"}],class:"p5.Table",module:"IO"},set:{name:"set",params:[{name:"row",description:"<p>row ID</p>\n",type:"Integer"},{name:"column",description:"<p>column ID (Number)\n                              or title (String)</p>\n",type:"String|Integer"},{name:"value",description:"<p>value to assign</p>\n",type:"String|Number"}],class:"p5.Table",module:"IO"},setNum:{name:"setNum",params:[{name:"row",description:"<p>row ID</p>\n",type:"Integer"},{name:"column",description:"<p>column ID (Number)\n                              or title (String)</p>\n",type:"String|Integer"},{name:"value",description:"<p>value to assign</p>\n",type:"Number"}],class:"p5.Table",module:"IO"},setString:{name:"setString",params:[{name:"row",description:"<p>row ID</p>\n",type:"Integer"},{name:"column",description:"<p>column ID (Number)\n                              or title (String)</p>\n",type:"String|Integer"},{name:"value",description:"<p>value to assign</p>\n",type:"String"}],class:"p5.Table",module:"IO"},get:{name:"get",params:[{name:"row",description:"<p>row ID</p>\n",type:"Integer"},{name:"column",description:"<p>columnName (string) or\n                                  ID (number)</p>\n",type:"String|Integer"}],class:"p5.Table",module:"IO"},getNum:{name:"getNum",params:[{name:"row",description:"<p>row ID</p>\n",type:"Integer"},{name:"column",description:"<p>columnName (string) or\n                                  ID (number)</p>\n",type:"String|Integer"}],class:"p5.Table",module:"IO"},getString:{name:"getString",params:[{name:"row",description:"<p>row ID</p>\n",type:"Integer"},{name:"column",description:"<p>columnName (string) or\n                                  ID (number)</p>\n",type:"String|Integer"}],class:"p5.Table",module:"IO"},getObject:{name:"getObject",params:[{name:"headerColumn",description:"<p>Name of the column which should be used to\n                             title each row object (optional)</p>\n",type:"String",optional:true}],class:"p5.Table",module:"IO"},getArray:{name:"getArray",class:"p5.Table",module:"IO"}},"p5.TableRow":{set:{name:"set",params:[{name:"column",description:"<p>Column ID (Number)\n                              or Title (String)</p>\n",type:"String|Integer"},{name:"value",description:"<p>The value to be stored</p>\n",type:"String|Number"}],class:"p5.TableRow",module:"IO"},setNum:{name:"setNum",params:[{name:"column",description:"<p>Column ID (Number)\n                              or Title (String)</p>\n",type:"String|Integer"},{name:"value",description:"<p>The value to be stored\n                              as a Float</p>\n",type:"Number|String"}],class:"p5.TableRow",module:"IO"},setString:{name:"setString",params:[{name:"column",description:"<p>Column ID (Number)\n                              or Title (String)</p>\n",type:"String|Integer"},{name:"value",description:"<p>The value to be stored\n                              as a String</p>\n",type:"String|Number|Boolean|Object"}],class:"p5.TableRow",module:"IO"},get:{name:"get",params:[{name:"column",description:"<p>columnName (string) or\n                                 ID (number)</p>\n",type:"String|Integer"}],class:"p5.TableRow",module:"IO"},getNum:{name:"getNum",params:[{name:"column",description:"<p>columnName (string) or\n                                 ID (number)</p>\n",type:"String|Integer"}],class:"p5.TableRow",module:"IO"},getString:{name:"getString",params:[{name:"column",description:"<p>columnName (string) or\n                                 ID (number)</p>\n",type:"String|Integer"}],class:"p5.TableRow",module:"IO"}},"p5.XML":{getParent:{name:"getParent",class:"p5.XML",module:"IO"},getName:{name:"getName",class:"p5.XML",module:"IO"},setName:{name:"setName",params:[{name:"the",description:"<p>new name of the node</p>\n",type:"String"}],class:"p5.XML",module:"IO"},hasChildren:{name:"hasChildren",class:"p5.XML",module:"IO"},listChildren:{name:"listChildren",class:"p5.XML",module:"IO"},getChildren:{name:"getChildren",params:[{name:"name",description:"<p>element name</p>\n",type:"String",optional:true}],class:"p5.XML",module:"IO"},getChild:{name:"getChild",params:[{name:"name",description:"<p>element name or index</p>\n",type:"String|Integer"}],class:"p5.XML",module:"IO"},addChild:{name:"addChild",params:[{name:"node",description:'<p>a <a href="#/p5.XML">p5.XML</a> Object which will be the child to be added</p>\n',type:"p5.XML"}],class:"p5.XML",module:"IO"},removeChild:{name:"removeChild",params:[{name:"name",description:"<p>element name or index</p>\n",type:"String|Integer"}],class:"p5.XML",module:"IO"},getAttributeCount:{name:"getAttributeCount",class:"p5.XML",module:"IO"},listAttributes:{name:"listAttributes",class:"p5.XML",module:"IO"},hasAttribute:{name:"hasAttribute",params:[{name:"the",description:"<p>attribute to be checked</p>\n",type:"String"}],class:"p5.XML",module:"IO"},getNum:{name:"getNum",params:[{name:"name",description:"<p>the non-null full name of the attribute</p>\n",type:"String"},{name:"defaultValue",description:"<p>the default value of the attribute</p>\n",type:"Number",optional:true}],class:"p5.XML",module:"IO"},getString:{name:"getString",params:[{name:"name",description:"<p>the non-null full name of the attribute</p>\n",type:"String"},{name:"defaultValue",description:"<p>the default value of the attribute</p>\n",type:"Number",optional:true}],class:"p5.XML",module:"IO"},setAttribute:{name:"setAttribute",params:[{name:"name",description:"<p>the full name of the attribute</p>\n",type:"String"},{name:"value",description:"<p>the value of the attribute</p>\n",type:"Number|String|Boolean"}],class:"p5.XML",module:"IO"},getContent:{name:"getContent",params:[{name:"defaultValue",description:"<p>value returned if no content is found</p>\n",type:"String",optional:true}],class:"p5.XML",module:"IO"},setContent:{name:"setContent",params:[{name:"text",description:"<p>the new content</p>\n",type:"String"}],class:"p5.XML",module:"IO"},serialize:{name:"serialize",class:"p5.XML",module:"IO"}},"p5.Vector":{x:{name:"x",class:"p5.Vector",module:"Math"},y:{name:"y",class:"p5.Vector",module:"Math"},z:{name:"z",class:"p5.Vector",module:"Math"},toString:{name:"toString",class:"p5.Vector",module:"Math"},set:{name:"set",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>the x component of the vector</p>\n",type:"Number",optional:true},{name:"y",description:"<p>the y component of the vector</p>\n",type:"Number",optional:true},{name:"z",description:"<p>the z component of the vector</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"value",description:"<p>the vector to set</p>\n",type:"p5.Vector|Number[]"}],chainable:1}]},copy:{name:"copy",class:"p5.Vector",module:"Math"},add:{name:"add",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>the x component of the vector to be added</p>\n",type:"Number"},{name:"y",description:"<p>the y component of the vector to be added</p>\n",type:"Number",optional:true},{name:"z",description:"<p>the z component of the vector to be added</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"value",description:"<p>the vector to add</p>\n",type:"p5.Vector|Number[]"}],chainable:1},{params:[{name:"v1",description:'<p>a <a href="#/p5.Vector">p5.Vector</a> to add</p>\n',type:"p5.Vector"},{name:"v2",description:'<p>a <a href="#/p5.Vector">p5.Vector</a> to add</p>\n',type:"p5.Vector"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1}]},rem:{name:"rem",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>the x component of divisor vector</p>\n",type:"Number"},{name:"y",description:"<p>the y component of divisor vector</p>\n",type:"Number"},{name:"z",description:"<p>the z component of divisor vector</p>\n",type:"Number"}],chainable:1},{params:[{name:"value",description:"<p>divisor vector</p>\n",type:"p5.Vector | Number[]"}],chainable:1},{params:[{name:"v1",description:'<p>dividend <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"},{name:"v2",description:'<p>divisor <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}],static:1},{params:[{name:"v1",description:"",type:"p5.Vector"},{name:"v2",description:"",type:"p5.Vector"}],static:1}]},sub:{name:"sub",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>the x component of the vector to subtract</p>\n",type:"Number"},{name:"y",description:"<p>the y component of the vector to subtract</p>\n",type:"Number",optional:true},{name:"z",description:"<p>the z component of the vector to subtract</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"value",description:"<p>the vector to subtract</p>\n",type:"p5.Vector|Number[]"}],chainable:1},{params:[{name:"v1",description:'<p>a <a href="#/p5.Vector">p5.Vector</a> to subtract from</p>\n',type:"p5.Vector"},{name:"v2",description:'<p>a <a href="#/p5.Vector">p5.Vector</a> to subtract</p>\n',type:"p5.Vector"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1}]},mult:{name:"mult",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"n",description:"<p>The number to multiply with the vector</p>\n",type:"Number"}],chainable:1},{params:[{name:"x",description:"<p>The number to multiply with the x component of the vector</p>\n",type:"Number"},{name:"y",description:"<p>The number to multiply with the y component of the vector</p>\n",type:"Number"},{name:"z",description:"<p>The number to multiply with the z component of the vector</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"arr",description:"<p>The array to multiply with the components of the vector</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"v",description:"<p>The vector to multiply with the components of the original vector</p>\n",type:"p5.Vector"}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number",optional:true}],static:1},{params:[{name:"v",description:"",type:"p5.Vector"},{name:"n",description:"",type:"Number"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1},{params:[{name:"v0",description:"",type:"p5.Vector"},{name:"v1",description:"",type:"p5.Vector"},{name:"target",description:"",type:"p5.Vector",optional:true}],static:1},{params:[{name:"v0",description:"",type:"p5.Vector"},{name:"arr",description:"",type:"Number[]"},{name:"target",description:"",type:"p5.Vector",optional:true}],static:1}]},div:{name:"div",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"n",description:"<p>The number to divide the vector by</p>\n",type:"Number"}],chainable:1},{params:[{name:"x",description:"<p>The number to divide with the x component of the vector</p>\n",type:"Number"},{name:"y",description:"<p>The number to divide with the y component of the vector</p>\n",type:"Number"},{name:"z",description:"<p>The number to divide with the z component of the vector</p>\n",type:"Number",optional:true}],chainable:1},{params:[{name:"arr",description:"<p>The array to divide the components of the vector by</p>\n",type:"Number[]"}],chainable:1},{params:[{name:"v",description:"<p>The vector to divide the components of the original vector by</p>\n",type:"p5.Vector"}],chainable:1},{params:[{name:"x",description:"",type:"Number"},{name:"y",description:"",type:"Number"},{name:"z",description:"",type:"Number",optional:true}],static:1},{params:[{name:"v",description:"",type:"p5.Vector"},{name:"n",description:"",type:"Number"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1},{params:[{name:"v0",description:"",type:"p5.Vector"},{name:"v1",description:"",type:"p5.Vector"},{name:"target",description:"",type:"p5.Vector",optional:true}],static:1},{params:[{name:"v0",description:"",type:"p5.Vector"},{name:"arr",description:"",type:"Number[]"},{name:"target",description:"",type:"p5.Vector",optional:true}],static:1}]},mag:{name:"mag",class:"p5.Vector",module:"Math",overloads:[{params:[]},{params:[{name:"vecT",description:"<p>the vector to return the magnitude of</p>\n",type:"p5.Vector"}],static:1}]},magSq:{name:"magSq",class:"p5.Vector",module:"Math"},dot:{name:"dot",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>x component of the vector</p>\n",type:"Number"},{name:"y",description:"<p>y component of the vector</p>\n",type:"Number",optional:true},{name:"z",description:"<p>z component of the vector</p>\n",type:"Number",optional:true}]},{params:[{name:"value",description:'<p>value component of the vector or a <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}]},{params:[{name:"v1",description:'<p>the first <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"},{name:"v2",description:'<p>the second <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}],static:1}]},cross:{name:"cross",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"v",description:'<p><a href="#/p5.Vector">p5.Vector</a> to be crossed</p>\n',type:"p5.Vector"}]},{params:[{name:"v1",description:'<p>the first <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"},{name:"v2",description:'<p>the second <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}],static:1}]},dist:{name:"dist",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"v",description:'<p>the x, y, and z coordinates of a <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}]},{params:[{name:"v1",description:'<p>the first <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"},{name:"v2",description:'<p>the second <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}],static:1}]},normalize:{name:"normalize",class:"p5.Vector",module:"Math",overloads:[{params:[]},{params:[{name:"v",description:"<p>the vector to normalize</p>\n",type:"p5.Vector"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1}]},limit:{name:"limit",params:[{name:"max",description:"<p>the maximum magnitude for the vector</p>\n",type:"Number"}],class:"p5.Vector",module:"Math"},setMag:{name:"setMag",params:[{name:"len",description:"<p>the new length for this vector</p>\n",type:"Number"}],class:"p5.Vector",module:"Math"},heading:{name:"heading",class:"p5.Vector",module:"Math"},setHeading:{name:"setHeading",params:[{name:"angle",description:"<p>the angle of rotation</p>\n",type:"Number"}],class:"p5.Vector",module:"Math"},rotate:{name:"rotate",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"angle",description:"<p>the angle of rotation</p>\n",type:"Number"}],chainable:1},{params:[{name:"v",description:"",type:"p5.Vector"},{name:"angle",description:"",type:"Number"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1}]},angleBetween:{name:"angleBetween",params:[{name:"value",description:'<p>the x, y, and z components of a <a href="#/p5.Vector">p5.Vector</a></p>\n',type:"p5.Vector"}],class:"p5.Vector",module:"Math"},lerp:{name:"lerp",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>the x component</p>\n",type:"Number"},{name:"y",description:"<p>the y component</p>\n",type:"Number"},{name:"z",description:"<p>the z component</p>\n",type:"Number"},{name:"amt",description:"<p>the amount of interpolation; some value between 0.0\n                        (old vector) and 1.0 (new vector). 0.9 is very near\n                        the new vector. 0.5 is halfway in between.</p>\n",type:"Number"}],chainable:1},{params:[{name:"v",description:'<p>the <a href="#/p5.Vector">p5.Vector</a> to lerp to</p>\n',type:"p5.Vector"},{name:"amt",description:"",type:"Number"}],chainable:1},{params:[{name:"v1",description:"",type:"p5.Vector"},{name:"v2",description:"",type:"p5.Vector"},{name:"amt",description:"",type:"Number"},{name:"target",description:"<p>the vector to receive the result</p>\n",type:"p5.Vector",optional:true}],static:1}]},reflect:{name:"reflect",params:[{name:"surfaceNormal",description:'<p>the <a href="#/p5.Vector">p5.Vector</a> to reflect about, will be normalized by this method</p>\n',type:"p5.Vector"}],class:"p5.Vector",module:"Math"},array:{name:"array",class:"p5.Vector",module:"Math"},equals:{name:"equals",class:"p5.Vector",module:"Math",overloads:[{params:[{name:"x",description:"<p>the x component of the vector</p>\n",type:"Number",optional:true},{name:"y",description:"<p>the y component of the vector</p>\n",type:"Number",optional:true},{name:"z",description:"<p>the z component of the vector</p>\n",type:"Number",optional:true}]},{params:[{name:"value",description:"<p>the vector to compare</p>\n",type:"p5.Vector|Array"}]}]},fromAngle:{name:"fromAngle",params:[{name:"angle",description:'<p>the desired angle, in radians (unaffected by <a href="#/p5/angleMode">angleMode</a>)</p>\n',type:"Number"},{name:"length",description:"<p>the length of the new vector (defaults to 1)</p>\n",type:"Number",optional:true}],class:"p5.Vector",module:"Math"},fromAngles:{name:"fromAngles",params:[{name:"theta",description:"<p>the polar angle, in radians (zero is up)</p>\n",type:"Number"},{name:"phi",description:"<p>the azimuthal angle, in radians\n                              (zero is out of the screen)</p>\n",type:"Number"},{name:"length",description:"<p>the length of the new vector (defaults to 1)</p>\n",type:"Number",optional:true}],class:"p5.Vector",module:"Math"},random2D:{name:"random2D",class:"p5.Vector",module:"Math"},random3D:{name:"random3D",class:"p5.Vector",module:"Math"}},"p5.Font":{font:{name:"font",class:"p5.Font",module:"Typography"},textBounds:{name:"textBounds",params:[{name:"line",description:"<p>a line of text</p>\n",type:"String"},{name:"x",description:"<p>x-position</p>\n",type:"Number"},{name:"y",description:"<p>y-position</p>\n",type:"Number"},{name:"fontSize",description:"<p>font size to use (optional) Default is 12.</p>\n",type:"Number",optional:true},{name:"options",description:"<p>opentype options (optional)\n                           opentype fonts contains alignment and baseline options.\n                           Default is 'LEFT' and 'alphabetic'</p>\n",type:"Object",optional:true}],class:"p5.Font",module:"Typography"},textToPoints:{name:"textToPoints",params:[{name:"txt",description:"<p>a line of text</p>\n",type:"String"},{name:"x",description:"<p>x-position</p>\n",type:"Number"},{name:"y",description:"<p>y-position</p>\n",type:"Number"},{name:"fontSize",description:"<p>font size to use (optional)</p>\n",type:"Number"},{name:"options",description:"<p>an (optional) object that can contain:</p>\n<p><br>sampleFactor - the ratio of path-length to number of samples\n(default=.1); higher values yield more points and are therefore\nmore precise</p>\n<p><br>simplifyThreshold - if set to a non-zero value, collinear points will be\nbe removed from the polygon; the value represents the threshold angle to use\nwhen determining whether two edges are collinear</p>\n",type:"Object",optional:true}],class:"p5.Font",module:"Typography"}},"p5.Camera":{eyeX:{name:"eyeX",class:"p5.Camera",module:"3D"},eyeY:{name:"eyeY",class:"p5.Camera",module:"3D"},eyeZ:{name:"eyeZ",class:"p5.Camera",module:"3D"},centerX:{name:"centerX",class:"p5.Camera",module:"3D"},centerY:{name:"centerY",class:"p5.Camera",module:"3D"},centerZ:{name:"centerZ",class:"p5.Camera",module:"3D"},upX:{name:"upX",class:"p5.Camera",module:"3D"},upY:{name:"upY",class:"p5.Camera",module:"3D"},upZ:{name:"upZ",class:"p5.Camera",module:"3D"},perspective:{name:"perspective",class:"p5.Camera",module:"3D"},ortho:{name:"ortho",class:"p5.Camera",module:"3D"},frustum:{name:"frustum",class:"p5.Camera",module:"3D"},pan:{name:"pan",params:[{name:"angle",description:'<p>amount to rotate camera in current\n<a href="#/p5/angleMode">angleMode</a> units.\nGreater than 0 values rotate counterclockwise (to the left).</p>\n',type:"Number"}],class:"p5.Camera",module:"3D"},tilt:{name:"tilt",params:[{name:"angle",description:'<p>amount to rotate camera in current\n<a href="#/p5/angleMode">angleMode</a> units.\nGreater than 0 values rotate counterclockwise (to the left).</p>\n',type:"Number"}],class:"p5.Camera",module:"3D"},lookAt:{name:"lookAt",params:[{name:"x",description:"<p>x position of a point in world space</p>\n",type:"Number"},{name:"y",description:"<p>y position of a point in world space</p>\n",type:"Number"},{name:"z",description:"<p>z position of a point in world space</p>\n",type:"Number"}],class:"p5.Camera",module:"3D"},camera:{name:"camera",class:"p5.Camera",module:"3D"},move:{name:"move",params:[{name:"x",description:"<p>amount to move along camera's left-right axis</p>\n",type:"Number"},{name:"y",description:"<p>amount to move along camera's up-down axis</p>\n",type:"Number"},{name:"z",description:"<p>amount to move along camera's forward-backward axis</p>\n",type:"Number"}],class:"p5.Camera",module:"3D"},setPosition:{name:"setPosition",params:[{name:"x",description:"<p>x position of a point in world space</p>\n",type:"Number"},{name:"y",description:"<p>y position of a point in world space</p>\n",type:"Number"},{name:"z",description:"<p>z position of a point in world space</p>\n",type:"Number"}],class:"p5.Camera",module:"3D"}},"p5.Geometry":{computeFaces:{name:"computeFaces",class:"p5.Geometry",module:"Shape"},computeNormals:{name:"computeNormals",class:"p5.Geometry",module:"Shape"},averageNormals:{name:"averageNormals",class:"p5.Geometry",module:"Shape"},averagePoleNormals:{name:"averagePoleNormals",class:"p5.Geometry",module:"Shape"},normalize:{name:"normalize",class:"p5.Geometry",module:"Shape"}},"p5.Shader":{setUniform:{name:"setUniform",params:[{name:"uniformName",description:"<p>the name of the uniform.\nMust correspond to the name used in the vertex and fragment shaders</p>\n",type:"String"},{name:"data",description:"<p>the data to associate with the uniform. The type can be\na boolean (true/false), a number, an array of numbers, or\nan image (p5.Image, p5.Graphics, p5.MediaElement, p5.Texture)</p>\n",type:"Boolean|Number|Number[]|p5.Image|p5.Graphics|p5.MediaElement|p5.Texture"}],class:"p5.Shader",module:"3D"}},"p5.SoundFile":{isLoaded:{name:"isLoaded",class:"p5.SoundFile",module:"p5.sound"},play:{name:"play",params:[{name:"startTime",description:"<p>(optional) schedule playback to start (in seconds from now).</p>\n",type:"Number",optional:true},{name:"rate",description:"<p>(optional) playback rate</p>\n",type:"Number",optional:true},{name:"amp",description:"<p>(optional) amplitude (volume)\n                                    of playback</p>\n",type:"Number",optional:true},{name:"cueStart",description:"<p>(optional) cue start time in seconds</p>\n",type:"Number",optional:true},{name:"duration",description:"<p>(optional) duration of playback in seconds</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},playMode:{name:"playMode",params:[{name:"str",description:"<p>'restart' or 'sustain' or 'untilDone'</p>\n",type:"String"}],class:"p5.SoundFile",module:"p5.sound"},pause:{name:"pause",params:[{name:"startTime",description:"<p>(optional) schedule event to occur\n                             seconds from now</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},loop:{name:"loop",params:[{name:"startTime",description:"<p>(optional) schedule event to occur\n                            seconds from now</p>\n",type:"Number",optional:true},{name:"rate",description:"<p>(optional) playback rate</p>\n",type:"Number",optional:true},{name:"amp",description:"<p>(optional) playback volume</p>\n",type:"Number",optional:true},{name:"cueLoopStart",description:"<p>(optional) startTime in seconds</p>\n",type:"Number",optional:true},{name:"duration",description:"<p>(optional) loop duration in seconds</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},setLoop:{name:"setLoop",params:[{name:"Boolean",description:"<p>set looping to true or false</p>\n",type:"Boolean"}],class:"p5.SoundFile",module:"p5.sound"},isLooping:{name:"isLooping",class:"p5.SoundFile",module:"p5.sound"},isPlaying:{name:"isPlaying",class:"p5.SoundFile",module:"p5.sound"},isPaused:{name:"isPaused",class:"p5.SoundFile",module:"p5.sound"},stop:{name:"stop",params:[{name:"startTime",description:"<p>(optional) schedule event to occur\n                            in seconds from now</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},pan:{name:"pan",params:[{name:"panValue",description:"<p>Set the stereo panner</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>schedule this event to happen\n                                seconds from now</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},getPan:{name:"getPan",class:"p5.SoundFile",module:"p5.sound"},rate:{name:"rate",params:[{name:"playbackRate",description:"<p>Set the playback rate. 1.0 is normal,\n                                   .5 is half-speed, 2.0 is twice as fast.\n                                   Values less than zero play backwards.</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},setVolume:{name:"setVolume",params:[{name:"volume",description:"<p>Volume (amplitude) between 0.0\n                                   and 1.0 or modulating signal/oscillator</p>\n",type:"Number|Object"},{name:"rampTime",description:"<p>Fade for t seconds</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>Schedule this event to happen at\n                               t seconds in the future</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},duration:{name:"duration",class:"p5.SoundFile",module:"p5.sound"},currentTime:{name:"currentTime",class:"p5.SoundFile",module:"p5.sound"},jump:{name:"jump",params:[{name:"cueTime",description:"<p>cueTime of the soundFile in seconds.</p>\n",type:"Number"},{name:"duration",description:"<p>duration in seconds.</p>\n",type:"Number"}],class:"p5.SoundFile",module:"p5.sound"},channels:{name:"channels",class:"p5.SoundFile",module:"p5.sound"},sampleRate:{name:"sampleRate",class:"p5.SoundFile",module:"p5.sound"},frames:{name:"frames",class:"p5.SoundFile",module:"p5.sound"},getPeaks:{name:"getPeaks",params:[{name:"length",description:"<p>length is the size of the returned array.\n                         Larger length results in more precision.\n                         Defaults to 5*width of the browser window.</p>\n",type:"Number",optional:true}],class:"p5.SoundFile",module:"p5.sound"},reverseBuffer:{name:"reverseBuffer",class:"p5.SoundFile",module:"p5.sound"},onended:{name:"onended",params:[{name:"callback",description:"<p>function to call when the\n                            soundfile has ended.</p>\n",type:"Function"}],class:"p5.SoundFile",module:"p5.sound"},connect:{name:"connect",params:[{name:"object",description:"<p>Audio object that accepts an input</p>\n",type:"Object",optional:true}],class:"p5.SoundFile",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.SoundFile",module:"p5.sound"},setPath:{name:"setPath",params:[{name:"path",description:"<p>path to audio file</p>\n",type:"String"},{name:"callback",description:"<p>Callback</p>\n",type:"Function"}],class:"p5.SoundFile",module:"p5.sound"},setBuffer:{name:"setBuffer",params:[{name:"buf",description:"<p>Array of Float32 Array(s). 2 Float32 Arrays\n                   will create a stereo source. 1 will create\n                   a mono source.</p>\n",type:"Array"}],class:"p5.SoundFile",module:"p5.sound"},addCue:{name:"addCue",params:[{name:"time",description:"<p>Time in seconds, relative to this media\n                           element's playback. For example, to trigger\n                           an event every time playback reaches two\n                           seconds, pass in the number 2. This will be\n                           passed as the first parameter to\n                           the callback function.</p>\n",type:"Number"},{name:"callback",description:"<p>Name of a function that will be\n                           called at the given time. The callback will\n                           receive time and (optionally) param as its\n                           two parameters.</p>\n",type:"Function"},{name:"value",description:"<p>An object to be passed as the\n                           second parameter to the\n                           callback function.</p>\n",type:"Object",optional:true}],class:"p5.SoundFile",module:"p5.sound"},removeCue:{name:"removeCue",params:[{name:"id",description:"<p>ID of the cue, as returned by addCue</p>\n",type:"Number"}],class:"p5.SoundFile",module:"p5.sound"},clearCues:{name:"clearCues",class:"p5.SoundFile",module:"p5.sound"},save:{name:"save",params:[{name:"fileName",description:"<p>name of the resulting .wav file.</p>\n",type:"String",optional:true}],class:"p5.SoundFile",module:"p5.sound"},getBlob:{name:"getBlob",class:"p5.SoundFile",module:"p5.sound"}},"p5.Amplitude":{setInput:{name:"setInput",params:[{name:"snd",description:"<p>set the sound source\n                                     (optional, defaults to\n                                     main output)</p>\n",type:"SoundObject|undefined",optional:true},{name:"smoothing",description:"<p>a range between 0.0 and 1.0\n                                      to smooth amplitude readings</p>\n",type:"Number|undefined",optional:true}],class:"p5.Amplitude",module:"p5.sound"},getLevel:{name:"getLevel",params:[{name:"channel",description:"<p>Optionally return only channel 0 (left) or 1 (right)</p>\n",type:"Number",optional:true}],class:"p5.Amplitude",module:"p5.sound"},toggleNormalize:{name:"toggleNormalize",params:[{name:"boolean",description:"<p>set normalize to true (1) or false (0)</p>\n",type:"Boolean",optional:true}],class:"p5.Amplitude",module:"p5.sound"},smooth:{name:"smooth",params:[{name:"set",description:"<p>smoothing from 0.0 <= 1</p>\n",type:"Number"}],class:"p5.Amplitude",module:"p5.sound"}},"p5.FFT":{setInput:{name:"setInput",params:[{name:"source",description:"<p>p5.sound object (or web audio API source node)</p>\n",type:"Object",optional:true}],class:"p5.FFT",module:"p5.sound"},waveform:{name:"waveform",params:[{name:"bins",description:"<p>Must be a power of two between\n                          16 and 1024. Defaults to 1024.</p>\n",type:"Number",optional:true},{name:"precision",description:"<p>If any value is provided, will return results\n                            in a Float32 Array which is more precise\n                            than a regular array.</p>\n",type:"String",optional:true}],class:"p5.FFT",module:"p5.sound"},analyze:{name:"analyze",params:[{name:"bins",description:"<p>Must be a power of two between\n                           16 and 1024. Defaults to 1024.</p>\n",type:"Number",optional:true},{name:"scale",description:'<p>If "dB," returns decibel\n                           float measurements between\n                           -140 and 0 (max).\n                           Otherwise returns integers from 0-255.</p>\n',type:"Number",optional:true}],class:"p5.FFT",module:"p5.sound"},getEnergy:{name:"getEnergy",params:[{name:"frequency1",description:'<p>Will return a value representing\n                              energy at this frequency. Alternately,\n                              the strings "bass", "lowMid" "mid",\n                              "highMid", and "treble" will return\n                              predefined frequency ranges.</p>\n',type:"Number|String"},{name:"frequency2",description:"<p>If a second frequency is given,\n                              will return average amount of\n                              energy that exists between the\n                              two frequencies.</p>\n",type:"Number",optional:true}],class:"p5.FFT",module:"p5.sound"},getCentroid:{name:"getCentroid",class:"p5.FFT",module:"p5.sound"},smooth:{name:"smooth",params:[{name:"smoothing",description:"<p>0.0 < smoothing < 1.0.\n                             Defaults to 0.8.</p>\n",type:"Number"}],class:"p5.FFT",module:"p5.sound"},linAverages:{name:"linAverages",params:[{name:"N",description:"<p>Number of returned frequency groups</p>\n",type:"Number"}],class:"p5.FFT",module:"p5.sound"},logAverages:{name:"logAverages",params:[{name:"octaveBands",description:"<p>Array of Octave Bands objects for grouping</p>\n",type:"Array"}],class:"p5.FFT",module:"p5.sound"},getOctaveBands:{name:"getOctaveBands",params:[{name:"N",description:"<p>Specifies the 1/N type of generated octave bands</p>\n",type:"Number"},{name:"fCtr0",description:"<p>Minimum central frequency for the lowest band</p>\n",type:"Number"}],class:"p5.FFT",module:"p5.sound"}},"p5.Oscillator":{start:{name:"start",params:[{name:"time",description:"<p>startTime in seconds from now.</p>\n",type:"Number",optional:true},{name:"frequency",description:"<p>frequency in Hz.</p>\n",type:"Number",optional:true}],class:"p5.Oscillator",module:"p5.sound"},stop:{name:"stop",params:[{name:"secondsFromNow",description:"<p>Time, in seconds from now.</p>\n",type:"Number"}],class:"p5.Oscillator",module:"p5.sound"},amp:{name:"amp",params:[{name:"vol",description:"<p>between 0 and 1.0\n                            or a modulating signal/oscillator</p>\n",type:"Number|Object"},{name:"rampTime",description:"<p>create a fade that lasts rampTime</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Oscillator",module:"p5.sound"},getAmp:{name:"getAmp",class:"p5.Oscillator",module:"p5.sound"},freq:{name:"freq",params:[{name:"Frequency",description:"<p>Frequency in Hz\n                                      or modulating signal/oscillator</p>\n",type:"Number|Object"},{name:"rampTime",description:"<p>Ramp time (in seconds)</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>Schedule this event to happen\n                                 at x seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Oscillator",module:"p5.sound"},getFreq:{name:"getFreq",class:"p5.Oscillator",module:"p5.sound"},setType:{name:"setType",params:[{name:"type",description:"<p>'sine', 'triangle', 'sawtooth' or 'square'.</p>\n",type:"String"}],class:"p5.Oscillator",module:"p5.sound"},getType:{name:"getType",class:"p5.Oscillator",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"<p>A p5.sound or Web Audio object</p>\n",type:"Object"}],class:"p5.Oscillator",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.Oscillator",module:"p5.sound"},pan:{name:"pan",params:[{name:"panning",description:"<p>Number between -1 and 1</p>\n",type:"Number"},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number"}],class:"p5.Oscillator",module:"p5.sound"},getPan:{name:"getPan",class:"p5.Oscillator",module:"p5.sound"},phase:{name:"phase",params:[{name:"phase",description:"<p>float between 0.0 and 1.0</p>\n",type:"Number"}],class:"p5.Oscillator",module:"p5.sound"},add:{name:"add",params:[{name:"number",description:"<p>Constant number to add</p>\n",type:"Number"}],class:"p5.Oscillator",module:"p5.sound"},mult:{name:"mult",params:[{name:"number",description:"<p>Constant number to multiply</p>\n",type:"Number"}],class:"p5.Oscillator",module:"p5.sound"},scale:{name:"scale",params:[{name:"inMin",description:"<p>input range minumum</p>\n",type:"Number"},{name:"inMax",description:"<p>input range maximum</p>\n",type:"Number"},{name:"outMin",description:"<p>input range minumum</p>\n",type:"Number"},{name:"outMax",description:"<p>input range maximum</p>\n",type:"Number"}],class:"p5.Oscillator",module:"p5.sound"}},"p5.Envelope":{attackTime:{name:"attackTime",class:"p5.Envelope",module:"p5.sound"},attackLevel:{name:"attackLevel",class:"p5.Envelope",module:"p5.sound"},decayTime:{name:"decayTime",class:"p5.Envelope",module:"p5.sound"},decayLevel:{name:"decayLevel",class:"p5.Envelope",module:"p5.sound"},releaseTime:{name:"releaseTime",class:"p5.Envelope",module:"p5.sound"},releaseLevel:{name:"releaseLevel",class:"p5.Envelope",module:"p5.sound"},set:{name:"set",params:[{name:"attackTime",description:"<p>Time (in seconds) before level\n                               reaches attackLevel</p>\n",type:"Number"},{name:"attackLevel",description:"<p>Typically an amplitude between\n                               0.0 and 1.0</p>\n",type:"Number"},{name:"decayTime",description:"<p>Time</p>\n",type:"Number"},{name:"decayLevel",description:"<p>Amplitude (In a standard ADSR envelope,\n                               decayLevel = sustainLevel)</p>\n",type:"Number"},{name:"releaseTime",description:"<p>Release Time (in seconds)</p>\n",type:"Number"},{name:"releaseLevel",description:"<p>Amplitude</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"},setADSR:{name:"setADSR",params:[{name:"attackTime",description:"<p>Time (in seconds before envelope\n                              reaches Attack Level</p>\n",type:"Number"},{name:"decayTime",description:"<p>Time (in seconds) before envelope\n                              reaches Decay/Sustain Level</p>\n",type:"Number",optional:true},{name:"susRatio",description:"<p>Ratio between attackLevel and releaseLevel, on a scale from 0 to 1,\n                              where 1.0 = attackLevel, 0.0 = releaseLevel.\n                              The susRatio determines the decayLevel and the level at which the\n                              sustain portion of the envelope will sustain.\n                              For example, if attackLevel is 0.4, releaseLevel is 0,\n                              and susAmt is 0.5, the decayLevel would be 0.2. If attackLevel is\n                              increased to 1.0 (using <code>setRange</code>),\n                              then decayLevel would increase proportionally, to become 0.5.</p>\n",type:"Number",optional:true},{name:"releaseTime",description:"<p>Time in seconds from now (defaults to 0)</p>\n",type:"Number",optional:true}],class:"p5.Envelope",module:"p5.sound"},setRange:{name:"setRange",params:[{name:"aLevel",description:"<p>attack level (defaults to 1)</p>\n",type:"Number"},{name:"rLevel",description:"<p>release level (defaults to 0)</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"},setInput:{name:"setInput",params:[{name:"inputs",description:"<p>A p5.sound object or\n                              Web Audio Param.</p>\n",type:"Object",optional:true,multiple:true}],class:"p5.Envelope",module:"p5.sound"},setExp:{name:"setExp",params:[{name:"isExp",description:"<p>true is exponential, false is linear</p>\n",type:"Boolean"}],class:"p5.Envelope",module:"p5.sound"},play:{name:"play",params:[{name:"unit",description:"<p>A p5.sound object or\n                              Web Audio Param.</p>\n",type:"Object"},{name:"startTime",description:"<p>time from now (in seconds) at which to play</p>\n",type:"Number",optional:true},{name:"sustainTime",description:"<p>time to sustain before releasing the envelope</p>\n",type:"Number",optional:true}],class:"p5.Envelope",module:"p5.sound"},triggerAttack:{name:"triggerAttack",params:[{name:"unit",description:"<p>p5.sound Object or Web Audio Param</p>\n",type:"Object"},{name:"secondsFromNow",description:"<p>time from now (in seconds)</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"},triggerRelease:{name:"triggerRelease",params:[{name:"unit",description:"<p>p5.sound Object or Web Audio Param</p>\n",type:"Object"},{name:"secondsFromNow",description:"<p>time to trigger the release</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"},ramp:{name:"ramp",params:[{name:"unit",description:"<p>p5.sound Object or Web Audio Param</p>\n",type:"Object"},{name:"secondsFromNow",description:"<p>When to trigger the ramp</p>\n",type:"Number"},{name:"v",description:"<p>Target value</p>\n",type:"Number"},{name:"v2",description:"<p>Second target value</p>\n",type:"Number",optional:true}],class:"p5.Envelope",module:"p5.sound"},add:{name:"add",params:[{name:"number",description:"<p>Constant number to add</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"},mult:{name:"mult",params:[{name:"number",description:"<p>Constant number to multiply</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"},scale:{name:"scale",params:[{name:"inMin",description:"<p>input range minumum</p>\n",type:"Number"},{name:"inMax",description:"<p>input range maximum</p>\n",type:"Number"},{name:"outMin",description:"<p>input range minumum</p>\n",type:"Number"},{name:"outMax",description:"<p>input range maximum</p>\n",type:"Number"}],class:"p5.Envelope",module:"p5.sound"}},"p5.Noise":{setType:{name:"setType",params:[{name:"type",description:"<p>'white', 'pink' or 'brown'</p>\n",type:"String",optional:true}],class:"p5.Noise",module:"p5.sound"}},"p5.Pulse":{width:{name:"width",params:[{name:"width",description:"<p>Width between the pulses (0 to 1.0,\n                       defaults to 0)</p>\n",type:"Number",optional:true}],class:"p5.Pulse",module:"p5.sound"}},"p5.AudioIn":{input:{name:"input",class:"p5.AudioIn",module:"p5.sound"},output:{name:"output",class:"p5.AudioIn",module:"p5.sound"},stream:{name:"stream",class:"p5.AudioIn",module:"p5.sound"},mediaStream:{name:"mediaStream",class:"p5.AudioIn",module:"p5.sound"},currentSource:{name:"currentSource",class:"p5.AudioIn",module:"p5.sound"},enabled:{name:"enabled",class:"p5.AudioIn",module:"p5.sound"},amplitude:{name:"amplitude",class:"p5.AudioIn",module:"p5.sound"},start:{name:"start",params:[{name:"successCallback",description:"<p>Name of a function to call on\n                                  success.</p>\n",type:"Function",optional:true},{name:"errorCallback",description:"<p>Name of a function to call if\n                                  there was an error. For example,\n                                  some browsers do not support\n                                  getUserMedia.</p>\n",type:"Function",optional:true}],class:"p5.AudioIn",module:"p5.sound"},stop:{name:"stop",class:"p5.AudioIn",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"<p>An object that accepts audio input,\n                        such as an FFT</p>\n",type:"Object",optional:true}],class:"p5.AudioIn",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.AudioIn",module:"p5.sound"},getLevel:{name:"getLevel",params:[{name:"smoothing",description:"<p>Smoothing is 0.0 by default.\n                             Smooths values based on previous values.</p>\n",type:"Number",optional:true}],class:"p5.AudioIn",module:"p5.sound"},amp:{name:"amp",params:[{name:"vol",description:"<p>between 0 and 1.0</p>\n",type:"Number"},{name:"time",description:"<p>ramp time (optional)</p>\n",type:"Number",optional:true}],class:"p5.AudioIn",module:"p5.sound"},getSources:{name:"getSources",params:[{name:"successCallback",description:"<p>This callback function handles the sources when they\n                                     have been enumerated. The callback function\n                                     receives the deviceList array as its only argument</p>\n",type:"Function",optional:true},{name:"errorCallback",description:"<p>This optional callback receives the error\n                                   message as its argument.</p>\n",type:"Function",optional:true}],class:"p5.AudioIn",module:"p5.sound"},setSource:{name:"setSource",params:[{name:"num",description:"<p>position of input source in the array</p>\n",type:"Number"}],class:"p5.AudioIn",module:"p5.sound"}},"p5.Effect":{amp:{name:"amp",params:[{name:"vol",description:"<p>amplitude between 0 and 1.0</p>\n",type:"Number",optional:true},{name:"rampTime",description:"<p>create a fade that lasts until rampTime</p>\n",type:"Number",optional:true},{name:"tFromNow",description:"<p>schedule this event to happen in tFromNow seconds</p>\n",type:"Number",optional:true}],class:"p5.Effect",module:"p5.sound"},chain:{name:"chain",params:[{name:"arguments",description:"<p>Chain together multiple sound objects</p>\n",type:"Object",optional:true}],class:"p5.Effect",module:"p5.sound"},drywet:{name:"drywet",params:[{name:"fade",description:"<p>The desired drywet value (0 - 1.0)</p>\n",type:"Number",optional:true}],class:"p5.Effect",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"",type:"Object"}],class:"p5.Effect",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.Effect",module:"p5.sound"}},"p5.Filter":{biquadFilter:{name:"biquadFilter",class:"p5.Filter",module:"p5.sound"},process:{name:"process",params:[{name:"Signal",description:"<p>An object that outputs audio</p>\n",type:"Object"},{name:"freq",description:"<p>Frequency in Hz, from 10 to 22050</p>\n",type:"Number",optional:true},{name:"res",description:"<p>Resonance/Width of the filter frequency\n                      from 0.001 to 1000</p>\n",type:"Number",optional:true}],class:"p5.Filter",module:"p5.sound"},set:{name:"set",params:[{name:"freq",description:"<p>Frequency in Hz, from 10 to 22050</p>\n",type:"Number",optional:true},{name:"res",description:"<p>Resonance (Q) from 0.001 to 1000</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Filter",module:"p5.sound"},freq:{name:"freq",params:[{name:"freq",description:"<p>Filter Frequency</p>\n",type:"Number"},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Filter",module:"p5.sound"},res:{name:"res",params:[{name:"res",description:"<p>Resonance/Width of filter freq\n                     from 0.001 to 1000</p>\n",type:"Number"},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Filter",module:"p5.sound"},gain:{name:"gain",params:[{name:"gain",description:"",type:"Number"}],class:"p5.Filter",module:"p5.sound"},toggle:{name:"toggle",class:"p5.Filter",module:"p5.sound"},setType:{name:"setType",params:[{name:"t",description:"",type:"String"}],class:"p5.Filter",module:"p5.sound"}},"p5.EQ":{bands:{name:"bands",class:"p5.EQ",module:"p5.sound"},process:{name:"process",params:[{name:"src",description:"<p>Audio source</p>\n",type:"Object"}],class:"p5.EQ",module:"p5.sound"}},"p5.Panner3D":{panner:{name:"panner",class:"p5.Panner3D",module:"p5.sound"},process:{name:"process",params:[{name:"src",description:"<p>Input source</p>\n",type:"Object"}],class:"p5.Panner3D",module:"p5.sound"},set:{name:"set",params:[{name:"xVal",description:"",type:"Number"},{name:"yVal",description:"",type:"Number"},{name:"zVal",description:"",type:"Number"},{name:"time",description:"",type:"Number"}],class:"p5.Panner3D",module:"p5.sound"},positionX:{name:"positionX",class:"p5.Panner3D",module:"p5.sound"},positionY:{name:"positionY",class:"p5.Panner3D",module:"p5.sound"},positionZ:{name:"positionZ",class:"p5.Panner3D",module:"p5.sound"},orient:{name:"orient",params:[{name:"xVal",description:"",type:"Number"},{name:"yVal",description:"",type:"Number"},{name:"zVal",description:"",type:"Number"},{name:"time",description:"",type:"Number"}],class:"p5.Panner3D",module:"p5.sound"},orientX:{name:"orientX",class:"p5.Panner3D",module:"p5.sound"},orientY:{name:"orientY",class:"p5.Panner3D",module:"p5.sound"},orientZ:{name:"orientZ",class:"p5.Panner3D",module:"p5.sound"},setFalloff:{name:"setFalloff",params:[{name:"maxDistance",description:"",type:"Number",optional:true},{name:"rolloffFactor",description:"",type:"Number",optional:true}],class:"p5.Panner3D",module:"p5.sound"},maxDist:{name:"maxDist",params:[{name:"maxDistance",description:"",type:"Number"}],class:"p5.Panner3D",module:"p5.sound"},rollof:{name:"rollof",params:[{name:"rolloffFactor",description:"",type:"Number"}],class:"p5.Panner3D",module:"p5.sound"}},"p5.Delay":{leftDelay:{name:"leftDelay",class:"p5.Delay",module:"p5.sound"},rightDelay:{name:"rightDelay",class:"p5.Delay",module:"p5.sound"},process:{name:"process",params:[{name:"Signal",description:"<p>An object that outputs audio</p>\n",type:"Object"},{name:"delayTime",description:"<p>Time (in seconds) of the delay/echo.\n                             Some browsers limit delayTime to\n                             1 second.</p>\n",type:"Number",optional:true},{name:"feedback",description:"<p>sends the delay back through itself\n                             in a loop that decreases in volume\n                             each time.</p>\n",type:"Number",optional:true},{name:"lowPass",description:"<p>Cutoff frequency. Only frequencies\n                             below the lowPass will be part of the\n                             delay.</p>\n",type:"Number",optional:true}],class:"p5.Delay",module:"p5.sound"},delayTime:{name:"delayTime",params:[{name:"delayTime",description:"<p>Time (in seconds) of the delay</p>\n",type:"Number"}],class:"p5.Delay",module:"p5.sound"},feedback:{name:"feedback",params:[{name:"feedback",description:"<p>0.0 to 1.0, or an object such as an\n                                Oscillator that can be used to\n                                modulate this param</p>\n",type:"Number|Object"}],class:"p5.Delay",module:"p5.sound"},filter:{name:"filter",params:[{name:"cutoffFreq",description:"<p>A lowpass filter will cut off any\n                            frequencies higher than the filter frequency.</p>\n",type:"Number|Object"},{name:"res",description:"<p>Resonance of the filter frequency\n                            cutoff, or an object (i.e. a p5.Oscillator)\n                            that can be used to modulate this parameter.\n                            High numbers (i.e. 15) will produce a resonance,\n                            low numbers (i.e. .2) will produce a slope.</p>\n",type:"Number|Object"}],class:"p5.Delay",module:"p5.sound"},setType:{name:"setType",params:[{name:"type",description:"<p>'pingPong' (1) or 'default' (0)</p>\n",type:"String|Number"}],class:"p5.Delay",module:"p5.sound"},amp:{name:"amp",params:[{name:"volume",description:"<p>amplitude between 0 and 1.0</p>\n",type:"Number"},{name:"rampTime",description:"<p>create a fade that lasts rampTime</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Delay",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"",type:"Object"}],class:"p5.Delay",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.Delay",module:"p5.sound"}},"p5.Reverb":{process:{name:"process",params:[{name:"src",description:"<p>p5.sound / Web Audio object with a sound\n                         output.</p>\n",type:"Object"},{name:"seconds",description:"<p>Duration of the reverb, in seconds.\n                         Min: 0, Max: 10. Defaults to 3.</p>\n",type:"Number",optional:true},{name:"decayRate",description:"<p>Percentage of decay with each echo.\n                          Min: 0, Max: 100. Defaults to 2.</p>\n",type:"Number",optional:true},{name:"reverse",description:"<p>Play the reverb backwards or forwards.</p>\n",type:"Boolean",optional:true}],class:"p5.Reverb",module:"p5.sound"},set:{name:"set",params:[{name:"seconds",description:"<p>Duration of the reverb, in seconds.\n                         Min: 0, Max: 10. Defaults to 3.</p>\n",type:"Number",optional:true},{name:"decayRate",description:"<p>Percentage of decay with each echo.\n                          Min: 0, Max: 100. Defaults to 2.</p>\n",type:"Number",optional:true},{name:"reverse",description:"<p>Play the reverb backwards or forwards.</p>\n",type:"Boolean",optional:true}],class:"p5.Reverb",module:"p5.sound"},amp:{name:"amp",params:[{name:"volume",description:"<p>amplitude between 0 and 1.0</p>\n",type:"Number"},{name:"rampTime",description:"<p>create a fade that lasts rampTime</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Reverb",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"",type:"Object"}],class:"p5.Reverb",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.Reverb",module:"p5.sound"}},"p5.Convolver":{convolverNode:{name:"convolverNode",class:"p5.Convolver",module:"p5.sound"},impulses:{name:"impulses",class:"p5.Convolver",module:"p5.sound"},process:{name:"process",params:[{name:"src",description:"<p>p5.sound / Web Audio object with a sound\n                         output.</p>\n",type:"Object"}],class:"p5.Convolver",module:"p5.sound"},addImpulse:{name:"addImpulse",params:[{name:"path",description:"<p>path to a sound file</p>\n",type:"String"},{name:"callback",description:"<p>function (optional)</p>\n",type:"Function"},{name:"errorCallback",description:"<p>function (optional)</p>\n",type:"Function"}],class:"p5.Convolver",module:"p5.sound"},resetImpulse:{name:"resetImpulse",params:[{name:"path",description:"<p>path to a sound file</p>\n",type:"String"},{name:"callback",description:"<p>function (optional)</p>\n",type:"Function"},{name:"errorCallback",description:"<p>function (optional)</p>\n",type:"Function"}],class:"p5.Convolver",module:"p5.sound"},toggleImpulse:{name:"toggleImpulse",params:[{name:"id",description:"<p>Identify the impulse by its original filename\n                          (String), or by its position in the\n                          <code>.impulses</code> Array (Number).</p>\n",type:"String|Number"}],class:"p5.Convolver",module:"p5.sound"}},"p5.Phrase":{sequence:{name:"sequence",class:"p5.Phrase",module:"p5.sound"}},"p5.Part":{setBPM:{name:"setBPM",params:[{name:"BPM",description:"<p>Beats Per Minute</p>\n",type:"Number"},{name:"rampTime",description:"<p>Seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Part",module:"p5.sound"},getBPM:{name:"getBPM",class:"p5.Part",module:"p5.sound"},start:{name:"start",params:[{name:"time",description:"<p>seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Part",module:"p5.sound"},loop:{name:"loop",params:[{name:"time",description:"<p>seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Part",module:"p5.sound"},noLoop:{name:"noLoop",class:"p5.Part",module:"p5.sound"},stop:{name:"stop",params:[{name:"time",description:"<p>seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Part",module:"p5.sound"},pause:{name:"pause",params:[{name:"time",description:"<p>seconds from now</p>\n",type:"Number"}],class:"p5.Part",module:"p5.sound"},addPhrase:{name:"addPhrase",params:[{name:"phrase",description:"<p>reference to a p5.Phrase</p>\n",type:"p5.Phrase"}],class:"p5.Part",module:"p5.sound"},removePhrase:{name:"removePhrase",params:[{name:"phraseName",description:"",type:"String"}],class:"p5.Part",module:"p5.sound"},getPhrase:{name:"getPhrase",params:[{name:"phraseName",description:"",type:"String"}],class:"p5.Part",module:"p5.sound"},replaceSequence:{name:"replaceSequence",params:[{name:"phraseName",description:"",type:"String"},{name:"sequence",description:"<p>Array of values to pass into the callback\n                          at each step of the phrase.</p>\n",type:"Array"}],class:"p5.Part",module:"p5.sound"},onStep:{name:"onStep",params:[{name:"callback",description:"<p>The name of the callback\n                            you want to fire\n                            on every beat/tatum.</p>\n",type:"Function"}],class:"p5.Part",module:"p5.sound"}},"p5.Score":{start:{name:"start",class:"p5.Score",module:"p5.sound"},stop:{name:"stop",class:"p5.Score",module:"p5.sound"},pause:{name:"pause",class:"p5.Score",module:"p5.sound"},loop:{name:"loop",class:"p5.Score",module:"p5.sound"},noLoop:{name:"noLoop",class:"p5.Score",module:"p5.sound"},setBPM:{name:"setBPM",params:[{name:"BPM",description:"<p>Beats Per Minute</p>\n",type:"Number"},{name:"rampTime",description:"<p>Seconds from now</p>\n",type:"Number"}],class:"p5.Score",module:"p5.sound"}},"p5.SoundLoop":{bpm:{name:"bpm",class:"p5.SoundLoop",module:"p5.sound"},timeSignature:{name:"timeSignature",class:"p5.SoundLoop",module:"p5.sound"},interval:{name:"interval",class:"p5.SoundLoop",module:"p5.sound"},iterations:{name:"iterations",class:"p5.SoundLoop",module:"p5.sound"},musicalTimeMode:{name:"musicalTimeMode",class:"p5.SoundLoop",module:"p5.sound"},maxIterations:{name:"maxIterations",class:"p5.SoundLoop",module:"p5.sound"},start:{name:"start",params:[{name:"timeFromNow",description:"<p>schedule a starting time</p>\n",type:"Number",optional:true}],class:"p5.SoundLoop",module:"p5.sound"},stop:{name:"stop",params:[{name:"timeFromNow",description:"<p>schedule a stopping time</p>\n",type:"Number",optional:true}],class:"p5.SoundLoop",module:"p5.sound"},pause:{name:"pause",params:[{name:"timeFromNow",description:"<p>schedule a pausing time</p>\n",type:"Number",optional:true}],class:"p5.SoundLoop",module:"p5.sound"},syncedStart:{name:"syncedStart",params:[{name:"otherLoop",description:"<p>a p5.SoundLoop to sync with</p>\n",type:"Object"},{name:"timeFromNow",description:"<p>Start the loops in sync after timeFromNow seconds</p>\n",type:"Number",optional:true}],class:"p5.SoundLoop",module:"p5.sound"}},"p5.Compressor":{compressor:{name:"compressor",class:"p5.Compressor",module:"p5.sound"},process:{name:"process",params:[{name:"src",description:"<p>Sound source to be connected</p>\n",type:"Object"},{name:"attack",description:"<p>The amount of time (in seconds) to reduce the gain by 10dB,\n                           default = .003, range 0 - 1</p>\n",type:"Number",optional:true},{name:"knee",description:'<p>A decibel value representing the range above the\n                           threshold where the curve smoothly transitions to the "ratio" portion.\n                           default = 30, range 0 - 40</p>\n',type:"Number",optional:true},{name:"ratio",description:"<p>The amount of dB change in input for a 1 dB change in output\n                           default = 12, range 1 - 20</p>\n",type:"Number",optional:true},{name:"threshold",description:"<p>The decibel value above which the compression will start taking effect\n                           default = -24, range -100 - 0</p>\n",type:"Number",optional:true},{name:"release",description:"<p>The amount of time (in seconds) to increase the gain by 10dB\n                           default = .25, range 0 - 1</p>\n",type:"Number",optional:true}],class:"p5.Compressor",module:"p5.sound"},set:{name:"set",params:[{name:"attack",description:"<p>The amount of time (in seconds) to reduce the gain by 10dB,\n                           default = .003, range 0 - 1</p>\n",type:"Number"},{name:"knee",description:'<p>A decibel value representing the range above the\n                           threshold where the curve smoothly transitions to the "ratio" portion.\n                           default = 30, range 0 - 40</p>\n',type:"Number"},{name:"ratio",description:"<p>The amount of dB change in input for a 1 dB change in output\n                           default = 12, range 1 - 20</p>\n",type:"Number"},{name:"threshold",description:"<p>The decibel value above which the compression will start taking effect\n                           default = -24, range -100 - 0</p>\n",type:"Number"},{name:"release",description:"<p>The amount of time (in seconds) to increase the gain by 10dB\n                           default = .25, range 0 - 1</p>\n",type:"Number"}],class:"p5.Compressor",module:"p5.sound"},attack:{name:"attack",params:[{name:"attack",description:"<p>Attack is the amount of time (in seconds) to reduce the gain by 10dB,\n                         default = .003, range 0 - 1</p>\n",type:"Number",optional:true},{name:"time",description:"<p>Assign time value to schedule the change in value</p>\n",type:"Number",optional:true}],class:"p5.Compressor",module:"p5.sound"},knee:{name:"knee",params:[{name:"knee",description:'<p>A decibel value representing the range above the\n                       threshold where the curve smoothly transitions to the "ratio" portion.\n                       default = 30, range 0 - 40</p>\n',type:"Number",optional:true},{name:"time",description:"<p>Assign time value to schedule the change in value</p>\n",type:"Number",optional:true}],class:"p5.Compressor",module:"p5.sound"},ratio:{name:"ratio",params:[{name:"ratio",description:"<p>The amount of dB change in input for a 1 dB change in output\n                           default = 12, range 1 - 20</p>\n",type:"Number",optional:true},{name:"time",description:"<p>Assign time value to schedule the change in value</p>\n",type:"Number",optional:true}],class:"p5.Compressor",module:"p5.sound"},threshold:{name:"threshold",params:[{name:"threshold",description:"<p>The decibel value above which the compression will start taking effect\n                           default = -24, range -100 - 0</p>\n",type:"Number"},{name:"time",description:"<p>Assign time value to schedule the change in value</p>\n",type:"Number",optional:true}],class:"p5.Compressor",module:"p5.sound"},release:{name:"release",params:[{name:"release",description:"<p>The amount of time (in seconds) to increase the gain by 10dB\n                           default = .25, range 0 - 1</p>\n",type:"Number"},{name:"time",description:"<p>Assign time value to schedule the change in value</p>\n",type:"Number",optional:true}],class:"p5.Compressor",module:"p5.sound"},reduction:{name:"reduction",class:"p5.Compressor",module:"p5.sound"}},"p5.PeakDetect":{isDetected:{name:"isDetected",class:"p5.PeakDetect",module:"p5.sound"},update:{name:"update",params:[{name:"fftObject",description:"<p>A p5.FFT object</p>\n",type:"p5.FFT"}],class:"p5.PeakDetect",module:"p5.sound"},onPeak:{name:"onPeak",params:[{name:"callback",description:"<p>Name of a function that will\n                            be called when a peak is\n                            detected.</p>\n",type:"Function"},{name:"val",description:"<p>Optional value to pass\n                            into the function when\n                            a peak is detected.</p>\n",type:"Object",optional:true}],class:"p5.PeakDetect",module:"p5.sound"}},"p5.SoundRecorder":{setInput:{name:"setInput",params:[{name:"unit",description:"<p>p5.sound object or a web audio unit\n                       that outputs sound</p>\n",type:"Object",optional:true}],class:"p5.SoundRecorder",module:"p5.sound"},record:{name:"record",params:[{name:"soundFile",description:"<p>p5.SoundFile</p>\n",type:"p5.SoundFile"},{name:"duration",description:"<p>Time (in seconds)</p>\n",type:"Number",optional:true},{name:"callback",description:"<p>The name of a function that will be\n                              called once the recording completes</p>\n",type:"Function",optional:true}],class:"p5.SoundRecorder",module:"p5.sound"},stop:{name:"stop",class:"p5.SoundRecorder",module:"p5.sound"}},"p5.Distortion":{WaveShaperNode:{name:"WaveShaperNode",class:"p5.Distortion",module:"p5.sound"},process:{name:"process",params:[{name:"amount",description:"<p>Unbounded distortion amount.\n                               Normal values range from 0-1.</p>\n",type:"Number",optional:true,optdefault:"0.25"},{name:"oversample",description:"<p>'none', '2x', or '4x'.</p>\n",type:"String",optional:true,optdefault:"'none'"}],class:"p5.Distortion",module:"p5.sound"},set:{name:"set",params:[{name:"amount",description:"<p>Unbounded distortion amount.\n                               Normal values range from 0-1.</p>\n",type:"Number",optional:true,optdefault:"0.25"},{name:"oversample",description:"<p>'none', '2x', or '4x'.</p>\n",type:"String",optional:true,optdefault:"'none'"}],class:"p5.Distortion",module:"p5.sound"},getAmount:{name:"getAmount",class:"p5.Distortion",module:"p5.sound"},getOversample:{name:"getOversample",class:"p5.Distortion",module:"p5.sound"}},"p5.Gain":{setInput:{name:"setInput",params:[{name:"src",description:"<p>p5.sound / Web Audio object with a sound\n                         output.</p>\n",type:"Object"}],class:"p5.Gain",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"",type:"Object"}],class:"p5.Gain",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.Gain",module:"p5.sound"},amp:{name:"amp",params:[{name:"volume",description:"<p>amplitude between 0 and 1.0</p>\n",type:"Number"},{name:"rampTime",description:"<p>create a fade that lasts rampTime</p>\n",type:"Number",optional:true},{name:"timeFromNow",description:"<p>schedule this event to happen\n                              seconds from now</p>\n",type:"Number",optional:true}],class:"p5.Gain",module:"p5.sound"}},"p5.AudioVoice":{connect:{name:"connect",params:[{name:"unit",description:"",type:"Object"}],class:"p5.AudioVoice",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.AudioVoice",module:"p5.sound"}},"p5.MonoSynth":{attack:{name:"attack",class:"p5.MonoSynth",module:"p5.sound"},decay:{name:"decay",class:"p5.MonoSynth",module:"p5.sound"},sustain:{name:"sustain",class:"p5.MonoSynth",module:"p5.sound"},release:{name:"release",class:"p5.MonoSynth",module:"p5.sound"},play:{name:"play",params:[{name:"note",description:'<p>the note you want to play, specified as a\n                               frequency in Hertz (Number) or as a midi\n                               value in Note/Octave format ("C4", "Eb3"...etc")\n                               See <a href = "https://github.com/Tonejs/Tone.js/wiki/Instruments">\n                               Tone</a>. Defaults to 440 hz.</p>\n',type:"String | Number"},{name:"velocity",description:"<p>velocity of the note to play (ranging from 0 to 1)</p>\n",type:"Number",optional:true},{name:"secondsFromNow",description:"<p>time from now (in seconds) at which to play</p>\n",type:"Number",optional:true},{name:"sustainTime",description:"<p>time to sustain before releasing the envelope. Defaults to 0.15 seconds.</p>\n",type:"Number",optional:true}],class:"p5.MonoSynth",module:"p5.sound"},triggerAttack:{params:[{name:"note",description:'<p>the note you want to play, specified as a\n                               frequency in Hertz (Number) or as a midi\n                               value in Note/Octave format ("C4", "Eb3"...etc")\n                               See <a href = "https://github.com/Tonejs/Tone.js/wiki/Instruments">\n                               Tone</a>. Defaults to 440 hz</p>\n',type:"String | Number"},{name:"velocity",description:"<p>velocity of the note to play (ranging from 0 to 1)</p>\n",type:"Number",optional:true},{name:"secondsFromNow",description:"<p>time from now (in seconds) at which to play</p>\n",type:"Number",optional:true}],name:"triggerAttack",class:"p5.MonoSynth",module:"p5.sound"},triggerRelease:{params:[{name:"secondsFromNow",description:"<p>time to trigger the release</p>\n",type:"Number"}],name:"triggerRelease",class:"p5.MonoSynth",module:"p5.sound"},setADSR:{name:"setADSR",params:[{name:"attackTime",description:"<p>Time (in seconds before envelope\n                              reaches Attack Level</p>\n",type:"Number"},{name:"decayTime",description:"<p>Time (in seconds) before envelope\n                              reaches Decay/Sustain Level</p>\n",type:"Number",optional:true},{name:"susRatio",description:"<p>Ratio between attackLevel and releaseLevel, on a scale from 0 to 1,\n                              where 1.0 = attackLevel, 0.0 = releaseLevel.\n                              The susRatio determines the decayLevel and the level at which the\n                              sustain portion of the envelope will sustain.\n                              For example, if attackLevel is 0.4, releaseLevel is 0,\n                              and susAmt is 0.5, the decayLevel would be 0.2. If attackLevel is\n                              increased to 1.0 (using <code>setRange</code>),\n                              then decayLevel would increase proportionally, to become 0.5.</p>\n",type:"Number",optional:true},{name:"releaseTime",description:"<p>Time in seconds from now (defaults to 0)</p>\n",type:"Number",optional:true}],class:"p5.MonoSynth",module:"p5.sound"},amp:{name:"amp",params:[{name:"vol",description:"<p>desired volume</p>\n",type:"Number"},{name:"rampTime",description:"<p>Time to reach new volume</p>\n",type:"Number",optional:true}],class:"p5.MonoSynth",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"<p>A p5.sound or Web Audio object</p>\n",type:"Object"}],class:"p5.MonoSynth",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.MonoSynth",module:"p5.sound"},dispose:{name:"dispose",class:"p5.MonoSynth",module:"p5.sound"}},"p5.PolySynth":{notes:{name:"notes",class:"p5.PolySynth",module:"p5.sound"},polyvalue:{name:"polyvalue",class:"p5.PolySynth",module:"p5.sound"},AudioVoice:{name:"AudioVoice",class:"p5.PolySynth",module:"p5.sound"},play:{name:"play",params:[{name:"note",description:"<p>midi note to play (ranging from 0 to 127 - 60 being a middle C)</p>\n",type:"Number",optional:true},{name:"velocity",description:"<p>velocity of the note to play (ranging from 0 to 1)</p>\n",type:"Number",optional:true},{name:"secondsFromNow",description:"<p>time from now (in seconds) at which to play</p>\n",type:"Number",optional:true},{name:"sustainTime",description:"<p>time to sustain before releasing the envelope</p>\n",type:"Number",optional:true}],class:"p5.PolySynth",module:"p5.sound"},noteADSR:{name:"noteADSR",params:[{name:"note",description:"<p>Midi note on which ADSR should be set.</p>\n",type:"Number",optional:true},{name:"attackTime",description:"<p>Time (in seconds before envelope\n                              reaches Attack Level</p>\n",type:"Number",optional:true},{name:"decayTime",description:"<p>Time (in seconds) before envelope\n                              reaches Decay/Sustain Level</p>\n",type:"Number",optional:true},{name:"susRatio",description:"<p>Ratio between attackLevel and releaseLevel, on a scale from 0 to 1,\n                              where 1.0 = attackLevel, 0.0 = releaseLevel.\n                              The susRatio determines the decayLevel and the level at which the\n                              sustain portion of the envelope will sustain.\n                              For example, if attackLevel is 0.4, releaseLevel is 0,\n                              and susAmt is 0.5, the decayLevel would be 0.2. If attackLevel is\n                              increased to 1.0 (using <code>setRange</code>),\n                              then decayLevel would increase proportionally, to become 0.5.</p>\n",type:"Number",optional:true},{name:"releaseTime",description:"<p>Time in seconds from now (defaults to 0)</p>\n",type:"Number",optional:true}],class:"p5.PolySynth",module:"p5.sound"},setADSR:{name:"setADSR",params:[{name:"attackTime",description:"<p>Time (in seconds before envelope\n                               reaches Attack Level</p>\n",type:"Number",optional:true},{name:"decayTime",description:"<p>Time (in seconds) before envelope\n                               reaches Decay/Sustain Level</p>\n",type:"Number",optional:true},{name:"susRatio",description:"<p>Ratio between attackLevel and releaseLevel, on a scale from 0 to 1,\n                               where 1.0 = attackLevel, 0.0 = releaseLevel.\n                               The susRatio determines the decayLevel and the level at which the\n                               sustain portion of the envelope will sustain.\n                               For example, if attackLevel is 0.4, releaseLevel is 0,\n                               and susAmt is 0.5, the decayLevel would be 0.2. If attackLevel is\n                               increased to 1.0 (using <code>setRange</code>),\n                               then decayLevel would increase proportionally, to become 0.5.</p>\n",type:"Number",optional:true},{name:"releaseTime",description:"<p>Time in seconds from now (defaults to 0)</p>\n",type:"Number",optional:true}],class:"p5.PolySynth",module:"p5.sound"},noteAttack:{name:"noteAttack",params:[{name:"note",description:"<p>midi note on which attack should be triggered.</p>\n",type:"Number",optional:true},{name:"velocity",description:"<p>velocity of the note to play (ranging from 0 to 1)/</p>\n",type:"Number",optional:true},{name:"secondsFromNow",description:"<p>time from now (in seconds)</p>\n",type:"Number",optional:true}],class:"p5.PolySynth",module:"p5.sound"},noteRelease:{name:"noteRelease",params:[{name:"note",description:"<p>midi note on which attack should be triggered.\n                                  If no value is provided, all notes will be released.</p>\n",type:"Number",optional:true},{name:"secondsFromNow",description:"<p>time to trigger the release</p>\n",type:"Number",optional:true}],class:"p5.PolySynth",module:"p5.sound"},connect:{name:"connect",params:[{name:"unit",description:"<p>A p5.sound or Web Audio object</p>\n",type:"Object"}],class:"p5.PolySynth",module:"p5.sound"},disconnect:{name:"disconnect",class:"p5.PolySynth",module:"p5.sound"},dispose:{name:"dispose",class:"p5.PolySynth",module:"p5.sound"}}}},{}],2:[function(_dereq_,module,exports){function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}module.exports=_arrayWithHoles},{}],3:[function(_dereq_,module,exports){function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}module.exports=_arrayWithoutHoles},{}],4:[function(_dereq_,module,exports){function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}module.exports=_assertThisInitialized},{}],5:[function(_dereq_,module,exports){function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}module.exports=_classCallCheck},{}],6:[function(_dereq_,module,exports){function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}module.exports=_createClass},{}],7:[function(_dereq_,module,exports){function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}module.exports=_defineProperty},{}],8:[function(_dereq_,module,exports){function _getPrototypeOf(o){module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}module.exports=_getPrototypeOf},{}],9:[function(_dereq_,module,exports){var setPrototypeOf=_dereq_("./setPrototypeOf");function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)setPrototypeOf(subClass,superClass)}module.exports=_inherits},{"./setPrototypeOf":16}],10:[function(_dereq_,module,exports){function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}module.exports=_iterableToArray},{}],11:[function(_dereq_,module,exports){function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}module.exports=_iterableToArrayLimit},{}],12:[function(_dereq_,module,exports){function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}module.exports=_nonIterableRest},{}],13:[function(_dereq_,module,exports){function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}module.exports=_nonIterableSpread},{}],14:[function(_dereq_,module,exports){var defineProperty=_dereq_("./defineProperty");function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};var ownKeys=Object.keys(source);if(typeof Object.getOwnPropertySymbols==="function"){ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable}))}ownKeys.forEach(function(key){defineProperty(target,key,source[key])})}return target}module.exports=_objectSpread},{"./defineProperty":7}],15:[function(_dereq_,module,exports){var _typeof=_dereq_("../helpers/typeof");var assertThisInitialized=_dereq_("./assertThisInitialized");function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return assertThisInitialized(self)}module.exports=_possibleConstructorReturn},{"../helpers/typeof":19,"./assertThisInitialized":4}],16:[function(_dereq_,module,exports){function _setPrototypeOf(o,p){module.exports=_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}module.exports=_setPrototypeOf},{}],17:[function(_dereq_,module,exports){var arrayWithHoles=_dereq_("./arrayWithHoles");var iterableToArrayLimit=_dereq_("./iterableToArrayLimit");var nonIterableRest=_dereq_("./nonIterableRest");function _slicedToArray(arr,i){return arrayWithHoles(arr)||iterableToArrayLimit(arr,i)||nonIterableRest()}module.exports=_slicedToArray},{"./arrayWithHoles":2,"./iterableToArrayLimit":11,"./nonIterableRest":12}],18:[function(_dereq_,module,exports){var arrayWithoutHoles=_dereq_("./arrayWithoutHoles");var iterableToArray=_dereq_("./iterableToArray");var nonIterableSpread=_dereq_("./nonIterableSpread");function _toConsumableArray(arr){return arrayWithoutHoles(arr)||iterableToArray(arr)||nonIterableSpread()}module.exports=_toConsumableArray},{"./arrayWithoutHoles":3,"./iterableToArray":10,"./nonIterableSpread":13}],19:[function(_dereq_,module,exports){function _typeof2(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof2=function _typeof2(obj){return typeof obj}}else{_typeof2=function _typeof2(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof2(obj)}function _typeof(obj){if(typeof Symbol==="function"&&_typeof2(Symbol.iterator)==="symbol"){module.exports=_typeof=function _typeof(obj){return _typeof2(obj)}}else{module.exports=_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":_typeof2(obj)}}return _typeof(obj)}module.exports=_typeof},{}],20:[function(_dereq_,module,exports){"use strict";exports.byteLength=byteLength;exports.toByteArray=toByteArray;exports.fromByteArray=fromByteArray;var lookup=[];var revLookup=[];var Arr=typeof Uint8Array!=="undefined"?Uint8Array:Array;var code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i){lookup[i]=code[i];revLookup[code.charCodeAt(i)]=i}revLookup["-".charCodeAt(0)]=62;revLookup["_".charCodeAt(0)]=63;function getLens(b64){var len=b64.length;if(len%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var validLen=b64.indexOf("=");if(validLen===-1)validLen=len;var placeHoldersLen=validLen===len?0:4-validLen%4;return[validLen,placeHoldersLen]}function byteLength(b64){var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function _byteLength(b64,validLen,placeHoldersLen){return(validLen+placeHoldersLen)*3/4-placeHoldersLen}function toByteArray(b64){var tmp;var lens=getLens(b64);var validLen=lens[0];var placeHoldersLen=lens[1];var arr=new Arr(_byteLength(b64,validLen,placeHoldersLen));var curByte=0;var len=placeHoldersLen>0?validLen-4:validLen;var i;for(i=0;i<len;i+=4){tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)];arr[curByte++]=tmp>>16&255;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}if(placeHoldersLen===2){tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4;arr[curByte++]=tmp&255}if(placeHoldersLen===1){tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2;arr[curByte++]=tmp>>8&255;arr[curByte++]=tmp&255}return arr}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[num&63]}function encodeChunk(uint8,start,end){var tmp;var output=[];for(var i=start;i<end;i+=3){tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(uint8[i+2]&255);output.push(tripletToBase64(tmp))}return output.join("")}function fromByteArray(uint8){var tmp;var len=uint8.length;var extraBytes=len%3;var parts=[];var maxChunkLength=16383;for(var i=0,len2=len-extraBytes;i<len2;i+=maxChunkLength){parts.push(encodeChunk(uint8,i,i+maxChunkLength>len2?len2:i+maxChunkLength))}if(extraBytes===1){tmp=uint8[len-1];parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")}else if(extraBytes===2){tmp=(uint8[len-2]<<8)+uint8[len-1];parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"=")}return parts.join("")}},{}],21:[function(_dereq_,module,exports){},{}],22:[function(_dereq_,module,exports){(function(Buffer){"use strict";var base64=_dereq_("base64-js");var ieee754=_dereq_("ieee754");var customInspectSymbol=typeof Symbol==="function"&&typeof Symbol.for==="function"?Symbol.for("nodejs.util.inspect.custom"):null;exports.Buffer=Buffer;exports.SlowBuffer=SlowBuffer;exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;exports.kMaxLength=K_MAX_LENGTH;Buffer.TYPED_ARRAY_SUPPORT=typedArraySupport();if(!Buffer.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function typedArraySupport(){try{var arr=new Uint8Array(1);var proto={foo:function(){return 42}};Object.setPrototypeOf(proto,Uint8Array.prototype);Object.setPrototypeOf(arr,proto);return arr.foo()===42}catch(e){return false}}Object.defineProperty(Buffer.prototype,"parent",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(Buffer.prototype,"offset",{enumerable:true,get:function(){if(!Buffer.isBuffer(this))return undefined;return this.byteOffset}});function createBuffer(length){if(length>K_MAX_LENGTH){throw new RangeError('The value "'+length+'" is invalid for option "size"')}var buf=new Uint8Array(length);Object.setPrototypeOf(buf,Buffer.prototype);return buf}function Buffer(arg,encodingOrOffset,length){if(typeof arg==="number"){if(typeof encodingOrOffset==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return allocUnsafe(arg)}return from(arg,encodingOrOffset,length)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&Buffer[Symbol.species]===Buffer){Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}Buffer.poolSize=8192;function from(value,encodingOrOffset,length){if(typeof value==="string"){return fromString(value,encodingOrOffset)}if(ArrayBuffer.isView(value)){return fromArrayLike(value)}if(value==null){throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer)){return fromArrayBuffer(value,encodingOrOffset,length)}if(typeof value==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var valueOf=value.valueOf&&value.valueOf();if(valueOf!=null&&valueOf!==value){return Buffer.from(valueOf,encodingOrOffset,length)}var b=fromObject(value);if(b)return b;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof value[Symbol.toPrimitive]==="function"){return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof value)}Buffer.from=function(value,encodingOrOffset,length){return from(value,encodingOrOffset,length)};Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype);Object.setPrototypeOf(Buffer,Uint8Array);function assertSize(size){if(typeof size!=="number"){throw new TypeError('"size" argument must be of type number')}else if(size<0){throw new RangeError('The value "'+size+'" is invalid for option "size"')}}function alloc(size,fill,encoding){assertSize(size);if(size<=0){return createBuffer(size)}if(fill!==undefined){return typeof encoding==="string"?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill)}return createBuffer(size)}Buffer.alloc=function(size,fill,encoding){return alloc(size,fill,encoding)};function allocUnsafe(size){assertSize(size);return createBuffer(size<0?0:checked(size)|0)}Buffer.allocUnsafe=function(size){return allocUnsafe(size)};Buffer.allocUnsafeSlow=function(size){return allocUnsafe(size)};function fromString(string,encoding){if(typeof encoding!=="string"||encoding===""){encoding="utf8"}if(!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}var length=byteLength(string,encoding)|0;var buf=createBuffer(length);var actual=buf.write(string,encoding);if(actual!==length){buf=buf.slice(0,actual)}return buf}function fromArrayLike(array){var length=array.length<0?0:checked(array.length)|0;var buf=createBuffer(length);for(var i=0;i<length;i+=1){buf[i]=array[i]&255}return buf}function fromArrayBuffer(array,byteOffset,length){if(byteOffset<0||array.byteLength<byteOffset){throw new RangeError('"offset" is outside of buffer bounds')}if(array.byteLength<byteOffset+(length||0)){throw new RangeError('"length" is outside of buffer bounds')}var buf;if(byteOffset===undefined&&length===undefined){buf=new Uint8Array(array)}else if(length===undefined){buf=new Uint8Array(array,byteOffset)}else{buf=new Uint8Array(array,byteOffset,length)}Object.setPrototypeOf(buf,Buffer.prototype);return buf}function fromObject(obj){if(Buffer.isBuffer(obj)){var len=checked(obj.length)|0;var buf=createBuffer(len);if(buf.length===0){return buf}obj.copy(buf,0,0,len);return buf}if(obj.length!==undefined){if(typeof obj.length!=="number"||numberIsNaN(obj.length)){return createBuffer(0)}return fromArrayLike(obj)}if(obj.type==="Buffer"&&Array.isArray(obj.data)){return fromArrayLike(obj.data)}}function checked(length){if(length>=K_MAX_LENGTH){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+K_MAX_LENGTH.toString(16)+" bytes")}return length|0}function SlowBuffer(length){if(+length!=length){length=0}return Buffer.alloc(+length)}Buffer.isBuffer=function isBuffer(b){return b!=null&&b._isBuffer===true&&b!==Buffer.prototype};Buffer.compare=function compare(a,b){if(isInstance(a,Uint8Array))a=Buffer.from(a,a.offset,a.byteLength);if(isInstance(b,Uint8Array))b=Buffer.from(b,b.offset,b.byteLength);if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(a===b)return 0;var x=a.length;var y=b.length;for(var i=0,len=Math.min(x,y);i<len;++i){if(a[i]!==b[i]){x=a[i];y=b[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};Buffer.isEncoding=function isEncoding(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};Buffer.concat=function concat(list,length){if(!Array.isArray(list)){throw new TypeError('"list" argument must be an Array of Buffers')}if(list.length===0){return Buffer.alloc(0)}var i;if(length===undefined){length=0;for(i=0;i<list.length;++i){length+=list[i].length}}var buffer=Buffer.allocUnsafe(length);var pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)){buf=Buffer.from(buf)}if(!Buffer.isBuffer(buf)){throw new TypeError('"list" argument must be an Array of Buffers')}buf.copy(buffer,pos);pos+=buf.length}return buffer};function byteLength(string,encoding){if(Buffer.isBuffer(string)){return string.length}if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer)){return string.byteLength}if(typeof string!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof string)}var len=string.length;var mustMatch=arguments.length>2&&arguments[2]===true;if(!mustMatch&&len===0)return 0;var loweredCase=false;for(;;){switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return len*2;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase){return mustMatch?-1:utf8ToBytes(string).length}encoding=(""+encoding).toLowerCase();loweredCase=true}}}Buffer.byteLength=byteLength;function slowToString(encoding,start,end){var loweredCase=false;if(start===undefined||start<0){start=0}if(start>this.length){return""}if(end===undefined||end>this.length){end=this.length}if(end<=0){return""}end>>>=0;start>>>=0;if(end<=start){return""}if(!encoding)encoding="utf8";while(true){switch(encoding){case"hex":return hexSlice(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return asciiSlice(this,start,end);case"latin1":case"binary":return latin1Slice(this,start,end);case"base64":return base64Slice(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase();loweredCase=true}}}Buffer.prototype._isBuffer=true;function swap(b,n,m){var i=b[n];b[n]=b[m];b[m]=i}Buffer.prototype.swap16=function swap16(){var len=this.length;if(len%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var i=0;i<len;i+=2){swap(this,i,i+1)}return this};Buffer.prototype.swap32=function swap32(){var len=this.length;if(len%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var i=0;i<len;i+=4){swap(this,i,i+3);swap(this,i+1,i+2)}return this};Buffer.prototype.swap64=function swap64(){var len=this.length;if(len%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var i=0;i<len;i+=8){swap(this,i,i+7);swap(this,i+1,i+6);swap(this,i+2,i+5);swap(this,i+3,i+4)}return this};Buffer.prototype.toString=function toString(){var length=this.length;if(length===0)return"";if(arguments.length===0)return utf8Slice(this,0,length);return slowToString.apply(this,arguments)};Buffer.prototype.toLocaleString=Buffer.prototype.toString;Buffer.prototype.equals=function equals(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");if(this===b)return true;return Buffer.compare(this,b)===0};Buffer.prototype.inspect=function inspect(){var str="";var max=exports.INSPECT_MAX_BYTES;str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();if(this.length>max)str+=" ... ";return"<Buffer "+str+">"};if(customInspectSymbol){Buffer.prototype[customInspectSymbol]=Buffer.prototype.inspect}Buffer.prototype.compare=function compare(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)){target=Buffer.from(target,target.offset,target.byteLength)}if(!Buffer.isBuffer(target)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof target)}if(start===undefined){start=0}if(end===undefined){end=target?target.length:0}if(thisStart===undefined){thisStart=0}if(thisEnd===undefined){thisEnd=this.length}if(start<0||end>target.length||thisStart<0||thisEnd>this.length){throw new RangeError("out of range index")}if(thisStart>=thisEnd&&start>=end){return 0}if(thisStart>=thisEnd){return-1}if(start>=end){return 1}start>>>=0;end>>>=0;thisStart>>>=0;thisEnd>>>=0;if(this===target)return 0;var x=thisEnd-thisStart;var y=end-start;var len=Math.min(x,y);var thisCopy=this.slice(thisStart,thisEnd);var targetCopy=target.slice(start,end);for(var i=0;i<len;++i){if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i];y=targetCopy[i];break}}if(x<y)return-1;if(y<x)return 1;return 0};function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(buffer.length===0)return-1;if(typeof byteOffset==="string"){encoding=byteOffset;byteOffset=0}else if(byteOffset>2147483647){byteOffset=2147483647}else if(byteOffset<-2147483648){byteOffset=-2147483648}byteOffset=+byteOffset;if(numberIsNaN(byteOffset)){byteOffset=dir?0:buffer.length-1}if(byteOffset<0)byteOffset=buffer.length+byteOffset;if(byteOffset>=buffer.length){if(dir)return-1;else byteOffset=buffer.length-1}else if(byteOffset<0){if(dir)byteOffset=0;else return-1}if(typeof val==="string"){val=Buffer.from(val,encoding)}if(Buffer.isBuffer(val)){if(val.length===0){return-1}return arrayIndexOf(buffer,val,byteOffset,encoding,dir)}else if(typeof val==="number"){val=val&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(dir){return Uint8Array.prototype.indexOf.call(buffer,val,byteOffset)}else{return Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset)}}return arrayIndexOf(buffer,[val],byteOffset,encoding,dir)}throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1;var arrLength=arr.length;var valLength=val.length;if(encoding!==undefined){encoding=String(encoding).toLowerCase();if(encoding==="ucs2"||encoding==="ucs-2"||encoding==="utf16le"||encoding==="utf-16le"){if(arr.length<2||val.length<2){return-1}indexSize=2;arrLength/=2;valLength/=2;byteOffset/=2}}function read(buf,i){if(indexSize===1){return buf[i]}else{return buf.readUInt16BE(i*indexSize)}}var i;if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++){if(read(arr,i)===read(val,foundIndex===-1?0:i-foundIndex)){if(foundIndex===-1)foundIndex=i;if(i-foundIndex+1===valLength)return foundIndex*indexSize}else{if(foundIndex!==-1)i-=i-foundIndex;foundIndex=-1}}}else{if(byteOffset+valLength>arrLength)byteOffset=arrLength-valLength;for(i=byteOffset;i>=0;i--){var found=true;for(var j=0;j<valLength;j++){if(read(arr,i+j)!==read(val,j)){found=false;break}}if(found)return i}}return-1}Buffer.prototype.includes=function includes(val,byteOffset,encoding){return this.indexOf(val,byteOffset,encoding)!==-1};Buffer.prototype.indexOf=function indexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,true)};Buffer.prototype.lastIndexOf=function lastIndexOf(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,false)};function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;if(!length){length=remaining}else{length=Number(length);if(length>remaining){length=remaining}}var strLen=string.length;if(length>strLen/2){length=strLen/2}for(var i=0;i<length;++i){var parsed=parseInt(string.substr(i*2,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(asciiToBytes(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(utf16leToBytes(string,buf.length-offset),buf,offset,length)}Buffer.prototype.write=function write(string,offset,length,encoding){if(offset===undefined){encoding="utf8";length=this.length;offset=0}else if(length===undefined&&typeof offset==="string"){encoding=offset;length=this.length;offset=0}else if(isFinite(offset)){offset=offset>>>0;if(isFinite(length)){length=length>>>0;if(encoding===undefined)encoding="utf8"}else{encoding=length;length=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var remaining=this.length-offset;if(length===undefined||length>remaining)length=remaining;if(string.length>0&&(length<0||offset<0)||offset>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!encoding)encoding="utf8";var loweredCase=false;for(;;){switch(encoding){case"hex":return hexWrite(this,string,offset,length);case"utf8":case"utf-8":return utf8Write(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return latin1Write(this,string,offset,length);case"base64":return base64Write(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase();loweredCase=true}}};Buffer.prototype.toJSON=function toJSON(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function base64Slice(buf,start,end){if(start===0&&end===buf.length){return base64.fromByteArray(buf)}else{return base64.fromByteArray(buf.slice(start,end))}}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);var res=[];var i=start;while(i<end){var firstByte=buf[i];var codePoint=null;var bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end){var secondByte,thirdByte,fourthByte,tempCodePoint;switch(bytesPerSequence){case 1:if(firstByte<128){codePoint=firstByte}break;case 2:secondByte=buf[i+1];if((secondByte&192)===128){tempCodePoint=(firstByte&31)<<6|secondByte&63;if(tempCodePoint>127){codePoint=tempCodePoint}}break;case 3:secondByte=buf[i+1];thirdByte=buf[i+2];if((secondByte&192)===128&&(thirdByte&192)===128){tempCodePoint=(firstByte&15)<<12|(secondByte&63)<<6|thirdByte&63;if(tempCodePoint>2047&&(tempCodePoint<55296||tempCodePoint>57343)){codePoint=tempCodePoint}}break;case 4:secondByte=buf[i+1];thirdByte=buf[i+2];fourthByte=buf[i+3];if((secondByte&192)===128&&(thirdByte&192)===128&&(fourthByte&192)===128){tempCodePoint=(firstByte&15)<<18|(secondByte&63)<<12|(thirdByte&63)<<6|fourthByte&63;if(tempCodePoint>65535&&tempCodePoint<1114112){codePoint=tempCodePoint}}}}if(codePoint===null){codePoint=65533;bytesPerSequence=1}else if(codePoint>65535){codePoint-=65536;res.push(codePoint>>>10&1023|55296);codePoint=56320|codePoint&1023}res.push(codePoint);i+=bytesPerSequence}return decodeCodePointsArray(res)}var MAX_ARGUMENTS_LENGTH=4096;function decodeCodePointsArray(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH){return String.fromCharCode.apply(String,codePoints)}var res="";var i=0;while(i<len){res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH))}return res}function asciiSlice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i]&127)}return ret}function latin1Slice(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i){ret+=String.fromCharCode(buf[i])}return ret}function hexSlice(buf,start,end){var len=buf.length;if(!start||start<0)start=0;if(!end||end<0||end>len)end=len;var out="";for(var i=start;i<end;++i){out+=hexSliceLookupTable[buf[i]]}return out}function utf16leSlice(buf,start,end){var bytes=buf.slice(start,end);var res="";for(var i=0;i<bytes.length;i+=2){res+=String.fromCharCode(bytes[i]+bytes[i+1]*256)}return res}Buffer.prototype.slice=function slice(start,end){var len=this.length;start=~~start;end=end===undefined?len:~~end;if(start<0){start+=len;if(start<0)start=0}else if(start>len){start=len}if(end<0){end+=len;if(end<0)end=0}else if(end>len){end=len}if(end<start)end=start;var newBuf=this.subarray(start,end);Object.setPrototypeOf(newBuf,Buffer.prototype);return newBuf};function checkOffset(offset,ext,length){if(offset%1!==0||offset<0)throw new RangeError("offset is not uint");if(offset+ext>length)throw new RangeError("Trying to access beyond buffer length")}Buffer.prototype.readUIntLE=function readUIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}return val};Buffer.prototype.readUIntBE=function readUIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){checkOffset(offset,byteLength,this.length)}var val=this[offset+--byteLength];var mul=1;while(byteLength>0&&(mul*=256)){val+=this[offset+--byteLength]*mul}return val};Buffer.prototype.readUInt8=function readUInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);return this[offset]};Buffer.prototype.readUInt16LE=function readUInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]|this[offset+1]<<8};Buffer.prototype.readUInt16BE=function readUInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);return this[offset]<<8|this[offset+1]};Buffer.prototype.readUInt32LE=function readUInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+this[offset+3]*16777216};Buffer.prototype.readUInt32BE=function readUInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]*16777216+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])};Buffer.prototype.readIntLE=function readIntLE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var val=this[offset];var mul=1;var i=0;while(++i<byteLength&&(mul*=256)){val+=this[offset+i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readIntBE=function readIntBE(offset,byteLength,noAssert){offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert)checkOffset(offset,byteLength,this.length);var i=byteLength;var mul=1;var val=this[offset+--i];while(i>0&&(mul*=256)){val+=this[offset+--i]*mul}mul*=128;if(val>=mul)val-=Math.pow(2,8*byteLength);return val};Buffer.prototype.readInt8=function readInt8(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,1,this.length);if(!(this[offset]&128))return this[offset];return(255-this[offset]+1)*-1};Buffer.prototype.readInt16LE=function readInt16LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt16BE=function readInt16BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return val&32768?val|4294901760:val};Buffer.prototype.readInt32LE=function readInt32LE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24};Buffer.prototype.readInt32BE=function readInt32BE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]};Buffer.prototype.readFloatLE=function readFloatLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,true,23,4)};Buffer.prototype.readFloatBE=function readFloatBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,4,this.length);return ieee754.read(this,offset,false,23,4)};Buffer.prototype.readDoubleLE=function readDoubleLE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,true,52,8)};Buffer.prototype.readDoubleBE=function readDoubleBE(offset,noAssert){offset=offset>>>0;if(!noAssert)checkOffset(offset,8,this.length);return ieee754.read(this,offset,false,52,8)};function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}Buffer.prototype.writeUIntLE=function writeUIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var mul=1;var i=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUIntBE=function writeUIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;byteLength=byteLength>>>0;if(!noAssert){var maxBytes=Math.pow(2,8*byteLength)-1;checkInt(this,value,offset,byteLength,maxBytes,0)}var i=byteLength-1;var mul=1;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){this[offset+i]=value/mul&255}return offset+byteLength};Buffer.prototype.writeUInt8=function writeUInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,255,0);this[offset]=value&255;return offset+1};Buffer.prototype.writeUInt16LE=function writeUInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeUInt16BE=function writeUInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,65535,0);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeUInt32LE=function writeUInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset+3]=value>>>24;this[offset+2]=value>>>16;this[offset+1]=value>>>8;this[offset]=value&255;return offset+4};Buffer.prototype.writeUInt32BE=function writeUInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,4294967295,0);this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};Buffer.prototype.writeIntLE=function writeIntLE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0;var mul=1;var sub=0;this[offset]=value&255;while(++i<byteLength&&(mul*=256)){if(value<0&&sub===0&&this[offset+i-1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeIntBE=function writeIntBE(value,offset,byteLength,noAssert){value=+value;offset=offset>>>0;if(!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1;var mul=1;var sub=0;this[offset+i]=value&255;while(--i>=0&&(mul*=256)){if(value<0&&sub===0&&this[offset+i+1]!==0){sub=1}this[offset+i]=(value/mul>>0)-sub&255}return offset+byteLength};Buffer.prototype.writeInt8=function writeInt8(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,1,127,-128);if(value<0)value=255+value+1;this[offset]=value&255;return offset+1};Buffer.prototype.writeInt16LE=function writeInt16LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value&255;this[offset+1]=value>>>8;return offset+2};Buffer.prototype.writeInt16BE=function writeInt16BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,2,32767,-32768);this[offset]=value>>>8;this[offset+1]=value&255;return offset+2};Buffer.prototype.writeInt32LE=function writeInt32LE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);this[offset]=value&255;this[offset+1]=value>>>8;this[offset+2]=value>>>16;this[offset+3]=value>>>24;return offset+4};Buffer.prototype.writeInt32BE=function writeInt32BE(value,offset,noAssert){value=+value;offset=offset>>>0;if(!noAssert)checkInt(this,value,offset,4,2147483647,-2147483648);if(value<0)value=4294967295+value+1;this[offset]=value>>>24;this[offset+1]=value>>>16;this[offset+2]=value>>>8;this[offset+3]=value&255;return offset+4};function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,4,34028234663852886e22,-34028234663852886e22)}ieee754.write(buf,value,offset,littleEndian,23,4);return offset+4}Buffer.prototype.writeFloatLE=function writeFloatLE(value,offset,noAssert){return writeFloat(this,value,offset,true,noAssert)};Buffer.prototype.writeFloatBE=function writeFloatBE(value,offset,noAssert){return writeFloat(this,value,offset,false,noAssert)};function writeDouble(buf,value,offset,littleEndian,noAssert){value=+value;offset=offset>>>0;if(!noAssert){checkIEEE754(buf,value,offset,8,17976931348623157e292,-17976931348623157e292)}ieee754.write(buf,value,offset,littleEndian,52,8);return offset+8}Buffer.prototype.writeDoubleLE=function writeDoubleLE(value,offset,noAssert){return writeDouble(this,value,offset,true,noAssert)};Buffer.prototype.writeDoubleBE=function writeDoubleBE(value,offset,noAssert){return writeDouble(this,value,offset,false,noAssert)};Buffer.prototype.copy=function copy(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(!start)start=0;if(!end&&end!==0)end=this.length;if(targetStart>=target.length)targetStart=target.length;if(!targetStart)targetStart=0;if(end>0&&end<start)end=start;if(end===start)return 0;if(target.length===0||this.length===0)return 0;if(targetStart<0){throw new RangeError("targetStart out of bounds")}if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");if(end>this.length)end=this.length;if(target.length-targetStart<end-start){end=target.length-targetStart+start}var len=end-start;if(this===target&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(targetStart,start,end)}else if(this===target&&start<targetStart&&targetStart<end){for(var i=len-1;i>=0;--i){target[i+targetStart]=this[i+start]}}else{Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart)}return len};Buffer.prototype.fill=function fill(val,start,end,encoding){if(typeof val==="string"){if(typeof start==="string"){encoding=start;start=0;end=this.length}else if(typeof end==="string"){encoding=end;end=this.length}if(encoding!==undefined&&typeof encoding!=="string"){throw new TypeError("encoding must be a string")}if(typeof encoding==="string"&&!Buffer.isEncoding(encoding)){throw new TypeError("Unknown encoding: "+encoding)}if(val.length===1){var code=val.charCodeAt(0);if(encoding==="utf8"&&code<128||encoding==="latin1"){val=code}}}else if(typeof val==="number"){val=val&255}else if(typeof val==="boolean"){val=Number(val)}if(start<0||this.length<start||this.length<end){throw new RangeError("Out of range index")}if(end<=start){return this}start=start>>>0;end=end===undefined?this.length:end>>>0;if(!val)val=0;var i;if(typeof val==="number"){for(i=start;i<end;++i){this[i]=val}}else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding);var len=bytes.length;if(len===0){throw new TypeError('The value "'+val+'" is invalid for argument "value"')}for(i=0;i<end-start;++i){this[i+start]=bytes[i%len]}}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function base64clean(str){str=str.split("=")[0];str=str.trim().replace(INVALID_BASE64_RE,"");if(str.length<2)return"";while(str.length%4!==0){str=str+"="}return str}function utf8ToBytes(string,units){units=units||Infinity;var codePoint;var length=string.length;var leadSurrogate=null;var bytes=[];for(var i=0;i<length;++i){codePoint=string.charCodeAt(i);if(codePoint>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){if((units-=3)>-1)bytes.push(239,191,189);continue}else if(i+1===length){if((units-=3)>-1)bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){if((units-=3)>-1)bytes.push(239,191,189);leadSurrogate=codePoint;continue}codePoint=(leadSurrogate-55296<<10|codePoint-56320)+65536}else if(leadSurrogate){if((units-=3)>-1)bytes.push(239,191,189)}leadSurrogate=null;if(codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,codePoint&63|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,codePoint&63|128)}else if(codePoint<1114112){if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,codePoint&63|128)}else{throw new Error("Invalid code point")}}return bytes}function asciiToBytes(str){var byteArray=[];for(var i=0;i<str.length;++i){byteArray.push(str.charCodeAt(i)&255)}return byteArray}function utf16leToBytes(str,units){var c,hi,lo;var byteArray=[];for(var i=0;i<str.length;++i){if((units-=2)<0)break;c=str.charCodeAt(i);hi=c>>8;lo=c%256;byteArray.push(lo);byteArray.push(hi)}return byteArray}function base64ToBytes(str){return base64.toByteArray(base64clean(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length;++i){if(i+offset>=dst.length||i>=src.length)break;dst[i+offset]=src[i]}return i}function isInstance(obj,type){return obj instanceof type||obj!=null&&obj.constructor!=null&&obj.constructor.name!=null&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!==obj}var hexSliceLookupTable=function(){var alphabet="0123456789abcdef";var table=new Array(256);for(var i=0;i<16;++i){var i16=i*16;for(var j=0;j<16;++j){table[i16+j]=alphabet[i]+alphabet[j]}}return table}()}).call(this,_dereq_("buffer").Buffer)},{"base64-js":20,buffer:22,ieee754:258}],23:[function(_dereq_,module,exports){module.exports=function(it){if(typeof it!="function"){throw TypeError(String(it)+" is not a function")}return it}},{}],24:[function(_dereq_,module,exports){var isObject=_dereq_("../internals/is-object");module.exports=function(it){if(!isObject(it)&&it!==null){throw TypeError("Can't set "+String(it)+" as a prototype")}return it}},{"../internals/is-object":92}],25:[function(_dereq_,module,exports){var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var create=_dereq_("../internals/object-create");var definePropertyModule=_dereq_("../internals/object-define-property");var UNSCOPABLES=wellKnownSymbol("unscopables");var ArrayPrototype=Array.prototype;if(ArrayPrototype[UNSCOPABLES]==undefined){definePropertyModule.f(ArrayPrototype,UNSCOPABLES,{configurable:true,value:create(null)})}module.exports=function(key){ArrayPrototype[UNSCOPABLES][key]=true}},{"../internals/object-create":108,"../internals/object-define-property":110,"../internals/well-known-symbol":164}],26:[function(_dereq_,module,exports){"use strict";var charAt=_dereq_("../internals/string-multibyte").charAt;module.exports=function(S,index,unicode){return index+(unicode?charAt(S,index).length:1)}},{"../internals/string-multibyte":141}],27:[function(_dereq_,module,exports){module.exports=function(it,Constructor,name){if(!(it instanceof Constructor)){throw TypeError("Incorrect "+(name?name+" ":"")+"invocation")}return it}},{}],28:[function(_dereq_,module,exports){var isObject=_dereq_("../internals/is-object");module.exports=function(it){if(!isObject(it)){throw TypeError(String(it)+" is not an object")}return it}},{"../internals/is-object":92}],29:[function(_dereq_,module,exports){module.exports=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"},{}],30:[function(_dereq_,module,exports){"use strict";var NATIVE_ARRAY_BUFFER=_dereq_("../internals/array-buffer-native");var DESCRIPTORS=_dereq_("../internals/descriptors");var global=_dereq_("../internals/global");var isObject=_dereq_("../internals/is-object");var has=_dereq_("../internals/has");var classof=_dereq_("../internals/classof");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var redefine=_dereq_("../internals/redefine");var defineProperty=_dereq_("../internals/object-define-property").f;var getPrototypeOf=_dereq_("../internals/object-get-prototype-of");var setPrototypeOf=_dereq_("../internals/object-set-prototype-of");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var uid=_dereq_("../internals/uid");var Int8Array=global.Int8Array;var Int8ArrayPrototype=Int8Array&&Int8Array.prototype;var Uint8ClampedArray=global.Uint8ClampedArray;var Uint8ClampedArrayPrototype=Uint8ClampedArray&&Uint8ClampedArray.prototype;var TypedArray=Int8Array&&getPrototypeOf(Int8Array);var TypedArrayPrototype=Int8ArrayPrototype&&getPrototypeOf(Int8ArrayPrototype);var ObjectPrototype=Object.prototype;var isPrototypeOf=ObjectPrototype.isPrototypeOf;var TO_STRING_TAG=wellKnownSymbol("toStringTag");var TYPED_ARRAY_TAG=uid("TYPED_ARRAY_TAG");var NATIVE_ARRAY_BUFFER_VIEWS=NATIVE_ARRAY_BUFFER&&!!setPrototypeOf&&classof(global.opera)!=="Opera";var TYPED_ARRAY_TAG_REQIRED=false;var NAME;var TypedArrayConstructorsList={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};var isView=function isView(it){var klass=classof(it);return klass==="DataView"||has(TypedArrayConstructorsList,klass)};var isTypedArray=function(it){return isObject(it)&&has(TypedArrayConstructorsList,classof(it))};var aTypedArray=function(it){if(isTypedArray(it))return it;throw TypeError("Target is not a typed array")};var aTypedArrayConstructor=function(C){if(setPrototypeOf){if(isPrototypeOf.call(TypedArray,C))return C}else for(var ARRAY in TypedArrayConstructorsList)if(has(TypedArrayConstructorsList,NAME)){var TypedArrayConstructor=global[ARRAY];if(TypedArrayConstructor&&(C===TypedArrayConstructor||isPrototypeOf.call(TypedArrayConstructor,C))){return C}}throw TypeError("Target is not a typed array constructor")};var exportTypedArrayMethod=function(KEY,property,forced){if(!DESCRIPTORS)return;if(forced)for(var ARRAY in TypedArrayConstructorsList){var TypedArrayConstructor=global[ARRAY];if(TypedArrayConstructor&&has(TypedArrayConstructor.prototype,KEY)){delete TypedArrayConstructor.prototype[KEY]}}if(!TypedArrayPrototype[KEY]||forced){redefine(TypedArrayPrototype,KEY,forced?property:NATIVE_ARRAY_BUFFER_VIEWS&&Int8ArrayPrototype[KEY]||property)}};var exportTypedArrayStaticMethod=function(KEY,property,forced){var ARRAY,TypedArrayConstructor;if(!DESCRIPTORS)return;if(setPrototypeOf){if(forced)for(ARRAY in TypedArrayConstructorsList){TypedArrayConstructor=global[ARRAY];if(TypedArrayConstructor&&has(TypedArrayConstructor,KEY)){delete TypedArrayConstructor[KEY]}}if(!TypedArray[KEY]||forced){try{return redefine(TypedArray,KEY,forced?property:NATIVE_ARRAY_BUFFER_VIEWS&&Int8Array[KEY]||property)}catch(error){}}else return}for(ARRAY in TypedArrayConstructorsList){TypedArrayConstructor=global[ARRAY];if(TypedArrayConstructor&&(!TypedArrayConstructor[KEY]||forced)){redefine(TypedArrayConstructor,KEY,property)}}};for(NAME in TypedArrayConstructorsList){if(!global[NAME])NATIVE_ARRAY_BUFFER_VIEWS=false}if(!NATIVE_ARRAY_BUFFER_VIEWS||typeof TypedArray!="function"||TypedArray===Function.prototype){TypedArray=function TypedArray(){throw TypeError("Incorrect invocation")};if(NATIVE_ARRAY_BUFFER_VIEWS)for(NAME in TypedArrayConstructorsList){if(global[NAME])setPrototypeOf(global[NAME],TypedArray)}}if(!NATIVE_ARRAY_BUFFER_VIEWS||!TypedArrayPrototype||TypedArrayPrototype===ObjectPrototype){TypedArrayPrototype=TypedArray.prototype;if(NATIVE_ARRAY_BUFFER_VIEWS)for(NAME in TypedArrayConstructorsList){if(global[NAME])setPrototypeOf(global[NAME].prototype,TypedArrayPrototype)}}if(NATIVE_ARRAY_BUFFER_VIEWS&&getPrototypeOf(Uint8ClampedArrayPrototype)!==TypedArrayPrototype){setPrototypeOf(Uint8ClampedArrayPrototype,TypedArrayPrototype)}if(DESCRIPTORS&&!has(TypedArrayPrototype,TO_STRING_TAG)){TYPED_ARRAY_TAG_REQIRED=true;defineProperty(TypedArrayPrototype,TO_STRING_TAG,{get:function(){return isObject(this)?this[TYPED_ARRAY_TAG]:undefined}});for(NAME in TypedArrayConstructorsList)if(global[NAME]){createNonEnumerableProperty(global[NAME],TYPED_ARRAY_TAG,NAME)}}module.exports={NATIVE_ARRAY_BUFFER_VIEWS:NATIVE_ARRAY_BUFFER_VIEWS,TYPED_ARRAY_TAG:TYPED_ARRAY_TAG_REQIRED&&TYPED_ARRAY_TAG,aTypedArray:aTypedArray,aTypedArrayConstructor:aTypedArrayConstructor,exportTypedArrayMethod:exportTypedArrayMethod,exportTypedArrayStaticMethod:exportTypedArrayStaticMethod,isView:isView,isTypedArray:isTypedArray,TypedArray:TypedArray,TypedArrayPrototype:TypedArrayPrototype}},{"../internals/array-buffer-native":29,"../internals/classof":47,"../internals/create-non-enumerable-property":55,"../internals/descriptors":60,"../internals/global":77,"../internals/has":78,"../internals/is-object":92,"../internals/object-define-property":110,"../internals/object-get-prototype-of":115,"../internals/object-set-prototype-of":119,"../internals/redefine":126,"../internals/uid":161,"../internals/well-known-symbol":164}],31:[function(_dereq_,module,exports){"use strict";var global=_dereq_("../internals/global");var DESCRIPTORS=_dereq_("../internals/descriptors");var NATIVE_ARRAY_BUFFER=_dereq_("../internals/array-buffer-native");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var redefineAll=_dereq_("../internals/redefine-all");var fails=_dereq_("../internals/fails");var anInstance=_dereq_("../internals/an-instance");var toInteger=_dereq_("../internals/to-integer");var toLength=_dereq_("../internals/to-length");var toIndex=_dereq_("../internals/to-index");var IEEE754=_dereq_("../internals/ieee754");var getPrototypeOf=_dereq_("../internals/object-get-prototype-of");var setPrototypeOf=_dereq_("../internals/object-set-prototype-of");var getOwnPropertyNames=_dereq_("../internals/object-get-own-property-names").f;var defineProperty=_dereq_("../internals/object-define-property").f;var arrayFill=_dereq_("../internals/array-fill");var setToStringTag=_dereq_("../internals/set-to-string-tag");var InternalStateModule=_dereq_("../internals/internal-state");var getInternalState=InternalStateModule.get;var setInternalState=InternalStateModule.set;var ARRAY_BUFFER="ArrayBuffer";var DATA_VIEW="DataView";var PROTOTYPE="prototype";var WRONG_LENGTH="Wrong length";var WRONG_INDEX="Wrong index";var NativeArrayBuffer=global[ARRAY_BUFFER];var $ArrayBuffer=NativeArrayBuffer;var $DataView=global[DATA_VIEW];var $DataViewPrototype=$DataView&&$DataView[PROTOTYPE];var ObjectPrototype=Object.prototype;var RangeError=global.RangeError;var packIEEE754=IEEE754.pack;var unpackIEEE754=IEEE754.unpack;var packInt8=function(number){return[number&255]};var packInt16=function(number){return[number&255,number>>8&255]};var packInt32=function(number){return[number&255,number>>8&255,number>>16&255,number>>24&255]};var unpackInt32=function(buffer){return buffer[3]<<24|buffer[2]<<16|buffer[1]<<8|buffer[0]};var packFloat32=function(number){return packIEEE754(number,23,4)};var packFloat64=function(number){return packIEEE754(number,52,8)};var addGetter=function(Constructor,key){defineProperty(Constructor[PROTOTYPE],key,{get:function(){return getInternalState(this)[key]}})};var get=function(view,count,index,isLittleEndian){var intIndex=toIndex(index);var store=getInternalState(view);if(intIndex+count>store.byteLength)throw RangeError(WRONG_INDEX);var bytes=getInternalState(store.buffer).bytes;var start=intIndex+store.byteOffset;var pack=bytes.slice(start,start+count);return isLittleEndian?pack:pack.reverse()};var set=function(view,count,index,conversion,value,isLittleEndian){var intIndex=toIndex(index);var store=getInternalState(view);if(intIndex+count>store.byteLength)throw RangeError(WRONG_INDEX);var bytes=getInternalState(store.buffer).bytes;var start=intIndex+store.byteOffset;var pack=conversion(+value);for(var i=0;i<count;i++)bytes[start+i]=pack[isLittleEndian?i:count-i-1]};if(!NATIVE_ARRAY_BUFFER){$ArrayBuffer=function ArrayBuffer(length){anInstance(this,$ArrayBuffer,ARRAY_BUFFER);var byteLength=toIndex(length);setInternalState(this,{bytes:arrayFill.call(new Array(byteLength),0),byteLength:byteLength});if(!DESCRIPTORS)this.byteLength=byteLength};$DataView=function DataView(buffer,byteOffset,byteLength){anInstance(this,$DataView,DATA_VIEW);anInstance(buffer,$ArrayBuffer,DATA_VIEW);var bufferLength=getInternalState(buffer).byteLength;var offset=toInteger(byteOffset);if(offset<0||offset>bufferLength)throw RangeError("Wrong offset");byteLength=byteLength===undefined?bufferLength-offset:toLength(byteLength);if(offset+byteLength>bufferLength)throw RangeError(WRONG_LENGTH);setInternalState(this,{buffer:buffer,byteLength:byteLength,byteOffset:offset});if(!DESCRIPTORS){this.buffer=buffer;this.byteLength=byteLength;this.byteOffset=offset}};if(DESCRIPTORS){addGetter($ArrayBuffer,"byteLength");addGetter($DataView,"buffer");addGetter($DataView,"byteLength");addGetter($DataView,"byteOffset")}redefineAll($DataView[PROTOTYPE],{getInt8:function getInt8(byteOffset){return get(this,1,byteOffset)[0]<<24>>24},getUint8:function getUint8(byteOffset){return get(this,1,byteOffset)[0]},getInt16:function getInt16(byteOffset){var bytes=get(this,2,byteOffset,arguments.length>1?arguments[1]:undefined);return(bytes[1]<<8|bytes[0])<<16>>16},getUint16:function getUint16(byteOffset){var bytes=get(this,2,byteOffset,arguments.length>1?arguments[1]:undefined);return bytes[1]<<8|bytes[0]},getInt32:function getInt32(byteOffset){return unpackInt32(get(this,4,byteOffset,arguments.length>1?arguments[1]:undefined))},getUint32:function getUint32(byteOffset){return unpackInt32(get(this,4,byteOffset,arguments.length>1?arguments[1]:undefined))>>>0},getFloat32:function getFloat32(byteOffset){return unpackIEEE754(get(this,4,byteOffset,arguments.length>1?arguments[1]:undefined),23)},getFloat64:function getFloat64(byteOffset){return unpackIEEE754(get(this,8,byteOffset,arguments.length>1?arguments[1]:undefined),52)},setInt8:function setInt8(byteOffset,value){set(this,1,byteOffset,packInt8,value)},setUint8:function setUint8(byteOffset,value){set(this,1,byteOffset,packInt8,value)},setInt16:function setInt16(byteOffset,value){set(this,2,byteOffset,packInt16,value,arguments.length>2?arguments[2]:undefined)},setUint16:function setUint16(byteOffset,value){set(this,2,byteOffset,packInt16,value,arguments.length>2?arguments[2]:undefined)},setInt32:function setInt32(byteOffset,value){set(this,4,byteOffset,packInt32,value,arguments.length>2?arguments[2]:undefined)},setUint32:function setUint32(byteOffset,value){set(this,4,byteOffset,packInt32,value,arguments.length>2?arguments[2]:undefined)},setFloat32:function setFloat32(byteOffset,value){set(this,4,byteOffset,packFloat32,value,arguments.length>2?arguments[2]:undefined)},setFloat64:function setFloat64(byteOffset,value){set(this,8,byteOffset,packFloat64,value,arguments.length>2?arguments[2]:undefined)}})}else{if(!fails(function(){NativeArrayBuffer(1)})||!fails(function(){new NativeArrayBuffer(-1)})||fails(function(){new NativeArrayBuffer;new NativeArrayBuffer(1.5);new NativeArrayBuffer(NaN);return NativeArrayBuffer.name!=ARRAY_BUFFER})){$ArrayBuffer=function ArrayBuffer(length){anInstance(this,$ArrayBuffer);return new NativeArrayBuffer(toIndex(length))};var ArrayBufferPrototype=$ArrayBuffer[PROTOTYPE]=NativeArrayBuffer[PROTOTYPE];for(var keys=getOwnPropertyNames(NativeArrayBuffer),j=0,key;keys.length>j;){if(!((key=keys[j++])in $ArrayBuffer)){createNonEnumerableProperty($ArrayBuffer,key,NativeArrayBuffer[key])}}ArrayBufferPrototype.constructor=$ArrayBuffer}if(setPrototypeOf&&getPrototypeOf($DataViewPrototype)!==ObjectPrototype){setPrototypeOf($DataViewPrototype,ObjectPrototype)}var testView=new $DataView(new $ArrayBuffer(2));var nativeSetInt8=$DataViewPrototype.setInt8;testView.setInt8(0,2147483648);testView.setInt8(1,2147483649);if(testView.getInt8(0)||!testView.getInt8(1))redefineAll($DataViewPrototype,{setInt8:function setInt8(byteOffset,value){nativeSetInt8.call(this,byteOffset,value<<24>>24)},setUint8:function setUint8(byteOffset,value){nativeSetInt8.call(this,byteOffset,value<<24>>24)}},{unsafe:true})}setToStringTag($ArrayBuffer,ARRAY_BUFFER);setToStringTag($DataView,DATA_VIEW);module.exports={ArrayBuffer:$ArrayBuffer,DataView:$DataView}},{"../internals/an-instance":27,"../internals/array-buffer-native":29,"../internals/array-fill":33,"../internals/create-non-enumerable-property":55,"../internals/descriptors":60,"../internals/fails":68,"../internals/global":77,"../internals/ieee754":83,"../internals/internal-state":88,"../internals/object-define-property":110,"../internals/object-get-own-property-names":113,"../internals/object-get-prototype-of":115,"../internals/object-set-prototype-of":119,"../internals/redefine-all":125,"../internals/set-to-string-tag":135,"../internals/to-index":149,"../internals/to-integer":151,"../internals/to-length":152}],32:[function(_dereq_,module,exports){"use strict";var toObject=_dereq_("../internals/to-object");var toAbsoluteIndex=_dereq_("../internals/to-absolute-index");var toLength=_dereq_("../internals/to-length");var min=Math.min;module.exports=[].copyWithin||function copyWithin(target,start){var O=toObject(this);var len=toLength(O.length);var to=toAbsoluteIndex(target,len);var from=toAbsoluteIndex(start,len);var end=arguments.length>2?arguments[2]:undefined;var count=min((end===undefined?len:toAbsoluteIndex(end,len))-from,len-to);var inc=1;if(from<to&&to<from+count){inc=-1;from+=count-1;to+=count-1}while(count-- >0){if(from in O)O[to]=O[from];else delete O[to];to+=inc;from+=inc}return O}},{"../internals/to-absolute-index":148,"../internals/to-length":152,"../internals/to-object":153}],33:[function(_dereq_,module,exports){"use strict";var toObject=_dereq_("../internals/to-object");var toAbsoluteIndex=_dereq_("../internals/to-absolute-index");var toLength=_dereq_("../internals/to-length");module.exports=function fill(value){var O=toObject(this);var length=toLength(O.length);var argumentsLength=arguments.length;var index=toAbsoluteIndex(argumentsLength>1?arguments[1]:undefined,length);var end=argumentsLength>2?arguments[2]:undefined;var endPos=end===undefined?length:toAbsoluteIndex(end,length);while(endPos>index)O[index++]=value;return O}},{"../internals/to-absolute-index":148,"../internals/to-length":152,"../internals/to-object":153}],34:[function(_dereq_,module,exports){"use strict";var $forEach=_dereq_("../internals/array-iteration").forEach;var arrayMethodIsStrict=_dereq_("../internals/array-method-is-strict");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var STRICT_METHOD=arrayMethodIsStrict("forEach");var USES_TO_LENGTH=arrayMethodUsesToLength("forEach");module.exports=!STRICT_METHOD||!USES_TO_LENGTH?function forEach(callbackfn){return $forEach(this,callbackfn,arguments.length>1?arguments[1]:undefined)}:[].forEach},{"../internals/array-iteration":37,"../internals/array-method-is-strict":40,"../internals/array-method-uses-to-length":41}],35:[function(_dereq_,module,exports){"use strict";var bind=_dereq_("../internals/function-bind-context");var toObject=_dereq_("../internals/to-object");var callWithSafeIterationClosing=_dereq_("../internals/call-with-safe-iteration-closing");var isArrayIteratorMethod=_dereq_("../internals/is-array-iterator-method");var toLength=_dereq_("../internals/to-length");var createProperty=_dereq_("../internals/create-property");var getIteratorMethod=_dereq_("../internals/get-iterator-method");module.exports=function from(arrayLike){var O=toObject(arrayLike);var C=typeof this=="function"?this:Array;var argumentsLength=arguments.length;var mapfn=argumentsLength>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var iteratorMethod=getIteratorMethod(O);var index=0;var length,result,step,iterator,next,value;if(mapping)mapfn=bind(mapfn,argumentsLength>2?arguments[2]:undefined,2);if(iteratorMethod!=undefined&&!(C==Array&&isArrayIteratorMethod(iteratorMethod))){iterator=iteratorMethod.call(O);next=iterator.next;result=new C;for(;!(step=next.call(iterator)).done;index++){value=mapping?callWithSafeIterationClosing(iterator,mapfn,[step.value,index],true):step.value;createProperty(result,index,value)}}else{length=toLength(O.length);result=new C(length);for(;length>index;index++){value=mapping?mapfn(O[index],index):O[index];createProperty(result,index,value)}}result.length=index;return result}},{"../internals/call-with-safe-iteration-closing":44,"../internals/create-property":57,"../internals/function-bind-context":72,"../internals/get-iterator-method":75,"../internals/is-array-iterator-method":89,"../internals/to-length":152,"../internals/to-object":153}],36:[function(_dereq_,module,exports){var toIndexedObject=_dereq_("../internals/to-indexed-object");var toLength=_dereq_("../internals/to-length");var toAbsoluteIndex=_dereq_("../internals/to-absolute-index");var createMethod=function(IS_INCLUDES){return function($this,el,fromIndex){var O=toIndexedObject($this);var length=toLength(O.length);var index=toAbsoluteIndex(fromIndex,length);var value;if(IS_INCLUDES&&el!=el)while(length>index){value=O[index++];if(value!=value)return true}else for(;length>index;index++){if((IS_INCLUDES||index in O)&&O[index]===el)return IS_INCLUDES||index||0}return!IS_INCLUDES&&-1}};module.exports={includes:createMethod(true),indexOf:createMethod(false)}},{"../internals/to-absolute-index":148,"../internals/to-indexed-object":150,"../internals/to-length":152}],37:[function(_dereq_,module,exports){var bind=_dereq_("../internals/function-bind-context");var IndexedObject=_dereq_("../internals/indexed-object");var toObject=_dereq_("../internals/to-object");var toLength=_dereq_("../internals/to-length");var arraySpeciesCreate=_dereq_("../internals/array-species-create");var push=[].push;var createMethod=function(TYPE){var IS_MAP=TYPE==1;var IS_FILTER=TYPE==2;var IS_SOME=TYPE==3;var IS_EVERY=TYPE==4;var IS_FIND_INDEX=TYPE==6;var NO_HOLES=TYPE==5||IS_FIND_INDEX;return function($this,callbackfn,that,specificCreate){var O=toObject($this);var self=IndexedObject(O);var boundFunction=bind(callbackfn,that,3);var length=toLength(self.length);var index=0;var create=specificCreate||arraySpeciesCreate;var target=IS_MAP?create($this,length):IS_FILTER?create($this,0):undefined;var value,result;for(;length>index;index++)if(NO_HOLES||index in self){value=self[index];result=boundFunction(value,index,O);if(TYPE){if(IS_MAP)target[index]=result;else if(result)switch(TYPE){case 3:return true;case 5:return value;case 6:return index;case 2:push.call(target,value)}else if(IS_EVERY)return false}}return IS_FIND_INDEX?-1:IS_SOME||IS_EVERY?IS_EVERY:target}};module.exports={forEach:createMethod(0),map:createMethod(1),filter:createMethod(2),some:createMethod(3),every:createMethod(4),find:createMethod(5),findIndex:createMethod(6)}},{"../internals/array-species-create":43,"../internals/function-bind-context":72,"../internals/indexed-object":84,"../internals/to-length":152,"../internals/to-object":153}],38:[function(_dereq_,module,exports){"use strict";var toIndexedObject=_dereq_("../internals/to-indexed-object");var toInteger=_dereq_("../internals/to-integer");var toLength=_dereq_("../internals/to-length");var arrayMethodIsStrict=_dereq_("../internals/array-method-is-strict");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var min=Math.min;var nativeLastIndexOf=[].lastIndexOf;var NEGATIVE_ZERO=!!nativeLastIndexOf&&1/[1].lastIndexOf(1,-0)<0;var STRICT_METHOD=arrayMethodIsStrict("lastIndexOf");var USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:true,1:0});var FORCED=NEGATIVE_ZERO||!STRICT_METHOD||!USES_TO_LENGTH;module.exports=FORCED?function lastIndexOf(searchElement){if(NEGATIVE_ZERO)return nativeLastIndexOf.apply(this,arguments)||0;var O=toIndexedObject(this);var length=toLength(O.length);var index=length-1;if(arguments.length>1)index=min(index,toInteger(arguments[1]));if(index<0)index=length+index;for(;index>=0;index--)if(index in O&&O[index]===searchElement)return index||0;return-1}:nativeLastIndexOf},{"../internals/array-method-is-strict":40,"../internals/array-method-uses-to-length":41,"../internals/to-indexed-object":150,"../internals/to-integer":151,"../internals/to-length":152}],39:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var V8_VERSION=_dereq_("../internals/engine-v8-version");var SPECIES=wellKnownSymbol("species");module.exports=function(METHOD_NAME){return V8_VERSION>=51||!fails(function(){var array=[];var constructor=array.constructor={};constructor[SPECIES]=function(){return{foo:1}};return array[METHOD_NAME](Boolean).foo!==1})}},{"../internals/engine-v8-version":65,"../internals/fails":68,"../internals/well-known-symbol":164}],40:[function(_dereq_,module,exports){"use strict";var fails=_dereq_("../internals/fails");module.exports=function(METHOD_NAME,argument){var method=[][METHOD_NAME];return!!method&&fails(function(){method.call(null,argument||function(){throw 1},1)})}},{"../internals/fails":68}],41:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var fails=_dereq_("../internals/fails");var has=_dereq_("../internals/has");var defineProperty=Object.defineProperty;var cache={};var thrower=function(it){throw it};module.exports=function(METHOD_NAME,options){if(has(cache,METHOD_NAME))return cache[METHOD_NAME];if(!options)options={};var method=[][METHOD_NAME];var ACCESSORS=has(options,"ACCESSORS")?options.ACCESSORS:false;var argument0=has(options,0)?options[0]:thrower;var argument1=has(options,1)?options[1]:undefined;return cache[METHOD_NAME]=!!method&&!fails(function(){if(ACCESSORS&&!DESCRIPTORS)return true;var O={length:-1};if(ACCESSORS)defineProperty(O,1,{enumerable:true,get:thrower});else O[1]=1;method.call(O,argument0,argument1)})}},{"../internals/descriptors":60,"../internals/fails":68,"../internals/has":78}],42:[function(_dereq_,module,exports){var aFunction=_dereq_("../internals/a-function");var toObject=_dereq_("../internals/to-object");var IndexedObject=_dereq_("../internals/indexed-object");var toLength=_dereq_("../internals/to-length");var createMethod=function(IS_RIGHT){return function(that,callbackfn,argumentsLength,memo){aFunction(callbackfn);var O=toObject(that);var self=IndexedObject(O);var length=toLength(O.length);var index=IS_RIGHT?length-1:0;var i=IS_RIGHT?-1:1;if(argumentsLength<2)while(true){if(index in self){memo=self[index];index+=i;break}index+=i;if(IS_RIGHT?index<0:length<=index){throw TypeError("Reduce of empty array with no initial value")}}for(;IS_RIGHT?index>=0:length>index;index+=i)if(index in self){memo=callbackfn(memo,self[index],index,O)}return memo}};module.exports={left:createMethod(false),right:createMethod(true)}},{"../internals/a-function":23,"../internals/indexed-object":84,"../internals/to-length":152,"../internals/to-object":153}],43:[function(_dereq_,module,exports){var isObject=_dereq_("../internals/is-object");var isArray=_dereq_("../internals/is-array");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var SPECIES=wellKnownSymbol("species");module.exports=function(originalArray,length){var C;if(isArray(originalArray)){C=originalArray.constructor;if(typeof C=="function"&&(C===Array||isArray(C.prototype)))C=undefined;else if(isObject(C)){C=C[SPECIES];if(C===null)C=undefined}}return new(C===undefined?Array:C)(length===0?0:length)}},{"../internals/is-array":90,"../internals/is-object":92,"../internals/well-known-symbol":164}],44:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");module.exports=function(iterator,fn,value,ENTRIES){try{return ENTRIES?fn(anObject(value)[0],value[1]):fn(value)}catch(error){var returnMethod=iterator["return"];if(returnMethod!==undefined)anObject(returnMethod.call(iterator));throw error}}},{"../internals/an-object":28}],45:[function(_dereq_,module,exports){var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var ITERATOR=wellKnownSymbol("iterator");var SAFE_CLOSING=false;try{var called=0;var iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=true}};iteratorWithReturn[ITERATOR]=function(){return this};Array.from(iteratorWithReturn,function(){throw 2})}catch(error){}module.exports=function(exec,SKIP_CLOSING){if(!SKIP_CLOSING&&!SAFE_CLOSING)return false;var ITERATION_SUPPORT=false;try{var object={};object[ITERATOR]=function(){return{next:function(){return{done:ITERATION_SUPPORT=true}}}};exec(object)}catch(error){}return ITERATION_SUPPORT}},{"../internals/well-known-symbol":164}],46:[function(_dereq_,module,exports){var toString={}.toString;module.exports=function(it){return toString.call(it).slice(8,-1)}},{}],47:[function(_dereq_,module,exports){var TO_STRING_TAG_SUPPORT=_dereq_("../internals/to-string-tag-support");var classofRaw=_dereq_("../internals/classof-raw");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var TO_STRING_TAG=wellKnownSymbol("toStringTag");var CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments";var tryGet=function(it,key){try{return it[key]}catch(error){}};module.exports=TO_STRING_TAG_SUPPORT?classofRaw:function(it){var O,tag,result;return it===undefined?"Undefined":it===null?"Null":typeof(tag=tryGet(O=Object(it),TO_STRING_TAG))=="string"?tag:CORRECT_ARGUMENTS?classofRaw(O):(result=classofRaw(O))=="Object"&&typeof O.callee=="function"?"Arguments":result}},{"../internals/classof-raw":46,"../internals/to-string-tag-support":157,"../internals/well-known-symbol":164}],48:[function(_dereq_,module,exports){"use strict";var defineProperty=_dereq_("../internals/object-define-property").f;var create=_dereq_("../internals/object-create");var redefineAll=_dereq_("../internals/redefine-all");var bind=_dereq_("../internals/function-bind-context");var anInstance=_dereq_("../internals/an-instance");var iterate=_dereq_("../internals/iterate");var defineIterator=_dereq_("../internals/define-iterator");var setSpecies=_dereq_("../internals/set-species");var DESCRIPTORS=_dereq_("../internals/descriptors");var fastKey=_dereq_("../internals/internal-metadata").fastKey;var InternalStateModule=_dereq_("../internals/internal-state");var setInternalState=InternalStateModule.set;var internalStateGetterFor=InternalStateModule.getterFor;module.exports={getConstructor:function(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER){var C=wrapper(function(that,iterable){anInstance(that,C,CONSTRUCTOR_NAME);setInternalState(that,{type:CONSTRUCTOR_NAME,index:create(null),first:undefined,last:undefined,size:0});if(!DESCRIPTORS)that.size=0;if(iterable!=undefined)iterate(iterable,that[ADDER],that,IS_MAP)});var getInternalState=internalStateGetterFor(CONSTRUCTOR_NAME);var define=function(that,key,value){var state=getInternalState(that);var entry=getEntry(that,key);var previous,index;if(entry){entry.value=value}else{state.last=entry={index:index=fastKey(key,true),key:key,value:value,previous:previous=state.last,next:undefined,removed:false};if(!state.first)state.first=entry;if(previous)previous.next=entry;if(DESCRIPTORS)state.size++;else that.size++;if(index!=="F")state.index[index]=entry}return that};var getEntry=function(that,key){var state=getInternalState(that);var index=fastKey(key);var entry;if(index!=="F")return state.index[index];for(entry=state.first;entry;entry=entry.next){if(entry.key==key)return entry}};redefineAll(C.prototype,{clear:function clear(){var that=this;var state=getInternalState(that);var data=state.index;var entry=state.first;while(entry){entry.removed=true;if(entry.previous)entry.previous=entry.previous.next=undefined;delete data[entry.index];entry=entry.next}state.first=state.last=undefined;if(DESCRIPTORS)state.size=0;else that.size=0},delete:function(key){var that=this;var state=getInternalState(that);var entry=getEntry(that,key);if(entry){var next=entry.next;var prev=entry.previous;delete state.index[entry.index];entry.removed=true;if(prev)prev.next=next;if(next)next.previous=prev;if(state.first==entry)state.first=next;if(state.last==entry)state.last=prev;if(DESCRIPTORS)state.size--;else that.size--}return!!entry},forEach:function forEach(callbackfn){var state=getInternalState(this);var boundFunction=bind(callbackfn,arguments.length>1?arguments[1]:undefined,3);var entry;while(entry=entry?entry.next:state.first){boundFunction(entry.value,entry.key,this);while(entry&&entry.removed)entry=entry.previous}},has:function has(key){return!!getEntry(this,key)}});redefineAll(C.prototype,IS_MAP?{get:function get(key){var entry=getEntry(this,key);return entry&&entry.value},set:function set(key,value){return define(this,key===0?0:key,value)}}:{add:function add(value){return define(this,value=value===0?0:value,value)}});if(DESCRIPTORS)defineProperty(C.prototype,"size",{get:function(){return getInternalState(this).size}});return C},setStrong:function(C,CONSTRUCTOR_NAME,IS_MAP){var ITERATOR_NAME=CONSTRUCTOR_NAME+" Iterator";var getInternalCollectionState=internalStateGetterFor(CONSTRUCTOR_NAME);var getInternalIteratorState=internalStateGetterFor(ITERATOR_NAME);defineIterator(C,CONSTRUCTOR_NAME,function(iterated,kind){setInternalState(this,{type:ITERATOR_NAME,target:iterated,state:getInternalCollectionState(iterated),kind:kind,last:undefined})},function(){var state=getInternalIteratorState(this);var kind=state.kind;var entry=state.last;while(entry&&entry.removed)entry=entry.previous;if(!state.target||!(state.last=entry=entry?entry.next:state.state.first)){state.target=undefined;return{value:undefined,done:true}}if(kind=="keys")return{value:entry.key,done:false};if(kind=="values")return{value:entry.value,done:false};return{value:[entry.key,entry.value],done:false}},IS_MAP?"entries":"values",!IS_MAP,true);setSpecies(CONSTRUCTOR_NAME)}}},{"../internals/an-instance":27,"../internals/define-iterator":58,"../internals/descriptors":60,"../internals/function-bind-context":72,"../internals/internal-metadata":87,"../internals/internal-state":88,"../internals/iterate":95,"../internals/object-create":108,"../internals/object-define-property":110,"../internals/redefine-all":125,"../internals/set-species":134}],49:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var global=_dereq_("../internals/global");var isForced=_dereq_("../internals/is-forced");var redefine=_dereq_("../internals/redefine");var InternalMetadataModule=_dereq_("../internals/internal-metadata");var iterate=_dereq_("../internals/iterate");var anInstance=_dereq_("../internals/an-instance");var isObject=_dereq_("../internals/is-object");var fails=_dereq_("../internals/fails");var checkCorrectnessOfIteration=_dereq_("../internals/check-correctness-of-iteration");var setToStringTag=_dereq_("../internals/set-to-string-tag");var inheritIfRequired=_dereq_("../internals/inherit-if-required");module.exports=function(CONSTRUCTOR_NAME,wrapper,common){var IS_MAP=CONSTRUCTOR_NAME.indexOf("Map")!==-1;var IS_WEAK=CONSTRUCTOR_NAME.indexOf("Weak")!==-1;var ADDER=IS_MAP?"set":"add";var NativeConstructor=global[CONSTRUCTOR_NAME];var NativePrototype=NativeConstructor&&NativeConstructor.prototype;var Constructor=NativeConstructor;var exported={};var fixMethod=function(KEY){var nativeMethod=NativePrototype[KEY];redefine(NativePrototype,KEY,KEY=="add"?function add(value){nativeMethod.call(this,value===0?0:value);return this}:KEY=="delete"?function(key){return IS_WEAK&&!isObject(key)?false:nativeMethod.call(this,key===0?0:key)}:KEY=="get"?function get(key){return IS_WEAK&&!isObject(key)?undefined:nativeMethod.call(this,key===0?0:key)}:KEY=="has"?function has(key){return IS_WEAK&&!isObject(key)?false:nativeMethod.call(this,key===0?0:key)}:function set(key,value){nativeMethod.call(this,key===0?0:key,value);return this})};if(isForced(CONSTRUCTOR_NAME,typeof NativeConstructor!="function"||!(IS_WEAK||NativePrototype.forEach&&!fails(function(){(new NativeConstructor).entries().next()})))){Constructor=common.getConstructor(wrapper,CONSTRUCTOR_NAME,IS_MAP,ADDER);InternalMetadataModule.REQUIRED=true}else if(isForced(CONSTRUCTOR_NAME,true)){var instance=new Constructor;var HASNT_CHAINING=instance[ADDER](IS_WEAK?{}:-0,1)!=instance;var THROWS_ON_PRIMITIVES=fails(function(){instance.has(1)});var ACCEPT_ITERABLES=checkCorrectnessOfIteration(function(iterable){new NativeConstructor(iterable)});var BUGGY_ZERO=!IS_WEAK&&fails(function(){var $instance=new NativeConstructor;var index=5;while(index--)$instance[ADDER](index,index);return!$instance.has(-0)});if(!ACCEPT_ITERABLES){Constructor=wrapper(function(dummy,iterable){anInstance(dummy,Constructor,CONSTRUCTOR_NAME);var that=inheritIfRequired(new NativeConstructor,dummy,Constructor);if(iterable!=undefined)iterate(iterable,that[ADDER],that,IS_MAP);return that});Constructor.prototype=NativePrototype;NativePrototype.constructor=Constructor}if(THROWS_ON_PRIMITIVES||BUGGY_ZERO){fixMethod("delete");fixMethod("has");IS_MAP&&fixMethod("get")}if(BUGGY_ZERO||HASNT_CHAINING)fixMethod(ADDER);if(IS_WEAK&&NativePrototype.clear)delete NativePrototype.clear}exported[CONSTRUCTOR_NAME]=Constructor;$({global:true,forced:Constructor!=NativeConstructor},exported);setToStringTag(Constructor,CONSTRUCTOR_NAME);if(!IS_WEAK)common.setStrong(Constructor,CONSTRUCTOR_NAME,IS_MAP);return Constructor}},{"../internals/an-instance":27,"../internals/check-correctness-of-iteration":45,"../internals/export":67,"../internals/fails":68,"../internals/global":77,"../internals/inherit-if-required":85,"../internals/internal-metadata":87,"../internals/is-forced":91,"../internals/is-object":92,"../internals/iterate":95,"../internals/redefine":126,"../internals/set-to-string-tag":135}],50:[function(_dereq_,module,exports){var has=_dereq_("../internals/has");var ownKeys=_dereq_("../internals/own-keys");var getOwnPropertyDescriptorModule=_dereq_("../internals/object-get-own-property-descriptor");var definePropertyModule=_dereq_("../internals/object-define-property");module.exports=function(target,source){var keys=ownKeys(source);var defineProperty=definePropertyModule.f;var getOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f;for(var i=0;i<keys.length;i++){var key=keys[i];if(!has(target,key))defineProperty(target,key,getOwnPropertyDescriptor(source,key))}}},{"../internals/has":78,"../internals/object-define-property":110,"../internals/object-get-own-property-descriptor":111,"../internals/own-keys":121}],51:[function(_dereq_,module,exports){var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var MATCH=wellKnownSymbol("match");module.exports=function(METHOD_NAME){var regexp=/./;try{"/./"[METHOD_NAME](regexp)}catch(e){try{regexp[MATCH]=false;return"/./"[METHOD_NAME](regexp)}catch(f){}}return false}},{"../internals/well-known-symbol":164}],52:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");module.exports=!fails(function(){function F(){}F.prototype.constructor=null;return Object.getPrototypeOf(new F)!==F.prototype})},{"../internals/fails":68}],53:[function(_dereq_,module,exports){var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var quot=/"/g;module.exports=function(string,tag,attribute,value){var S=String(requireObjectCoercible(string));var p1="<"+tag;if(attribute!=="")p1+=" "+attribute+'="'+String(value).replace(quot,"&quot;")+'"';return p1+">"+S+"</"+tag+">"}},{"../internals/require-object-coercible":131}],54:[function(_dereq_,module,exports){"use strict";var IteratorPrototype=_dereq_("../internals/iterators-core").IteratorPrototype;var create=_dereq_("../internals/object-create");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");var setToStringTag=_dereq_("../internals/set-to-string-tag");var Iterators=_dereq_("../internals/iterators");var returnThis=function(){return this};module.exports=function(IteratorConstructor,NAME,next){var TO_STRING_TAG=NAME+" Iterator";IteratorConstructor.prototype=create(IteratorPrototype,{next:createPropertyDescriptor(1,next)});setToStringTag(IteratorConstructor,TO_STRING_TAG,false,true);Iterators[TO_STRING_TAG]=returnThis;return IteratorConstructor}},{"../internals/create-property-descriptor":56,"../internals/iterators":97,"../internals/iterators-core":96,"../internals/object-create":108,"../internals/set-to-string-tag":135}],55:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var definePropertyModule=_dereq_("../internals/object-define-property");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");module.exports=DESCRIPTORS?function(object,key,value){return definePropertyModule.f(object,key,createPropertyDescriptor(1,value))}:function(object,key,value){object[key]=value;return object}},{"../internals/create-property-descriptor":56,"../internals/descriptors":60,"../internals/object-define-property":110}],56:[function(_dereq_,module,exports){module.exports=function(bitmap,value){return{enumerable:!(bitmap&1),configurable:!(bitmap&2),writable:!(bitmap&4),value:value}}},{}],57:[function(_dereq_,module,exports){"use strict";var toPrimitive=_dereq_("../internals/to-primitive");var definePropertyModule=_dereq_("../internals/object-define-property");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");module.exports=function(object,key,value){var propertyKey=toPrimitive(key);if(propertyKey in object)definePropertyModule.f(object,propertyKey,createPropertyDescriptor(0,value));else object[propertyKey]=value}},{"../internals/create-property-descriptor":56,"../internals/object-define-property":110,"../internals/to-primitive":156}],58:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var createIteratorConstructor=_dereq_("../internals/create-iterator-constructor");var getPrototypeOf=_dereq_("../internals/object-get-prototype-of");var setPrototypeOf=_dereq_("../internals/object-set-prototype-of");var setToStringTag=_dereq_("../internals/set-to-string-tag");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var redefine=_dereq_("../internals/redefine");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var IS_PURE=_dereq_("../internals/is-pure");var Iterators=_dereq_("../internals/iterators");var IteratorsCore=_dereq_("../internals/iterators-core");var IteratorPrototype=IteratorsCore.IteratorPrototype;var BUGGY_SAFARI_ITERATORS=IteratorsCore.BUGGY_SAFARI_ITERATORS;var ITERATOR=wellKnownSymbol("iterator");var KEYS="keys";var VALUES="values";var ENTRIES="entries";var returnThis=function(){return this};module.exports=function(Iterable,NAME,IteratorConstructor,next,DEFAULT,IS_SET,FORCED){createIteratorConstructor(IteratorConstructor,NAME,next);var getIterationMethod=function(KIND){if(KIND===DEFAULT&&defaultIterator)return defaultIterator;if(!BUGGY_SAFARI_ITERATORS&&KIND in IterablePrototype)return IterablePrototype[KIND];switch(KIND){case KEYS:return function keys(){return new IteratorConstructor(this,KIND)};case VALUES:return function values(){return new IteratorConstructor(this,KIND)};case ENTRIES:return function entries(){return new IteratorConstructor(this,KIND)}}return function(){return new IteratorConstructor(this)}};var TO_STRING_TAG=NAME+" Iterator";var INCORRECT_VALUES_NAME=false;var IterablePrototype=Iterable.prototype;var nativeIterator=IterablePrototype[ITERATOR]||IterablePrototype["@@iterator"]||DEFAULT&&IterablePrototype[DEFAULT];var defaultIterator=!BUGGY_SAFARI_ITERATORS&&nativeIterator||getIterationMethod(DEFAULT);var anyNativeIterator=NAME=="Array"?IterablePrototype.entries||nativeIterator:nativeIterator;var CurrentIteratorPrototype,methods,KEY;if(anyNativeIterator){CurrentIteratorPrototype=getPrototypeOf(anyNativeIterator.call(new Iterable));if(IteratorPrototype!==Object.prototype&&CurrentIteratorPrototype.next){if(!IS_PURE&&getPrototypeOf(CurrentIteratorPrototype)!==IteratorPrototype){if(setPrototypeOf){setPrototypeOf(CurrentIteratorPrototype,IteratorPrototype)}else if(typeof CurrentIteratorPrototype[ITERATOR]!="function"){createNonEnumerableProperty(CurrentIteratorPrototype,ITERATOR,returnThis)}}setToStringTag(CurrentIteratorPrototype,TO_STRING_TAG,true,true);if(IS_PURE)Iterators[TO_STRING_TAG]=returnThis}}if(DEFAULT==VALUES&&nativeIterator&&nativeIterator.name!==VALUES){INCORRECT_VALUES_NAME=true;defaultIterator=function values(){return nativeIterator.call(this)}}if((!IS_PURE||FORCED)&&IterablePrototype[ITERATOR]!==defaultIterator){createNonEnumerableProperty(IterablePrototype,ITERATOR,defaultIterator)}Iterators[NAME]=defaultIterator;if(DEFAULT){methods={values:getIterationMethod(VALUES),keys:IS_SET?defaultIterator:getIterationMethod(KEYS),entries:getIterationMethod(ENTRIES)};if(FORCED)for(KEY in methods){if(BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME||!(KEY in IterablePrototype)){redefine(IterablePrototype,KEY,methods[KEY])}}else $({target:NAME,proto:true,forced:BUGGY_SAFARI_ITERATORS||INCORRECT_VALUES_NAME},methods)}return methods}},{"../internals/create-iterator-constructor":54,"../internals/create-non-enumerable-property":55,"../internals/export":67,"../internals/is-pure":93,"../internals/iterators":97,"../internals/iterators-core":96,"../internals/object-get-prototype-of":115,"../internals/object-set-prototype-of":119,"../internals/redefine":126,"../internals/set-to-string-tag":135,"../internals/well-known-symbol":164}],59:[function(_dereq_,module,exports){var path=_dereq_("../internals/path");var has=_dereq_("../internals/has");var wrappedWellKnownSymbolModule=_dereq_("../internals/well-known-symbol-wrapped");var defineProperty=_dereq_("../internals/object-define-property").f;module.exports=function(NAME){var Symbol=path.Symbol||(path.Symbol={});if(!has(Symbol,NAME))defineProperty(Symbol,NAME,{value:wrappedWellKnownSymbolModule.f(NAME)})}},{"../internals/has":78,"../internals/object-define-property":110,"../internals/path":122,"../internals/well-known-symbol-wrapped":163}],60:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");module.exports=!fails(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":68}],61:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var isObject=_dereq_("../internals/is-object");var document=global.document;var EXISTS=isObject(document)&&isObject(document.createElement);module.exports=function(it){return EXISTS?document.createElement(it):{}}},{"../internals/global":77,"../internals/is-object":92}],62:[function(_dereq_,module,exports){module.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],63:[function(_dereq_,module,exports){var userAgent=_dereq_("../internals/engine-user-agent");module.exports=/(iphone|ipod|ipad).*applewebkit/i.test(userAgent)},{"../internals/engine-user-agent":64}],64:[function(_dereq_,module,exports){var getBuiltIn=_dereq_("../internals/get-built-in");module.exports=getBuiltIn("navigator","userAgent")||""},{"../internals/get-built-in":74}],65:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var userAgent=_dereq_("../internals/engine-user-agent");var process=global.process;var versions=process&&process.versions;var v8=versions&&versions.v8;var match,version;if(v8){match=v8.split(".");version=match[0]+match[1]}else if(userAgent){match=userAgent.match(/Edge\/(\d+)/);if(!match||match[1]>=74){match=userAgent.match(/Chrome\/(\d+)/);if(match)version=match[1]}}module.exports=version&&+version},{"../internals/engine-user-agent":64,"../internals/global":77}],66:[function(_dereq_,module,exports){module.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],67:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var getOwnPropertyDescriptor=_dereq_("../internals/object-get-own-property-descriptor").f;var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var redefine=_dereq_("../internals/redefine");var setGlobal=_dereq_("../internals/set-global");var copyConstructorProperties=_dereq_("../internals/copy-constructor-properties");var isForced=_dereq_("../internals/is-forced");module.exports=function(options,source){var TARGET=options.target;var GLOBAL=options.global;var STATIC=options.stat;var FORCED,target,key,targetProperty,sourceProperty,descriptor;if(GLOBAL){target=global}else if(STATIC){target=global[TARGET]||setGlobal(TARGET,{})}else{target=(global[TARGET]||{}).prototype}if(target)for(key in source){sourceProperty=source[key];if(options.noTargetGet){descriptor=getOwnPropertyDescriptor(target,key);targetProperty=descriptor&&descriptor.value}else targetProperty=target[key];FORCED=isForced(GLOBAL?key:TARGET+(STATIC?".":"#")+key,options.forced);if(!FORCED&&targetProperty!==undefined){if(typeof sourceProperty===typeof targetProperty)continue;copyConstructorProperties(sourceProperty,targetProperty)}if(options.sham||targetProperty&&targetProperty.sham){createNonEnumerableProperty(sourceProperty,"sham",true)}redefine(target,key,sourceProperty,options)}}},{"../internals/copy-constructor-properties":50,"../internals/create-non-enumerable-property":55,"../internals/global":77,"../internals/is-forced":91,"../internals/object-get-own-property-descriptor":111,"../internals/redefine":126,"../internals/set-global":133}],68:[function(_dereq_,module,exports){module.exports=function(exec){try{return!!exec()}catch(error){return true}}},{}],69:[function(_dereq_,module,exports){"use strict";_dereq_("../modules/es.regexp.exec");var redefine=_dereq_("../internals/redefine");var fails=_dereq_("../internals/fails");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var regexpExec=_dereq_("../internals/regexp-exec");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var SPECIES=wellKnownSymbol("species");var REPLACE_SUPPORTS_NAMED_GROUPS=!fails(function(){var re=/./;re.exec=function(){var result=[];result.groups={a:"7"};return result};return"".replace(re,"$<a>")!=="7"});var REPLACE_KEEPS_$0=function(){return"a".replace(/./,"$0")==="$0"}();var REPLACE=wellKnownSymbol("replace");var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=function(){if(/./[REPLACE]){return/./[REPLACE]("a","$0")===""}return false}();var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC=!fails(function(){var re=/(?:)/;var originalExec=re.exec;re.exec=function(){return originalExec.apply(this,arguments)};var result="ab".split(re);return result.length!==2||result[0]!=="a"||result[1]!=="b"});module.exports=function(KEY,length,exec,sham){var SYMBOL=wellKnownSymbol(KEY);var DELEGATES_TO_SYMBOL=!fails(function(){var O={};O[SYMBOL]=function(){return 7};return""[KEY](O)!=7});var DELEGATES_TO_EXEC=DELEGATES_TO_SYMBOL&&!fails(function(){var execCalled=false;var re=/a/;if(KEY==="split"){re={};re.constructor={};re.constructor[SPECIES]=function(){return re};re.flags="";re[SYMBOL]=/./[SYMBOL]}re.exec=function(){execCalled=true;return null};re[SYMBOL]("");return!execCalled});if(!DELEGATES_TO_SYMBOL||!DELEGATES_TO_EXEC||KEY==="replace"&&!(REPLACE_SUPPORTS_NAMED_GROUPS&&REPLACE_KEEPS_$0&&!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE)||KEY==="split"&&!SPLIT_WORKS_WITH_OVERWRITTEN_EXEC){var nativeRegExpMethod=/./[SYMBOL];var methods=exec(SYMBOL,""[KEY],function(nativeMethod,regexp,str,arg2,forceStringMethod){if(regexp.exec===regexpExec){if(DELEGATES_TO_SYMBOL&&!forceStringMethod){return{done:true,value:nativeRegExpMethod.call(regexp,str,arg2)}}return{done:true,value:nativeMethod.call(str,regexp,arg2)}}return{done:false}},{REPLACE_KEEPS_$0:REPLACE_KEEPS_$0,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE});var stringMethod=methods[0];var regexMethod=methods[1];redefine(String.prototype,KEY,stringMethod);redefine(RegExp.prototype,SYMBOL,length==2?function(string,arg){return regexMethod.call(string,this,arg)}:function(string){return regexMethod.call(string,this)})}if(sham)createNonEnumerableProperty(RegExp.prototype[SYMBOL],"sham",true)}},{"../internals/create-non-enumerable-property":55,"../internals/fails":68,"../internals/redefine":126,"../internals/regexp-exec":128,"../internals/well-known-symbol":164,"../modules/es.regexp.exec":199}],70:[function(_dereq_,module,exports){"use strict";var isArray=_dereq_("../internals/is-array");var toLength=_dereq_("../internals/to-length");var bind=_dereq_("../internals/function-bind-context");var flattenIntoArray=function(target,original,source,sourceLen,start,depth,mapper,thisArg){var targetIndex=start;var sourceIndex=0;var mapFn=mapper?bind(mapper,thisArg,3):false;var element;while(sourceIndex<sourceLen){if(sourceIndex in source){element=mapFn?mapFn(source[sourceIndex],sourceIndex,original):source[sourceIndex];if(depth>0&&isArray(element)){targetIndex=flattenIntoArray(target,original,element,toLength(element.length),targetIndex,depth-1)-1}else{if(targetIndex>=9007199254740991)throw TypeError("Exceed the acceptable array length");target[targetIndex]=element}targetIndex++}sourceIndex++}return targetIndex};module.exports=flattenIntoArray},{"../internals/function-bind-context":72,"../internals/is-array":90,"../internals/to-length":152}],71:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");module.exports=!fails(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":68}],72:[function(_dereq_,module,exports){var aFunction=_dereq_("../internals/a-function");module.exports=function(fn,that,length){aFunction(fn);if(that===undefined)return fn;switch(length){case 0:return function(){return fn.call(that)};case 1:return function(a){return fn.call(that,a)};case 2:return function(a,b){return fn.call(that,a,b)};case 3:return function(a,b,c){return fn.call(that,a,b,c)}}return function(){return fn.apply(that,arguments)}}},{"../internals/a-function":23}],73:[function(_dereq_,module,exports){"use strict";var aFunction=_dereq_("../internals/a-function");var isObject=_dereq_("../internals/is-object");var slice=[].slice;var factories={};var construct=function(C,argsLength,args){if(!(argsLength in factories)){for(var list=[],i=0;i<argsLength;i++)list[i]="a["+i+"]";factories[argsLength]=Function("C,a","return new C("+list.join(",")+")")}return factories[argsLength](C,args)};module.exports=Function.bind||function bind(that){var fn=aFunction(this);var partArgs=slice.call(arguments,1);var boundFunction=function bound(){var args=partArgs.concat(slice.call(arguments));return this instanceof boundFunction?construct(fn,args.length,args):fn.apply(that,args)};if(isObject(fn.prototype))boundFunction.prototype=fn.prototype;return boundFunction}},{"../internals/a-function":23,"../internals/is-object":92}],74:[function(_dereq_,module,exports){var path=_dereq_("../internals/path");var global=_dereq_("../internals/global");var aFunction=function(variable){return typeof variable=="function"?variable:undefined};module.exports=function(namespace,method){return arguments.length<2?aFunction(path[namespace])||aFunction(global[namespace]):path[namespace]&&path[namespace][method]||global[namespace]&&global[namespace][method]}},{"../internals/global":77,"../internals/path":122}],75:[function(_dereq_,module,exports){var classof=_dereq_("../internals/classof");var Iterators=_dereq_("../internals/iterators");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var ITERATOR=wellKnownSymbol("iterator");module.exports=function(it){if(it!=undefined)return it[ITERATOR]||it["@@iterator"]||Iterators[classof(it)]}},{"../internals/classof":47,"../internals/iterators":97,"../internals/well-known-symbol":164}],76:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");var getIteratorMethod=_dereq_("../internals/get-iterator-method");module.exports=function(it){var iteratorMethod=getIteratorMethod(it);if(typeof iteratorMethod!="function"){throw TypeError(String(it)+" is not iterable")}return anObject(iteratorMethod.call(it))}},{"../internals/an-object":28,"../internals/get-iterator-method":75}],77:[function(_dereq_,module,exports){(function(global){var check=function(it){return it&&it.Math==Math&&it};module.exports=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof global=="object"&&global)||Function("return this")()}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],78:[function(_dereq_,module,exports){var hasOwnProperty={}.hasOwnProperty;module.exports=function(it,key){return hasOwnProperty.call(it,key)}},{}],79:[function(_dereq_,module,exports){module.exports={}},{}],80:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");module.exports=function(a,b){var console=global.console;if(console&&console.error){arguments.length===1?console.error(a):console.error(a,b)}}},{"../internals/global":77}],81:[function(_dereq_,module,exports){var getBuiltIn=_dereq_("../internals/get-built-in");module.exports=getBuiltIn("document","documentElement")},{"../internals/get-built-in":74}],82:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var fails=_dereq_("../internals/fails");var createElement=_dereq_("../internals/document-create-element");module.exports=!DESCRIPTORS&&!fails(function(){return Object.defineProperty(createElement("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":60,"../internals/document-create-element":61,"../internals/fails":68}],83:[function(_dereq_,module,exports){var Infinity=1/0;var abs=Math.abs;var pow=Math.pow;var floor=Math.floor;var log=Math.log;var LN2=Math.LN2;var pack=function(number,mantissaLength,bytes){var buffer=new Array(bytes);var exponentLength=bytes*8-mantissaLength-1;var eMax=(1<<exponentLength)-1;var eBias=eMax>>1;var rt=mantissaLength===23?pow(2,-24)-pow(2,-77):0;var sign=number<0||number===0&&1/number<0?1:0;var index=0;var exponent,mantissa,c;number=abs(number);if(number!=number||number===Infinity){mantissa=number!=number?1:0;exponent=eMax}else{exponent=floor(log(number)/LN2);if(number*(c=pow(2,-exponent))<1){exponent--;c*=2}if(exponent+eBias>=1){number+=rt/c}else{number+=rt*pow(2,1-eBias)}if(number*c>=2){exponent++;c/=2}if(exponent+eBias>=eMax){mantissa=0;exponent=eMax}else if(exponent+eBias>=1){mantissa=(number*c-1)*pow(2,mantissaLength);exponent=exponent+eBias}else{mantissa=number*pow(2,eBias-1)*pow(2,mantissaLength);exponent=0}}for(;mantissaLength>=8;buffer[index++]=mantissa&255,mantissa/=256,mantissaLength-=8);exponent=exponent<<mantissaLength|mantissa;exponentLength+=mantissaLength;for(;exponentLength>0;buffer[index++]=exponent&255,exponent/=256,exponentLength-=8);buffer[--index]|=sign*128;return buffer};var unpack=function(buffer,mantissaLength){var bytes=buffer.length;var exponentLength=bytes*8-mantissaLength-1;var eMax=(1<<exponentLength)-1;var eBias=eMax>>1;var nBits=exponentLength-7;var index=bytes-1;var sign=buffer[index--];var exponent=sign&127;var mantissa;sign>>=7;for(;nBits>0;exponent=exponent*256+buffer[index],index--,nBits-=8);mantissa=exponent&(1<<-nBits)-1;exponent>>=-nBits;nBits+=mantissaLength;for(;nBits>0;mantissa=mantissa*256+buffer[index],index--,nBits-=8);if(exponent===0){exponent=1-eBias}else if(exponent===eMax){return mantissa?NaN:sign?-Infinity:Infinity}else{mantissa=mantissa+pow(2,mantissaLength);exponent=exponent-eBias}return(sign?-1:1)*mantissa*pow(2,exponent-mantissaLength)};module.exports={pack:pack,unpack:unpack}},{}],84:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");var classof=_dereq_("../internals/classof-raw");var split="".split;module.exports=fails(function(){return!Object("z").propertyIsEnumerable(0)})?function(it){return classof(it)=="String"?split.call(it,""):Object(it)}:Object},{"../internals/classof-raw":46,"../internals/fails":68}],85:[function(_dereq_,module,exports){var isObject=_dereq_("../internals/is-object");var setPrototypeOf=_dereq_("../internals/object-set-prototype-of");module.exports=function($this,dummy,Wrapper){var NewTarget,NewTargetPrototype;if(setPrototypeOf&&typeof(NewTarget=dummy.constructor)=="function"&&NewTarget!==Wrapper&&isObject(NewTargetPrototype=NewTarget.prototype)&&NewTargetPrototype!==Wrapper.prototype)setPrototypeOf($this,NewTargetPrototype);return $this}},{"../internals/is-object":92,"../internals/object-set-prototype-of":119}],86:[function(_dereq_,module,exports){var store=_dereq_("../internals/shared-store");var functionToString=Function.toString;if(typeof store.inspectSource!="function"){store.inspectSource=function(it){return functionToString.call(it)}}module.exports=store.inspectSource},{"../internals/shared-store":137}],87:[function(_dereq_,module,exports){var hiddenKeys=_dereq_("../internals/hidden-keys");var isObject=_dereq_("../internals/is-object");var has=_dereq_("../internals/has");var defineProperty=_dereq_("../internals/object-define-property").f;var uid=_dereq_("../internals/uid");var FREEZING=_dereq_("../internals/freezing");var METADATA=uid("meta");var id=0;var isExtensible=Object.isExtensible||function(){return true};var setMetadata=function(it){defineProperty(it,METADATA,{value:{objectID:"O"+ ++id,weakData:{}}})};var fastKey=function(it,create){if(!isObject(it))return typeof it=="symbol"?it:(typeof it=="string"?"S":"P")+it;if(!has(it,METADATA)){if(!isExtensible(it))return"F";if(!create)return"E";setMetadata(it)}return it[METADATA].objectID};var getWeakData=function(it,create){if(!has(it,METADATA)){if(!isExtensible(it))return true;if(!create)return false;setMetadata(it)}return it[METADATA].weakData};var onFreeze=function(it){if(FREEZING&&meta.REQUIRED&&isExtensible(it)&&!has(it,METADATA))setMetadata(it);return it};var meta=module.exports={REQUIRED:false,fastKey:fastKey,getWeakData:getWeakData,onFreeze:onFreeze};hiddenKeys[METADATA]=true},{"../internals/freezing":71,"../internals/has":78,"../internals/hidden-keys":79,"../internals/is-object":92,"../internals/object-define-property":110,"../internals/uid":161}],88:[function(_dereq_,module,exports){var NATIVE_WEAK_MAP=_dereq_("../internals/native-weak-map");var global=_dereq_("../internals/global");var isObject=_dereq_("../internals/is-object");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var objectHas=_dereq_("../internals/has");var sharedKey=_dereq_("../internals/shared-key");var hiddenKeys=_dereq_("../internals/hidden-keys");var WeakMap=global.WeakMap;var set,get,has;var enforce=function(it){return has(it)?get(it):set(it,{})};var getterFor=function(TYPE){return function(it){var state;if(!isObject(it)||(state=get(it)).type!==TYPE){throw TypeError("Incompatible receiver, "+TYPE+" required")}return state}};if(NATIVE_WEAK_MAP){var store=new WeakMap;var wmget=store.get;var wmhas=store.has;var wmset=store.set;set=function(it,metadata){wmset.call(store,it,metadata);return metadata};get=function(it){return wmget.call(store,it)||{}};has=function(it){return wmhas.call(store,it)}}else{var STATE=sharedKey("state");hiddenKeys[STATE]=true;set=function(it,metadata){createNonEnumerableProperty(it,STATE,metadata);return metadata};get=function(it){return objectHas(it,STATE)?it[STATE]:{}};has=function(it){return objectHas(it,STATE)}}module.exports={set:set,get:get,has:has,enforce:enforce,getterFor:getterFor}},{"../internals/create-non-enumerable-property":55,"../internals/global":77,"../internals/has":78,"../internals/hidden-keys":79,"../internals/is-object":92,"../internals/native-weak-map":103,"../internals/shared-key":136}],89:[function(_dereq_,module,exports){var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var Iterators=_dereq_("../internals/iterators");var ITERATOR=wellKnownSymbol("iterator");var ArrayPrototype=Array.prototype;module.exports=function(it){return it!==undefined&&(Iterators.Array===it||ArrayPrototype[ITERATOR]===it)}},{"../internals/iterators":97,"../internals/well-known-symbol":164}],90:[function(_dereq_,module,exports){var classof=_dereq_("../internals/classof-raw");module.exports=Array.isArray||function isArray(arg){return classof(arg)=="Array"}},{"../internals/classof-raw":46}],91:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");var replacement=/#|\.prototype\./;var isForced=function(feature,detection){var value=data[normalize(feature)];return value==POLYFILL?true:value==NATIVE?false:typeof detection=="function"?fails(detection):!!detection};var normalize=isForced.normalize=function(string){return String(string).replace(replacement,".").toLowerCase()};var data=isForced.data={};var NATIVE=isForced.NATIVE="N";var POLYFILL=isForced.POLYFILL="P";module.exports=isForced},{"../internals/fails":68}],92:[function(_dereq_,module,exports){module.exports=function(it){return typeof it==="object"?it!==null:typeof it==="function"}},{}],93:[function(_dereq_,module,exports){module.exports=false},{}],94:[function(_dereq_,module,exports){var isObject=_dereq_("../internals/is-object");var classof=_dereq_("../internals/classof-raw");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var MATCH=wellKnownSymbol("match");module.exports=function(it){var isRegExp;return isObject(it)&&((isRegExp=it[MATCH])!==undefined?!!isRegExp:classof(it)=="RegExp")}},{"../internals/classof-raw":46,"../internals/is-object":92,"../internals/well-known-symbol":164}],95:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");var isArrayIteratorMethod=_dereq_("../internals/is-array-iterator-method");var toLength=_dereq_("../internals/to-length");var bind=_dereq_("../internals/function-bind-context");var getIteratorMethod=_dereq_("../internals/get-iterator-method");var callWithSafeIterationClosing=_dereq_("../internals/call-with-safe-iteration-closing");var Result=function(stopped,result){this.stopped=stopped;this.result=result};var iterate=module.exports=function(iterable,fn,that,AS_ENTRIES,IS_ITERATOR){var boundFunction=bind(fn,that,AS_ENTRIES?2:1);var iterator,iterFn,index,length,result,next,step;if(IS_ITERATOR){iterator=iterable}else{iterFn=getIteratorMethod(iterable);if(typeof iterFn!="function")throw TypeError("Target is not iterable");if(isArrayIteratorMethod(iterFn)){for(index=0,length=toLength(iterable.length);length>index;index++){result=AS_ENTRIES?boundFunction(anObject(step=iterable[index])[0],step[1]):boundFunction(iterable[index]);if(result&&result instanceof Result)return result}return new Result(false)}iterator=iterFn.call(iterable)}next=iterator.next;while(!(step=next.call(iterator)).done){result=callWithSafeIterationClosing(iterator,boundFunction,step.value,AS_ENTRIES);if(typeof result=="object"&&result&&result instanceof Result)return result}return new Result(false)};iterate.stop=function(result){return new Result(true,result)}},{"../internals/an-object":28,"../internals/call-with-safe-iteration-closing":44,"../internals/function-bind-context":72,"../internals/get-iterator-method":75,"../internals/is-array-iterator-method":89,"../internals/to-length":152}],96:[function(_dereq_,module,exports){"use strict";var getPrototypeOf=_dereq_("../internals/object-get-prototype-of");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var has=_dereq_("../internals/has");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var IS_PURE=_dereq_("../internals/is-pure");var ITERATOR=wellKnownSymbol("iterator");var BUGGY_SAFARI_ITERATORS=false;var returnThis=function(){return this};var IteratorPrototype,PrototypeOfArrayIteratorPrototype,arrayIterator;if([].keys){arrayIterator=[].keys();if(!("next"in arrayIterator))BUGGY_SAFARI_ITERATORS=true;else{PrototypeOfArrayIteratorPrototype=getPrototypeOf(getPrototypeOf(arrayIterator));if(PrototypeOfArrayIteratorPrototype!==Object.prototype)IteratorPrototype=PrototypeOfArrayIteratorPrototype}}if(IteratorPrototype==undefined)IteratorPrototype={};if(!IS_PURE&&!has(IteratorPrototype,ITERATOR)){createNonEnumerableProperty(IteratorPrototype,ITERATOR,returnThis)}module.exports={IteratorPrototype:IteratorPrototype,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS}},{"../internals/create-non-enumerable-property":55,"../internals/has":78,"../internals/is-pure":93,"../internals/object-get-prototype-of":115,"../internals/well-known-symbol":164}],97:[function(_dereq_,module,exports){arguments[4][79][0].apply(exports,arguments)},{dup:79}],98:[function(_dereq_,module,exports){module.exports=Math.sign||function sign(x){return(x=+x)==0||x!=x?x:x<0?-1:1}},{}],99:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var getOwnPropertyDescriptor=_dereq_("../internals/object-get-own-property-descriptor").f;var classof=_dereq_("../internals/classof-raw");var macrotask=_dereq_("../internals/task").set;var IS_IOS=_dereq_("../internals/engine-is-ios");var MutationObserver=global.MutationObserver||global.WebKitMutationObserver;var process=global.process;var Promise=global.Promise;var IS_NODE=classof(process)=="process";var queueMicrotaskDescriptor=getOwnPropertyDescriptor(global,"queueMicrotask");var queueMicrotask=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value;var flush,head,last,notify,toggle,node,promise,then;if(!queueMicrotask){flush=function(){var parent,fn;if(IS_NODE&&(parent=process.domain))parent.exit();while(head){fn=head.fn;head=head.next;try{fn()}catch(error){if(head)notify();else last=undefined;throw error}}last=undefined;if(parent)parent.enter()};if(IS_NODE){notify=function(){process.nextTick(flush)}}else if(MutationObserver&&!IS_IOS){toggle=true;node=document.createTextNode("");new MutationObserver(flush).observe(node,{characterData:true});notify=function(){node.data=toggle=!toggle}}else if(Promise&&Promise.resolve){promise=Promise.resolve(undefined);then=promise.then;notify=function(){then.call(promise,flush)}}else{notify=function(){macrotask.call(global,flush)}}}module.exports=queueMicrotask||function(fn){var task={fn:fn,next:undefined};if(last)last.next=task;if(!head){head=task;notify()}last=task}},{"../internals/classof-raw":46,"../internals/engine-is-ios":63,"../internals/global":77,"../internals/object-get-own-property-descriptor":111,"../internals/task":146}],100:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");module.exports=global.Promise},{"../internals/global":77}],101:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");module.exports=!!Object.getOwnPropertySymbols&&!fails(function(){return!String(Symbol())})},{"../internals/fails":68}],102:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var IS_PURE=_dereq_("../internals/is-pure");var ITERATOR=wellKnownSymbol("iterator");module.exports=!fails(function(){var url=new URL("b?a=1&b=2&c=3","http://a");var searchParams=url.searchParams;var result="";url.pathname="c%20d";searchParams.forEach(function(value,key){searchParams["delete"]("b");result+=key+value});return IS_PURE&&!url.toJSON||!searchParams.sort||url.href!=="http://a/c%20d?a=1&c=3"||searchParams.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!searchParams[ITERATOR]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://тест").host!=="xn--e1aybc"||new URL("http://a#б").hash!=="#%D0%B1"||result!=="a1c3"||new URL("http://x",undefined).host!=="x"})},{"../internals/fails":68,"../internals/is-pure":93,"../internals/well-known-symbol":164}],103:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var inspectSource=_dereq_("../internals/inspect-source");var WeakMap=global.WeakMap;module.exports=typeof WeakMap==="function"&&/native code/.test(inspectSource(WeakMap))},{"../internals/global":77,"../internals/inspect-source":86}],104:[function(_dereq_,module,exports){"use strict";var aFunction=_dereq_("../internals/a-function");var PromiseCapability=function(C){var resolve,reject;this.promise=new C(function($$resolve,$$reject){if(resolve!==undefined||reject!==undefined)throw TypeError("Bad Promise constructor");resolve=$$resolve;reject=$$reject});this.resolve=aFunction(resolve);this.reject=aFunction(reject)};module.exports.f=function(C){return new PromiseCapability(C)}},{"../internals/a-function":23}],105:[function(_dereq_,module,exports){var isRegExp=_dereq_("../internals/is-regexp");module.exports=function(it){if(isRegExp(it)){throw TypeError("The method doesn't accept regular expressions")}return it}},{"../internals/is-regexp":94}],106:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var globalIsFinite=global.isFinite;module.exports=Number.isFinite||function isFinite(it){return typeof it=="number"&&globalIsFinite(it)}},{"../internals/global":77}],107:[function(_dereq_,module,exports){"use strict";var DESCRIPTORS=_dereq_("../internals/descriptors");var fails=_dereq_("../internals/fails");var objectKeys=_dereq_("../internals/object-keys");var getOwnPropertySymbolsModule=_dereq_("../internals/object-get-own-property-symbols");var propertyIsEnumerableModule=_dereq_("../internals/object-property-is-enumerable");var toObject=_dereq_("../internals/to-object");var IndexedObject=_dereq_("../internals/indexed-object");var nativeAssign=Object.assign;var defineProperty=Object.defineProperty;module.exports=!nativeAssign||fails(function(){if(DESCRIPTORS&&nativeAssign({b:1},nativeAssign(defineProperty({},"a",{enumerable:true,get:function(){defineProperty(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var A={};var B={};var symbol=Symbol();var alphabet="abcdefghijklmnopqrst";A[symbol]=7;alphabet.split("").forEach(function(chr){B[chr]=chr});return nativeAssign({},A)[symbol]!=7||objectKeys(nativeAssign({},B)).join("")!=alphabet})?function assign(target,source){var T=toObject(target);var argumentsLength=arguments.length;var index=1;var getOwnPropertySymbols=getOwnPropertySymbolsModule.f;var propertyIsEnumerable=propertyIsEnumerableModule.f;while(argumentsLength>index){var S=IndexedObject(arguments[index++]);var keys=getOwnPropertySymbols?objectKeys(S).concat(getOwnPropertySymbols(S)):objectKeys(S);var length=keys.length;var j=0;var key;while(length>j){key=keys[j++];if(!DESCRIPTORS||propertyIsEnumerable.call(S,key))T[key]=S[key]}}return T}:nativeAssign},{"../internals/descriptors":60,"../internals/fails":68,"../internals/indexed-object":84,"../internals/object-get-own-property-symbols":114,"../internals/object-keys":117,"../internals/object-property-is-enumerable":118,"../internals/to-object":153}],108:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");var defineProperties=_dereq_("../internals/object-define-properties");var enumBugKeys=_dereq_("../internals/enum-bug-keys");var hiddenKeys=_dereq_("../internals/hidden-keys");var html=_dereq_("../internals/html");var documentCreateElement=_dereq_("../internals/document-create-element");var sharedKey=_dereq_("../internals/shared-key");var GT=">";var LT="<";var PROTOTYPE="prototype";var SCRIPT="script";var IE_PROTO=sharedKey("IE_PROTO");var EmptyConstructor=function(){};var scriptTag=function(content){return LT+SCRIPT+GT+content+LT+"/"+SCRIPT+GT};var NullProtoObjectViaActiveX=function(activeXDocument){activeXDocument.write(scriptTag(""));activeXDocument.close();var temp=activeXDocument.parentWindow.Object;activeXDocument=null;return temp};var NullProtoObjectViaIFrame=function(){var iframe=documentCreateElement("iframe");var JS="java"+SCRIPT+":";var iframeDocument;iframe.style.display="none";html.appendChild(iframe);iframe.src=String(JS);iframeDocument=iframe.contentWindow.document;iframeDocument.open();iframeDocument.write(scriptTag("document.F=Object"));iframeDocument.close();return iframeDocument.F};var activeXDocument;var NullProtoObject=function(){try{activeXDocument=document.domain&&new ActiveXObject("htmlfile")}catch(error){}NullProtoObject=activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame();var length=enumBugKeys.length;while(length--)delete NullProtoObject[PROTOTYPE][enumBugKeys[length]];return NullProtoObject()};hiddenKeys[IE_PROTO]=true;module.exports=Object.create||function create(O,Properties){var result;if(O!==null){EmptyConstructor[PROTOTYPE]=anObject(O);result=new EmptyConstructor;EmptyConstructor[PROTOTYPE]=null;result[IE_PROTO]=O}else result=NullProtoObject();return Properties===undefined?result:defineProperties(result,Properties)}},{"../internals/an-object":28,"../internals/document-create-element":61,"../internals/enum-bug-keys":66,"../internals/hidden-keys":79,"../internals/html":81,"../internals/object-define-properties":109,"../internals/shared-key":136}],109:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var definePropertyModule=_dereq_("../internals/object-define-property");var anObject=_dereq_("../internals/an-object");var objectKeys=_dereq_("../internals/object-keys");module.exports=DESCRIPTORS?Object.defineProperties:function defineProperties(O,Properties){anObject(O);var keys=objectKeys(Properties);var length=keys.length;var index=0;var key;while(length>index)definePropertyModule.f(O,key=keys[index++],Properties[key]);return O}},{"../internals/an-object":28,"../internals/descriptors":60,"../internals/object-define-property":110,"../internals/object-keys":117}],110:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var IE8_DOM_DEFINE=_dereq_("../internals/ie8-dom-define");var anObject=_dereq_("../internals/an-object");var toPrimitive=_dereq_("../internals/to-primitive");var nativeDefineProperty=Object.defineProperty;exports.f=DESCRIPTORS?nativeDefineProperty:function defineProperty(O,P,Attributes){anObject(O);P=toPrimitive(P,true);anObject(Attributes);if(IE8_DOM_DEFINE)try{return nativeDefineProperty(O,P,Attributes)}catch(error){}if("get"in Attributes||"set"in Attributes)throw TypeError("Accessors not supported");if("value"in Attributes)O[P]=Attributes.value;return O}},{"../internals/an-object":28,"../internals/descriptors":60,"../internals/ie8-dom-define":82,"../internals/to-primitive":156}],111:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var propertyIsEnumerableModule=_dereq_("../internals/object-property-is-enumerable");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");var toIndexedObject=_dereq_("../internals/to-indexed-object");var toPrimitive=_dereq_("../internals/to-primitive");var has=_dereq_("../internals/has");var IE8_DOM_DEFINE=_dereq_("../internals/ie8-dom-define");var nativeGetOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;exports.f=DESCRIPTORS?nativeGetOwnPropertyDescriptor:function getOwnPropertyDescriptor(O,P){O=toIndexedObject(O);P=toPrimitive(P,true);if(IE8_DOM_DEFINE)try{return nativeGetOwnPropertyDescriptor(O,P)}catch(error){}if(has(O,P))return createPropertyDescriptor(!propertyIsEnumerableModule.f.call(O,P),O[P])}},{"../internals/create-property-descriptor":56,"../internals/descriptors":60,"../internals/has":78,"../internals/ie8-dom-define":82,"../internals/object-property-is-enumerable":118,"../internals/to-indexed-object":150,"../internals/to-primitive":156}],112:[function(_dereq_,module,exports){var toIndexedObject=_dereq_("../internals/to-indexed-object");var nativeGetOwnPropertyNames=_dereq_("../internals/object-get-own-property-names").f;var toString={}.toString;var windowNames=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var getWindowNames=function(it){try{return nativeGetOwnPropertyNames(it)}catch(error){return windowNames.slice()}};module.exports.f=function getOwnPropertyNames(it){return windowNames&&toString.call(it)=="[object Window]"?getWindowNames(it):nativeGetOwnPropertyNames(toIndexedObject(it))}},{"../internals/object-get-own-property-names":113,"../internals/to-indexed-object":150}],113:[function(_dereq_,module,exports){var internalObjectKeys=_dereq_("../internals/object-keys-internal");var enumBugKeys=_dereq_("../internals/enum-bug-keys");var hiddenKeys=enumBugKeys.concat("length","prototype");exports.f=Object.getOwnPropertyNames||function getOwnPropertyNames(O){return internalObjectKeys(O,hiddenKeys)}},{"../internals/enum-bug-keys":66,"../internals/object-keys-internal":116}],114:[function(_dereq_,module,exports){exports.f=Object.getOwnPropertySymbols},{}],115:[function(_dereq_,module,exports){var has=_dereq_("../internals/has");var toObject=_dereq_("../internals/to-object");var sharedKey=_dereq_("../internals/shared-key");var CORRECT_PROTOTYPE_GETTER=_dereq_("../internals/correct-prototype-getter");var IE_PROTO=sharedKey("IE_PROTO");var ObjectPrototype=Object.prototype;module.exports=CORRECT_PROTOTYPE_GETTER?Object.getPrototypeOf:function(O){O=toObject(O);if(has(O,IE_PROTO))return O[IE_PROTO];if(typeof O.constructor=="function"&&O instanceof O.constructor){return O.constructor.prototype}return O instanceof Object?ObjectPrototype:null}},{"../internals/correct-prototype-getter":52,"../internals/has":78,"../internals/shared-key":136,"../internals/to-object":153}],116:[function(_dereq_,module,exports){var has=_dereq_("../internals/has");var toIndexedObject=_dereq_("../internals/to-indexed-object");var indexOf=_dereq_("../internals/array-includes").indexOf;var hiddenKeys=_dereq_("../internals/hidden-keys");module.exports=function(object,names){var O=toIndexedObject(object);var i=0;var result=[];var key;for(key in O)!has(hiddenKeys,key)&&has(O,key)&&result.push(key);while(names.length>i)if(has(O,key=names[i++])){~indexOf(result,key)||result.push(key)}return result}},{"../internals/array-includes":36,"../internals/has":78,"../internals/hidden-keys":79,"../internals/to-indexed-object":150}],117:[function(_dereq_,module,exports){var internalObjectKeys=_dereq_("../internals/object-keys-internal");var enumBugKeys=_dereq_("../internals/enum-bug-keys");module.exports=Object.keys||function keys(O){return internalObjectKeys(O,enumBugKeys)}},{"../internals/enum-bug-keys":66,"../internals/object-keys-internal":116}],118:[function(_dereq_,module,exports){"use strict";var nativePropertyIsEnumerable={}.propertyIsEnumerable;var getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor;var NASHORN_BUG=getOwnPropertyDescriptor&&!nativePropertyIsEnumerable.call({1:2},1);exports.f=NASHORN_BUG?function propertyIsEnumerable(V){var descriptor=getOwnPropertyDescriptor(this,V);return!!descriptor&&descriptor.enumerable}:nativePropertyIsEnumerable},{}],119:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");var aPossiblePrototype=_dereq_("../internals/a-possible-prototype");module.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var CORRECT_SETTER=false;var test={};var setter;try{setter=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set;setter.call(test,[]);CORRECT_SETTER=test instanceof Array}catch(error){}return function setPrototypeOf(O,proto){anObject(O);aPossiblePrototype(proto);if(CORRECT_SETTER)setter.call(O,proto);else O.__proto__=proto;return O}}():undefined)},{"../internals/a-possible-prototype":24,"../internals/an-object":28}],120:[function(_dereq_,module,exports){"use strict";var TO_STRING_TAG_SUPPORT=_dereq_("../internals/to-string-tag-support");var classof=_dereq_("../internals/classof");module.exports=TO_STRING_TAG_SUPPORT?{}.toString:function toString(){return"[object "+classof(this)+"]"}},{"../internals/classof":47,"../internals/to-string-tag-support":157}],121:[function(_dereq_,module,exports){var getBuiltIn=_dereq_("../internals/get-built-in");var getOwnPropertyNamesModule=_dereq_("../internals/object-get-own-property-names");var getOwnPropertySymbolsModule=_dereq_("../internals/object-get-own-property-symbols");var anObject=_dereq_("../internals/an-object");module.exports=getBuiltIn("Reflect","ownKeys")||function ownKeys(it){var keys=getOwnPropertyNamesModule.f(anObject(it));var getOwnPropertySymbols=getOwnPropertySymbolsModule.f;return getOwnPropertySymbols?keys.concat(getOwnPropertySymbols(it)):keys}},{"../internals/an-object":28,"../internals/get-built-in":74,"../internals/object-get-own-property-names":113,"../internals/object-get-own-property-symbols":114}],122:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");module.exports=global},{"../internals/global":77}],123:[function(_dereq_,module,exports){module.exports=function(exec){try{return{error:false,value:exec()}}catch(error){return{error:true,value:error}}}},{}],124:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");var isObject=_dereq_("../internals/is-object");var newPromiseCapability=_dereq_("../internals/new-promise-capability");module.exports=function(C,x){anObject(C);if(isObject(x)&&x.constructor===C)return x;var promiseCapability=newPromiseCapability.f(C);var resolve=promiseCapability.resolve;resolve(x);return promiseCapability.promise}},{"../internals/an-object":28,"../internals/is-object":92,"../internals/new-promise-capability":104}],125:[function(_dereq_,module,exports){var redefine=_dereq_("../internals/redefine");module.exports=function(target,src,options){for(var key in src)redefine(target,key,src[key],options);return target}},{"../internals/redefine":126}],126:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var has=_dereq_("../internals/has");var setGlobal=_dereq_("../internals/set-global");var inspectSource=_dereq_("../internals/inspect-source");var InternalStateModule=_dereq_("../internals/internal-state");var getInternalState=InternalStateModule.get;var enforceInternalState=InternalStateModule.enforce;var TEMPLATE=String(String).split("String");(module.exports=function(O,key,value,options){var unsafe=options?!!options.unsafe:false;var simple=options?!!options.enumerable:false;var noTargetGet=options?!!options.noTargetGet:false;if(typeof value=="function"){if(typeof key=="string"&&!has(value,"name"))createNonEnumerableProperty(value,"name",key);enforceInternalState(value).source=TEMPLATE.join(typeof key=="string"?key:"")}if(O===global){if(simple)O[key]=value;else setGlobal(key,value);return}else if(!unsafe){delete O[key]}else if(!noTargetGet&&O[key]){simple=true}if(simple)O[key]=value;else createNonEnumerableProperty(O,key,value)})(Function.prototype,"toString",function toString(){return typeof this=="function"&&getInternalState(this).source||inspectSource(this)})},{"../internals/create-non-enumerable-property":55,"../internals/global":77,"../internals/has":78,"../internals/inspect-source":86,"../internals/internal-state":88,"../internals/set-global":133}],127:[function(_dereq_,module,exports){var classof=_dereq_("./classof-raw");var regexpExec=_dereq_("./regexp-exec");module.exports=function(R,S){var exec=R.exec;if(typeof exec==="function"){var result=exec.call(R,S);if(typeof result!=="object"){throw TypeError("RegExp exec method returned something other than an Object or null")}return result}if(classof(R)!=="RegExp"){throw TypeError("RegExp#exec called on incompatible receiver")}return regexpExec.call(R,S)}},{"./classof-raw":46,"./regexp-exec":128}],128:[function(_dereq_,module,exports){"use strict";var regexpFlags=_dereq_("./regexp-flags");var stickyHelpers=_dereq_("./regexp-sticky-helpers");var nativeExec=RegExp.prototype.exec;var nativeReplace=String.prototype.replace;var patchedExec=nativeExec;var UPDATES_LAST_INDEX_WRONG=function(){var re1=/a/;var re2=/b*/g;nativeExec.call(re1,"a");nativeExec.call(re2,"a");return re1.lastIndex!==0||re2.lastIndex!==0}();var UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y||stickyHelpers.BROKEN_CARET;var NPCG_INCLUDED=/()??/.exec("")[1]!==undefined;var PATCH=UPDATES_LAST_INDEX_WRONG||NPCG_INCLUDED||UNSUPPORTED_Y;if(PATCH){patchedExec=function exec(str){var re=this;var lastIndex,reCopy,match,i;var sticky=UNSUPPORTED_Y&&re.sticky;var flags=regexpFlags.call(re);var source=re.source;var charsAdded=0;var strCopy=str;if(sticky){flags=flags.replace("y","");if(flags.indexOf("g")===-1){flags+="g"}strCopy=String(str).slice(re.lastIndex);if(re.lastIndex>0&&(!re.multiline||re.multiline&&str[re.lastIndex-1]!=="\n")){source="(?: "+source+")";strCopy=" "+strCopy;charsAdded++}reCopy=new RegExp("^(?:"+source+")",flags)}if(NPCG_INCLUDED){reCopy=new RegExp("^"+source+"$(?!\\s)",flags)}if(UPDATES_LAST_INDEX_WRONG)lastIndex=re.lastIndex;match=nativeExec.call(sticky?reCopy:re,strCopy);if(sticky){if(match){match.input=match.input.slice(charsAdded);match[0]=match[0].slice(charsAdded);match.index=re.lastIndex;re.lastIndex+=match[0].length}else re.lastIndex=0}else if(UPDATES_LAST_INDEX_WRONG&&match){re.lastIndex=re.global?match.index+match[0].length:lastIndex}if(NPCG_INCLUDED&&match&&match.length>1){nativeReplace.call(match[0],reCopy,function(){for(i=1;i<arguments.length-2;i++){if(arguments[i]===undefined)match[i]=undefined}})}return match}}module.exports=patchedExec},{"./regexp-flags":129,"./regexp-sticky-helpers":130}],129:[function(_dereq_,module,exports){"use strict";var anObject=_dereq_("../internals/an-object");module.exports=function(){var that=anObject(this);var result="";if(that.global)result+="g";if(that.ignoreCase)result+="i";if(that.multiline)result+="m";if(that.dotAll)result+="s";if(that.unicode)result+="u";if(that.sticky)result+="y";return result}},{"../internals/an-object":28}],130:[function(_dereq_,module,exports){"use strict";var fails=_dereq_("./fails");function RE(s,f){return RegExp(s,f)}exports.UNSUPPORTED_Y=fails(function(){var re=RE("a","y");re.lastIndex=2;return re.exec("abcd")!=null});exports.BROKEN_CARET=fails(function(){var re=RE("^r","gy");re.lastIndex=2;return re.exec("str")!=null})},{"./fails":68}],131:[function(_dereq_,module,exports){module.exports=function(it){if(it==undefined)throw TypeError("Can't call method on "+it);return it}},{}],132:[function(_dereq_,module,exports){module.exports=Object.is||function is(x,y){return x===y?x!==0||1/x===1/y:x!=x&&y!=y}},{}],133:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");module.exports=function(key,value){try{createNonEnumerableProperty(global,key,value)}catch(error){global[key]=value}return value}},{"../internals/create-non-enumerable-property":55,"../internals/global":77}],134:[function(_dereq_,module,exports){"use strict";var getBuiltIn=_dereq_("../internals/get-built-in");var definePropertyModule=_dereq_("../internals/object-define-property");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var DESCRIPTORS=_dereq_("../internals/descriptors");var SPECIES=wellKnownSymbol("species");module.exports=function(CONSTRUCTOR_NAME){var Constructor=getBuiltIn(CONSTRUCTOR_NAME);var defineProperty=definePropertyModule.f;if(DESCRIPTORS&&Constructor&&!Constructor[SPECIES]){defineProperty(Constructor,SPECIES,{configurable:true,get:function(){return this}})}}},{"../internals/descriptors":60,"../internals/get-built-in":74,"../internals/object-define-property":110,"../internals/well-known-symbol":164}],135:[function(_dereq_,module,exports){var defineProperty=_dereq_("../internals/object-define-property").f;var has=_dereq_("../internals/has");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var TO_STRING_TAG=wellKnownSymbol("toStringTag");module.exports=function(it,TAG,STATIC){if(it&&!has(it=STATIC?it:it.prototype,TO_STRING_TAG)){defineProperty(it,TO_STRING_TAG,{configurable:true,value:TAG})}}},{"../internals/has":78,"../internals/object-define-property":110,"../internals/well-known-symbol":164}],136:[function(_dereq_,module,exports){var shared=_dereq_("../internals/shared");var uid=_dereq_("../internals/uid");var keys=shared("keys");module.exports=function(key){return keys[key]||(keys[key]=uid(key))}},{"../internals/shared":138,"../internals/uid":161}],137:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var setGlobal=_dereq_("../internals/set-global");var SHARED="__core-js_shared__";var store=global[SHARED]||setGlobal(SHARED,{});module.exports=store},{"../internals/global":77,"../internals/set-global":133}],138:[function(_dereq_,module,exports){var IS_PURE=_dereq_("../internals/is-pure");var store=_dereq_("../internals/shared-store");(module.exports=function(key,value){return store[key]||(store[key]=value!==undefined?value:{})})("versions",[]).push({version:"3.6.5",mode:IS_PURE?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":93,"../internals/shared-store":137}],139:[function(_dereq_,module,exports){var anObject=_dereq_("../internals/an-object");var aFunction=_dereq_("../internals/a-function");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var SPECIES=wellKnownSymbol("species");module.exports=function(O,defaultConstructor){var C=anObject(O).constructor;var S;return C===undefined||(S=anObject(C)[SPECIES])==undefined?defaultConstructor:aFunction(S)}},{"../internals/a-function":23,"../internals/an-object":28,"../internals/well-known-symbol":164}],140:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");module.exports=function(METHOD_NAME){return fails(function(){var test=""[METHOD_NAME]('"');return test!==test.toLowerCase()||test.split('"').length>3})}},{"../internals/fails":68}],141:[function(_dereq_,module,exports){var toInteger=_dereq_("../internals/to-integer");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var createMethod=function(CONVERT_TO_STRING){return function($this,pos){var S=String(requireObjectCoercible($this));var position=toInteger(pos);var size=S.length;var first,second;if(position<0||position>=size)return CONVERT_TO_STRING?"":undefined;first=S.charCodeAt(position);return first<55296||first>56319||position+1===size||(second=S.charCodeAt(position+1))<56320||second>57343?CONVERT_TO_STRING?S.charAt(position):first:CONVERT_TO_STRING?S.slice(position,position+2):(first-55296<<10)+(second-56320)+65536}};module.exports={codeAt:createMethod(false),charAt:createMethod(true)}},{"../internals/require-object-coercible":131,"../internals/to-integer":151}],142:[function(_dereq_,module,exports){"use strict";var maxInt=2147483647;var base=36;var tMin=1;var tMax=26;var skew=38;var damp=700;var initialBias=72;var initialN=128;var delimiter="-";var regexNonASCII=/[^\0-\u007E]/;var regexSeparators=/[.\u3002\uFF0E\uFF61]/g;var OVERFLOW_ERROR="Overflow: input needs wider integers to process";var baseMinusTMin=base-tMin;var floor=Math.floor;var stringFromCharCode=String.fromCharCode;var ucs2decode=function(string){var output=[];var counter=0;var length=string.length;while(counter<length){var value=string.charCodeAt(counter++);if(value>=55296&&value<=56319&&counter<length){var extra=string.charCodeAt(counter++);if((extra&64512)==56320){output.push(((value&1023)<<10)+(extra&1023)+65536)}else{output.push(value);counter--}}else{output.push(value)}}return output};var digitToBasic=function(digit){return digit+22+75*(digit<26)};var adapt=function(delta,numPoints,firstTime){var k=0;delta=firstTime?floor(delta/damp):delta>>1;delta+=floor(delta/numPoints);for(;delta>baseMinusTMin*tMax>>1;k+=base){delta=floor(delta/baseMinusTMin)}return floor(k+(baseMinusTMin+1)*delta/(delta+skew))};var encode=function(input){var output=[];input=ucs2decode(input);var inputLength=input.length;var n=initialN;var delta=0;var bias=initialBias;var i,currentValue;for(i=0;i<input.length;i++){currentValue=input[i];if(currentValue<128){output.push(stringFromCharCode(currentValue))}}var basicLength=output.length;var handledCPCount=basicLength;if(basicLength){output.push(delimiter)}while(handledCPCount<inputLength){var m=maxInt;for(i=0;i<input.length;i++){currentValue=input[i];if(currentValue>=n&&currentValue<m){m=currentValue}}var handledCPCountPlusOne=handledCPCount+1;if(m-n>floor((maxInt-delta)/handledCPCountPlusOne)){throw RangeError(OVERFLOW_ERROR)}delta+=(m-n)*handledCPCountPlusOne;n=m;for(i=0;i<input.length;i++){currentValue=input[i];if(currentValue<n&&++delta>maxInt){throw RangeError(OVERFLOW_ERROR)}if(currentValue==n){var q=delta;for(var k=base;;k+=base){var t=k<=bias?tMin:k>=bias+tMax?tMax:k-bias;if(q<t)break;var qMinusT=q-t;var baseMinusT=base-t;output.push(stringFromCharCode(digitToBasic(t+qMinusT%baseMinusT)));q=floor(qMinusT/baseMinusT)}output.push(stringFromCharCode(digitToBasic(q)));bias=adapt(delta,handledCPCountPlusOne,handledCPCount==basicLength);delta=0;++handledCPCount}}++delta;++n}return output.join("")};module.exports=function(input){var encoded=[];var labels=input.toLowerCase().replace(regexSeparators,".").split(".");var i,label;for(i=0;i<labels.length;i++){label=labels[i];encoded.push(regexNonASCII.test(label)?"xn--"+encode(label):label)}return encoded.join(".")}},{}],143:[function(_dereq_,module,exports){"use strict";var toInteger=_dereq_("../internals/to-integer");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");module.exports="".repeat||function repeat(count){var str=String(requireObjectCoercible(this));var result="";var n=toInteger(count);if(n<0||n==Infinity)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(str+=str))if(n&1)result+=str;return result}},{"../internals/require-object-coercible":131,"../internals/to-integer":151}],144:[function(_dereq_,module,exports){var fails=_dereq_("../internals/fails");var whitespaces=_dereq_("../internals/whitespaces");var non="​᠎";module.exports=function(METHOD_NAME){return fails(function(){return!!whitespaces[METHOD_NAME]()||non[METHOD_NAME]()!=non||whitespaces[METHOD_NAME].name!==METHOD_NAME})}},{"../internals/fails":68,"../internals/whitespaces":165}],145:[function(_dereq_,module,exports){var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var whitespaces=_dereq_("../internals/whitespaces");var whitespace="["+whitespaces+"]";var ltrim=RegExp("^"+whitespace+whitespace+"*");var rtrim=RegExp(whitespace+whitespace+"*$");var createMethod=function(TYPE){return function($this){var string=String(requireObjectCoercible($this));if(TYPE&1)string=string.replace(ltrim,"");if(TYPE&2)string=string.replace(rtrim,"");return string}};module.exports={start:createMethod(1),end:createMethod(2),trim:createMethod(3)}},{"../internals/require-object-coercible":131,"../internals/whitespaces":165}],146:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var fails=_dereq_("../internals/fails");var classof=_dereq_("../internals/classof-raw");var bind=_dereq_("../internals/function-bind-context");var html=_dereq_("../internals/html");var createElement=_dereq_("../internals/document-create-element");var IS_IOS=_dereq_("../internals/engine-is-ios");var location=global.location;var set=global.setImmediate;var clear=global.clearImmediate;var process=global.process;var MessageChannel=global.MessageChannel;var Dispatch=global.Dispatch;var counter=0;var queue={};var ONREADYSTATECHANGE="onreadystatechange";var defer,channel,port;var run=function(id){if(queue.hasOwnProperty(id)){var fn=queue[id];delete queue[id];fn()}};var runner=function(id){return function(){run(id)}};var listener=function(event){run(event.data)};var post=function(id){global.postMessage(id+"",location.protocol+"//"+location.host)};if(!set||!clear){set=function setImmediate(fn){var args=[];var i=1;while(arguments.length>i)args.push(arguments[i++]);queue[++counter]=function(){(typeof fn=="function"?fn:Function(fn)).apply(undefined,args)};defer(counter);return counter};clear=function clearImmediate(id){delete queue[id]};if(classof(process)=="process"){defer=function(id){process.nextTick(runner(id))}}else if(Dispatch&&Dispatch.now){defer=function(id){Dispatch.now(runner(id))}}else if(MessageChannel&&!IS_IOS){channel=new MessageChannel;port=channel.port2;channel.port1.onmessage=listener;defer=bind(port.postMessage,port,1)}else if(global.addEventListener&&typeof postMessage=="function"&&!global.importScripts&&!fails(post)&&location.protocol!=="file:"){defer=post;global.addEventListener("message",listener,false)}else if(ONREADYSTATECHANGE in createElement("script")){defer=function(id){html.appendChild(createElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this);run(id)}}}else{defer=function(id){setTimeout(runner(id),0)}}}module.exports={set:set,clear:clear}},{"../internals/classof-raw":46,"../internals/document-create-element":61,"../internals/engine-is-ios":63,"../internals/fails":68,"../internals/function-bind-context":72,"../internals/global":77,"../internals/html":81}],147:[function(_dereq_,module,exports){var classof=_dereq_("../internals/classof-raw");module.exports=function(value){if(typeof value!="number"&&classof(value)!="Number"){throw TypeError("Incorrect invocation")}return+value}},{"../internals/classof-raw":46}],148:[function(_dereq_,module,exports){var toInteger=_dereq_("../internals/to-integer");var max=Math.max;var min=Math.min;module.exports=function(index,length){var integer=toInteger(index);return integer<0?max(integer+length,0):min(integer,length)}},{"../internals/to-integer":151}],149:[function(_dereq_,module,exports){var toInteger=_dereq_("../internals/to-integer");var toLength=_dereq_("../internals/to-length");module.exports=function(it){if(it===undefined)return 0;var number=toInteger(it);var length=toLength(number);if(number!==length)throw RangeError("Wrong length or index");return length}},{"../internals/to-integer":151,"../internals/to-length":152}],150:[function(_dereq_,module,exports){var IndexedObject=_dereq_("../internals/indexed-object");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");module.exports=function(it){return IndexedObject(requireObjectCoercible(it))}},{"../internals/indexed-object":84,"../internals/require-object-coercible":131}],151:[function(_dereq_,module,exports){var ceil=Math.ceil;var floor=Math.floor;module.exports=function(argument){return isNaN(argument=+argument)?0:(argument>0?floor:ceil)(argument)}},{}],152:[function(_dereq_,module,exports){var toInteger=_dereq_("../internals/to-integer");var min=Math.min;module.exports=function(argument){return argument>0?min(toInteger(argument),9007199254740991):0}},{"../internals/to-integer":151}],153:[function(_dereq_,module,exports){var requireObjectCoercible=_dereq_("../internals/require-object-coercible");module.exports=function(argument){return Object(requireObjectCoercible(argument))}},{"../internals/require-object-coercible":131}],154:[function(_dereq_,module,exports){var toPositiveInteger=_dereq_("../internals/to-positive-integer");module.exports=function(it,BYTES){var offset=toPositiveInteger(it);if(offset%BYTES)throw RangeError("Wrong offset");return offset}},{"../internals/to-positive-integer":155}],155:[function(_dereq_,module,exports){var toInteger=_dereq_("../internals/to-integer");module.exports=function(it){var result=toInteger(it);if(result<0)throw RangeError("The argument can't be less than 0");return result}},{"../internals/to-integer":151}],156:[function(_dereq_,module,exports){var isObject=_dereq_("../internals/is-object");module.exports=function(input,PREFERRED_STRING){if(!isObject(input))return input;var fn,val;if(PREFERRED_STRING&&typeof(fn=input.toString)=="function"&&!isObject(val=fn.call(input)))return val;if(typeof(fn=input.valueOf)=="function"&&!isObject(val=fn.call(input)))return val;if(!PREFERRED_STRING&&typeof(fn=input.toString)=="function"&&!isObject(val=fn.call(input)))return val;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":92}],157:[function(_dereq_,module,exports){var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var TO_STRING_TAG=wellKnownSymbol("toStringTag");var test={};test[TO_STRING_TAG]="z";module.exports=String(test)==="[object z]"},{"../internals/well-known-symbol":164}],158:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var global=_dereq_("../internals/global");var DESCRIPTORS=_dereq_("../internals/descriptors");var TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS=_dereq_("../internals/typed-array-constructors-require-wrappers");var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var ArrayBufferModule=_dereq_("../internals/array-buffer");var anInstance=_dereq_("../internals/an-instance");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var toLength=_dereq_("../internals/to-length");var toIndex=_dereq_("../internals/to-index");var toOffset=_dereq_("../internals/to-offset");var toPrimitive=_dereq_("../internals/to-primitive");var has=_dereq_("../internals/has");var classof=_dereq_("../internals/classof");var isObject=_dereq_("../internals/is-object");var create=_dereq_("../internals/object-create");var setPrototypeOf=_dereq_("../internals/object-set-prototype-of");var getOwnPropertyNames=_dereq_("../internals/object-get-own-property-names").f;var typedArrayFrom=_dereq_("../internals/typed-array-from");var forEach=_dereq_("../internals/array-iteration").forEach;var setSpecies=_dereq_("../internals/set-species");var definePropertyModule=_dereq_("../internals/object-define-property");var getOwnPropertyDescriptorModule=_dereq_("../internals/object-get-own-property-descriptor");var InternalStateModule=_dereq_("../internals/internal-state");var inheritIfRequired=_dereq_("../internals/inherit-if-required");var getInternalState=InternalStateModule.get;var setInternalState=InternalStateModule.set;var nativeDefineProperty=definePropertyModule.f;var nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f;var round=Math.round;var RangeError=global.RangeError;var ArrayBuffer=ArrayBufferModule.ArrayBuffer;var DataView=ArrayBufferModule.DataView;var NATIVE_ARRAY_BUFFER_VIEWS=ArrayBufferViewCore.NATIVE_ARRAY_BUFFER_VIEWS;var TYPED_ARRAY_TAG=ArrayBufferViewCore.TYPED_ARRAY_TAG;var TypedArray=ArrayBufferViewCore.TypedArray;var TypedArrayPrototype=ArrayBufferViewCore.TypedArrayPrototype;var aTypedArrayConstructor=ArrayBufferViewCore.aTypedArrayConstructor;var isTypedArray=ArrayBufferViewCore.isTypedArray;var BYTES_PER_ELEMENT="BYTES_PER_ELEMENT";var WRONG_LENGTH="Wrong length";var fromList=function(C,list){var index=0;var length=list.length;var result=new(aTypedArrayConstructor(C))(length);while(length>index)result[index]=list[index++];return result};var addGetter=function(it,key){nativeDefineProperty(it,key,{get:function(){return getInternalState(this)[key]}})};var isArrayBuffer=function(it){var klass;return it instanceof ArrayBuffer||(klass=classof(it))=="ArrayBuffer"||klass=="SharedArrayBuffer"};var isTypedArrayIndex=function(target,key){return isTypedArray(target)&&typeof key!="symbol"&&key in target&&String(+key)==String(key)};var wrappedGetOwnPropertyDescriptor=function getOwnPropertyDescriptor(target,key){return isTypedArrayIndex(target,key=toPrimitive(key,true))?createPropertyDescriptor(2,target[key]):nativeGetOwnPropertyDescriptor(target,key)};var wrappedDefineProperty=function defineProperty(target,key,descriptor){if(isTypedArrayIndex(target,key=toPrimitive(key,true))&&isObject(descriptor)&&has(descriptor,"value")&&!has(descriptor,"get")&&!has(descriptor,"set")&&!descriptor.configurable&&(!has(descriptor,"writable")||descriptor.writable)&&(!has(descriptor,"enumerable")||descriptor.enumerable)){target[key]=descriptor.value;return target}return nativeDefineProperty(target,key,descriptor)};if(DESCRIPTORS){if(!NATIVE_ARRAY_BUFFER_VIEWS){getOwnPropertyDescriptorModule.f=wrappedGetOwnPropertyDescriptor;definePropertyModule.f=wrappedDefineProperty;addGetter(TypedArrayPrototype,"buffer");addGetter(TypedArrayPrototype,"byteOffset");addGetter(TypedArrayPrototype,"byteLength");addGetter(TypedArrayPrototype,"length")}$({target:"Object",stat:true,forced:!NATIVE_ARRAY_BUFFER_VIEWS},{getOwnPropertyDescriptor:wrappedGetOwnPropertyDescriptor,defineProperty:wrappedDefineProperty});module.exports=function(TYPE,wrapper,CLAMPED){var BYTES=TYPE.match(/\d+$/)[0]/8;var CONSTRUCTOR_NAME=TYPE+(CLAMPED?"Clamped":"")+"Array";var GETTER="get"+TYPE;var SETTER="set"+TYPE;var NativeTypedArrayConstructor=global[CONSTRUCTOR_NAME];var TypedArrayConstructor=NativeTypedArrayConstructor;var TypedArrayConstructorPrototype=TypedArrayConstructor&&TypedArrayConstructor.prototype;var exported={};var getter=function(that,index){var data=getInternalState(that);return data.view[GETTER](index*BYTES+data.byteOffset,true)};var setter=function(that,index,value){var data=getInternalState(that);if(CLAMPED)value=(value=round(value))<0?0:value>255?255:value&255;data.view[SETTER](index*BYTES+data.byteOffset,value,true)};var addElement=function(that,index){nativeDefineProperty(that,index,{get:function(){return getter(this,index)},set:function(value){return setter(this,index,value)},enumerable:true})};if(!NATIVE_ARRAY_BUFFER_VIEWS){TypedArrayConstructor=wrapper(function(that,data,offset,$length){anInstance(that,TypedArrayConstructor,CONSTRUCTOR_NAME);var index=0;var byteOffset=0;var buffer,byteLength,length;if(!isObject(data)){length=toIndex(data);byteLength=length*BYTES;buffer=new ArrayBuffer(byteLength)}else if(isArrayBuffer(data)){buffer=data;byteOffset=toOffset(offset,BYTES);var $len=data.byteLength;if($length===undefined){if($len%BYTES)throw RangeError(WRONG_LENGTH);byteLength=$len-byteOffset;if(byteLength<0)throw RangeError(WRONG_LENGTH)}else{byteLength=toLength($length)*BYTES;if(byteLength+byteOffset>$len)throw RangeError(WRONG_LENGTH)}length=byteLength/BYTES}else if(isTypedArray(data)){return fromList(TypedArrayConstructor,data)}else{return typedArrayFrom.call(TypedArrayConstructor,data)}setInternalState(that,{buffer:buffer,byteOffset:byteOffset,byteLength:byteLength,length:length,view:new DataView(buffer)});while(index<length)addElement(that,index++)});if(setPrototypeOf)setPrototypeOf(TypedArrayConstructor,TypedArray);TypedArrayConstructorPrototype=TypedArrayConstructor.prototype=create(TypedArrayPrototype)}else if(TYPED_ARRAYS_CONSTRUCTORS_REQUIRES_WRAPPERS){TypedArrayConstructor=wrapper(function(dummy,data,typedArrayOffset,$length){anInstance(dummy,TypedArrayConstructor,CONSTRUCTOR_NAME);return inheritIfRequired(function(){if(!isObject(data))return new NativeTypedArrayConstructor(toIndex(data));if(isArrayBuffer(data))return $length!==undefined?new NativeTypedArrayConstructor(data,toOffset(typedArrayOffset,BYTES),$length):typedArrayOffset!==undefined?new NativeTypedArrayConstructor(data,toOffset(typedArrayOffset,BYTES)):new NativeTypedArrayConstructor(data);if(isTypedArray(data))return fromList(TypedArrayConstructor,data);return typedArrayFrom.call(TypedArrayConstructor,data)}(),dummy,TypedArrayConstructor)});if(setPrototypeOf)setPrototypeOf(TypedArrayConstructor,TypedArray);forEach(getOwnPropertyNames(NativeTypedArrayConstructor),function(key){if(!(key in TypedArrayConstructor)){createNonEnumerableProperty(TypedArrayConstructor,key,NativeTypedArrayConstructor[key])}});TypedArrayConstructor.prototype=TypedArrayConstructorPrototype}if(TypedArrayConstructorPrototype.constructor!==TypedArrayConstructor){createNonEnumerableProperty(TypedArrayConstructorPrototype,"constructor",TypedArrayConstructor)}if(TYPED_ARRAY_TAG){createNonEnumerableProperty(TypedArrayConstructorPrototype,TYPED_ARRAY_TAG,CONSTRUCTOR_NAME)}exported[CONSTRUCTOR_NAME]=TypedArrayConstructor;$({global:true,forced:TypedArrayConstructor!=NativeTypedArrayConstructor,sham:!NATIVE_ARRAY_BUFFER_VIEWS},exported);if(!(BYTES_PER_ELEMENT in TypedArrayConstructor)){createNonEnumerableProperty(TypedArrayConstructor,BYTES_PER_ELEMENT,BYTES)}if(!(BYTES_PER_ELEMENT in TypedArrayConstructorPrototype)){createNonEnumerableProperty(TypedArrayConstructorPrototype,BYTES_PER_ELEMENT,BYTES)}setSpecies(CONSTRUCTOR_NAME)}}else module.exports=function(){}},{"../internals/an-instance":27,"../internals/array-buffer":31,"../internals/array-buffer-view-core":30,"../internals/array-iteration":37,"../internals/classof":47,"../internals/create-non-enumerable-property":55,"../internals/create-property-descriptor":56,"../internals/descriptors":60,"../internals/export":67,"../internals/global":77,"../internals/has":78,"../internals/inherit-if-required":85,"../internals/internal-state":88,"../internals/is-object":92,"../internals/object-create":108,"../internals/object-define-property":110,"../internals/object-get-own-property-descriptor":111,"../internals/object-get-own-property-names":113,"../internals/object-set-prototype-of":119,"../internals/set-species":134,"../internals/to-index":149,"../internals/to-length":152,"../internals/to-offset":154,"../internals/to-primitive":156,"../internals/typed-array-constructors-require-wrappers":159,"../internals/typed-array-from":160}],159:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var fails=_dereq_("../internals/fails");var checkCorrectnessOfIteration=_dereq_("../internals/check-correctness-of-iteration");var NATIVE_ARRAY_BUFFER_VIEWS=_dereq_("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS;var ArrayBuffer=global.ArrayBuffer;var Int8Array=global.Int8Array;module.exports=!NATIVE_ARRAY_BUFFER_VIEWS||!fails(function(){Int8Array(1)})||!fails(function(){new Int8Array(-1)})||!checkCorrectnessOfIteration(function(iterable){new Int8Array;new Int8Array(null);new Int8Array(1.5);new Int8Array(iterable)},true)||fails(function(){return new Int8Array(new ArrayBuffer(2),1,undefined).length!==1})},{"../internals/array-buffer-view-core":30,"../internals/check-correctness-of-iteration":45,"../internals/fails":68,"../internals/global":77}],160:[function(_dereq_,module,exports){var toObject=_dereq_("../internals/to-object");var toLength=_dereq_("../internals/to-length");var getIteratorMethod=_dereq_("../internals/get-iterator-method");var isArrayIteratorMethod=_dereq_("../internals/is-array-iterator-method");var bind=_dereq_("../internals/function-bind-context");var aTypedArrayConstructor=_dereq_("../internals/array-buffer-view-core").aTypedArrayConstructor;module.exports=function from(source){var O=toObject(source);var argumentsLength=arguments.length;var mapfn=argumentsLength>1?arguments[1]:undefined;var mapping=mapfn!==undefined;var iteratorMethod=getIteratorMethod(O);var i,length,result,step,iterator,next;if(iteratorMethod!=undefined&&!isArrayIteratorMethod(iteratorMethod)){iterator=iteratorMethod.call(O);next=iterator.next;O=[];while(!(step=next.call(iterator)).done){O.push(step.value)}}if(mapping&&argumentsLength>2){mapfn=bind(mapfn,arguments[2],2)}length=toLength(O.length);result=new(aTypedArrayConstructor(this))(length);for(i=0;length>i;i++){result[i]=mapping?mapfn(O[i],i):O[i]}return result}},{"../internals/array-buffer-view-core":30,"../internals/function-bind-context":72,"../internals/get-iterator-method":75,"../internals/is-array-iterator-method":89,"../internals/to-length":152,"../internals/to-object":153}],161:[function(_dereq_,module,exports){var id=0;var postfix=Math.random();module.exports=function(key){return"Symbol("+String(key===undefined?"":key)+")_"+(++id+postfix).toString(36)}},{}],162:[function(_dereq_,module,exports){var NATIVE_SYMBOL=_dereq_("../internals/native-symbol");module.exports=NATIVE_SYMBOL&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":101}],163:[function(_dereq_,module,exports){var wellKnownSymbol=_dereq_("../internals/well-known-symbol");exports.f=wellKnownSymbol},{"../internals/well-known-symbol":164}],164:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var shared=_dereq_("../internals/shared");var has=_dereq_("../internals/has");var uid=_dereq_("../internals/uid");var NATIVE_SYMBOL=_dereq_("../internals/native-symbol");var USE_SYMBOL_AS_UID=_dereq_("../internals/use-symbol-as-uid");var WellKnownSymbolsStore=shared("wks");var Symbol=global.Symbol;var createWellKnownSymbol=USE_SYMBOL_AS_UID?Symbol:Symbol&&Symbol.withoutSetter||uid;module.exports=function(name){if(!has(WellKnownSymbolsStore,name)){if(NATIVE_SYMBOL&&has(Symbol,name))WellKnownSymbolsStore[name]=Symbol[name];else WellKnownSymbolsStore[name]=createWellKnownSymbol("Symbol."+name)}return WellKnownSymbolsStore[name]}},{"../internals/global":77,"../internals/has":78,"../internals/native-symbol":101,"../internals/shared":138,"../internals/uid":161,"../internals/use-symbol-as-uid":162}],165:[function(_dereq_,module,exports){module.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},{}],166:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var global=_dereq_("../internals/global");var arrayBufferModule=_dereq_("../internals/array-buffer");var setSpecies=_dereq_("../internals/set-species");var ARRAY_BUFFER="ArrayBuffer";var ArrayBuffer=arrayBufferModule[ARRAY_BUFFER];var NativeArrayBuffer=global[ARRAY_BUFFER];$({global:true,forced:NativeArrayBuffer!==ArrayBuffer},{ArrayBuffer:ArrayBuffer});setSpecies(ARRAY_BUFFER)},{"../internals/array-buffer":31,"../internals/export":67,"../internals/global":77,"../internals/set-species":134}],167:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var fails=_dereq_("../internals/fails");var isArray=_dereq_("../internals/is-array");var isObject=_dereq_("../internals/is-object");var toObject=_dereq_("../internals/to-object");var toLength=_dereq_("../internals/to-length");var createProperty=_dereq_("../internals/create-property");var arraySpeciesCreate=_dereq_("../internals/array-species-create");var arrayMethodHasSpeciesSupport=_dereq_("../internals/array-method-has-species-support");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var V8_VERSION=_dereq_("../internals/engine-v8-version");var IS_CONCAT_SPREADABLE=wellKnownSymbol("isConcatSpreadable");var MAX_SAFE_INTEGER=9007199254740991;var MAXIMUM_ALLOWED_INDEX_EXCEEDED="Maximum allowed index exceeded";var IS_CONCAT_SPREADABLE_SUPPORT=V8_VERSION>=51||!fails(function(){var array=[];array[IS_CONCAT_SPREADABLE]=false;return array.concat()[0]!==array});var SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("concat");var isConcatSpreadable=function(O){if(!isObject(O))return false;var spreadable=O[IS_CONCAT_SPREADABLE];return spreadable!==undefined?!!spreadable:isArray(O)};var FORCED=!IS_CONCAT_SPREADABLE_SUPPORT||!SPECIES_SUPPORT;$({target:"Array",proto:true,forced:FORCED},{concat:function concat(arg){var O=toObject(this);var A=arraySpeciesCreate(O,0);var n=0;var i,k,length,len,E;for(i=-1,length=arguments.length;i<length;i++){E=i===-1?O:arguments[i];if(isConcatSpreadable(E)){len=toLength(E.length);if(n+len>MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);for(k=0;k<len;k++,n++)if(k in E)createProperty(A,n,E[k])}else{if(n>=MAX_SAFE_INTEGER)throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);createProperty(A,n++,E)}}A.length=n;return A}})},{"../internals/array-method-has-species-support":39,"../internals/array-species-create":43,"../internals/create-property":57,"../internals/engine-v8-version":65,"../internals/export":67,"../internals/fails":68,"../internals/is-array":90,"../internals/is-object":92,"../internals/to-length":152,"../internals/to-object":153,"../internals/well-known-symbol":164}],168:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $every=_dereq_("../internals/array-iteration").every;var arrayMethodIsStrict=_dereq_("../internals/array-method-is-strict");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var STRICT_METHOD=arrayMethodIsStrict("every");var USES_TO_LENGTH=arrayMethodUsesToLength("every");$({target:"Array",proto:true,forced:!STRICT_METHOD||!USES_TO_LENGTH},{every:function every(callbackfn){return $every(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-iteration":37,"../internals/array-method-is-strict":40,"../internals/array-method-uses-to-length":41,"../internals/export":67}],169:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var fill=_dereq_("../internals/array-fill");var addToUnscopables=_dereq_("../internals/add-to-unscopables");$({target:"Array",proto:true},{fill:fill});addToUnscopables("fill")},{"../internals/add-to-unscopables":25,"../internals/array-fill":33,"../internals/export":67}],170:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $filter=_dereq_("../internals/array-iteration").filter;var arrayMethodHasSpeciesSupport=_dereq_("../internals/array-method-has-species-support");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("filter");var USES_TO_LENGTH=arrayMethodUsesToLength("filter");$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{filter:function filter(callbackfn){return $filter(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-iteration":37,"../internals/array-method-has-species-support":39,"../internals/array-method-uses-to-length":41,"../internals/export":67}],171:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var flattenIntoArray=_dereq_("../internals/flatten-into-array");var toObject=_dereq_("../internals/to-object");var toLength=_dereq_("../internals/to-length");var aFunction=_dereq_("../internals/a-function");var arraySpeciesCreate=_dereq_("../internals/array-species-create");$({target:"Array",proto:true},{flatMap:function flatMap(callbackfn){var O=toObject(this);var sourceLen=toLength(O.length);var A;aFunction(callbackfn);A=arraySpeciesCreate(O,0);A.length=flattenIntoArray(A,O,O,sourceLen,0,1,callbackfn,arguments.length>1?arguments[1]:undefined);return A}})},{"../internals/a-function":23,"../internals/array-species-create":43,"../internals/export":67,"../internals/flatten-into-array":70,"../internals/to-length":152,"../internals/to-object":153}],172:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var forEach=_dereq_("../internals/array-for-each");$({target:"Array",proto:true,forced:[].forEach!=forEach},{forEach:forEach})},{"../internals/array-for-each":34,"../internals/export":67}],173:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var from=_dereq_("../internals/array-from");var checkCorrectnessOfIteration=_dereq_("../internals/check-correctness-of-iteration");var INCORRECT_ITERATION=!checkCorrectnessOfIteration(function(iterable){Array.from(iterable)});$({target:"Array",stat:true,forced:INCORRECT_ITERATION},{from:from})},{"../internals/array-from":35,"../internals/check-correctness-of-iteration":45,"../internals/export":67}],174:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $includes=_dereq_("../internals/array-includes").includes;var addToUnscopables=_dereq_("../internals/add-to-unscopables");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:true,1:0});$({target:"Array",proto:true,forced:!USES_TO_LENGTH},{includes:function includes(el){return $includes(this,el,arguments.length>1?arguments[1]:undefined)}});addToUnscopables("includes")},{"../internals/add-to-unscopables":25,"../internals/array-includes":36,"../internals/array-method-uses-to-length":41,"../internals/export":67}],175:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $indexOf=_dereq_("../internals/array-includes").indexOf;var arrayMethodIsStrict=_dereq_("../internals/array-method-is-strict");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var nativeIndexOf=[].indexOf;var NEGATIVE_ZERO=!!nativeIndexOf&&1/[1].indexOf(1,-0)<0;var STRICT_METHOD=arrayMethodIsStrict("indexOf");var USES_TO_LENGTH=arrayMethodUsesToLength("indexOf",{ACCESSORS:true,1:0});$({target:"Array",proto:true,forced:NEGATIVE_ZERO||!STRICT_METHOD||!USES_TO_LENGTH},{indexOf:function indexOf(searchElement){return NEGATIVE_ZERO?nativeIndexOf.apply(this,arguments)||0:$indexOf(this,searchElement,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-includes":36,"../internals/array-method-is-strict":40,"../internals/array-method-uses-to-length":41,"../internals/export":67}],176:[function(_dereq_,module,exports){"use strict";var toIndexedObject=_dereq_("../internals/to-indexed-object");var addToUnscopables=_dereq_("../internals/add-to-unscopables");var Iterators=_dereq_("../internals/iterators");var InternalStateModule=_dereq_("../internals/internal-state");var defineIterator=_dereq_("../internals/define-iterator");var ARRAY_ITERATOR="Array Iterator";var setInternalState=InternalStateModule.set;var getInternalState=InternalStateModule.getterFor(ARRAY_ITERATOR);module.exports=defineIterator(Array,"Array",function(iterated,kind){setInternalState(this,{type:ARRAY_ITERATOR,target:toIndexedObject(iterated),index:0,kind:kind})},function(){var state=getInternalState(this);var target=state.target;var kind=state.kind;var index=state.index++;if(!target||index>=target.length){state.target=undefined;return{value:undefined,done:true}}if(kind=="keys")return{value:index,done:false};if(kind=="values")return{value:target[index],done:false};return{value:[index,target[index]],done:false}},"values");Iterators.Arguments=Iterators.Array;addToUnscopables("keys");addToUnscopables("values");addToUnscopables("entries")},{"../internals/add-to-unscopables":25,"../internals/define-iterator":58,"../internals/internal-state":88,"../internals/iterators":97,"../internals/to-indexed-object":150}],177:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var IndexedObject=_dereq_("../internals/indexed-object");var toIndexedObject=_dereq_("../internals/to-indexed-object");var arrayMethodIsStrict=_dereq_("../internals/array-method-is-strict");var nativeJoin=[].join;var ES3_STRINGS=IndexedObject!=Object;var STRICT_METHOD=arrayMethodIsStrict("join",",");$({target:"Array",proto:true,forced:ES3_STRINGS||!STRICT_METHOD},{join:function join(separator){return nativeJoin.call(toIndexedObject(this),separator===undefined?",":separator)}})},{"../internals/array-method-is-strict":40,"../internals/export":67,"../internals/indexed-object":84,"../internals/to-indexed-object":150}],178:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var lastIndexOf=_dereq_("../internals/array-last-index-of");$({target:"Array",proto:true,forced:lastIndexOf!==[].lastIndexOf},{lastIndexOf:lastIndexOf})},{"../internals/array-last-index-of":38,"../internals/export":67}],179:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $map=_dereq_("../internals/array-iteration").map;var arrayMethodHasSpeciesSupport=_dereq_("../internals/array-method-has-species-support");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("map");var USES_TO_LENGTH=arrayMethodUsesToLength("map");$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{map:function map(callbackfn){return $map(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-iteration":37,"../internals/array-method-has-species-support":39,"../internals/array-method-uses-to-length":41,"../internals/export":67}],180:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var isObject=_dereq_("../internals/is-object");var isArray=_dereq_("../internals/is-array");var toAbsoluteIndex=_dereq_("../internals/to-absolute-index");var toLength=_dereq_("../internals/to-length");var toIndexedObject=_dereq_("../internals/to-indexed-object");var createProperty=_dereq_("../internals/create-property");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var arrayMethodHasSpeciesSupport=_dereq_("../internals/array-method-has-species-support");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("slice");var USES_TO_LENGTH=arrayMethodUsesToLength("slice",{ACCESSORS:true,0:0,1:2});var SPECIES=wellKnownSymbol("species");var nativeSlice=[].slice;var max=Math.max;$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{slice:function slice(start,end){var O=toIndexedObject(this);var length=toLength(O.length);var k=toAbsoluteIndex(start,length);var fin=toAbsoluteIndex(end===undefined?length:end,length);var Constructor,result,n;if(isArray(O)){Constructor=O.constructor;if(typeof Constructor=="function"&&(Constructor===Array||isArray(Constructor.prototype))){Constructor=undefined}else if(isObject(Constructor)){Constructor=Constructor[SPECIES];if(Constructor===null)Constructor=undefined}if(Constructor===Array||Constructor===undefined){return nativeSlice.call(O,k,fin)}}result=new(Constructor===undefined?Array:Constructor)(max(fin-k,0));for(n=0;k<fin;k++,n++)if(k in O)createProperty(result,n,O[k]);result.length=n;return result}})},{"../internals/array-method-has-species-support":39,"../internals/array-method-uses-to-length":41,"../internals/create-property":57,"../internals/export":67,"../internals/is-array":90,"../internals/is-object":92,"../internals/to-absolute-index":148,"../internals/to-indexed-object":150,"../internals/to-length":152,"../internals/well-known-symbol":164}],181:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $some=_dereq_("../internals/array-iteration").some;var arrayMethodIsStrict=_dereq_("../internals/array-method-is-strict");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var STRICT_METHOD=arrayMethodIsStrict("some");var USES_TO_LENGTH=arrayMethodUsesToLength("some");$({target:"Array",proto:true,forced:!STRICT_METHOD||!USES_TO_LENGTH},{some:function some(callbackfn){return $some(this,callbackfn,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-iteration":37,"../internals/array-method-is-strict":40,"../internals/array-method-uses-to-length":41,"../internals/export":67}],182:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var toAbsoluteIndex=_dereq_("../internals/to-absolute-index");var toInteger=_dereq_("../internals/to-integer");var toLength=_dereq_("../internals/to-length");var toObject=_dereq_("../internals/to-object");var arraySpeciesCreate=_dereq_("../internals/array-species-create");var createProperty=_dereq_("../internals/create-property");var arrayMethodHasSpeciesSupport=_dereq_("../internals/array-method-has-species-support");var arrayMethodUsesToLength=_dereq_("../internals/array-method-uses-to-length");var HAS_SPECIES_SUPPORT=arrayMethodHasSpeciesSupport("splice");var USES_TO_LENGTH=arrayMethodUsesToLength("splice",{ACCESSORS:true,0:0,1:2});var max=Math.max;var min=Math.min;var MAX_SAFE_INTEGER=9007199254740991;var MAXIMUM_ALLOWED_LENGTH_EXCEEDED="Maximum allowed length exceeded";$({target:"Array",proto:true,forced:!HAS_SPECIES_SUPPORT||!USES_TO_LENGTH},{splice:function splice(start,deleteCount){var O=toObject(this);var len=toLength(O.length);var actualStart=toAbsoluteIndex(start,len);var argumentsLength=arguments.length;var insertCount,actualDeleteCount,A,k,from,to;if(argumentsLength===0){insertCount=actualDeleteCount=0}else if(argumentsLength===1){insertCount=0;actualDeleteCount=len-actualStart}else{insertCount=argumentsLength-2;actualDeleteCount=min(max(toInteger(deleteCount),0),len-actualStart)}if(len+insertCount-actualDeleteCount>MAX_SAFE_INTEGER){throw TypeError(MAXIMUM_ALLOWED_LENGTH_EXCEEDED)}A=arraySpeciesCreate(O,actualDeleteCount);for(k=0;k<actualDeleteCount;k++){from=actualStart+k;if(from in O)createProperty(A,k,O[from])}A.length=actualDeleteCount;if(insertCount<actualDeleteCount){for(k=actualStart;k<len-actualDeleteCount;k++){from=k+actualDeleteCount;to=k+insertCount;if(from in O)O[to]=O[from];else delete O[to]}for(k=len;k>len-actualDeleteCount+insertCount;k--)delete O[k-1]}else if(insertCount>actualDeleteCount){for(k=len-actualDeleteCount;k>actualStart;k--){from=k+actualDeleteCount-1;to=k+insertCount-1;if(from in O)O[to]=O[from];else delete O[to]}}for(k=0;k<insertCount;k++){O[k+actualStart]=arguments[k+2]}O.length=len-actualDeleteCount+insertCount;return A}})},{"../internals/array-method-has-species-support":39,"../internals/array-method-uses-to-length":41,"../internals/array-species-create":43,"../internals/create-property":57,"../internals/export":67,"../internals/to-absolute-index":148,"../internals/to-integer":151,"../internals/to-length":152,"../internals/to-object":153}],183:[function(_dereq_,module,exports){var addToUnscopables=_dereq_("../internals/add-to-unscopables");addToUnscopables("flatMap")},{"../internals/add-to-unscopables":25}],184:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var defineProperty=_dereq_("../internals/object-define-property").f;var FunctionPrototype=Function.prototype;var FunctionPrototypeToString=FunctionPrototype.toString;var nameRE=/^\s*function ([^ (]*)/;var NAME="name";if(DESCRIPTORS&&!(NAME in FunctionPrototype)){defineProperty(FunctionPrototype,NAME,{configurable:true,get:function(){try{return FunctionPrototypeToString.call(this).match(nameRE)[1]}catch(error){return""}}})}},{"../internals/descriptors":60,"../internals/object-define-property":110}],185:[function(_dereq_,module,exports){"use strict";var collection=_dereq_("../internals/collection");var collectionStrong=_dereq_("../internals/collection-strong");module.exports=collection("Map",function(init){return function Map(){return init(this,arguments.length?arguments[0]:undefined)}},collectionStrong)},{"../internals/collection":49,"../internals/collection-strong":48}],186:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var $hypot=Math.hypot;var abs=Math.abs;var sqrt=Math.sqrt;var BUGGY=!!$hypot&&$hypot(Infinity,NaN)!==Infinity;$({target:"Math",stat:true,forced:BUGGY},{hypot:function hypot(value1,value2){var sum=0;var i=0;var aLen=arguments.length;var larg=0;var arg,div;while(i<aLen){arg=abs(arguments[i++]);if(larg<arg){div=larg/arg;sum=sum*div*div+1;larg=arg}else if(arg>0){div=arg/larg;sum+=div*div}else sum+=arg}return larg===Infinity?Infinity:larg*sqrt(sum)}})},{"../internals/export":67}],187:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var sign=_dereq_("../internals/math-sign");$({target:"Math",stat:true},{sign:sign})},{"../internals/export":67,"../internals/math-sign":98}],188:[function(_dereq_,module,exports){"use strict";var DESCRIPTORS=_dereq_("../internals/descriptors");var global=_dereq_("../internals/global");var isForced=_dereq_("../internals/is-forced");var redefine=_dereq_("../internals/redefine");var has=_dereq_("../internals/has");var classof=_dereq_("../internals/classof-raw");var inheritIfRequired=_dereq_("../internals/inherit-if-required");var toPrimitive=_dereq_("../internals/to-primitive");var fails=_dereq_("../internals/fails");var create=_dereq_("../internals/object-create");var getOwnPropertyNames=_dereq_("../internals/object-get-own-property-names").f;var getOwnPropertyDescriptor=_dereq_("../internals/object-get-own-property-descriptor").f;var defineProperty=_dereq_("../internals/object-define-property").f;var trim=_dereq_("../internals/string-trim").trim;var NUMBER="Number";var NativeNumber=global[NUMBER];var NumberPrototype=NativeNumber.prototype;var BROKEN_CLASSOF=classof(create(NumberPrototype))==NUMBER;var toNumber=function(argument){var it=toPrimitive(argument,false);var first,third,radix,maxCode,digits,length,index,code;if(typeof it=="string"&&it.length>2){it=trim(it);first=it.charCodeAt(0);if(first===43||first===45){third=it.charCodeAt(2);if(third===88||third===120)return NaN}else if(first===48){switch(it.charCodeAt(1)){case 66:case 98:radix=2;maxCode=49;break;case 79:case 111:radix=8;maxCode=55;break;default:return+it}digits=it.slice(2);length=digits.length;for(index=0;index<length;index++){code=digits.charCodeAt(index);if(code<48||code>maxCode)return NaN}return parseInt(digits,radix)}}return+it};if(isForced(NUMBER,!NativeNumber(" 0o1")||!NativeNumber("0b1")||NativeNumber("+0x1"))){var NumberWrapper=function Number(value){var it=arguments.length<1?0:value;var dummy=this;return dummy instanceof NumberWrapper&&(BROKEN_CLASSOF?fails(function(){NumberPrototype.valueOf.call(dummy)}):classof(dummy)!=NUMBER)?inheritIfRequired(new NativeNumber(toNumber(it)),dummy,NumberWrapper):toNumber(it)};for(var keys=DESCRIPTORS?getOwnPropertyNames(NativeNumber):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,"+"MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger").split(","),j=0,key;keys.length>j;j++){if(has(NativeNumber,key=keys[j])&&!has(NumberWrapper,key)){defineProperty(NumberWrapper,key,getOwnPropertyDescriptor(NativeNumber,key))}}NumberWrapper.prototype=NumberPrototype;NumberPrototype.constructor=NumberWrapper;redefine(global,NUMBER,NumberWrapper)}},{"../internals/classof-raw":46,"../internals/descriptors":60,"../internals/fails":68,"../internals/global":77,"../internals/has":78,"../internals/inherit-if-required":85,"../internals/is-forced":91,"../internals/object-create":108,"../internals/object-define-property":110,"../internals/object-get-own-property-descriptor":111,"../internals/object-get-own-property-names":113,"../internals/redefine":126,"../internals/string-trim":145,"../internals/to-primitive":156}],189:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var numberIsFinite=_dereq_("../internals/number-is-finite");$({target:"Number",stat:true},{isFinite:numberIsFinite})},{"../internals/export":67,"../internals/number-is-finite":106}],190:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var toInteger=_dereq_("../internals/to-integer");var thisNumberValue=_dereq_("../internals/this-number-value");var repeat=_dereq_("../internals/string-repeat");var fails=_dereq_("../internals/fails");var nativeToFixed=1..toFixed;var floor=Math.floor;var pow=function(x,n,acc){return n===0?acc:n%2===1?pow(x,n-1,acc*x):pow(x*x,n/2,acc)};var log=function(x){var n=0;var x2=x;while(x2>=4096){n+=12;x2/=4096}while(x2>=2){n+=1;x2/=2}return n};var FORCED=nativeToFixed&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!fails(function(){nativeToFixed.call({})});$({target:"Number",proto:true,forced:FORCED},{toFixed:function toFixed(fractionDigits){var number=thisNumberValue(this);var fractDigits=toInteger(fractionDigits);var data=[0,0,0,0,0,0];var sign="";var result="0";var e,z,j,k;var multiply=function(n,c){var index=-1;var c2=c;while(++index<6){c2+=n*data[index];data[index]=c2%1e7;c2=floor(c2/1e7)}};var divide=function(n){var index=6;var c=0;while(--index>=0){c+=data[index];data[index]=floor(c/n);c=c%n*1e7}};var dataToString=function(){var index=6;var s="";while(--index>=0){if(s!==""||index===0||data[index]!==0){var t=String(data[index]);s=s===""?t:s+repeat.call("0",7-t.length)+t}}return s};if(fractDigits<0||fractDigits>20)throw RangeError("Incorrect fraction digits");if(number!=number)return"NaN";if(number<=-1e21||number>=1e21)return String(number);if(number<0){sign="-";number=-number}if(number>1e-21){e=log(number*pow(2,69,1))-69;z=e<0?number*pow(2,-e,1):number/pow(2,e,1);z*=4503599627370496;e=52-e;if(e>0){multiply(0,z);j=fractDigits;while(j>=7){multiply(1e7,0);j-=7}multiply(pow(10,j,1),0);j=e-1;while(j>=23){divide(1<<23);j-=23}divide(1<<j);multiply(1,1);divide(2);result=dataToString()}else{multiply(0,z);multiply(1<<-e,0);result=dataToString()+repeat.call("0",fractDigits)}}if(fractDigits>0){k=result.length;result=sign+(k<=fractDigits?"0."+repeat.call("0",fractDigits-k)+result:result.slice(0,k-fractDigits)+"."+result.slice(k-fractDigits))}else{result=sign+result}return result}})},{"../internals/export":67,"../internals/fails":68,"../internals/string-repeat":143,"../internals/this-number-value":147,"../internals/to-integer":151}],191:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var assign=_dereq_("../internals/object-assign");$({target:"Object",stat:true,forced:Object.assign!==assign},{assign:assign})},{"../internals/export":67,"../internals/object-assign":107}],192:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var fails=_dereq_("../internals/fails");var nativeGetOwnPropertyNames=_dereq_("../internals/object-get-own-property-names-external").f;var FAILS_ON_PRIMITIVES=fails(function(){return!Object.getOwnPropertyNames(1)});$({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES},{getOwnPropertyNames:nativeGetOwnPropertyNames})},{"../internals/export":67,"../internals/fails":68,"../internals/object-get-own-property-names-external":112}],193:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var fails=_dereq_("../internals/fails");var toObject=_dereq_("../internals/to-object");var nativeGetPrototypeOf=_dereq_("../internals/object-get-prototype-of");var CORRECT_PROTOTYPE_GETTER=_dereq_("../internals/correct-prototype-getter");var FAILS_ON_PRIMITIVES=fails(function(){nativeGetPrototypeOf(1)});$({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES,sham:!CORRECT_PROTOTYPE_GETTER},{getPrototypeOf:function getPrototypeOf(it){return nativeGetPrototypeOf(toObject(it))}})},{"../internals/correct-prototype-getter":52,"../internals/export":67,"../internals/fails":68,"../internals/object-get-prototype-of":115,"../internals/to-object":153}],194:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var toObject=_dereq_("../internals/to-object");var nativeKeys=_dereq_("../internals/object-keys");var fails=_dereq_("../internals/fails");var FAILS_ON_PRIMITIVES=fails(function(){nativeKeys(1)});$({target:"Object",stat:true,forced:FAILS_ON_PRIMITIVES},{keys:function keys(it){return nativeKeys(toObject(it))}})},{"../internals/export":67,"../internals/fails":68,"../internals/object-keys":117,"../internals/to-object":153}],195:[function(_dereq_,module,exports){var TO_STRING_TAG_SUPPORT=_dereq_("../internals/to-string-tag-support");var redefine=_dereq_("../internals/redefine");var toString=_dereq_("../internals/object-to-string");if(!TO_STRING_TAG_SUPPORT){redefine(Object.prototype,"toString",toString,{unsafe:true})}},{"../internals/object-to-string":120,"../internals/redefine":126,"../internals/to-string-tag-support":157}],196:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var IS_PURE=_dereq_("../internals/is-pure");var global=_dereq_("../internals/global");var getBuiltIn=_dereq_("../internals/get-built-in");var NativePromise=_dereq_("../internals/native-promise-constructor");var redefine=_dereq_("../internals/redefine");var redefineAll=_dereq_("../internals/redefine-all");var setToStringTag=_dereq_("../internals/set-to-string-tag");var setSpecies=_dereq_("../internals/set-species");var isObject=_dereq_("../internals/is-object");var aFunction=_dereq_("../internals/a-function");var anInstance=_dereq_("../internals/an-instance");var classof=_dereq_("../internals/classof-raw");var inspectSource=_dereq_("../internals/inspect-source");var iterate=_dereq_("../internals/iterate");var checkCorrectnessOfIteration=_dereq_("../internals/check-correctness-of-iteration");var speciesConstructor=_dereq_("../internals/species-constructor");var task=_dereq_("../internals/task").set;var microtask=_dereq_("../internals/microtask");var promiseResolve=_dereq_("../internals/promise-resolve");var hostReportErrors=_dereq_("../internals/host-report-errors");var newPromiseCapabilityModule=_dereq_("../internals/new-promise-capability");var perform=_dereq_("../internals/perform");var InternalStateModule=_dereq_("../internals/internal-state");var isForced=_dereq_("../internals/is-forced");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var V8_VERSION=_dereq_("../internals/engine-v8-version");var SPECIES=wellKnownSymbol("species");var PROMISE="Promise";var getInternalState=InternalStateModule.get;var setInternalState=InternalStateModule.set;var getInternalPromiseState=InternalStateModule.getterFor(PROMISE);var PromiseConstructor=NativePromise;var TypeError=global.TypeError;var document=global.document;var process=global.process;var $fetch=getBuiltIn("fetch");var newPromiseCapability=newPromiseCapabilityModule.f;var newGenericPromiseCapability=newPromiseCapability;var IS_NODE=classof(process)=="process";var DISPATCH_EVENT=!!(document&&document.createEvent&&global.dispatchEvent);var UNHANDLED_REJECTION="unhandledrejection";var REJECTION_HANDLED="rejectionhandled";var PENDING=0;var FULFILLED=1;var REJECTED=2;var HANDLED=1;var UNHANDLED=2;var Internal,OwnPromiseCapability,PromiseWrapper,nativeThen;var FORCED=isForced(PROMISE,function(){var GLOBAL_CORE_JS_PROMISE=inspectSource(PromiseConstructor)!==String(PromiseConstructor);if(!GLOBAL_CORE_JS_PROMISE){if(V8_VERSION===66)return true;if(!IS_NODE&&typeof PromiseRejectionEvent!="function")return true}if(IS_PURE&&!PromiseConstructor.prototype["finally"])return true;if(V8_VERSION>=51&&/native code/.test(PromiseConstructor))return false;var promise=PromiseConstructor.resolve(1);var FakePromise=function(exec){exec(function(){},function(){})};var constructor=promise.constructor={};constructor[SPECIES]=FakePromise;return!(promise.then(function(){})instanceof FakePromise)});var INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(iterable){PromiseConstructor.all(iterable)["catch"](function(){})});var isThenable=function(it){var then;return isObject(it)&&typeof(then=it.then)=="function"?then:false};var notify=function(promise,state,isReject){if(state.notified)return;state.notified=true;var chain=state.reactions;microtask(function(){var value=state.value;var ok=state.state==FULFILLED;var index=0;while(chain.length>index){var reaction=chain[index++];var handler=ok?reaction.ok:reaction.fail;var resolve=reaction.resolve;var reject=reaction.reject;var domain=reaction.domain;var result,then,exited;try{if(handler){if(!ok){if(state.rejection===UNHANDLED)onHandleUnhandled(promise,state);state.rejection=HANDLED}if(handler===true)result=value;else{if(domain)domain.enter();result=handler(value);if(domain){domain.exit();exited=true}}if(result===reaction.promise){reject(TypeError("Promise-chain cycle"))}else if(then=isThenable(result)){then.call(result,resolve,reject)}else resolve(result)}else reject(value)}catch(error){if(domain&&!exited)domain.exit();reject(error)}}state.reactions=[];state.notified=false;if(isReject&&!state.rejection)onUnhandled(promise,state)})};var dispatchEvent=function(name,promise,reason){var event,handler;if(DISPATCH_EVENT){event=document.createEvent("Event");event.promise=promise;event.reason=reason;event.initEvent(name,false,true);global.dispatchEvent(event)}else event={promise:promise,reason:reason};if(handler=global["on"+name])handler(event);else if(name===UNHANDLED_REJECTION)hostReportErrors("Unhandled promise rejection",reason)};var onUnhandled=function(promise,state){task.call(global,function(){var value=state.value;var IS_UNHANDLED=isUnhandled(state);var result;if(IS_UNHANDLED){result=perform(function(){if(IS_NODE){process.emit("unhandledRejection",value,promise)}else dispatchEvent(UNHANDLED_REJECTION,promise,value)});state.rejection=IS_NODE||isUnhandled(state)?UNHANDLED:HANDLED;if(result.error)throw result.value}})};var isUnhandled=function(state){return state.rejection!==HANDLED&&!state.parent};var onHandleUnhandled=function(promise,state){task.call(global,function(){if(IS_NODE){process.emit("rejectionHandled",promise)}else dispatchEvent(REJECTION_HANDLED,promise,state.value)})};var bind=function(fn,promise,state,unwrap){return function(value){fn(promise,state,value,unwrap)}};var internalReject=function(promise,state,value,unwrap){if(state.done)return;state.done=true;if(unwrap)state=unwrap;state.value=value;state.state=REJECTED;notify(promise,state,true)};var internalResolve=function(promise,state,value,unwrap){if(state.done)return;state.done=true;if(unwrap)state=unwrap;try{if(promise===value)throw TypeError("Promise can't be resolved itself");var then=isThenable(value);if(then){microtask(function(){var wrapper={done:false};try{then.call(value,bind(internalResolve,promise,wrapper,state),bind(internalReject,promise,wrapper,state))}catch(error){internalReject(promise,wrapper,error,state)}})}else{state.value=value;state.state=FULFILLED;notify(promise,state,false)}}catch(error){internalReject(promise,{done:false},error,state)}};if(FORCED){PromiseConstructor=function Promise(executor){anInstance(this,PromiseConstructor,PROMISE);aFunction(executor);Internal.call(this);var state=getInternalState(this);try{executor(bind(internalResolve,this,state),bind(internalReject,this,state))}catch(error){internalReject(this,state,error)}};Internal=function Promise(executor){setInternalState(this,{type:PROMISE,done:false,notified:false,parent:false,reactions:[],rejection:false,state:PENDING,value:undefined})};Internal.prototype=redefineAll(PromiseConstructor.prototype,{then:function then(onFulfilled,onRejected){var state=getInternalPromiseState(this);var reaction=newPromiseCapability(speciesConstructor(this,PromiseConstructor));reaction.ok=typeof onFulfilled=="function"?onFulfilled:true;reaction.fail=typeof onRejected=="function"&&onRejected;reaction.domain=IS_NODE?process.domain:undefined;state.parent=true;state.reactions.push(reaction);if(state.state!=PENDING)notify(this,state,false);return reaction.promise},catch:function(onRejected){return this.then(undefined,onRejected)}});OwnPromiseCapability=function(){var promise=new Internal;var state=getInternalState(promise);this.promise=promise;this.resolve=bind(internalResolve,promise,state);this.reject=bind(internalReject,promise,state)};newPromiseCapabilityModule.f=newPromiseCapability=function(C){return C===PromiseConstructor||C===PromiseWrapper?new OwnPromiseCapability(C):newGenericPromiseCapability(C)};if(!IS_PURE&&typeof NativePromise=="function"){nativeThen=NativePromise.prototype.then;redefine(NativePromise.prototype,"then",function then(onFulfilled,onRejected){var that=this;return new PromiseConstructor(function(resolve,reject){nativeThen.call(that,resolve,reject)}).then(onFulfilled,onRejected)},{unsafe:true});if(typeof $fetch=="function")$({global:true,enumerable:true,forced:true},{fetch:function fetch(input){return promiseResolve(PromiseConstructor,$fetch.apply(global,arguments))}})}}$({global:true,wrap:true,forced:FORCED},{Promise:PromiseConstructor});setToStringTag(PromiseConstructor,PROMISE,false,true);setSpecies(PROMISE);PromiseWrapper=getBuiltIn(PROMISE);$({target:PROMISE,stat:true,forced:FORCED},{reject:function reject(r){var capability=newPromiseCapability(this);capability.reject.call(undefined,r);return capability.promise}});$({target:PROMISE,stat:true,forced:IS_PURE||FORCED},{resolve:function resolve(x){return promiseResolve(IS_PURE&&this===PromiseWrapper?PromiseConstructor:this,x)}});$({target:PROMISE,stat:true,forced:INCORRECT_ITERATION},{all:function all(iterable){var C=this;var capability=newPromiseCapability(C);var resolve=capability.resolve;var reject=capability.reject;var result=perform(function(){var $promiseResolve=aFunction(C.resolve);var values=[];var counter=0;var remaining=1;iterate(iterable,function(promise){var index=counter++;var alreadyCalled=false;values.push(undefined);remaining++;$promiseResolve.call(C,promise).then(function(value){if(alreadyCalled)return;alreadyCalled=true;values[index]=value;--remaining||resolve(values)},reject)});--remaining||resolve(values)});if(result.error)reject(result.value);return capability.promise},race:function race(iterable){var C=this;var capability=newPromiseCapability(C);var reject=capability.reject;var result=perform(function(){var $promiseResolve=aFunction(C.resolve);iterate(iterable,function(promise){$promiseResolve.call(C,promise).then(capability.resolve,reject)})});if(result.error)reject(result.value);return capability.promise}})},{"../internals/a-function":23,"../internals/an-instance":27,"../internals/check-correctness-of-iteration":45,"../internals/classof-raw":46,"../internals/engine-v8-version":65,"../internals/export":67,"../internals/get-built-in":74,"../internals/global":77,"../internals/host-report-errors":80,"../internals/inspect-source":86,"../internals/internal-state":88,"../internals/is-forced":91,"../internals/is-object":92,"../internals/is-pure":93,"../internals/iterate":95,"../internals/microtask":99,"../internals/native-promise-constructor":100,"../internals/new-promise-capability":104,"../internals/perform":123,"../internals/promise-resolve":124,"../internals/redefine":126,"../internals/redefine-all":125,"../internals/set-species":134,"../internals/set-to-string-tag":135,"../internals/species-constructor":139,"../internals/task":146,"../internals/well-known-symbol":164}],197:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var getBuiltIn=_dereq_("../internals/get-built-in");var aFunction=_dereq_("../internals/a-function");var anObject=_dereq_("../internals/an-object");var isObject=_dereq_("../internals/is-object");var create=_dereq_("../internals/object-create");var bind=_dereq_("../internals/function-bind");var fails=_dereq_("../internals/fails");var nativeConstruct=getBuiltIn("Reflect","construct");var NEW_TARGET_BUG=fails(function(){function F(){}return!(nativeConstruct(function(){},[],F)instanceof F)});var ARGS_BUG=!fails(function(){nativeConstruct(function(){})});var FORCED=NEW_TARGET_BUG||ARGS_BUG;$({target:"Reflect",stat:true,forced:FORCED,sham:FORCED},{construct:function construct(Target,args){aFunction(Target);anObject(args);var newTarget=arguments.length<3?Target:aFunction(arguments[2]);if(ARGS_BUG&&!NEW_TARGET_BUG)return nativeConstruct(Target,args,newTarget);if(Target==newTarget){switch(args.length){case 0:return new Target;case 1:return new Target(args[0]);case 2:return new Target(args[0],args[1]);case 3:return new Target(args[0],args[1],args[2]);case 4:return new Target(args[0],args[1],args[2],args[3])}var $args=[null];$args.push.apply($args,args);return new(bind.apply(Target,$args))}var proto=newTarget.prototype;var instance=create(isObject(proto)?proto:Object.prototype);var result=Function.apply.call(Target,instance,args);return isObject(result)?result:instance}})},{"../internals/a-function":23,"../internals/an-object":28,"../internals/export":67,"../internals/fails":68,"../internals/function-bind":73,"../internals/get-built-in":74,"../internals/is-object":92,"../internals/object-create":108}],198:[function(_dereq_,module,exports){var DESCRIPTORS=_dereq_("../internals/descriptors");var global=_dereq_("../internals/global");var isForced=_dereq_("../internals/is-forced");var inheritIfRequired=_dereq_("../internals/inherit-if-required");var defineProperty=_dereq_("../internals/object-define-property").f;var getOwnPropertyNames=_dereq_("../internals/object-get-own-property-names").f;var isRegExp=_dereq_("../internals/is-regexp");var getFlags=_dereq_("../internals/regexp-flags");var stickyHelpers=_dereq_("../internals/regexp-sticky-helpers");var redefine=_dereq_("../internals/redefine");var fails=_dereq_("../internals/fails");var setInternalState=_dereq_("../internals/internal-state").set;var setSpecies=_dereq_("../internals/set-species");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var MATCH=wellKnownSymbol("match");var NativeRegExp=global.RegExp;var RegExpPrototype=NativeRegExp.prototype;var re1=/a/g;var re2=/a/g;var CORRECT_NEW=new NativeRegExp(re1)!==re1;var UNSUPPORTED_Y=stickyHelpers.UNSUPPORTED_Y;var FORCED=DESCRIPTORS&&isForced("RegExp",!CORRECT_NEW||UNSUPPORTED_Y||fails(function(){re2[MATCH]=false;return NativeRegExp(re1)!=re1||NativeRegExp(re2)==re2||NativeRegExp(re1,"i")!="/a/i"}));if(FORCED){var RegExpWrapper=function RegExp(pattern,flags){var thisIsRegExp=this instanceof RegExpWrapper;var patternIsRegExp=isRegExp(pattern);var flagsAreUndefined=flags===undefined;var sticky;if(!thisIsRegExp&&patternIsRegExp&&pattern.constructor===RegExpWrapper&&flagsAreUndefined){return pattern}if(CORRECT_NEW){if(patternIsRegExp&&!flagsAreUndefined)pattern=pattern.source}else if(pattern instanceof RegExpWrapper){if(flagsAreUndefined)flags=getFlags.call(pattern);pattern=pattern.source}if(UNSUPPORTED_Y){sticky=!!flags&&flags.indexOf("y")>-1;if(sticky)flags=flags.replace(/y/g,"")}var result=inheritIfRequired(CORRECT_NEW?new NativeRegExp(pattern,flags):NativeRegExp(pattern,flags),thisIsRegExp?this:RegExpPrototype,RegExpWrapper);if(UNSUPPORTED_Y&&sticky)setInternalState(result,{sticky:sticky});return result};var proxy=function(key){key in RegExpWrapper||defineProperty(RegExpWrapper,key,{configurable:true,get:function(){return NativeRegExp[key]},set:function(it){NativeRegExp[key]=it}})};var keys=getOwnPropertyNames(NativeRegExp);var index=0;while(keys.length>index)proxy(keys[index++]);RegExpPrototype.constructor=RegExpWrapper;RegExpWrapper.prototype=RegExpPrototype;redefine(global,"RegExp",RegExpWrapper)}setSpecies("RegExp")},{"../internals/descriptors":60,"../internals/fails":68,"../internals/global":77,"../internals/inherit-if-required":85,"../internals/internal-state":88,"../internals/is-forced":91,"../internals/is-regexp":94,"../internals/object-define-property":110,"../internals/object-get-own-property-names":113,"../internals/redefine":126,"../internals/regexp-flags":129,"../internals/regexp-sticky-helpers":130,"../internals/set-species":134,"../internals/well-known-symbol":164}],199:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var exec=_dereq_("../internals/regexp-exec");$({target:"RegExp",proto:true,forced:/./.exec!==exec},{exec:exec})},{"../internals/export":67,"../internals/regexp-exec":128}],200:[function(_dereq_,module,exports){"use strict";var redefine=_dereq_("../internals/redefine");var anObject=_dereq_("../internals/an-object");var fails=_dereq_("../internals/fails");var flags=_dereq_("../internals/regexp-flags");var TO_STRING="toString";var RegExpPrototype=RegExp.prototype;var nativeToString=RegExpPrototype[TO_STRING];var NOT_GENERIC=fails(function(){return nativeToString.call({source:"a",flags:"b"})!="/a/b"});var INCORRECT_NAME=nativeToString.name!=TO_STRING;if(NOT_GENERIC||INCORRECT_NAME){redefine(RegExp.prototype,TO_STRING,function toString(){var R=anObject(this);var p=String(R.source);var rf=R.flags;var f=String(rf===undefined&&R instanceof RegExp&&!("flags"in RegExpPrototype)?flags.call(R):rf);return"/"+p+"/"+f},{unsafe:true})}},{"../internals/an-object":28,"../internals/fails":68,"../internals/redefine":126,"../internals/regexp-flags":129}],201:[function(_dereq_,module,exports){"use strict";var collection=_dereq_("../internals/collection");var collectionStrong=_dereq_("../internals/collection-strong");module.exports=collection("Set",function(init){return function Set(){return init(this,arguments.length?arguments[0]:undefined)}},collectionStrong)},{"../internals/collection":49,"../internals/collection-strong":48}],202:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var getOwnPropertyDescriptor=_dereq_("../internals/object-get-own-property-descriptor").f;var toLength=_dereq_("../internals/to-length");var notARegExp=_dereq_("../internals/not-a-regexp");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var correctIsRegExpLogic=_dereq_("../internals/correct-is-regexp-logic");var IS_PURE=_dereq_("../internals/is-pure");var nativeEndsWith="".endsWith;var min=Math.min;var CORRECT_IS_REGEXP_LOGIC=correctIsRegExpLogic("endsWith");var MDN_POLYFILL_BUG=!IS_PURE&&!CORRECT_IS_REGEXP_LOGIC&&!!function(){var descriptor=getOwnPropertyDescriptor(String.prototype,"endsWith");return descriptor&&!descriptor.writable}();$({target:"String",proto:true,forced:!MDN_POLYFILL_BUG&&!CORRECT_IS_REGEXP_LOGIC},{endsWith:function endsWith(searchString){var that=String(requireObjectCoercible(this));notARegExp(searchString);var endPosition=arguments.length>1?arguments[1]:undefined;var len=toLength(that.length);var end=endPosition===undefined?len:min(toLength(endPosition),len);var search=String(searchString);return nativeEndsWith?nativeEndsWith.call(that,search,end):that.slice(end-search.length,end)===search}})},{"../internals/correct-is-regexp-logic":51,"../internals/export":67,"../internals/is-pure":93,"../internals/not-a-regexp":105,"../internals/object-get-own-property-descriptor":111,"../internals/require-object-coercible":131,"../internals/to-length":152}],203:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var notARegExp=_dereq_("../internals/not-a-regexp");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var correctIsRegExpLogic=_dereq_("../internals/correct-is-regexp-logic");$({target:"String",proto:true,forced:!correctIsRegExpLogic("includes")},{includes:function includes(searchString){return!!~String(requireObjectCoercible(this)).indexOf(notARegExp(searchString),arguments.length>1?arguments[1]:undefined)}})},{"../internals/correct-is-regexp-logic":51,"../internals/export":67,"../internals/not-a-regexp":105,"../internals/require-object-coercible":131}],204:[function(_dereq_,module,exports){"use strict";var charAt=_dereq_("../internals/string-multibyte").charAt;var InternalStateModule=_dereq_("../internals/internal-state");var defineIterator=_dereq_("../internals/define-iterator");var STRING_ITERATOR="String Iterator";var setInternalState=InternalStateModule.set;var getInternalState=InternalStateModule.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(iterated){setInternalState(this,{type:STRING_ITERATOR,string:String(iterated),index:0})},function next(){var state=getInternalState(this);var string=state.string;var index=state.index;var point;if(index>=string.length)return{value:undefined,done:true};point=charAt(string,index);state.index+=point.length;return{value:point,done:false}})},{"../internals/define-iterator":58,"../internals/internal-state":88,"../internals/string-multibyte":141}],205:[function(_dereq_,module,exports){"use strict";var fixRegExpWellKnownSymbolLogic=_dereq_("../internals/fix-regexp-well-known-symbol-logic");var anObject=_dereq_("../internals/an-object");var toLength=_dereq_("../internals/to-length");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var advanceStringIndex=_dereq_("../internals/advance-string-index");var regExpExec=_dereq_("../internals/regexp-exec-abstract");fixRegExpWellKnownSymbolLogic("match",1,function(MATCH,nativeMatch,maybeCallNative){return[function match(regexp){var O=requireObjectCoercible(this);var matcher=regexp==undefined?undefined:regexp[MATCH];return matcher!==undefined?matcher.call(regexp,O):new RegExp(regexp)[MATCH](String(O))},function(regexp){var res=maybeCallNative(nativeMatch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);if(!rx.global)return regExpExec(rx,S);var fullUnicode=rx.unicode;rx.lastIndex=0;var A=[];var n=0;var result;while((result=regExpExec(rx,S))!==null){var matchStr=String(result[0]);A[n]=matchStr;if(matchStr==="")rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode);n++}return n===0?null:A}]})},{"../internals/advance-string-index":26,"../internals/an-object":28,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/regexp-exec-abstract":127,"../internals/require-object-coercible":131,"../internals/to-length":152}],206:[function(_dereq_,module,exports){var $=_dereq_("../internals/export");var repeat=_dereq_("../internals/string-repeat");$({target:"String",proto:true},{repeat:repeat})},{"../internals/export":67,"../internals/string-repeat":143}],207:[function(_dereq_,module,exports){"use strict";var fixRegExpWellKnownSymbolLogic=_dereq_("../internals/fix-regexp-well-known-symbol-logic");var anObject=_dereq_("../internals/an-object");var toObject=_dereq_("../internals/to-object");var toLength=_dereq_("../internals/to-length");var toInteger=_dereq_("../internals/to-integer");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var advanceStringIndex=_dereq_("../internals/advance-string-index");var regExpExec=_dereq_("../internals/regexp-exec-abstract");var max=Math.max;var min=Math.min;var floor=Math.floor;var SUBSTITUTION_SYMBOLS=/\$([$&'`]|\d\d?|<[^>]*>)/g;var SUBSTITUTION_SYMBOLS_NO_NAMED=/\$([$&'`]|\d\d?)/g;var maybeToString=function(it){return it===undefined?it:String(it)};fixRegExpWellKnownSymbolLogic("replace",2,function(REPLACE,nativeReplace,maybeCallNative,reason){var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE=reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;var REPLACE_KEEPS_$0=reason.REPLACE_KEEPS_$0;var UNSAFE_SUBSTITUTE=REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE?"$":"$0";return[function replace(searchValue,replaceValue){var O=requireObjectCoercible(this);var replacer=searchValue==undefined?undefined:searchValue[REPLACE];return replacer!==undefined?replacer.call(searchValue,O,replaceValue):nativeReplace.call(String(O),searchValue,replaceValue)},function(regexp,replaceValue){if(!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE&&REPLACE_KEEPS_$0||typeof replaceValue==="string"&&replaceValue.indexOf(UNSAFE_SUBSTITUTE)===-1){var res=maybeCallNative(nativeReplace,regexp,this,replaceValue);if(res.done)return res.value}var rx=anObject(regexp);var S=String(this);var functionalReplace=typeof replaceValue==="function";if(!functionalReplace)replaceValue=String(replaceValue);var global=rx.global;if(global){var fullUnicode=rx.unicode;rx.lastIndex=0}var results=[];while(true){var result=regExpExec(rx,S);if(result===null)break;results.push(result);if(!global)break;var matchStr=String(result[0]);if(matchStr==="")rx.lastIndex=advanceStringIndex(S,toLength(rx.lastIndex),fullUnicode)}var accumulatedResult="";var nextSourcePosition=0;for(var i=0;i<results.length;i++){result=results[i];var matched=String(result[0]);var position=max(min(toInteger(result.index),S.length),0);var captures=[];for(var j=1;j<result.length;j++)captures.push(maybeToString(result[j]));var namedCaptures=result.groups;if(functionalReplace){var replacerArgs=[matched].concat(captures,position,S);if(namedCaptures!==undefined)replacerArgs.push(namedCaptures);var replacement=String(replaceValue.apply(undefined,replacerArgs))}else{replacement=getSubstitution(matched,S,position,captures,namedCaptures,replaceValue)}if(position>=nextSourcePosition){accumulatedResult+=S.slice(nextSourcePosition,position)+replacement;nextSourcePosition=position+matched.length}}return accumulatedResult+S.slice(nextSourcePosition)}];function getSubstitution(matched,str,position,captures,namedCaptures,replacement){var tailPos=position+matched.length;var m=captures.length;var symbols=SUBSTITUTION_SYMBOLS_NO_NAMED;if(namedCaptures!==undefined){namedCaptures=toObject(namedCaptures);symbols=SUBSTITUTION_SYMBOLS}return nativeReplace.call(replacement,symbols,function(match,ch){var capture;switch(ch.charAt(0)){case"$":return"$";case"&":return matched;case"`":return str.slice(0,position);case"'":return str.slice(tailPos);case"<":capture=namedCaptures[ch.slice(1,-1)];break;default:var n=+ch;if(n===0)return match;if(n>m){var f=floor(n/10);if(f===0)return match;if(f<=m)return captures[f-1]===undefined?ch.charAt(1):captures[f-1]+ch.charAt(1);return match}capture=captures[n-1]}return capture===undefined?"":capture})}})},{"../internals/advance-string-index":26,"../internals/an-object":28,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/regexp-exec-abstract":127,"../internals/require-object-coercible":131,"../internals/to-integer":151,"../internals/to-length":152,"../internals/to-object":153}],208:[function(_dereq_,module,exports){"use strict";var fixRegExpWellKnownSymbolLogic=_dereq_("../internals/fix-regexp-well-known-symbol-logic");var anObject=_dereq_("../internals/an-object");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var sameValue=_dereq_("../internals/same-value");var regExpExec=_dereq_("../internals/regexp-exec-abstract");fixRegExpWellKnownSymbolLogic("search",1,function(SEARCH,nativeSearch,maybeCallNative){return[function search(regexp){var O=requireObjectCoercible(this);var searcher=regexp==undefined?undefined:regexp[SEARCH];return searcher!==undefined?searcher.call(regexp,O):new RegExp(regexp)[SEARCH](String(O))},function(regexp){var res=maybeCallNative(nativeSearch,regexp,this);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var previousLastIndex=rx.lastIndex;if(!sameValue(previousLastIndex,0))rx.lastIndex=0;var result=regExpExec(rx,S);if(!sameValue(rx.lastIndex,previousLastIndex))rx.lastIndex=previousLastIndex;return result===null?-1:result.index}]})},{"../internals/an-object":28,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/regexp-exec-abstract":127,"../internals/require-object-coercible":131,"../internals/same-value":132}],209:[function(_dereq_,module,exports){"use strict";var fixRegExpWellKnownSymbolLogic=_dereq_("../internals/fix-regexp-well-known-symbol-logic");var isRegExp=_dereq_("../internals/is-regexp");var anObject=_dereq_("../internals/an-object");var requireObjectCoercible=_dereq_("../internals/require-object-coercible");var speciesConstructor=_dereq_("../internals/species-constructor");var advanceStringIndex=_dereq_("../internals/advance-string-index");var toLength=_dereq_("../internals/to-length");var callRegExpExec=_dereq_("../internals/regexp-exec-abstract");var regexpExec=_dereq_("../internals/regexp-exec");var fails=_dereq_("../internals/fails");var arrayPush=[].push;var min=Math.min;var MAX_UINT32=4294967295;var SUPPORTS_Y=!fails(function(){return!RegExp(MAX_UINT32,"y")});fixRegExpWellKnownSymbolLogic("split",2,function(SPLIT,nativeSplit,maybeCallNative){var internalSplit;if("abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length){internalSplit=function(separator,limit){var string=String(requireObjectCoercible(this));var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(separator===undefined)return[string];if(!isRegExp(separator)){return nativeSplit.call(string,separator,lim)}var output=[];var flags=(separator.ignoreCase?"i":"")+(separator.multiline?"m":"")+(separator.unicode?"u":"")+(separator.sticky?"y":"");var lastLastIndex=0;var separatorCopy=new RegExp(separator.source,flags+"g");var match,lastIndex,lastLength;while(match=regexpExec.call(separatorCopy,string)){lastIndex=separatorCopy.lastIndex;if(lastIndex>lastLastIndex){output.push(string.slice(lastLastIndex,match.index));if(match.length>1&&match.index<string.length)arrayPush.apply(output,match.slice(1));lastLength=match[0].length;lastLastIndex=lastIndex;if(output.length>=lim)break}if(separatorCopy.lastIndex===match.index)separatorCopy.lastIndex++}if(lastLastIndex===string.length){if(lastLength||!separatorCopy.test(""))output.push("")}else output.push(string.slice(lastLastIndex));return output.length>lim?output.slice(0,lim):output}}else if("0".split(undefined,0).length){internalSplit=function(separator,limit){return separator===undefined&&limit===0?[]:nativeSplit.call(this,separator,limit)}}else internalSplit=nativeSplit;return[function split(separator,limit){var O=requireObjectCoercible(this);var splitter=separator==undefined?undefined:separator[SPLIT];return splitter!==undefined?splitter.call(separator,O,limit):internalSplit.call(String(O),separator,limit)},function(regexp,limit){var res=maybeCallNative(internalSplit,regexp,this,limit,internalSplit!==nativeSplit);if(res.done)return res.value;var rx=anObject(regexp);var S=String(this);var C=speciesConstructor(rx,RegExp);var unicodeMatching=rx.unicode;var flags=(rx.ignoreCase?"i":"")+(rx.multiline?"m":"")+(rx.unicode?"u":"")+(SUPPORTS_Y?"y":"g");var splitter=new C(SUPPORTS_Y?rx:"^(?:"+rx.source+")",flags);var lim=limit===undefined?MAX_UINT32:limit>>>0;if(lim===0)return[];if(S.length===0)return callRegExpExec(splitter,S)===null?[S]:[];var p=0;var q=0;var A=[];while(q<S.length){splitter.lastIndex=SUPPORTS_Y?q:0;var z=callRegExpExec(splitter,SUPPORTS_Y?S:S.slice(q));var e;if(z===null||(e=min(toLength(splitter.lastIndex+(SUPPORTS_Y?0:q)),S.length))===p){q=advanceStringIndex(S,q,unicodeMatching)}else{A.push(S.slice(p,q));if(A.length===lim)return A;for(var i=1;i<=z.length-1;i++){A.push(z[i]);if(A.length===lim)return A}q=p=e}}A.push(S.slice(p));return A}]},!SUPPORTS_Y)},{"../internals/advance-string-index":26,"../internals/an-object":28,"../internals/fails":68,"../internals/fix-regexp-well-known-symbol-logic":69,"../internals/is-regexp":94,"../internals/regexp-exec":128,"../internals/regexp-exec-abstract":127,"../internals/require-object-coercible":131,"../internals/species-constructor":139,"../internals/to-length":152}],210:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var createHTML=_dereq_("../internals/create-html");var forcedStringHTMLMethod=_dereq_("../internals/string-html-forced");$({target:"String",proto:true,forced:forcedStringHTMLMethod("sub")},{sub:function sub(){return createHTML(this,"sub","","")}})},{"../internals/create-html":53,"../internals/export":67,"../internals/string-html-forced":140}],211:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var $trim=_dereq_("../internals/string-trim").trim;var forcedStringTrimMethod=_dereq_("../internals/string-trim-forced");$({target:"String",proto:true,forced:forcedStringTrimMethod("trim")},{trim:function trim(){return $trim(this)}})},{"../internals/export":67,"../internals/string-trim":145,"../internals/string-trim-forced":144}],212:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var DESCRIPTORS=_dereq_("../internals/descriptors");var global=_dereq_("../internals/global");var has=_dereq_("../internals/has");var isObject=_dereq_("../internals/is-object");var defineProperty=_dereq_("../internals/object-define-property").f;var copyConstructorProperties=_dereq_("../internals/copy-constructor-properties");var NativeSymbol=global.Symbol;if(DESCRIPTORS&&typeof NativeSymbol=="function"&&(!("description"in NativeSymbol.prototype)||NativeSymbol().description!==undefined)){var EmptyStringDescriptionStore={};var SymbolWrapper=function Symbol(){var description=arguments.length<1||arguments[0]===undefined?undefined:String(arguments[0]);var result=this instanceof SymbolWrapper?new NativeSymbol(description):description===undefined?NativeSymbol():NativeSymbol(description);if(description==="")EmptyStringDescriptionStore[result]=true;return result};copyConstructorProperties(SymbolWrapper,NativeSymbol);var symbolPrototype=SymbolWrapper.prototype=NativeSymbol.prototype;symbolPrototype.constructor=SymbolWrapper;var symbolToString=symbolPrototype.toString;var native=String(NativeSymbol("test"))=="Symbol(test)";var regexp=/^Symbol\((.*)\)[^)]+$/;defineProperty(symbolPrototype,"description",{configurable:true,get:function description(){var symbol=isObject(this)?this.valueOf():this;var string=symbolToString.call(symbol);if(has(EmptyStringDescriptionStore,symbol))return"";var desc=native?string.slice(7,-1):string.replace(regexp,"$1");return desc===""?undefined:desc}});$({global:true,forced:true},{Symbol:SymbolWrapper})}},{"../internals/copy-constructor-properties":50,"../internals/descriptors":60,"../internals/export":67,"../internals/global":77,"../internals/has":78,"../internals/is-object":92,"../internals/object-define-property":110}],213:[function(_dereq_,module,exports){var defineWellKnownSymbol=_dereq_("../internals/define-well-known-symbol");defineWellKnownSymbol("iterator")},{"../internals/define-well-known-symbol":59}],214:[function(_dereq_,module,exports){"use strict";var $=_dereq_("../internals/export");var global=_dereq_("../internals/global");var getBuiltIn=_dereq_("../internals/get-built-in");var IS_PURE=_dereq_("../internals/is-pure");var DESCRIPTORS=_dereq_("../internals/descriptors");var NATIVE_SYMBOL=_dereq_("../internals/native-symbol");var USE_SYMBOL_AS_UID=_dereq_("../internals/use-symbol-as-uid");var fails=_dereq_("../internals/fails");var has=_dereq_("../internals/has");var isArray=_dereq_("../internals/is-array");var isObject=_dereq_("../internals/is-object");var anObject=_dereq_("../internals/an-object");var toObject=_dereq_("../internals/to-object");var toIndexedObject=_dereq_("../internals/to-indexed-object");var toPrimitive=_dereq_("../internals/to-primitive");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");var nativeObjectCreate=_dereq_("../internals/object-create");var objectKeys=_dereq_("../internals/object-keys");var getOwnPropertyNamesModule=_dereq_("../internals/object-get-own-property-names");var getOwnPropertyNamesExternal=_dereq_("../internals/object-get-own-property-names-external");var getOwnPropertySymbolsModule=_dereq_("../internals/object-get-own-property-symbols");var getOwnPropertyDescriptorModule=_dereq_("../internals/object-get-own-property-descriptor");var definePropertyModule=_dereq_("../internals/object-define-property");var propertyIsEnumerableModule=_dereq_("../internals/object-property-is-enumerable");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var redefine=_dereq_("../internals/redefine");var shared=_dereq_("../internals/shared");var sharedKey=_dereq_("../internals/shared-key");var hiddenKeys=_dereq_("../internals/hidden-keys");var uid=_dereq_("../internals/uid");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var wrappedWellKnownSymbolModule=_dereq_("../internals/well-known-symbol-wrapped");var defineWellKnownSymbol=_dereq_("../internals/define-well-known-symbol");var setToStringTag=_dereq_("../internals/set-to-string-tag");var InternalStateModule=_dereq_("../internals/internal-state");var $forEach=_dereq_("../internals/array-iteration").forEach;var HIDDEN=sharedKey("hidden");var SYMBOL="Symbol";var PROTOTYPE="prototype";var TO_PRIMITIVE=wellKnownSymbol("toPrimitive");var setInternalState=InternalStateModule.set;var getInternalState=InternalStateModule.getterFor(SYMBOL);var ObjectPrototype=Object[PROTOTYPE];var $Symbol=global.Symbol;var $stringify=getBuiltIn("JSON","stringify");var nativeGetOwnPropertyDescriptor=getOwnPropertyDescriptorModule.f;var nativeDefineProperty=definePropertyModule.f;var nativeGetOwnPropertyNames=getOwnPropertyNamesExternal.f;var nativePropertyIsEnumerable=propertyIsEnumerableModule.f;var AllSymbols=shared("symbols");var ObjectPrototypeSymbols=shared("op-symbols");var StringToSymbolRegistry=shared("string-to-symbol-registry");var SymbolToStringRegistry=shared("symbol-to-string-registry");var WellKnownSymbolsStore=shared("wks");var QObject=global.QObject;var USE_SETTER=!QObject||!QObject[PROTOTYPE]||!QObject[PROTOTYPE].findChild;var setSymbolDescriptor=DESCRIPTORS&&fails(function(){return nativeObjectCreate(nativeDefineProperty({},"a",{get:function(){return nativeDefineProperty(this,"a",{value:7}).a}})).a!=7})?function(O,P,Attributes){var ObjectPrototypeDescriptor=nativeGetOwnPropertyDescriptor(ObjectPrototype,P);if(ObjectPrototypeDescriptor)delete ObjectPrototype[P];nativeDefineProperty(O,P,Attributes);if(ObjectPrototypeDescriptor&&O!==ObjectPrototype){nativeDefineProperty(ObjectPrototype,P,ObjectPrototypeDescriptor)}}:nativeDefineProperty;var wrap=function(tag,description){var symbol=AllSymbols[tag]=nativeObjectCreate($Symbol[PROTOTYPE]);setInternalState(symbol,{type:SYMBOL,tag:tag,description:description});if(!DESCRIPTORS)symbol.description=description;return symbol};var isSymbol=USE_SYMBOL_AS_UID?function(it){return typeof it=="symbol"}:function(it){return Object(it)instanceof $Symbol};var $defineProperty=function defineProperty(O,P,Attributes){if(O===ObjectPrototype)$defineProperty(ObjectPrototypeSymbols,P,Attributes);anObject(O);var key=toPrimitive(P,true);anObject(Attributes);if(has(AllSymbols,key)){if(!Attributes.enumerable){if(!has(O,HIDDEN))nativeDefineProperty(O,HIDDEN,createPropertyDescriptor(1,{}));O[HIDDEN][key]=true}else{if(has(O,HIDDEN)&&O[HIDDEN][key])O[HIDDEN][key]=false;Attributes=nativeObjectCreate(Attributes,{enumerable:createPropertyDescriptor(0,false)})}return setSymbolDescriptor(O,key,Attributes)}return nativeDefineProperty(O,key,Attributes)};var $defineProperties=function defineProperties(O,Properties){anObject(O);var properties=toIndexedObject(Properties);var keys=objectKeys(properties).concat($getOwnPropertySymbols(properties));$forEach(keys,function(key){if(!DESCRIPTORS||$propertyIsEnumerable.call(properties,key))$defineProperty(O,key,properties[key])});return O};var $create=function create(O,Properties){return Properties===undefined?nativeObjectCreate(O):$defineProperties(nativeObjectCreate(O),Properties)};var $propertyIsEnumerable=function propertyIsEnumerable(V){var P=toPrimitive(V,true);var enumerable=nativePropertyIsEnumerable.call(this,P);if(this===ObjectPrototype&&has(AllSymbols,P)&&!has(ObjectPrototypeSymbols,P))return false;return enumerable||!has(this,P)||!has(AllSymbols,P)||has(this,HIDDEN)&&this[HIDDEN][P]?enumerable:true};var $getOwnPropertyDescriptor=function getOwnPropertyDescriptor(O,P){var it=toIndexedObject(O);var key=toPrimitive(P,true);if(it===ObjectPrototype&&has(AllSymbols,key)&&!has(ObjectPrototypeSymbols,key))return;var descriptor=nativeGetOwnPropertyDescriptor(it,key);if(descriptor&&has(AllSymbols,key)&&!(has(it,HIDDEN)&&it[HIDDEN][key])){descriptor.enumerable=true}return descriptor};var $getOwnPropertyNames=function getOwnPropertyNames(O){var names=nativeGetOwnPropertyNames(toIndexedObject(O));var result=[];$forEach(names,function(key){if(!has(AllSymbols,key)&&!has(hiddenKeys,key))result.push(key)});return result};var $getOwnPropertySymbols=function getOwnPropertySymbols(O){var IS_OBJECT_PROTOTYPE=O===ObjectPrototype;var names=nativeGetOwnPropertyNames(IS_OBJECT_PROTOTYPE?ObjectPrototypeSymbols:toIndexedObject(O));var result=[];$forEach(names,function(key){if(has(AllSymbols,key)&&(!IS_OBJECT_PROTOTYPE||has(ObjectPrototype,key))){result.push(AllSymbols[key])}});return result};if(!NATIVE_SYMBOL){$Symbol=function Symbol(){if(this instanceof $Symbol)throw TypeError("Symbol is not a constructor");var description=!arguments.length||arguments[0]===undefined?undefined:String(arguments[0]);var tag=uid(description);var setter=function(value){if(this===ObjectPrototype)setter.call(ObjectPrototypeSymbols,value);if(has(this,HIDDEN)&&has(this[HIDDEN],tag))this[HIDDEN][tag]=false;setSymbolDescriptor(this,tag,createPropertyDescriptor(1,value))};if(DESCRIPTORS&&USE_SETTER)setSymbolDescriptor(ObjectPrototype,tag,{configurable:true,set:setter});return wrap(tag,description)};redefine($Symbol[PROTOTYPE],"toString",function toString(){return getInternalState(this).tag});redefine($Symbol,"withoutSetter",function(description){return wrap(uid(description),description)});propertyIsEnumerableModule.f=$propertyIsEnumerable;definePropertyModule.f=$defineProperty;getOwnPropertyDescriptorModule.f=$getOwnPropertyDescriptor;getOwnPropertyNamesModule.f=getOwnPropertyNamesExternal.f=$getOwnPropertyNames;getOwnPropertySymbolsModule.f=$getOwnPropertySymbols;wrappedWellKnownSymbolModule.f=function(name){return wrap(wellKnownSymbol(name),name)};if(DESCRIPTORS){nativeDefineProperty($Symbol[PROTOTYPE],"description",{configurable:true,get:function description(){return getInternalState(this).description}});if(!IS_PURE){redefine(ObjectPrototype,"propertyIsEnumerable",$propertyIsEnumerable,{unsafe:true})}}}$({global:true,wrap:true,forced:!NATIVE_SYMBOL,sham:!NATIVE_SYMBOL},{Symbol:$Symbol});$forEach(objectKeys(WellKnownSymbolsStore),function(name){defineWellKnownSymbol(name)});$({target:SYMBOL,stat:true,forced:!NATIVE_SYMBOL},{for:function(key){var string=String(key);if(has(StringToSymbolRegistry,string))return StringToSymbolRegistry[string];var symbol=$Symbol(string);StringToSymbolRegistry[string]=symbol;SymbolToStringRegistry[symbol]=string;return symbol},keyFor:function keyFor(sym){if(!isSymbol(sym))throw TypeError(sym+" is not a symbol");if(has(SymbolToStringRegistry,sym))return SymbolToStringRegistry[sym]},useSetter:function(){USE_SETTER=true},useSimple:function(){USE_SETTER=false}});$({target:"Object",stat:true,forced:!NATIVE_SYMBOL,sham:!DESCRIPTORS},{create:$create,defineProperty:$defineProperty,defineProperties:$defineProperties,getOwnPropertyDescriptor:$getOwnPropertyDescriptor});$({target:"Object",stat:true,forced:!NATIVE_SYMBOL},{getOwnPropertyNames:$getOwnPropertyNames,getOwnPropertySymbols:$getOwnPropertySymbols});$({target:"Object",stat:true,forced:fails(function(){getOwnPropertySymbolsModule.f(1)})},{getOwnPropertySymbols:function getOwnPropertySymbols(it){return getOwnPropertySymbolsModule.f(toObject(it))}});if($stringify){var FORCED_JSON_STRINGIFY=!NATIVE_SYMBOL||fails(function(){var symbol=$Symbol();return $stringify([symbol])!="[null]"||$stringify({a:symbol})!="{}"||$stringify(Object(symbol))!="{}"});$({target:"JSON",stat:true,forced:FORCED_JSON_STRINGIFY},{stringify:function stringify(it,replacer,space){var args=[it];var index=1;var $replacer;while(arguments.length>index)args.push(arguments[index++]);$replacer=replacer;if(!isObject(replacer)&&it===undefined||isSymbol(it))return;if(!isArray(replacer))replacer=function(key,value){if(typeof $replacer=="function")value=$replacer.call(this,key,value);if(!isSymbol(value))return value};args[1]=replacer;return $stringify.apply(null,args)}})}if(!$Symbol[PROTOTYPE][TO_PRIMITIVE]){createNonEnumerableProperty($Symbol[PROTOTYPE],TO_PRIMITIVE,$Symbol[PROTOTYPE].valueOf)}setToStringTag($Symbol,SYMBOL);hiddenKeys[HIDDEN]=true},{"../internals/an-object":28,"../internals/array-iteration":37,"../internals/create-non-enumerable-property":55,"../internals/create-property-descriptor":56,"../internals/define-well-known-symbol":59,"../internals/descriptors":60,"../internals/export":67,"../internals/fails":68,"../internals/get-built-in":74,"../internals/global":77,"../internals/has":78,"../internals/hidden-keys":79,"../internals/internal-state":88,"../internals/is-array":90,"../internals/is-object":92,"../internals/is-pure":93,"../internals/native-symbol":101,"../internals/object-create":108,"../internals/object-define-property":110,"../internals/object-get-own-property-descriptor":111,"../internals/object-get-own-property-names":113,"../internals/object-get-own-property-names-external":112,"../internals/object-get-own-property-symbols":114,"../internals/object-keys":117,"../internals/object-property-is-enumerable":118,"../internals/redefine":126,"../internals/set-to-string-tag":135,"../internals/shared":138,"../internals/shared-key":136,"../internals/to-indexed-object":150,"../internals/to-object":153,"../internals/to-primitive":156,"../internals/uid":161,"../internals/use-symbol-as-uid":162,"../internals/well-known-symbol":164,"../internals/well-known-symbol-wrapped":163}],215:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $copyWithin=_dereq_("../internals/array-copy-within");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("copyWithin",function copyWithin(target,start){return $copyWithin.call(aTypedArray(this),target,start,arguments.length>2?arguments[2]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-copy-within":32}],216:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $every=_dereq_("../internals/array-iteration").every;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("every",function every(callbackfn){return $every(aTypedArray(this),callbackfn,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37}],217:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $fill=_dereq_("../internals/array-fill");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("fill",function fill(value){return $fill.apply(aTypedArray(this),arguments)})},{"../internals/array-buffer-view-core":30,"../internals/array-fill":33}],218:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $filter=_dereq_("../internals/array-iteration").filter;var speciesConstructor=_dereq_("../internals/species-constructor");var aTypedArray=ArrayBufferViewCore.aTypedArray;var aTypedArrayConstructor=ArrayBufferViewCore.aTypedArrayConstructor;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("filter",function filter(callbackfn){var list=$filter(aTypedArray(this),callbackfn,arguments.length>1?arguments[1]:undefined);var C=speciesConstructor(this,this.constructor);var index=0;var length=list.length;var result=new(aTypedArrayConstructor(C))(length);while(length>index)result[index]=list[index++];return result})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37,"../internals/species-constructor":139}],219:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $findIndex=_dereq_("../internals/array-iteration").findIndex;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("findIndex",function findIndex(predicate){return $findIndex(aTypedArray(this),predicate,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37}],220:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $find=_dereq_("../internals/array-iteration").find;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("find",function find(predicate){return $find(aTypedArray(this),predicate,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37}],221:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Float32",function(init){return function Float32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],222:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Float64",function(init){return function Float64Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],223:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $forEach=_dereq_("../internals/array-iteration").forEach;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("forEach",function forEach(callbackfn){$forEach(aTypedArray(this),callbackfn,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37}],224:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $includes=_dereq_("../internals/array-includes").includes;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("includes",function includes(searchElement){return $includes(aTypedArray(this),searchElement,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-includes":36}],225:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $indexOf=_dereq_("../internals/array-includes").indexOf;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("indexOf",function indexOf(searchElement){return $indexOf(aTypedArray(this),searchElement,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-includes":36}],226:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Int16",function(init){return function Int16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],227:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Int32",function(init){return function Int32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],228:[function(_dereq_,module,exports){"use strict";var global=_dereq_("../internals/global");var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var ArrayIterators=_dereq_("../modules/es.array.iterator");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var ITERATOR=wellKnownSymbol("iterator");var Uint8Array=global.Uint8Array;var arrayValues=ArrayIterators.values;var arrayKeys=ArrayIterators.keys;var arrayEntries=ArrayIterators.entries;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var nativeTypedArrayIterator=Uint8Array&&Uint8Array.prototype[ITERATOR];var CORRECT_ITER_NAME=!!nativeTypedArrayIterator&&(nativeTypedArrayIterator.name=="values"||nativeTypedArrayIterator.name==undefined);var typedArrayValues=function values(){return arrayValues.call(aTypedArray(this))};exportTypedArrayMethod("entries",function entries(){return arrayEntries.call(aTypedArray(this))});exportTypedArrayMethod("keys",function keys(){return arrayKeys.call(aTypedArray(this))});exportTypedArrayMethod("values",typedArrayValues,!CORRECT_ITER_NAME);exportTypedArrayMethod(ITERATOR,typedArrayValues,!CORRECT_ITER_NAME)},{"../internals/array-buffer-view-core":30,"../internals/global":77,"../internals/well-known-symbol":164,"../modules/es.array.iterator":176}],229:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var $join=[].join;exportTypedArrayMethod("join",function join(separator){return $join.apply(aTypedArray(this),arguments)})},{"../internals/array-buffer-view-core":30}],230:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $lastIndexOf=_dereq_("../internals/array-last-index-of");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("lastIndexOf",function lastIndexOf(searchElement){return $lastIndexOf.apply(aTypedArray(this),arguments)})},{"../internals/array-buffer-view-core":30,"../internals/array-last-index-of":38}],231:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $map=_dereq_("../internals/array-iteration").map;var speciesConstructor=_dereq_("../internals/species-constructor");var aTypedArray=ArrayBufferViewCore.aTypedArray;var aTypedArrayConstructor=ArrayBufferViewCore.aTypedArrayConstructor;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("map",function map(mapfn){return $map(aTypedArray(this),mapfn,arguments.length>1?arguments[1]:undefined,function(O,length){return new(aTypedArrayConstructor(speciesConstructor(O,O.constructor)))(length)})})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37,"../internals/species-constructor":139}],232:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $reduceRight=_dereq_("../internals/array-reduce").right;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("reduceRight",function reduceRight(callbackfn){return $reduceRight(aTypedArray(this),callbackfn,arguments.length,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-reduce":42}],233:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $reduce=_dereq_("../internals/array-reduce").left;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("reduce",function reduce(callbackfn){return $reduce(aTypedArray(this),callbackfn,arguments.length,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-reduce":42}],234:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var floor=Math.floor;exportTypedArrayMethod("reverse",function reverse(){var that=this;var length=aTypedArray(that).length;var middle=floor(length/2);var index=0;var value;while(index<middle){value=that[index];that[index++]=that[--length];that[length]=value}return that})},{"../internals/array-buffer-view-core":30}],235:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var toLength=_dereq_("../internals/to-length");var toOffset=_dereq_("../internals/to-offset");var toObject=_dereq_("../internals/to-object");var fails=_dereq_("../internals/fails");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var FORCED=fails(function(){new Int8Array(1).set({})});exportTypedArrayMethod("set",function set(arrayLike){aTypedArray(this);var offset=toOffset(arguments.length>1?arguments[1]:undefined,1);var length=this.length;var src=toObject(arrayLike);var len=toLength(src.length);var index=0;if(len+offset>length)throw RangeError("Wrong length");while(index<len)this[offset+index]=src[index++]},FORCED)},{"../internals/array-buffer-view-core":30,"../internals/fails":68,"../internals/to-length":152,"../internals/to-object":153,"../internals/to-offset":154}],236:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var speciesConstructor=_dereq_("../internals/species-constructor");var fails=_dereq_("../internals/fails");var aTypedArray=ArrayBufferViewCore.aTypedArray;var aTypedArrayConstructor=ArrayBufferViewCore.aTypedArrayConstructor;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var $slice=[].slice;var FORCED=fails(function(){new Int8Array(1).slice()});exportTypedArrayMethod("slice",function slice(start,end){var list=$slice.call(aTypedArray(this),start,end);var C=speciesConstructor(this,this.constructor);var index=0;var length=list.length;var result=new(aTypedArrayConstructor(C))(length);while(length>index)result[index]=list[index++];return result},FORCED)},{"../internals/array-buffer-view-core":30,"../internals/fails":68,"../internals/species-constructor":139}],237:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var $some=_dereq_("../internals/array-iteration").some;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("some",function some(callbackfn){return $some(aTypedArray(this),callbackfn,arguments.length>1?arguments[1]:undefined)})},{"../internals/array-buffer-view-core":30,"../internals/array-iteration":37}],238:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var $sort=[].sort;exportTypedArrayMethod("sort",function sort(comparefn){return $sort.call(aTypedArray(this),comparefn)})},{"../internals/array-buffer-view-core":30}],239:[function(_dereq_,module,exports){"use strict";var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var toLength=_dereq_("../internals/to-length");var toAbsoluteIndex=_dereq_("../internals/to-absolute-index");var speciesConstructor=_dereq_("../internals/species-constructor");var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;exportTypedArrayMethod("subarray",function subarray(begin,end){var O=aTypedArray(this);var length=O.length;var beginIndex=toAbsoluteIndex(begin,length);return new(speciesConstructor(O,O.constructor))(O.buffer,O.byteOffset+beginIndex*O.BYTES_PER_ELEMENT,toLength((end===undefined?length:toAbsoluteIndex(end,length))-beginIndex))})},{"../internals/array-buffer-view-core":30,"../internals/species-constructor":139,"../internals/to-absolute-index":148,"../internals/to-length":152}],240:[function(_dereq_,module,exports){"use strict";var global=_dereq_("../internals/global");var ArrayBufferViewCore=_dereq_("../internals/array-buffer-view-core");var fails=_dereq_("../internals/fails");var Int8Array=global.Int8Array;var aTypedArray=ArrayBufferViewCore.aTypedArray;var exportTypedArrayMethod=ArrayBufferViewCore.exportTypedArrayMethod;var $toLocaleString=[].toLocaleString;var $slice=[].slice;var TO_LOCALE_STRING_BUG=!!Int8Array&&fails(function(){$toLocaleString.call(new Int8Array(1))});var FORCED=fails(function(){return[1,2].toLocaleString()!=new Int8Array([1,2]).toLocaleString()})||!fails(function(){Int8Array.prototype.toLocaleString.call([1,2])});exportTypedArrayMethod("toLocaleString",function toLocaleString(){return $toLocaleString.apply(TO_LOCALE_STRING_BUG?$slice.call(aTypedArray(this)):aTypedArray(this),arguments)},FORCED)},{"../internals/array-buffer-view-core":30,"../internals/fails":68,"../internals/global":77}],241:[function(_dereq_,module,exports){"use strict";var exportTypedArrayMethod=_dereq_("../internals/array-buffer-view-core").exportTypedArrayMethod;var fails=_dereq_("../internals/fails");var global=_dereq_("../internals/global");var Uint8Array=global.Uint8Array;var Uint8ArrayPrototype=Uint8Array&&Uint8Array.prototype||{};var arrayToString=[].toString;var arrayJoin=[].join;if(fails(function(){arrayToString.call({})})){arrayToString=function toString(){return arrayJoin.call(this)}}var IS_NOT_ARRAY_METHOD=Uint8ArrayPrototype.toString!=arrayToString;exportTypedArrayMethod("toString",arrayToString,IS_NOT_ARRAY_METHOD)},{"../internals/array-buffer-view-core":30,"../internals/fails":68,"../internals/global":77}],242:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Uint16",function(init){return function Uint16Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],243:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Uint32",function(init){return function Uint32Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],244:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Uint8",function(init){return function Uint8Array(data,byteOffset,length){return init(this,data,byteOffset,length)}})},{"../internals/typed-array-constructor":158}],245:[function(_dereq_,module,exports){var createTypedArrayConstructor=_dereq_("../internals/typed-array-constructor");createTypedArrayConstructor("Uint8",function(init){return function Uint8ClampedArray(data,byteOffset,length){return init(this,data,byteOffset,length)}},true)},{"../internals/typed-array-constructor":158}],246:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var DOMIterables=_dereq_("../internals/dom-iterables");var forEach=_dereq_("../internals/array-for-each");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype&&CollectionPrototype.forEach!==forEach)try{createNonEnumerableProperty(CollectionPrototype,"forEach",forEach)}catch(error){CollectionPrototype.forEach=forEach}}},{"../internals/array-for-each":34,"../internals/create-non-enumerable-property":55,"../internals/dom-iterables":62,"../internals/global":77}],247:[function(_dereq_,module,exports){var global=_dereq_("../internals/global");var DOMIterables=_dereq_("../internals/dom-iterables");var ArrayIteratorMethods=_dereq_("../modules/es.array.iterator");var createNonEnumerableProperty=_dereq_("../internals/create-non-enumerable-property");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var ITERATOR=wellKnownSymbol("iterator");var TO_STRING_TAG=wellKnownSymbol("toStringTag");var ArrayValues=ArrayIteratorMethods.values;for(var COLLECTION_NAME in DOMIterables){var Collection=global[COLLECTION_NAME];var CollectionPrototype=Collection&&Collection.prototype;if(CollectionPrototype){if(CollectionPrototype[ITERATOR]!==ArrayValues)try{createNonEnumerableProperty(CollectionPrototype,ITERATOR,ArrayValues)}catch(error){CollectionPrototype[ITERATOR]=ArrayValues}if(!CollectionPrototype[TO_STRING_TAG]){createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME)}if(DOMIterables[COLLECTION_NAME])for(var METHOD_NAME in ArrayIteratorMethods){if(CollectionPrototype[METHOD_NAME]!==ArrayIteratorMethods[METHOD_NAME])try{createNonEnumerableProperty(CollectionPrototype,METHOD_NAME,ArrayIteratorMethods[METHOD_NAME])}catch(error){CollectionPrototype[METHOD_NAME]=ArrayIteratorMethods[METHOD_NAME]}}}}},{"../internals/create-non-enumerable-property":55,"../internals/dom-iterables":62,"../internals/global":77,"../internals/well-known-symbol":164,"../modules/es.array.iterator":176}],248:[function(_dereq_,module,exports){"use strict";_dereq_("../modules/es.array.iterator");var $=_dereq_("../internals/export");var getBuiltIn=_dereq_("../internals/get-built-in");var USE_NATIVE_URL=_dereq_("../internals/native-url");var redefine=_dereq_("../internals/redefine");var redefineAll=_dereq_("../internals/redefine-all");var setToStringTag=_dereq_("../internals/set-to-string-tag");var createIteratorConstructor=_dereq_("../internals/create-iterator-constructor");var InternalStateModule=_dereq_("../internals/internal-state");var anInstance=_dereq_("../internals/an-instance");var hasOwn=_dereq_("../internals/has");var bind=_dereq_("../internals/function-bind-context");var classof=_dereq_("../internals/classof");var anObject=_dereq_("../internals/an-object");var isObject=_dereq_("../internals/is-object");var create=_dereq_("../internals/object-create");var createPropertyDescriptor=_dereq_("../internals/create-property-descriptor");var getIterator=_dereq_("../internals/get-iterator");var getIteratorMethod=_dereq_("../internals/get-iterator-method");var wellKnownSymbol=_dereq_("../internals/well-known-symbol");var $fetch=getBuiltIn("fetch");var Headers=getBuiltIn("Headers");var ITERATOR=wellKnownSymbol("iterator");var URL_SEARCH_PARAMS="URLSearchParams";var URL_SEARCH_PARAMS_ITERATOR=URL_SEARCH_PARAMS+"Iterator";var setInternalState=InternalStateModule.set;var getInternalParamsState=InternalStateModule.getterFor(URL_SEARCH_PARAMS);var getInternalIteratorState=InternalStateModule.getterFor(URL_SEARCH_PARAMS_ITERATOR);var plus=/\+/g;var sequences=Array(4);var percentSequence=function(bytes){return sequences[bytes-1]||(sequences[bytes-1]=RegExp("((?:%[\\da-f]{2}){"+bytes+"})","gi"))};var percentDecode=function(sequence){try{return decodeURIComponent(sequence)}catch(error){return sequence}};var deserialize=function(it){var result=it.replace(plus," ");var bytes=4;try{return decodeURIComponent(result)}catch(error){while(bytes){result=result.replace(percentSequence(bytes--),percentDecode)}return result}};var find=/[!'()~]|%20/g;var replace={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var replacer=function(match){return replace[match]};var serialize=function(it){return encodeURIComponent(it).replace(find,replacer)};var parseSearchParams=function(result,query){if(query){var attributes=query.split("&");var index=0;var attribute,entry;while(index<attributes.length){attribute=attributes[index++];if(attribute.length){entry=attribute.split("=");result.push({key:deserialize(entry.shift()),value:deserialize(entry.join("="))})}}}};var updateSearchParams=function(query){this.entries.length=0;parseSearchParams(this.entries,query)};var validateArgumentsLength=function(passed,required){if(passed<required)throw TypeError("Not enough arguments")};var URLSearchParamsIterator=createIteratorConstructor(function Iterator(params,kind){setInternalState(this,{type:URL_SEARCH_PARAMS_ITERATOR,iterator:getIterator(getInternalParamsState(params).entries),kind:kind})},"Iterator",function next(){var state=getInternalIteratorState(this);var kind=state.kind;var step=state.iterator.next();var entry=step.value;if(!step.done){step.value=kind==="keys"?entry.key:kind==="values"?entry.value:[entry.key,entry.value]}return step});var URLSearchParamsConstructor=function URLSearchParams(){anInstance(this,URLSearchParamsConstructor,URL_SEARCH_PARAMS);var init=arguments.length>0?arguments[0]:undefined;var that=this;var entries=[];var iteratorMethod,iterator,next,step,entryIterator,entryNext,first,second,key;setInternalState(that,{type:URL_SEARCH_PARAMS,entries:entries,updateURL:function(){},updateSearchParams:updateSearchParams});if(init!==undefined){if(isObject(init)){iteratorMethod=getIteratorMethod(init);if(typeof iteratorMethod==="function"){iterator=iteratorMethod.call(init);next=iterator.next;while(!(step=next.call(iterator)).done){entryIterator=getIterator(anObject(step.value));entryNext=entryIterator.next;if((first=entryNext.call(entryIterator)).done||(second=entryNext.call(entryIterator)).done||!entryNext.call(entryIterator).done)throw TypeError("Expected sequence with length 2");entries.push({key:first.value+"",value:second.value+""})}}else for(key in init)if(hasOwn(init,key))entries.push({key:key,value:init[key]+""})}else{parseSearchParams(entries,typeof init==="string"?init.charAt(0)==="?"?init.slice(1):init:init+"")}}};var URLSearchParamsPrototype=URLSearchParamsConstructor.prototype;redefineAll(URLSearchParamsPrototype,{append:function append(name,value){validateArgumentsLength(arguments.length,2);var state=getInternalParamsState(this);state.entries.push({key:name+"",value:value+""});state.updateURL()},delete:function(name){validateArgumentsLength(arguments.length,1);var state=getInternalParamsState(this);var entries=state.entries;var key=name+"";var index=0;while(index<entries.length){if(entries[index].key===key)entries.splice(index,1);else index++}state.updateURL()},get:function get(name){validateArgumentsLength(arguments.length,1);var entries=getInternalParamsState(this).entries;var key=name+"";var index=0;for(;index<entries.length;index++){if(entries[index].key===key)return entries[index].value}return null},getAll:function getAll(name){validateArgumentsLength(arguments.length,1);var entries=getInternalParamsState(this).entries;var key=name+"";var result=[];var index=0;for(;index<entries.length;index++){if(entries[index].key===key)result.push(entries[index].value)}return result},has:function has(name){validateArgumentsLength(arguments.length,1);var entries=getInternalParamsState(this).entries;var key=name+"";var index=0;while(index<entries.length){if(entries[index++].key===key)return true}return false},set:function set(name,value){validateArgumentsLength(arguments.length,1);var state=getInternalParamsState(this);var entries=state.entries;var found=false;var key=name+"";var val=value+"";var index=0;var entry;for(;index<entries.length;index++){entry=entries[index];if(entry.key===key){if(found)entries.splice(index--,1);else{found=true;entry.value=val}}}if(!found)entries.push({key:key,value:val});state.updateURL()},sort:function sort(){var state=getInternalParamsState(this);var entries=state.entries;var slice=entries.slice();var entry,entriesIndex,sliceIndex;entries.length=0;for(sliceIndex=0;sliceIndex<slice.length;sliceIndex++){entry=slice[sliceIndex];for(entriesIndex=0;entriesIndex<sliceIndex;entriesIndex++){if(entries[entriesIndex].key>entry.key){entries.splice(entriesIndex,0,entry);break}}if(entriesIndex===sliceIndex)entries.push(entry)}state.updateURL()},forEach:function forEach(callback){var entries=getInternalParamsState(this).entries;var boundFunction=bind(callback,arguments.length>1?arguments[1]:undefined,3);var index=0;var entry;while(index<entries.length){entry=entries[index++];boundFunction(entry.value,entry.key,this)}},keys:function keys(){return new URLSearchParamsIterator(this,"keys")},values:function values(){return new URLSearchParamsIterator(this,"values")},entries:function entries(){return new URLSearchParamsIterator(this,"entries")}},{enumerable:true});redefine(URLSearchParamsPrototype,ITERATOR,URLSearchParamsPrototype.entries);redefine(URLSearchParamsPrototype,"toString",function toString(){var entries=getInternalParamsState(this).entries;var result=[];var index=0;var entry;while(index<entries.length){entry=entries[index++];result.push(serialize(entry.key)+"="+serialize(entry.value))}return result.join("&")},{enumerable:true});setToStringTag(URLSearchParamsConstructor,URL_SEARCH_PARAMS);$({global:true,forced:!USE_NATIVE_URL},{URLSearchParams:URLSearchParamsConstructor});if(!USE_NATIVE_URL&&typeof $fetch=="function"&&typeof Headers=="function"){$({global:true,enumerable:true,forced:true},{fetch:function fetch(input){var args=[input];var init,body,headers;if(arguments.length>1){init=arguments[1];if(isObject(init)){body=init.body;if(classof(body)===URL_SEARCH_PARAMS){headers=init.headers?new Headers(init.headers):new Headers;if(!headers.has("content-type")){headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}init=create(init,{body:createPropertyDescriptor(0,String(body)),headers:createPropertyDescriptor(0,headers)})}}args.push(init)}return $fetch.apply(this,args)}})}module.exports={URLSearchParams:URLSearchParamsConstructor,getState:getInternalParamsState}},{"../internals/an-instance":27,"../internals/an-object":28,"../internals/classof":47,"../internals/create-iterator-constructor":54,"../internals/create-property-descriptor":56,"../internals/export":67,"../internals/function-bind-context":72,"../internals/get-built-in":74,"../internals/get-iterator":76,"../internals/get-iterator-method":75,"../internals/has":78,"../internals/internal-state":88,"../internals/is-object":92,"../internals/native-url":102,"../internals/object-create":108,"../internals/redefine":126,"../internals/redefine-all":125,"../internals/set-to-string-tag":135,"../internals/well-known-symbol":164,"../modules/es.array.iterator":176}],249:[function(_dereq_,module,exports){"use strict";_dereq_("../modules/es.string.iterator");var $=_dereq_("../internals/export");var DESCRIPTORS=_dereq_("../internals/descriptors");var USE_NATIVE_URL=_dereq_("../internals/native-url");var global=_dereq_("../internals/global");var defineProperties=_dereq_("../internals/object-define-properties");var redefine=_dereq_("../internals/redefine");var anInstance=_dereq_("../internals/an-instance");var has=_dereq_("../internals/has");var assign=_dereq_("../internals/object-assign");var arrayFrom=_dereq_("../internals/array-from");var codeAt=_dereq_("../internals/string-multibyte").codeAt;var toASCII=_dereq_("../internals/string-punycode-to-ascii");var setToStringTag=_dereq_("../internals/set-to-string-tag");var URLSearchParamsModule=_dereq_("../modules/web.url-search-params");var InternalStateModule=_dereq_("../internals/internal-state");var NativeURL=global.URL;var URLSearchParams=URLSearchParamsModule.URLSearchParams;var getInternalSearchParamsState=URLSearchParamsModule.getState;var setInternalState=InternalStateModule.set;var getInternalURLState=InternalStateModule.getterFor("URL");var floor=Math.floor;var pow=Math.pow;var INVALID_AUTHORITY="Invalid authority";var INVALID_SCHEME="Invalid scheme";var INVALID_HOST="Invalid host";var INVALID_PORT="Invalid port";var ALPHA=/[A-Za-z]/;var ALPHANUMERIC=/[\d+-.A-Za-z]/;var DIGIT=/\d/;var HEX_START=/^(0x|0X)/;var OCT=/^[0-7]+$/;var DEC=/^\d+$/;var HEX=/^[\dA-Fa-f]+$/;var FORBIDDEN_HOST_CODE_POINT=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/;var FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/;var LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g;var TAB_AND_NEW_LINE=/[\u0009\u000A\u000D]/g;var EOF;var parseHost=function(url,input){var result,codePoints,index;if(input.charAt(0)=="["){if(input.charAt(input.length-1)!="]")return INVALID_HOST;result=parseIPv6(input.slice(1,-1));if(!result)return INVALID_HOST;url.host=result}else if(!isSpecial(url)){if(FORBIDDEN_HOST_CODE_POINT_EXCLUDING_PERCENT.test(input))return INVALID_HOST;result="";codePoints=arrayFrom(input);for(index=0;index<codePoints.length;index++){result+=percentEncode(codePoints[index],C0ControlPercentEncodeSet)}url.host=result}else{input=toASCII(input);if(FORBIDDEN_HOST_CODE_POINT.test(input))return INVALID_HOST;result=parseIPv4(input);if(result===null)return INVALID_HOST;url.host=result}};var parseIPv4=function(input){var parts=input.split(".");var partsLength,numbers,index,part,radix,number,ipv4;if(parts.length&&parts[parts.length-1]==""){parts.pop()}partsLength=parts.length;if(partsLength>4)return input;numbers=[];for(index=0;index<partsLength;index++){part=parts[index];if(part=="")return input;radix=10;if(part.length>1&&part.charAt(0)=="0"){radix=HEX_START.test(part)?16:8;part=part.slice(radix==8?1:2)}if(part===""){number=0}else{if(!(radix==10?DEC:radix==8?OCT:HEX).test(part))return input;number=parseInt(part,radix)}numbers.push(number)}for(index=0;index<partsLength;index++){number=numbers[index];if(index==partsLength-1){if(number>=pow(256,5-partsLength))return null}else if(number>255)return null}ipv4=numbers.pop();for(index=0;index<numbers.length;index++){ipv4+=numbers[index]*pow(256,3-index)}return ipv4};var parseIPv6=function(input){var address=[0,0,0,0,0,0,0,0];var pieceIndex=0;var compress=null;var pointer=0;var value,length,numbersSeen,ipv4Piece,number,swaps,swap;var char=function(){return input.charAt(pointer)};if(char()==":"){if(input.charAt(1)!=":")return;pointer+=2;pieceIndex++;compress=pieceIndex}while(char()){if(pieceIndex==8)return;if(char()==":"){if(compress!==null)return;pointer++;pieceIndex++;compress=pieceIndex;continue}value=length=0;while(length<4&&HEX.test(char())){value=value*16+parseInt(char(),16);pointer++;length++}if(char()=="."){if(length==0)return;pointer-=length;if(pieceIndex>6)return;numbersSeen=0;while(char()){ipv4Piece=null;if(numbersSeen>0){if(char()=="."&&numbersSeen<4)pointer++;else return}if(!DIGIT.test(char()))return;while(DIGIT.test(char())){number=parseInt(char(),10);if(ipv4Piece===null)ipv4Piece=number;else if(ipv4Piece==0)return;else ipv4Piece=ipv4Piece*10+number;if(ipv4Piece>255)return;pointer++}address[pieceIndex]=address[pieceIndex]*256+ipv4Piece;numbersSeen++;if(numbersSeen==2||numbersSeen==4)pieceIndex++}if(numbersSeen!=4)return;break}else if(char()==":"){pointer++;if(!char())return}else if(char())return;address[pieceIndex++]=value}if(compress!==null){swaps=pieceIndex-compress;pieceIndex=7;while(pieceIndex!=0&&swaps>0){swap=address[pieceIndex];address[pieceIndex--]=address[compress+swaps-1];address[compress+--swaps]=swap}}else if(pieceIndex!=8)return;return address};var findLongestZeroSequence=function(ipv6){var maxIndex=null;var maxLength=1;var currStart=null;var currLength=0;var index=0;for(;index<8;index++){if(ipv6[index]!==0){if(currLength>maxLength){maxIndex=currStart;maxLength=currLength}currStart=null;currLength=0}else{if(currStart===null)currStart=index;++currLength}}if(currLength>maxLength){maxIndex=currStart;maxLength=currLength}return maxIndex};var serializeHost=function(host){var result,index,compress,ignore0;if(typeof host=="number"){result=[];for(index=0;index<4;index++){result.unshift(host%256);host=floor(host/256)}return result.join(".")}else if(typeof host=="object"){result="";compress=findLongestZeroSequence(host);for(index=0;index<8;index++){if(ignore0&&host[index]===0)continue;if(ignore0)ignore0=false;if(compress===index){result+=index?":":"::";ignore0=true}else{result+=host[index].toString(16);if(index<7)result+=":"}}return"["+result+"]"}return host};var C0ControlPercentEncodeSet={};var fragmentPercentEncodeSet=assign({},C0ControlPercentEncodeSet,{" ":1,'"':1,"<":1,">":1,"`":1});var pathPercentEncodeSet=assign({},fragmentPercentEncodeSet,{"#":1,"?":1,"{":1,"}":1});var userinfoPercentEncodeSet=assign({},pathPercentEncodeSet,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var percentEncode=function(char,set){var code=codeAt(char,0);return code>32&&code<127&&!has(set,char)?char:encodeURIComponent(char)};var specialSchemes={ftp:21,file:null,http:80,https:443,ws:80,wss:443};var isSpecial=function(url){return has(specialSchemes,url.scheme)};var includesCredentials=function(url){return url.username!=""||url.password!=""};var cannotHaveUsernamePasswordPort=function(url){return!url.host||url.cannotBeABaseURL||url.scheme=="file"};var isWindowsDriveLetter=function(string,normalized){var second;return string.length==2&&ALPHA.test(string.charAt(0))&&((second=string.charAt(1))==":"||!normalized&&second=="|")};var startsWithWindowsDriveLetter=function(string){var third;return string.length>1&&isWindowsDriveLetter(string.slice(0,2))&&(string.length==2||((third=string.charAt(2))==="/"||third==="\\"||third==="?"||third==="#"))};var shortenURLsPath=function(url){var path=url.path;var pathSize=path.length;if(pathSize&&(url.scheme!="file"||pathSize!=1||!isWindowsDriveLetter(path[0],true))){path.pop()}};var isSingleDot=function(segment){return segment==="."||segment.toLowerCase()==="%2e"};var isDoubleDot=function(segment){segment=segment.toLowerCase();return segment===".."||segment==="%2e."||segment===".%2e"||segment==="%2e%2e"};var SCHEME_START={};var SCHEME={};var NO_SCHEME={};var SPECIAL_RELATIVE_OR_AUTHORITY={};var PATH_OR_AUTHORITY={};var RELATIVE={};var RELATIVE_SLASH={};var SPECIAL_AUTHORITY_SLASHES={};var SPECIAL_AUTHORITY_IGNORE_SLASHES={};var AUTHORITY={};var HOST={};var HOSTNAME={};var PORT={};var FILE={};var FILE_SLASH={};var FILE_HOST={};var PATH_START={};var PATH={};var CANNOT_BE_A_BASE_URL_PATH={};var QUERY={};var FRAGMENT={};var parseURL=function(url,input,stateOverride,base){var state=stateOverride||SCHEME_START;var pointer=0;var buffer="";var seenAt=false;var seenBracket=false;var seenPasswordToken=false;var codePoints,char,bufferCodePoints,failure;if(!stateOverride){url.scheme="";url.username="";url.password="";url.host=null;url.port=null;url.path=[];url.query=null;url.fragment=null;url.cannotBeABaseURL=false;input=input.replace(LEADING_AND_TRAILING_C0_CONTROL_OR_SPACE,"")}input=input.replace(TAB_AND_NEW_LINE,"");codePoints=arrayFrom(input);while(pointer<=codePoints.length){char=codePoints[pointer];switch(state){case SCHEME_START:if(char&&ALPHA.test(char)){buffer+=char.toLowerCase();state=SCHEME}else if(!stateOverride){state=NO_SCHEME;continue}else return INVALID_SCHEME;break;case SCHEME:if(char&&(ALPHANUMERIC.test(char)||char=="+"||char=="-"||char==".")){buffer+=char.toLowerCase()}else if(char==":"){if(stateOverride&&(isSpecial(url)!=has(specialSchemes,buffer)||buffer=="file"&&(includesCredentials(url)||url.port!==null)||url.scheme=="file"&&!url.host))return;url.scheme=buffer;if(stateOverride){if(isSpecial(url)&&specialSchemes[url.scheme]==url.port)url.port=null;return}buffer="";if(url.scheme=="file"){state=FILE}else if(isSpecial(url)&&base&&base.scheme==url.scheme){state=SPECIAL_RELATIVE_OR_AUTHORITY}else if(isSpecial(url)){state=SPECIAL_AUTHORITY_SLASHES}else if(codePoints[pointer+1]=="/"){state=PATH_OR_AUTHORITY;pointer++}else{url.cannotBeABaseURL=true;url.path.push("");state=CANNOT_BE_A_BASE_URL_PATH}}else if(!stateOverride){buffer="";state=NO_SCHEME;pointer=0;continue}else return INVALID_SCHEME;break;case NO_SCHEME:if(!base||base.cannotBeABaseURL&&char!="#")return INVALID_SCHEME;if(base.cannotBeABaseURL&&char=="#"){url.scheme=base.scheme;url.path=base.path.slice();url.query=base.query;url.fragment="";url.cannotBeABaseURL=true;state=FRAGMENT;break}state=base.scheme=="file"?FILE:RELATIVE;continue;case SPECIAL_RELATIVE_OR_AUTHORITY:if(char=="/"&&codePoints[pointer+1]=="/"){state=SPECIAL_AUTHORITY_IGNORE_SLASHES;pointer++}else{state=RELATIVE;continue}break;case PATH_OR_AUTHORITY:if(char=="/"){state=AUTHORITY;break}else{state=PATH;continue}case RELATIVE:url.scheme=base.scheme;if(char==EOF){url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.query=base.query}else if(char=="/"||char=="\\"&&isSpecial(url)){state=RELATIVE_SLASH}else if(char=="?"){url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.query="";state=QUERY}else if(char=="#"){url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.query=base.query;url.fragment="";state=FRAGMENT}else{url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;url.path=base.path.slice();url.path.pop();state=PATH;continue}break;case RELATIVE_SLASH:if(isSpecial(url)&&(char=="/"||char=="\\")){state=SPECIAL_AUTHORITY_IGNORE_SLASHES}else if(char=="/"){state=AUTHORITY}else{url.username=base.username;url.password=base.password;url.host=base.host;url.port=base.port;state=PATH;continue}break;case SPECIAL_AUTHORITY_SLASHES:state=SPECIAL_AUTHORITY_IGNORE_SLASHES;if(char!="/"||buffer.charAt(pointer+1)!="/")continue;pointer++;break;case SPECIAL_AUTHORITY_IGNORE_SLASHES:if(char!="/"&&char!="\\"){state=AUTHORITY;continue}break;case AUTHORITY:if(char=="@"){if(seenAt)buffer="%40"+buffer;seenAt=true;bufferCodePoints=arrayFrom(buffer);for(var i=0;i<bufferCodePoints.length;i++){var codePoint=bufferCodePoints[i];if(codePoint==":"&&!seenPasswordToken){seenPasswordToken=true;continue}var encodedCodePoints=percentEncode(codePoint,userinfoPercentEncodeSet);if(seenPasswordToken)url.password+=encodedCodePoints;else url.username+=encodedCodePoints}buffer=""}else if(char==EOF||char=="/"||char=="?"||char=="#"||char=="\\"&&isSpecial(url)){if(seenAt&&buffer=="")return INVALID_AUTHORITY;pointer-=arrayFrom(buffer).length+1;buffer="";state=HOST}else buffer+=char;break;case HOST:case HOSTNAME:if(stateOverride&&url.scheme=="file"){state=FILE_HOST;continue}else if(char==":"&&!seenBracket){if(buffer=="")return INVALID_HOST;failure=parseHost(url,buffer);if(failure)return failure;buffer="";state=PORT;if(stateOverride==HOSTNAME)return}else if(char==EOF||char=="/"||char=="?"||char=="#"||char=="\\"&&isSpecial(url)){if(isSpecial(url)&&buffer=="")return INVALID_HOST;if(stateOverride&&buffer==""&&(includesCredentials(url)||url.port!==null))return;failure=parseHost(url,buffer);if(failure)return failure;buffer="";state=PATH_START;if(stateOverride)return;continue}else{if(char=="[")seenBracket=true;else if(char=="]")seenBracket=false;buffer+=char}break;case PORT:if(DIGIT.test(char)){buffer+=char}else if(char==EOF||char=="/"||char=="?"||char=="#"||char=="\\"&&isSpecial(url)||stateOverride){if(buffer!=""){var port=parseInt(buffer,10);if(port>65535)return INVALID_PORT;url.port=isSpecial(url)&&port===specialSchemes[url.scheme]?null:port;buffer=""}if(stateOverride)return;state=PATH_START;continue}else return INVALID_PORT;break;case FILE:url.scheme="file";if(char=="/"||char=="\\")state=FILE_SLASH;else if(base&&base.scheme=="file"){if(char==EOF){url.host=base.host;url.path=base.path.slice();url.query=base.query}else if(char=="?"){url.host=base.host;url.path=base.path.slice();url.query="";state=QUERY}else if(char=="#"){url.host=base.host;url.path=base.path.slice();url.query=base.query;url.fragment="";state=FRAGMENT}else{if(!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))){url.host=base.host;url.path=base.path.slice();shortenURLsPath(url)}state=PATH;continue}}else{state=PATH;continue}break;case FILE_SLASH:if(char=="/"||char=="\\"){state=FILE_HOST;break}if(base&&base.scheme=="file"&&!startsWithWindowsDriveLetter(codePoints.slice(pointer).join(""))){if(isWindowsDriveLetter(base.path[0],true))url.path.push(base.path[0]);else url.host=base.host}state=PATH;continue;case FILE_HOST:if(char==EOF||char=="/"||char=="\\"||char=="?"||char=="#"){if(!stateOverride&&isWindowsDriveLetter(buffer)){state=PATH}else if(buffer==""){url.host="";if(stateOverride)return;state=PATH_START}else{failure=parseHost(url,buffer);if(failure)return failure;if(url.host=="localhost")url.host="";if(stateOverride)return;buffer="";state=PATH_START}continue}else buffer+=char;break;case PATH_START:if(isSpecial(url)){state=PATH;if(char!="/"&&char!="\\")continue}else if(!stateOverride&&char=="?"){url.query="";state=QUERY}else if(!stateOverride&&char=="#"){url.fragment="";state=FRAGMENT}else if(char!=EOF){state=PATH;if(char!="/")continue}break;case PATH:if(char==EOF||char=="/"||char=="\\"&&isSpecial(url)||!stateOverride&&(char=="?"||char=="#")){if(isDoubleDot(buffer)){shortenURLsPath(url);if(char!="/"&&!(char=="\\"&&isSpecial(url))){url.path.push("")}}else if(isSingleDot(buffer)){if(char!="/"&&!(char=="\\"&&isSpecial(url))){url.path.push("")}}else{if(url.scheme=="file"&&!url.path.length&&isWindowsDriveLetter(buffer)){if(url.host)url.host="";buffer=buffer.charAt(0)+":"}url.path.push(buffer)}buffer="";if(url.scheme=="file"&&(char==EOF||char=="?"||char=="#")){while(url.path.length>1&&url.path[0]===""){url.path.shift()}}if(char=="?"){url.query="";state=QUERY}else if(char=="#"){url.fragment="";state=FRAGMENT}}else{buffer+=percentEncode(char,pathPercentEncodeSet)}break;case CANNOT_BE_A_BASE_URL_PATH:if(char=="?"){url.query="";state=QUERY}else if(char=="#"){url.fragment="";state=FRAGMENT}else if(char!=EOF){url.path[0]+=percentEncode(char,C0ControlPercentEncodeSet)}break;case QUERY:if(!stateOverride&&char=="#"){url.fragment="";state=FRAGMENT}else if(char!=EOF){if(char=="'"&&isSpecial(url))url.query+="%27";else if(char=="#")url.query+="%23";else url.query+=percentEncode(char,C0ControlPercentEncodeSet)}break;case FRAGMENT:if(char!=EOF)url.fragment+=percentEncode(char,fragmentPercentEncodeSet);break}pointer++}};var URLConstructor=function URL(url){var that=anInstance(this,URLConstructor,"URL");var base=arguments.length>1?arguments[1]:undefined;var urlString=String(url);var state=setInternalState(that,{type:"URL"});var baseState,failure;if(base!==undefined){if(base instanceof URLConstructor)baseState=getInternalURLState(base);else{failure=parseURL(baseState={},String(base));if(failure)throw TypeError(failure)}}failure=parseURL(state,urlString,null,baseState);if(failure)throw TypeError(failure);var searchParams=state.searchParams=new URLSearchParams;var searchParamsState=getInternalSearchParamsState(searchParams);searchParamsState.updateSearchParams(state.query);searchParamsState.updateURL=function(){state.query=String(searchParams)||null};if(!DESCRIPTORS){that.href=serializeURL.call(that);that.origin=getOrigin.call(that);that.protocol=getProtocol.call(that);that.username=getUsername.call(that);that.password=getPassword.call(that);that.host=getHost.call(that);that.hostname=getHostname.call(that);that.port=getPort.call(that);that.pathname=getPathname.call(that);that.search=getSearch.call(that);that.searchParams=getSearchParams.call(that);that.hash=getHash.call(that)}};var URLPrototype=URLConstructor.prototype;var serializeURL=function(){var url=getInternalURLState(this);var scheme=url.scheme;var username=url.username;var password=url.password;var host=url.host;var port=url.port;var path=url.path;var query=url.query;var fragment=url.fragment;var output=scheme+":";if(host!==null){output+="//";if(includesCredentials(url)){output+=username+(password?":"+password:"")+"@"}output+=serializeHost(host);if(port!==null)output+=":"+port}else if(scheme=="file")output+="//";output+=url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):"";if(query!==null)output+="?"+query;if(fragment!==null)output+="#"+fragment;return output};var getOrigin=function(){var url=getInternalURLState(this);var scheme=url.scheme;var port=url.port;if(scheme=="blob")try{return new URL(scheme.path[0]).origin}catch(error){return"null"}if(scheme=="file"||!isSpecial(url))return"null";return scheme+"://"+serializeHost(url.host)+(port!==null?":"+port:"")};var getProtocol=function(){return getInternalURLState(this).scheme+":"};var getUsername=function(){return getInternalURLState(this).username};var getPassword=function(){return getInternalURLState(this).password};var getHost=function(){var url=getInternalURLState(this);var host=url.host;var port=url.port;return host===null?"":port===null?serializeHost(host):serializeHost(host)+":"+port};var getHostname=function(){var host=getInternalURLState(this).host;return host===null?"":serializeHost(host)};var getPort=function(){var port=getInternalURLState(this).port;return port===null?"":String(port)};var getPathname=function(){var url=getInternalURLState(this);var path=url.path;return url.cannotBeABaseURL?path[0]:path.length?"/"+path.join("/"):""};var getSearch=function(){var query=getInternalURLState(this).query;return query?"?"+query:""};var getSearchParams=function(){return getInternalURLState(this).searchParams};var getHash=function(){var fragment=getInternalURLState(this).fragment;return fragment?"#"+fragment:""};var accessorDescriptor=function(getter,setter){return{get:getter,set:setter,configurable:true,enumerable:true}};if(DESCRIPTORS){defineProperties(URLPrototype,{href:accessorDescriptor(serializeURL,function(href){var url=getInternalURLState(this);var urlString=String(href);var failure=parseURL(url,urlString);if(failure)throw TypeError(failure);getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)}),origin:accessorDescriptor(getOrigin),protocol:accessorDescriptor(getProtocol,function(protocol){var url=getInternalURLState(this);parseURL(url,String(protocol)+":",SCHEME_START)}),username:accessorDescriptor(getUsername,function(username){var url=getInternalURLState(this);var codePoints=arrayFrom(String(username));if(cannotHaveUsernamePasswordPort(url))return;url.username="";for(var i=0;i<codePoints.length;i++){url.username+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}}),password:accessorDescriptor(getPassword,function(password){var url=getInternalURLState(this);var codePoints=arrayFrom(String(password));if(cannotHaveUsernamePasswordPort(url))return;url.password="";for(var i=0;i<codePoints.length;i++){url.password+=percentEncode(codePoints[i],userinfoPercentEncodeSet)}}),host:accessorDescriptor(getHost,function(host){var url=getInternalURLState(this);if(url.cannotBeABaseURL)return;parseURL(url,String(host),HOST)}),hostname:accessorDescriptor(getHostname,function(hostname){var url=getInternalURLState(this);if(url.cannotBeABaseURL)return;parseURL(url,String(hostname),HOSTNAME)}),port:accessorDescriptor(getPort,function(port){var url=getInternalURLState(this);if(cannotHaveUsernamePasswordPort(url))return;port=String(port);if(port=="")url.port=null;else parseURL(url,port,PORT)}),pathname:accessorDescriptor(getPathname,function(pathname){var url=getInternalURLState(this);if(url.cannotBeABaseURL)return;url.path=[];parseURL(url,pathname+"",PATH_START)}),search:accessorDescriptor(getSearch,function(search){var url=getInternalURLState(this);search=String(search);if(search==""){url.query=null}else{if("?"==search.charAt(0))search=search.slice(1);url.query="";parseURL(url,search,QUERY)}getInternalSearchParamsState(url.searchParams).updateSearchParams(url.query)}),searchParams:accessorDescriptor(getSearchParams),hash:accessorDescriptor(getHash,function(hash){var url=getInternalURLState(this);hash=String(hash);if(hash==""){url.fragment=null;return}if("#"==hash.charAt(0))hash=hash.slice(1);url.fragment="";parseURL(url,hash,FRAGMENT)})})}redefine(URLPrototype,"toJSON",function toJSON(){return serializeURL.call(this)},{enumerable:true});redefine(URLPrototype,"toString",function toString(){return serializeURL.call(this)},{enumerable:true});if(NativeURL){var nativeCreateObjectURL=NativeURL.createObjectURL;var nativeRevokeObjectURL=NativeURL.revokeObjectURL;if(nativeCreateObjectURL)redefine(URLConstructor,"createObjectURL",function createObjectURL(blob){return nativeCreateObjectURL.apply(NativeURL,arguments)});if(nativeRevokeObjectURL)redefine(URLConstructor,"revokeObjectURL",function revokeObjectURL(url){return nativeRevokeObjectURL.apply(NativeURL,arguments)})}setToStringTag(URLConstructor,"URL");$({global:true,forced:!USE_NATIVE_URL,sham:!DESCRIPTORS},{URL:URLConstructor})},{"../internals/an-instance":27,"../internals/array-from":35,"../internals/descriptors":60,"../internals/export":67,"../internals/global":77,"../internals/has":78,"../internals/internal-state":88,"../internals/native-url":102,"../internals/object-assign":107,"../internals/object-define-properties":109,"../internals/redefine":126,"../internals/set-to-string-tag":135,"../internals/string-multibyte":141,"../internals/string-punycode-to-ascii":142,"../modules/es.string.iterator":204,"../modules/web.url-search-params":248}],250:[function(_dereq_,module,exports){"use strict";module.exports=_dereq_("./").polyfill()},{"./":251}],251:[function(_dereq_,module,exports){(function(process,global){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?module.exports=factory():typeof define==="function"&&define.amd?define(factory):global.ES6Promise=factory()})(this,function(){"use strict";function objectOrFunction(x){var type=typeof x;return x!==null&&(type==="object"||type==="function")}function isFunction(x){return typeof x==="function"}var _isArray=void 0;if(Array.isArray){_isArray=Array.isArray}else{_isArray=function(x){return Object.prototype.toString.call(x)==="[object Array]"}}var isArray=_isArray;var len=0;var vertxNext=void 0;var customSchedulerFn=void 0;var asap=function asap(callback,arg){queue[len]=callback;queue[len+1]=arg;len+=2;if(len===2){if(customSchedulerFn){customSchedulerFn(flush)}else{scheduleFlush()}}};function setScheduler(scheduleFn){customSchedulerFn=scheduleFn}function setAsap(asapFn){asap=asapFn}var browserWindow=typeof window!=="undefined"?window:undefined;var browserGlobal=browserWindow||{};var BrowserMutationObserver=browserGlobal.MutationObserver||browserGlobal.WebKitMutationObserver;var isNode=typeof self==="undefined"&&typeof process!=="undefined"&&{}.toString.call(process)==="[object process]";var isWorker=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function useNextTick(){return function(){return process.nextTick(flush)}}function useVertxTimer(){if(typeof vertxNext!=="undefined"){return function(){vertxNext(flush)}}return useSetTimeout()}function useMutationObserver(){var iterations=0;var observer=new BrowserMutationObserver(flush);var node=document.createTextNode("");observer.observe(node,{characterData:true});return function(){node.data=iterations=++iterations%2}}function useMessageChannel(){var channel=new MessageChannel;channel.port1.onmessage=flush;return function(){return channel.port2.postMessage(0)}}function useSetTimeout(){var globalSetTimeout=setTimeout;return function(){return globalSetTimeout(flush,1)}}var queue=new Array(1e3);function flush(){for(var i=0;i<len;i+=2){var callback=queue[i];var arg=queue[i+1];callback(arg);queue[i]=undefined;queue[i+1]=undefined}len=0}function attemptVertx(){try{var vertx=Function("return this")().require("vertx");vertxNext=vertx.runOnLoop||vertx.runOnContext;return useVertxTimer()}catch(e){return useSetTimeout()}}var scheduleFlush=void 0;if(isNode){scheduleFlush=useNextTick()}else if(BrowserMutationObserver){scheduleFlush=useMutationObserver()}else if(isWorker){scheduleFlush=useMessageChannel()}else if(browserWindow===undefined&&typeof _dereq_==="function"){scheduleFlush=attemptVertx()}else{scheduleFlush=useSetTimeout()}function then(onFulfillment,onRejection){var parent=this;var child=new this.constructor(noop);if(child[PROMISE_ID]===undefined){makePromise(child)}var _state=parent._state;if(_state){var callback=arguments[_state-1];asap(function(){return invokeCallback(_state,child,callback,parent._result)})}else{subscribe(parent,child,onFulfillment,onRejection)}return child}function resolve$1(object){var Constructor=this;if(object&&typeof object==="object"&&object.constructor===Constructor){return object}var promise=new Constructor(noop);resolve(promise,object);return promise}var PROMISE_ID=Math.random().toString(36).substring(2);function noop(){}var PENDING=void 0;var FULFILLED=1;var REJECTED=2;function selfFulfillment(){return new TypeError("You cannot resolve a promise with itself")}function cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function tryThen(then$$1,value,fulfillmentHandler,rejectionHandler){try{then$$1.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function handleForeignThenable(promise,thenable,then$$1){asap(function(promise){var sealed=false;var error=tryThen(then$$1,thenable,function(value){if(sealed){return}sealed=true;if(thenable!==value){resolve(promise,value)}else{fulfill(promise,value)}},function(reason){if(sealed){return}sealed=true;reject(promise,reason)},"Settle: "+(promise._label||" unknown promise"));if(!sealed&&error){sealed=true;reject(promise,error)}},promise)}function handleOwnThenable(promise,thenable){if(thenable._state===FULFILLED){fulfill(promise,thenable._result)}else if(thenable._state===REJECTED){reject(promise,thenable._result)}else{subscribe(thenable,undefined,function(value){return resolve(promise,value)},function(reason){return reject(promise,reason)})}}function handleMaybeThenable(promise,maybeThenable,then$$1){if(maybeThenable.constructor===promise.constructor&&then$$1===then&&maybeThenable.constructor.resolve===resolve$1){handleOwnThenable(promise,maybeThenable)}else{if(then$$1===undefined){fulfill(promise,maybeThenable)}else if(isFunction(then$$1)){handleForeignThenable(promise,maybeThenable,then$$1)}else{fulfill(promise,maybeThenable)}}}function resolve(promise,value){if(promise===value){reject(promise,selfFulfillment())}else if(objectOrFunction(value)){var then$$1=void 0;try{then$$1=value.then}catch(error){reject(promise,error);return}handleMaybeThenable(promise,value,then$$1)}else{fulfill(promise,value)}}function publishRejection(promise){if(promise._onerror){promise._onerror(promise._result)}publish(promise)}function fulfill(promise,value){if(promise._state!==PENDING){return}promise._result=value;promise._state=FULFILLED;if(promise._subscribers.length!==0){asap(publish,promise)}}function reject(promise,reason){if(promise._state!==PENDING){return}promise._state=REJECTED;promise._result=reason;asap(publishRejection,promise)}function subscribe(parent,child,onFulfillment,onRejection){var _subscribers=parent._subscribers;var length=_subscribers.length;parent._onerror=null;_subscribers[length]=child;_subscribers[length+FULFILLED]=onFulfillment;_subscribers[length+REJECTED]=onRejection;if(length===0&&parent._state){asap(publish,parent)}}function publish(promise){var subscribers=promise._subscribers;var settled=promise._state;if(subscribers.length===0){return}var child=void 0,callback=void 0,detail=promise._result;for(var i=0;i<subscribers.length;i+=3){child=subscribers[i];callback=subscribers[i+settled];if(child){invokeCallback(settled,child,callback,detail)}else{callback(detail)}}promise._subscribers.length=0}function invokeCallback(settled,promise,callback,detail){var hasCallback=isFunction(callback),value=void 0,error=void 0,succeeded=true;if(hasCallback){try{value=callback(detail)}catch(e){succeeded=false;error=e}if(promise===value){reject(promise,cannotReturnOwn());return}}else{value=detail}if(promise._state!==PENDING){}else if(hasCallback&&succeeded){resolve(promise,value)}else if(succeeded===false){reject(promise,error)}else if(settled===FULFILLED){fulfill(promise,value)}else if(settled===REJECTED){reject(promise,value)}}function initializePromise(promise,resolver){try{resolver(function resolvePromise(value){resolve(promise,value)},function rejectPromise(reason){reject(promise,reason)})}catch(e){reject(promise,e)}}var id=0;function nextId(){return id++}function makePromise(promise){promise[PROMISE_ID]=id++;promise._state=undefined;promise._result=undefined;promise._subscribers=[]}function validationError(){return new Error("Array Methods must be provided an Array")}var Enumerator=function(){function Enumerator(Constructor,input){this._instanceConstructor=Constructor;this.promise=new Constructor(noop);if(!this.promise[PROMISE_ID]){makePromise(this.promise)}if(isArray(input)){this.length=input.length;this._remaining=input.length;this._result=new Array(this.length);if(this.length===0){fulfill(this.promise,this._result)}else{this.length=this.length||0;this._enumerate(input);if(this._remaining===0){fulfill(this.promise,this._result)}}}else{reject(this.promise,validationError())}}Enumerator.prototype._enumerate=function _enumerate(input){for(var i=0;this._state===PENDING&&i<input.length;i++){this._eachEntry(input[i],i)}};Enumerator.prototype._eachEntry=function _eachEntry(entry,i){var c=this._instanceConstructor;var resolve$$1=c.resolve;if(resolve$$1===resolve$1){var _then=void 0;var error=void 0;var didError=false;try{_then=entry.then}catch(e){didError=true;error=e}if(_then===then&&entry._state!==PENDING){this._settledAt(entry._state,i,entry._result)}else if(typeof _then!=="function"){this._remaining--;this._result[i]=entry}else if(c===Promise$1){var promise=new c(noop);if(didError){reject(promise,error)}else{handleMaybeThenable(promise,entry,_then)}this._willSettleAt(promise,i)}else{this._willSettleAt(new c(function(resolve$$1){return resolve$$1(entry)}),i)}}else{this._willSettleAt(resolve$$1(entry),i)}};Enumerator.prototype._settledAt=function _settledAt(state,i,value){var promise=this.promise;if(promise._state===PENDING){this._remaining--;if(state===REJECTED){reject(promise,value)}else{this._result[i]=value}}if(this._remaining===0){fulfill(promise,this._result)}};Enumerator.prototype._willSettleAt=function _willSettleAt(promise,i){var enumerator=this;subscribe(promise,undefined,function(value){return enumerator._settledAt(FULFILLED,i,value)},function(reason){return enumerator._settledAt(REJECTED,i,reason)})};return Enumerator}();function all(entries){return new Enumerator(this,entries).promise}function race(entries){var Constructor=this;if(!isArray(entries)){return new Constructor(function(_,reject){return reject(new TypeError("You must pass an array to race."))})}else{return new Constructor(function(resolve,reject){var length=entries.length;for(var i=0;i<length;i++){Constructor.resolve(entries[i]).then(resolve,reject)}})}}function reject$1(reason){var Constructor=this;var promise=new Constructor(noop);reject(promise,reason);return promise}function needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Promise$1=function(){function Promise(resolver){this[PROMISE_ID]=nextId();this._result=this._state=undefined;this._subscribers=[];if(noop!==resolver){typeof resolver!=="function"&&needsResolver();this instanceof Promise?initializePromise(this,resolver):needsNew()}}Promise.prototype.catch=function _catch(onRejection){return this.then(null,onRejection)};Promise.prototype.finally=function _finally(callback){var promise=this;var constructor=promise.constructor;if(isFunction(callback)){return promise.then(function(value){return constructor.resolve(callback()).then(function(){return value})},function(reason){return constructor.resolve(callback()).then(function(){throw reason})})}return promise.then(callback,callback)};return Promise}();Promise$1.prototype.then=then;Promise$1.all=all;Promise$1.race=race;Promise$1.resolve=resolve$1;Promise$1.reject=reject$1;Promise$1._setScheduler=setScheduler;Promise$1._setAsap=setAsap;Promise$1._asap=asap;function polyfill(){var local=void 0;if(typeof global!=="undefined"){local=global}else if(typeof self!=="undefined"){local=self}else{try{local=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}}var P=local.Promise;if(P){var promiseToString=null;try{promiseToString=Object.prototype.toString.call(P.resolve())}catch(e){}if(promiseToString==="[object Promise]"&&!P.cast){return}}local.Promise=Promise$1}Promise$1.polyfill=polyfill;Promise$1.Promise=Promise$1;return Promise$1})}).call(this,_dereq_("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:263}],252:[function(_dereq_,module,exports){(function(global,factory){if(typeof define==="function"&&define.amd){define(["exports","module"],factory)}else if(typeof exports!=="undefined"&&typeof module!=="undefined"){factory(exports,module)}else{var mod={exports:{}};factory(mod.exports,mod);global.fetchJsonp=mod.exports}})(this,function(exports,module){"use strict";var defaultOptions={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function generateCallbackFunction(){return"jsonp_"+Date.now()+"_"+Math.ceil(Math.random()*1e5)}function clearFunction(functionName){try{delete window[functionName]}catch(e){window[functionName]=undefined}}function removeScript(scriptId){var script=document.getElementById(scriptId);if(script){document.getElementsByTagName("head")[0].removeChild(script)}}function fetchJsonp(_url){var options=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var url=_url;var timeout=options.timeout||defaultOptions.timeout;var jsonpCallback=options.jsonpCallback||defaultOptions.jsonpCallback;var timeoutId=undefined;return new Promise(function(resolve,reject){var callbackFunction=options.jsonpCallbackFunction||generateCallbackFunction();var scriptId=jsonpCallback+"_"+callbackFunction;window[callbackFunction]=function(response){resolve({ok:true,json:function json(){return Promise.resolve(response)}});if(timeoutId)clearTimeout(timeoutId);removeScript(scriptId);clearFunction(callbackFunction)};url+=url.indexOf("?")===-1?"?":"&";var jsonpScript=document.createElement("script");jsonpScript.setAttribute("src",""+url+jsonpCallback+"="+callbackFunction);if(options.charset){jsonpScript.setAttribute("charset",options.charset)}jsonpScript.id=scriptId;document.getElementsByTagName("head")[0].appendChild(jsonpScript);timeoutId=setTimeout(function(){reject(new Error("JSONP request to "+_url+" timed out"));clearFunction(callbackFunction);removeScript(scriptId);window[callbackFunction]=function(){clearFunction(callbackFunction)}},timeout);jsonpScript.onerror=function(){reject(new Error("JSONP request to "+_url+" failed"));clearFunction(callbackFunction);removeScript(scriptId);if(timeoutId)clearTimeout(timeoutId)}})}module.exports=fetchJsonp})},{}],253:[function(_dereq_,module,exports){var saveAs=saveAs||function(view){"use strict";if(typeof view==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var doc=view.document,get_URL=function(){return view.URL||view.webkitURL||view},save_link=doc.createElementNS("http://www.w3.org/1999/xhtml","a"),can_use_save_link="download"in save_link,click=function(node){var event=new MouseEvent("click");node.dispatchEvent(event)},is_safari=/constructor/i.test(view.HTMLElement)||view.safari,is_chrome_ios=/CriOS\/[\d]+/.test(navigator.userAgent),throw_outside=function(ex){(view.setImmediate||view.setTimeout)(function(){throw ex},0)},force_saveable_type="application/octet-stream",arbitrary_revoke_timeout=1e3*40,revoke=function(file){var revoker=function(){if(typeof file==="string"){get_URL().revokeObjectURL(file)}else{file.remove()}};setTimeout(revoker,arbitrary_revoke_timeout)},dispatch=function(filesaver,event_types,event){event_types=[].concat(event_types);var i=event_types.length;while(i--){var listener=filesaver["on"+event_types[i]];if(typeof listener==="function"){try{listener.call(filesaver,event||filesaver)}catch(ex){throw_outside(ex)}}}},auto_bom=function(blob){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(blob.type)){return new Blob([String.fromCharCode(65279),blob],{type:blob.type})}return blob},FileSaver=function(blob,name,no_auto_bom){if(!no_auto_bom){blob=auto_bom(blob)}var filesaver=this,type=blob.type,force=type===force_saveable_type,object_url,dispatch_all=function(){dispatch(filesaver,"writestart progress write writeend".split(" "))},fs_error=function(){if((is_chrome_ios||force&&is_safari)&&view.FileReader){var reader=new FileReader;reader.onloadend=function(){var url=is_chrome_ios?reader.result:reader.result.replace(/^data:[^;]*;/,"data:attachment/file;");var popup=view.open(url,"_blank");if(!popup)view.location.href=url;url=undefined;filesaver.readyState=filesaver.DONE;dispatch_all()};reader.readAsDataURL(blob);filesaver.readyState=filesaver.INIT;return}if(!object_url){object_url=get_URL().createObjectURL(blob)}if(force){view.location.href=object_url}else{var opened=view.open(object_url,"_blank");if(!opened){view.location.href=object_url}}filesaver.readyState=filesaver.DONE;dispatch_all();revoke(object_url)};filesaver.readyState=filesaver.INIT;if(can_use_save_link){object_url=get_URL().createObjectURL(blob);setTimeout(function(){save_link.href=object_url;save_link.download=name;click(save_link);dispatch_all();revoke(object_url);filesaver.readyState=filesaver.DONE});return}fs_error()},FS_proto=FileSaver.prototype,saveAs=function(blob,name,no_auto_bom){return new FileSaver(blob,name||blob.name||"download",no_auto_bom)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(blob,name,no_auto_bom){name=name||blob.name||"download";if(!no_auto_bom){blob=auto_bom(blob)}return navigator.msSaveOrOpenBlob(blob,name)}}FS_proto.abort=function(){};FS_proto.readyState=FS_proto.INIT=0;FS_proto.WRITING=1;FS_proto.DONE=2;FS_proto.error=FS_proto.onwritestart=FS_proto.onprogress=FS_proto.onwrite=FS_proto.onabort=FS_proto.onerror=FS_proto.onwriteend=null;return saveAs}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return saveAs})}},{}],254:[function(_dereq_,module,exports){"use strict";function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var _classCallCheck=_interopDefault(_dereq_("@babel/runtime/helpers/classCallCheck"));var _createClass=_interopDefault(_dereq_("@babel/runtime/helpers/createClass"));var arr=[];var each=arr.forEach;var slice=arr.slice;function defaults(obj){each.call(slice.call(arguments,1),function(source){if(source){for(var prop in source){if(obj[prop]===undefined)obj[prop]=source[prop]}}});return obj}var cookie={create:function create(name,value,minutes,domain){var expires;if(minutes){var date=new Date;date.setTime(date.getTime()+minutes*60*1e3);expires="; expires="+date.toGMTString()}else expires="";domain=domain?"domain="+domain+";":"";document.cookie=name+"="+value+expires+";"+domain+"path=/"},read:function read(name){var nameEQ=name+"=";var ca=document.cookie.split(";");for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)===" "){c=c.substring(1,c.length)}if(c.indexOf(nameEQ)===0)return c.substring(nameEQ.length,c.length)}return null},remove:function remove(name){this.create(name,"",-1)}};var cookie$1={name:"cookie",lookup:function lookup(options){var found;if(options.lookupCookie&&typeof document!=="undefined"){var c=cookie.read(options.lookupCookie);if(c)found=c}return found},cacheUserLanguage:function cacheUserLanguage(lng,options){if(options.lookupCookie&&typeof document!=="undefined"){cookie.create(options.lookupCookie,lng,options.cookieMinutes,options.cookieDomain)}}};var querystring={name:"querystring",lookup:function lookup(options){var found;if(typeof window!=="undefined"){var query=window.location.search.substring(1);var params=query.split("&");for(var i=0;i<params.length;i++){var pos=params[i].indexOf("=");if(pos>0){var key=params[i].substring(0,pos);if(key===options.lookupQuerystring){found=params[i].substring(pos+1)}}}}return found}};var hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var testKey="i18next.translate.boo";window.localStorage.setItem(testKey,"foo");window.localStorage.removeItem(testKey)}catch(e){hasLocalStorageSupport=false}var localStorage={name:"localStorage",lookup:function lookup(options){var found;if(options.lookupLocalStorage&&hasLocalStorageSupport){var lng=window.localStorage.getItem(options.lookupLocalStorage);if(lng)found=lng}return found},cacheUserLanguage:function cacheUserLanguage(lng,options){if(options.lookupLocalStorage&&hasLocalStorageSupport){window.localStorage.setItem(options.lookupLocalStorage,lng)}}};var navigator$1={name:"navigator",lookup:function lookup(options){var found=[];if(typeof navigator!=="undefined"){if(navigator.languages){for(var i=0;i<navigator.languages.length;i++){found.push(navigator.languages[i])}}if(navigator.userLanguage){found.push(navigator.userLanguage)}if(navigator.language){found.push(navigator.language)}}return found.length>0?found:undefined}};var htmlTag={name:"htmlTag",lookup:function lookup(options){var found;var htmlTag=options.htmlTag||(typeof document!=="undefined"?document.documentElement:null);if(htmlTag&&typeof htmlTag.getAttribute==="function"){found=htmlTag.getAttribute("lang")}return found}};var path={name:"path",lookup:function lookup(options){var found;if(typeof window!=="undefined"){var language=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(language instanceof Array){if(typeof options.lookupFromPathIndex==="number"){if(typeof language[options.lookupFromPathIndex]!=="string"){return undefined}found=language[options.lookupFromPathIndex].replace("/","")}else{found=language[0].replace("/","")}}}return found}};var subdomain={name:"subdomain",lookup:function lookup(options){var found;if(typeof window!=="undefined"){var language=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);if(language instanceof Array){if(typeof options.lookupFromSubdomainIndex==="number"){found=language[options.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".","")}else{found=language[0].replace("http://","").replace("https://","").replace(".","")}}}return found}};function getDefaults(){return{order:["querystring","cookie","localStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],checkWhitelist:true}}var Browser=function(){function Browser(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Browser);this.type="languageDetector";this.detectors={};this.init(services,options)}_createClass(Browser,[{key:"init",value:function init(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i18nOptions=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.services=services;this.options=defaults(options,this.options||{},getDefaults());if(this.options.lookupFromUrlIndex)this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex;this.i18nOptions=i18nOptions;this.addDetector(cookie$1);this.addDetector(querystring);this.addDetector(localStorage);this.addDetector(navigator$1);this.addDetector(htmlTag);this.addDetector(path);this.addDetector(subdomain)}},{key:"addDetector",value:function addDetector(detector){this.detectors[detector.name]=detector}},{key:"detect",value:function detect(detectionOrder){var _this=this;if(!detectionOrder)detectionOrder=this.options.order;var detected=[];detectionOrder.forEach(function(detectorName){if(_this.detectors[detectorName]){var lookup=_this.detectors[detectorName].lookup(_this.options);if(lookup&&typeof lookup==="string")lookup=[lookup];if(lookup)detected=detected.concat(lookup)}});var found;detected.forEach(function(lng){if(found)return;var cleanedLng=_this.services.languageUtils.formatLanguageCode(lng);if(!_this.options.checkWhitelist||_this.services.languageUtils.isWhitelisted(cleanedLng))found=cleanedLng});if(!found){var fallbacks=this.i18nOptions.fallbackLng;if(typeof fallbacks==="string")fallbacks=[fallbacks];if(!fallbacks)fallbacks=[];if(Object.prototype.toString.apply(fallbacks)==="[object Array]"){found=fallbacks[0]}else{found=fallbacks[0]||fallbacks["default"]&&fallbacks["default"][0]}}return found}},{key:"cacheUserLanguage",value:function cacheUserLanguage(lng,caches){var _this2=this;if(!caches)caches=this.options.caches;if(!caches)return;if(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(lng)>-1)return;caches.forEach(function(cacheName){if(_this2.detectors[cacheName])_this2.detectors[cacheName].cacheUserLanguage(lng,_this2.options)})}}]);return Browser}();Browser.type="languageDetector";module.exports=Browser},{"@babel/runtime/helpers/classCallCheck":255,"@babel/runtime/helpers/createClass":256}],255:[function(_dereq_,module,exports){arguments[4][5][0].apply(exports,arguments)},{dup:5}],256:[function(_dereq_,module,exports){arguments[4][6][0].apply(exports,arguments)},{dup:6}],257:[function(_dereq_,module,exports){"use strict";function _interopDefault(ex){return ex&&typeof ex==="object"&&"default"in ex?ex["default"]:ex}var _typeof=_interopDefault(_dereq_("@babel/runtime/helpers/typeof"));var _objectSpread=_interopDefault(_dereq_("@babel/runtime/helpers/objectSpread"));var _classCallCheck=_interopDefault(_dereq_("@babel/runtime/helpers/classCallCheck"));var _createClass=_interopDefault(_dereq_("@babel/runtime/helpers/createClass"));var _possibleConstructorReturn=_interopDefault(_dereq_("@babel/runtime/helpers/possibleConstructorReturn"));var _getPrototypeOf=_interopDefault(_dereq_("@babel/runtime/helpers/getPrototypeOf"));var _assertThisInitialized=_interopDefault(_dereq_("@babel/runtime/helpers/assertThisInitialized"));var _inherits=_interopDefault(_dereq_("@babel/runtime/helpers/inherits"));var _toConsumableArray=_interopDefault(_dereq_("@babel/runtime/helpers/toConsumableArray"));var _slicedToArray=_interopDefault(_dereq_("@babel/runtime/helpers/slicedToArray"));var consoleLogger={type:"logger",log:function log(args){this.output("log",args)},warn:function warn(args){this.output("warn",args)},error:function error(args){this.output("error",args)},output:function output(type,args){var _console;if(console&&console[type])(_console=console)[type].apply(_console,_toConsumableArray(args))}};var Logger=function(){function Logger(concreteLogger){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Logger);this.init(concreteLogger,options)}_createClass(Logger,[{key:"init",value:function init(concreteLogger){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=options.prefix||"i18next:";this.logger=concreteLogger||consoleLogger;this.options=options;this.debug=options.debug}},{key:"setDebug",value:function setDebug(bool){this.debug=bool}},{key:"log",value:function log(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return this.forward(args,"log","",true)}},{key:"warn",value:function warn(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}return this.forward(args,"warn","",true)}},{key:"error",value:function error(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}return this.forward(args,"error","")}},{key:"deprecate",value:function deprecate(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}return this.forward(args,"warn","WARNING DEPRECATED: ",true)}},{key:"forward",value:function forward(args,lvl,prefix,debugOnly){if(debugOnly&&!this.debug)return null;if(typeof args[0]==="string")args[0]="".concat(prefix).concat(this.prefix," ").concat(args[0]);return this.logger[lvl](args)}},{key:"create",value:function create(moduleName){return new Logger(this.logger,_objectSpread({},{prefix:"".concat(this.prefix,":").concat(moduleName,":")},this.options))}}]);return Logger}();var baseLogger=new Logger;var EventEmitter=function(){function EventEmitter(){_classCallCheck(this,EventEmitter);this.observers={}}_createClass(EventEmitter,[{key:"on",value:function on(events,listener){var _this=this;events.split(" ").forEach(function(event){_this.observers[event]=_this.observers[event]||[];_this.observers[event].push(listener)});return this}},{key:"off",value:function off(event,listener){if(!this.observers[event])return;if(!listener){delete this.observers[event];return}this.observers[event]=this.observers[event].filter(function(l){return l!==listener})}},{key:"emit",value:function emit(event){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}if(this.observers[event]){var cloned=[].concat(this.observers[event]);cloned.forEach(function(observer){observer.apply(void 0,args)})}if(this.observers["*"]){var _cloned=[].concat(this.observers["*"]);_cloned.forEach(function(observer){observer.apply(observer,[event].concat(args))})}}}]);return EventEmitter}();function defer(){var res;var rej;var promise=new Promise(function(resolve,reject){res=resolve;rej=reject});promise.resolve=res;promise.reject=rej;return promise}function makeString(object){if(object==null)return"";return""+object}function copy(a,s,t){a.forEach(function(m){if(s[m])t[m]=s[m]})}function getLastOfPath(object,path,Empty){function cleanKey(key){return key&&key.indexOf("###")>-1?key.replace(/###/g,"."):key}function canNotTraverseDeeper(){return!object||typeof object==="string"}var stack=typeof path!=="string"?[].concat(path):path.split(".");while(stack.length>1){if(canNotTraverseDeeper())return{};var key=cleanKey(stack.shift());if(!object[key]&&Empty)object[key]=new Empty;object=object[key]}if(canNotTraverseDeeper())return{};return{obj:object,k:cleanKey(stack.shift())}}function setPath(object,path,newValue){var _getLastOfPath=getLastOfPath(object,path,Object),obj=_getLastOfPath.obj,k=_getLastOfPath.k;obj[k]=newValue}function pushPath(object,path,newValue,concat){var _getLastOfPath2=getLastOfPath(object,path,Object),obj=_getLastOfPath2.obj,k=_getLastOfPath2.k;obj[k]=obj[k]||[];if(concat)obj[k]=obj[k].concat(newValue);if(!concat)obj[k].push(newValue)}function getPath(object,path){var _getLastOfPath3=getLastOfPath(object,path),obj=_getLastOfPath3.obj,k=_getLastOfPath3.k;if(!obj)return undefined;return obj[k]}function getPathWithDefaults(data,defaultData,key){var value=getPath(data,key);if(value!==undefined){return value}return getPath(defaultData,key)}function deepExtend(target,source,overwrite){for(var prop in source){if(prop in target){if(typeof target[prop]==="string"||target[prop]instanceof String||typeof source[prop]==="string"||source[prop]instanceof String){if(overwrite)target[prop]=source[prop]}else{deepExtend(target[prop],source[prop],overwrite)}}else{target[prop]=source[prop]}}return target}function regexEscape(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape(data){if(typeof data==="string"){return data.replace(/[&<>"'\/]/g,function(s){return _entityMap[s]})}return data}var ResourceStore=function(_EventEmitter){_inherits(ResourceStore,_EventEmitter);function ResourceStore(data){var _this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};_classCallCheck(this,ResourceStore);_this=_possibleConstructorReturn(this,_getPrototypeOf(ResourceStore).call(this));EventEmitter.call(_assertThisInitialized(_this));_this.data=data||{};_this.options=options;if(_this.options.keySeparator===undefined){_this.options.keySeparator="."}return _this}_createClass(ResourceStore,[{key:"addNamespaces",value:function addNamespaces(ns){if(this.options.ns.indexOf(ns)<0){this.options.ns.push(ns)}}},{key:"removeNamespaces",value:function removeNamespaces(ns){var index=this.options.ns.indexOf(ns);if(index>-1){this.options.ns.splice(index,1)}}},{key:"getResource",value:function getResource(lng,ns,key){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var keySeparator=options.keySeparator!==undefined?options.keySeparator:this.options.keySeparator;var path=[lng,ns];if(key&&typeof key!=="string")path=path.concat(key);if(key&&typeof key==="string")path=path.concat(keySeparator?key.split(keySeparator):key);if(lng.indexOf(".")>-1){path=lng.split(".")}return getPath(this.data,path)}},{key:"addResource",value:function addResource(lng,ns,key,value){var options=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};var keySeparator=this.options.keySeparator;if(keySeparator===undefined)keySeparator=".";var path=[lng,ns];if(key)path=path.concat(keySeparator?key.split(keySeparator):key);if(lng.indexOf(".")>-1){path=lng.split(".");value=ns;ns=path[1]}this.addNamespaces(ns);setPath(this.data,path,value);if(!options.silent)this.emit("added",lng,ns,key,value)}},{key:"addResources",value:function addResources(lng,ns,resources){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{silent:false};for(var m in resources){if(typeof resources[m]==="string"||Object.prototype.toString.apply(resources[m])==="[object Array]")this.addResource(lng,ns,m,resources[m],{silent:true})}if(!options.silent)this.emit("added",lng,ns,resources)}},{key:"addResourceBundle",value:function addResourceBundle(lng,ns,resources,deep,overwrite){var options=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{silent:false};var path=[lng,ns];if(lng.indexOf(".")>-1){path=lng.split(".");deep=resources;resources=ns;ns=path[1]}this.addNamespaces(ns);var pack=getPath(this.data,path)||{};if(deep){deepExtend(pack,resources,overwrite)}else{pack=_objectSpread({},pack,resources)}setPath(this.data,path,pack);if(!options.silent)this.emit("added",lng,ns,resources)}},{key:"removeResourceBundle",value:function removeResourceBundle(lng,ns){if(this.hasResourceBundle(lng,ns)){delete this.data[lng][ns]}this.removeNamespaces(ns);this.emit("removed",lng,ns)}},{key:"hasResourceBundle",value:function hasResourceBundle(lng,ns){return this.getResource(lng,ns)!==undefined}},{key:"getResourceBundle",value:function getResourceBundle(lng,ns){if(!ns)ns=this.options.defaultNS;if(this.options.compatibilityAPI==="v1")return _objectSpread({},{},this.getResource(lng,ns));return this.getResource(lng,ns)}},{key:"getDataByLanguage",value:function getDataByLanguage(lng){return this.data[lng]}},{key:"toJSON",value:function toJSON(){return this.data}}]);return ResourceStore}(EventEmitter);var postProcessor={processors:{},addPostProcessor:function addPostProcessor(module){this.processors[module.name]=module},handle:function handle(processors,value,key,options,translator){var _this=this;processors.forEach(function(processor){if(_this.processors[processor])value=_this.processors[processor].process(value,key,options,translator)});return value}};var checkedLoadedFor={};var Translator=function(_EventEmitter){_inherits(Translator,_EventEmitter);function Translator(services){var _this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,Translator);_this=_possibleConstructorReturn(this,_getPrototypeOf(Translator).call(this));EventEmitter.call(_assertThisInitialized(_this));copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],services,_assertThisInitialized(_this));_this.options=options;if(_this.options.keySeparator===undefined){_this.options.keySeparator="."}_this.logger=baseLogger.create("translator");return _this}_createClass(Translator,[{key:"changeLanguage",value:function changeLanguage(lng){if(lng)this.language=lng}},{key:"exists",value:function exists(key){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};var resolved=this.resolve(key,options);return resolved&&resolved.res!==undefined}},{key:"extractFromKey",value:function extractFromKey(key,options){var nsSeparator=options.nsSeparator||this.options.nsSeparator;if(nsSeparator===undefined)nsSeparator=":";var keySeparator=options.keySeparator!==undefined?options.keySeparator:this.options.keySeparator;var namespaces=options.ns||this.options.defaultNS;if(nsSeparator&&key.indexOf(nsSeparator)>-1){var parts=key.split(nsSeparator);if(nsSeparator!==keySeparator||nsSeparator===keySeparator&&this.options.ns.indexOf(parts[0])>-1)namespaces=parts.shift();key=parts.join(keySeparator)}if(typeof namespaces==="string")namespaces=[namespaces];return{key:key,namespaces:namespaces}}},{key:"translate",value:function translate(keys,options){var _this2=this;if(_typeof(options)!=="object"&&this.options.overloadTranslationOptionHandler){options=this.options.overloadTranslationOptionHandler(arguments)}if(!options)options={};if(keys===undefined||keys===null)return"";if(!Array.isArray(keys))keys=[String(keys)];var keySeparator=options.keySeparator!==undefined?options.keySeparator:this.options.keySeparator;var _this$extractFromKey=this.extractFromKey(keys[keys.length-1],options),key=_this$extractFromKey.key,namespaces=_this$extractFromKey.namespaces;var namespace=namespaces[namespaces.length-1];var lng=options.lng||this.language;var appendNamespaceToCIMode=options.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(lng&&lng.toLowerCase()==="cimode"){if(appendNamespaceToCIMode){var nsSeparator=options.nsSeparator||this.options.nsSeparator;return namespace+nsSeparator+key}return key}var resolved=this.resolve(keys,options);var res=resolved&&resolved.res;var resUsedKey=resolved&&resolved.usedKey||key;var resExactUsedKey=resolved&&resolved.exactUsedKey||key;var resType=Object.prototype.toString.apply(res);var noObject=["[object Number]","[object Function]","[object RegExp]"];var joinArrays=options.joinArrays!==undefined?options.joinArrays:this.options.joinArrays;var handleAsObjectInI18nFormat=!this.i18nFormat||this.i18nFormat.handleAsObject;var handleAsObject=typeof res!=="string"&&typeof res!=="boolean"&&typeof res!=="number";if(handleAsObjectInI18nFormat&&res&&handleAsObject&&noObject.indexOf(resType)<0&&!(typeof joinArrays==="string"&&resType==="[object Array]")){if(!options.returnObjects&&!this.options.returnObjects){this.logger.warn("accessing an object - but returnObjects options is not enabled!");return this.options.returnedObjectHandler?this.options.returnedObjectHandler(resUsedKey,res,options):"key '".concat(key," (").concat(this.language,")' returned an object instead of string.")}if(keySeparator){var resTypeIsArray=resType==="[object Array]";var copy$$1=resTypeIsArray?[]:{};var newKeyToUse=resTypeIsArray?resExactUsedKey:resUsedKey;for(var m in res){if(Object.prototype.hasOwnProperty.call(res,m)){var deepKey="".concat(newKeyToUse).concat(keySeparator).concat(m);copy$$1[m]=this.translate(deepKey,_objectSpread({},options,{joinArrays:false,ns:namespaces}));if(copy$$1[m]===deepKey)copy$$1[m]=res[m]}}res=copy$$1}}else if(handleAsObjectInI18nFormat&&typeof joinArrays==="string"&&resType==="[object Array]"){res=res.join(joinArrays);if(res)res=this.extendTranslation(res,keys,options)}else{var usedDefault=false;var usedKey=false;if(!this.isValidLookup(res)&&options.defaultValue!==undefined){usedDefault=true;if(options.count!==undefined){var suffix=this.pluralResolver.getSuffix(lng,options.count);res=options["defaultValue".concat(suffix)]}if(!res)res=options.defaultValue}if(!this.isValidLookup(res)){usedKey=true;res=key}var updateMissing=options.defaultValue&&options.defaultValue!==res&&this.options.updateMissing;if(usedKey||usedDefault||updateMissing){this.logger.log(updateMissing?"updateKey":"missingKey",lng,namespace,key,updateMissing?options.defaultValue:res);var lngs=[];var fallbackLngs=this.languageUtils.getFallbackCodes(this.options.fallbackLng,options.lng||this.language);if(this.options.saveMissingTo==="fallback"&&fallbackLngs&&fallbackLngs[0]){for(var i=0;i<fallbackLngs.length;i++){lngs.push(fallbackLngs[i])}}else if(this.options.saveMissingTo==="all"){lngs=this.languageUtils.toResolveHierarchy(options.lng||this.language)}else{lngs.push(options.lng||this.language)}var send=function send(l,k){if(_this2.options.missingKeyHandler){_this2.options.missingKeyHandler(l,namespace,k,updateMissing?options.defaultValue:res,updateMissing,options)}else if(_this2.backendConnector&&_this2.backendConnector.saveMissing){_this2.backendConnector.saveMissing(l,namespace,k,updateMissing?options.defaultValue:res,updateMissing,options)}_this2.emit("missingKey",l,namespace,k,res)};if(this.options.saveMissing){var needsPluralHandling=options.count!==undefined&&typeof options.count!=="string";if(this.options.saveMissingPlurals&&needsPluralHandling){lngs.forEach(function(l){var plurals=_this2.pluralResolver.getPluralFormsOfKey(l,key);plurals.forEach(function(p){return send([l],p)})})}else{send(lngs,key)}}}res=this.extendTranslation(res,keys,options,resolved);if(usedKey&&res===key&&this.options.appendNamespaceToMissingKey)res="".concat(namespace,":").concat(key);if(usedKey&&this.options.parseMissingKeyHandler)res=this.options.parseMissingKeyHandler(res)}return res}},{key:"extendTranslation",value:function extendTranslation(res,key,options,resolved){var _this3=this;if(this.i18nFormat&&this.i18nFormat.parse){res=this.i18nFormat.parse(res,options,resolved.usedLng,resolved.usedNS,resolved.usedKey,{resolved:resolved})}else if(!options.skipInterpolation){if(options.interpolation)this.interpolator.init(_objectSpread({},options,{interpolation:_objectSpread({},this.options.interpolation,options.interpolation)}));var data=options.replace&&typeof options.replace!=="string"?options.replace:options;if(this.options.interpolation.defaultVariables)data=_objectSpread({},this.options.interpolation.defaultVariables,data);res=this.interpolator.interpolate(res,data,options.lng||this.language,options);if(options.nest!==false)res=this.interpolator.nest(res,function(){return _this3.translate.apply(_this3,arguments)},options);if(options.interpolation)this.interpolator.reset()}var postProcess=options.postProcess||this.options.postProcess;var postProcessorNames=typeof postProcess==="string"?[postProcess]:postProcess;if(res!==undefined&&res!==null&&postProcessorNames&&postProcessorNames.length&&options.applyPostProcessor!==false){res=postProcessor.handle(postProcessorNames,res,key,this.options&&this.options.postProcessPassResolved?_objectSpread({i18nResolved:resolved},options):options,this)}return res}},{key:"resolve",value:function resolve(keys){var _this4=this;var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var found;var usedKey;var exactUsedKey;var usedLng;var usedNS;if(typeof keys==="string")keys=[keys];keys.forEach(function(k){if(_this4.isValidLookup(found))return;var extracted=_this4.extractFromKey(k,options);var key=extracted.key;usedKey=key;var namespaces=extracted.namespaces;if(_this4.options.fallbackNS)namespaces=namespaces.concat(_this4.options.fallbackNS);var needsPluralHandling=options.count!==undefined&&typeof options.count!=="string";var needsContextHandling=options.context!==undefined&&typeof options.context==="string"&&options.context!=="";var codes=options.lngs?options.lngs:_this4.languageUtils.toResolveHierarchy(options.lng||_this4.language,options.fallbackLng);namespaces.forEach(function(ns){if(_this4.isValidLookup(found))return;usedNS=ns;if(!checkedLoadedFor["".concat(codes[0],"-").concat(ns)]&&_this4.utils&&_this4.utils.hasLoadedNamespace&&!_this4.utils.hasLoadedNamespace(usedNS)){checkedLoadedFor["".concat(codes[0],"-").concat(ns)]=true;_this4.logger.warn('key "'.concat(usedKey,'" for namespace "').concat(usedNS,'" for languages "').concat(codes.join(", "),"\" won't get resolved as namespace was not yet loaded"),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}codes.forEach(function(code){if(_this4.isValidLookup(found))return;usedLng=code;var finalKey=key;var finalKeys=[finalKey];if(_this4.i18nFormat&&_this4.i18nFormat.addLookupKeys){_this4.i18nFormat.addLookupKeys(finalKeys,key,code,ns,options)}else{var pluralSuffix;if(needsPluralHandling)pluralSuffix=_this4.pluralResolver.getSuffix(code,options.count);if(needsPluralHandling&&needsContextHandling)finalKeys.push(finalKey+pluralSuffix);if(needsContextHandling)finalKeys.push(finalKey+="".concat(_this4.options.contextSeparator).concat(options.context));if(needsPluralHandling)finalKeys.push(finalKey+=pluralSuffix)}var possibleKey;while(possibleKey=finalKeys.pop()){if(!_this4.isValidLookup(found)){exactUsedKey=possibleKey;found=_this4.getResource(code,ns,possibleKey,options)}}})})});return{res:found,usedKey:usedKey,exactUsedKey:exactUsedKey,usedLng:usedLng,usedNS:usedNS}}},{key:"isValidLookup",value:function isValidLookup(res){return res!==undefined&&!(!this.options.returnNull&&res===null)&&!(!this.options.returnEmptyString&&res==="")}},{key:"getResource",value:function getResource(code,ns,key){var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(this.i18nFormat&&this.i18nFormat.getResource)return this.i18nFormat.getResource(code,ns,key,options);return this.resourceStore.getResource(code,ns,key,options)}}]);return Translator}(EventEmitter);function capitalize(string){return string.charAt(0).toUpperCase()+string.slice(1)}var LanguageUtil=function(){function LanguageUtil(options){_classCallCheck(this,LanguageUtil);this.options=options;this.whitelist=this.options.whitelist||false;this.logger=baseLogger.create("languageUtils")}_createClass(LanguageUtil,[{key:"getScriptPartFromCode",value:function getScriptPartFromCode(code){if(!code||code.indexOf("-")<0)return null;var p=code.split("-");if(p.length===2)return null;p.pop();return this.formatLanguageCode(p.join("-"))}},{key:"getLanguagePartFromCode",value:function getLanguagePartFromCode(code){if(!code||code.indexOf("-")<0)return code;var p=code.split("-");return this.formatLanguageCode(p[0])}},{key:"formatLanguageCode",value:function formatLanguageCode(code){if(typeof code==="string"&&code.indexOf("-")>-1){var specialCases=["hans","hant","latn","cyrl","cans","mong","arab"];var p=code.split("-");if(this.options.lowerCaseLng){p=p.map(function(part){return part.toLowerCase()})}else if(p.length===2){p[0]=p[0].toLowerCase();p[1]=p[1].toUpperCase();if(specialCases.indexOf(p[1].toLowerCase())>-1)p[1]=capitalize(p[1].toLowerCase())}else if(p.length===3){p[0]=p[0].toLowerCase();if(p[1].length===2)p[1]=p[1].toUpperCase();if(p[0]!=="sgn"&&p[2].length===2)p[2]=p[2].toUpperCase();if(specialCases.indexOf(p[1].toLowerCase())>-1)p[1]=capitalize(p[1].toLowerCase());if(specialCases.indexOf(p[2].toLowerCase())>-1)p[2]=capitalize(p[2].toLowerCase())}return p.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?code.toLowerCase():code}},{key:"isWhitelisted",value:function isWhitelisted(code){if(this.options.load==="languageOnly"||this.options.nonExplicitWhitelist){code=this.getLanguagePartFromCode(code)}return!this.whitelist||!this.whitelist.length||this.whitelist.indexOf(code)>-1}},{key:"getFallbackCodes",value:function getFallbackCodes(fallbacks,code){if(!fallbacks)return[];if(typeof fallbacks==="string")fallbacks=[fallbacks];if(Object.prototype.toString.apply(fallbacks)==="[object Array]")return fallbacks;if(!code)return fallbacks["default"]||[];var found=fallbacks[code];if(!found)found=fallbacks[this.getScriptPartFromCode(code)];if(!found)found=fallbacks[this.formatLanguageCode(code)];if(!found)found=fallbacks["default"];return found||[]}},{key:"toResolveHierarchy",value:function toResolveHierarchy(code,fallbackCode){var _this=this;var fallbackCodes=this.getFallbackCodes(fallbackCode||this.options.fallbackLng||[],code);var codes=[];var addCode=function addCode(c){if(!c)return;if(_this.isWhitelisted(c)){codes.push(c)}else{_this.logger.warn("rejecting non-whitelisted language code: ".concat(c))}};if(typeof code==="string"&&code.indexOf("-")>-1){if(this.options.load!=="languageOnly")addCode(this.formatLanguageCode(code));if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly")addCode(this.getScriptPartFromCode(code));if(this.options.load!=="currentOnly")addCode(this.getLanguagePartFromCode(code))}else if(typeof code==="string"){addCode(this.formatLanguageCode(code))}fallbackCodes.forEach(function(fc){if(codes.indexOf(fc)<0)addCode(_this.formatLanguageCode(fc))});return codes}}]);return LanguageUtil}();var sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he"],nr:[1,2,20,21],fc:22}];var _rulesPluralsTypes={1:function _(n){return Number(n>1)},2:function _(n){return Number(n!=1)},3:function _(n){return 0},4:function _(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},5:function _(n){return Number(n===0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5)},6:function _(n){return Number(n==1?0:n>=2&&n<=4?1:2)},7:function _(n){return Number(n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2)},8:function _(n){return Number(n==1?0:n==2?1:n!=8&&n!=11?2:3)},9:function _(n){return Number(n>=2)},10:function _(n){return Number(n==1?0:n==2?1:n<7?2:n<11?3:4)},11:function _(n){return Number(n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3)},12:function _(n){return Number(n%10!=1||n%100==11)},13:function _(n){return Number(n!==0)},14:function _(n){return Number(n==1?0:n==2?1:n==3?2:3)},15:function _(n){return Number(n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2)},16:function _(n){return Number(n%10==1&&n%100!=11?0:n!==0?1:2)},17:function _(n){return Number(n==1||n%10==1?0:1)},18:function _(n){return Number(n==0?0:n==1?1:2)},19:function _(n){return Number(n==1?0:n===0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3)},20:function _(n){return Number(n==1?0:n===0||n%100>0&&n%100<20?1:2)},21:function _(n){return Number(n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0)},22:function _(n){return Number(n===1?0:n===2?1:(n<0||n>10)&&n%10==0?2:3)}};function createRules(){var rules={};sets.forEach(function(set){set.lngs.forEach(function(l){rules[l]={numbers:set.nr,plurals:_rulesPluralsTypes[set.fc]}})});return rules}var PluralResolver=function(){function PluralResolver(languageUtils){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};_classCallCheck(this,PluralResolver);this.languageUtils=languageUtils;this.options=options;this.logger=baseLogger.create("pluralResolver");this.rules=createRules()}_createClass(PluralResolver,[{key:"addRule",value:function addRule(lng,obj){this.rules[lng]=obj}},{key:"getRule",value:function getRule(code){return this.rules[code]||this.rules[this.languageUtils.getLanguagePartFromCode(code)]}},{key:"needsPlural",value:function needsPlural(code){var rule=this.getRule(code);return rule&&rule.numbers.length>1}},{key:"getPluralFormsOfKey",value:function getPluralFormsOfKey(code,key){var _this=this;var ret=[];var rule=this.getRule(code);if(!rule)return ret;rule.numbers.forEach(function(n){var suffix=_this.getSuffix(code,n);ret.push("".concat(key).concat(suffix))});return ret}},{key:"getSuffix",value:function getSuffix(code,count){var _this2=this;var rule=this.getRule(code);if(rule){var idx=rule.noAbs?rule.plurals(count):rule.plurals(Math.abs(count));var suffix=rule.numbers[idx];if(this.options.simplifyPluralSuffix&&rule.numbers.length===2&&rule.numbers[0]===1){if(suffix===2){suffix="plural"}else if(suffix===1){suffix=""}}var returnSuffix=function returnSuffix(){return _this2.options.prepend&&suffix.toString()?_this2.options.prepend+suffix.toString():suffix.toString()};if(this.options.compatibilityJSON==="v1"){if(suffix===1)return"";if(typeof suffix==="number")return"_plural_".concat(suffix.toString());return returnSuffix()}else if(this.options.compatibilityJSON==="v2"){return returnSuffix()}else if(this.options.simplifyPluralSuffix&&rule.numbers.length===2&&rule.numbers[0]===1){return returnSuffix()}return this.options.prepend&&idx.toString()?this.options.prepend+idx.toString():idx.toString()}this.logger.warn("no plural rule found for: ".concat(code));return""}}]);return PluralResolver}();var Interpolator=function(){function Interpolator(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};_classCallCheck(this,Interpolator);this.logger=baseLogger.create("interpolator");this.options=options;this.format=options.interpolation&&options.interpolation.format||function(value){return value};this.init(options)}_createClass(Interpolator,[{key:"init",value:function init(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!options.interpolation)options.interpolation={escapeValue:true};var iOpts=options.interpolation;this.escape=iOpts.escape!==undefined?iOpts.escape:escape;this.escapeValue=iOpts.escapeValue!==undefined?iOpts.escapeValue:true;this.useRawValueToEscape=iOpts.useRawValueToEscape!==undefined?iOpts.useRawValueToEscape:false;this.prefix=iOpts.prefix?regexEscape(iOpts.prefix):iOpts.prefixEscaped||"{{";this.suffix=iOpts.suffix?regexEscape(iOpts.suffix):iOpts.suffixEscaped||"}}";this.formatSeparator=iOpts.formatSeparator?iOpts.formatSeparator:iOpts.formatSeparator||",";this.unescapePrefix=iOpts.unescapeSuffix?"":iOpts.unescapePrefix||"-";this.unescapeSuffix=this.unescapePrefix?"":iOpts.unescapeSuffix||"";this.nestingPrefix=iOpts.nestingPrefix?regexEscape(iOpts.nestingPrefix):iOpts.nestingPrefixEscaped||regexEscape("$t(");this.nestingSuffix=iOpts.nestingSuffix?regexEscape(iOpts.nestingSuffix):iOpts.nestingSuffixEscaped||regexEscape(")");this.maxReplaces=iOpts.maxReplaces?iOpts.maxReplaces:1e3;this.resetRegExp()}},{key:"reset",value:function reset(){if(this.options)this.init(this.options)}},{key:"resetRegExp",value:function resetRegExp(){var regexpStr="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(regexpStr,"g");var regexpUnescapeStr="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(regexpUnescapeStr,"g");var nestingRegexpStr="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(nestingRegexpStr,"g")}},{key:"interpolate",value:function interpolate(str,data,lng,options){var _this=this;var match;var value;var replaces;var defaultData=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function regexSafe(val){return val.replace(/\$/g,"$$$$")}var handleFormat=function handleFormat(key){if(key.indexOf(_this.formatSeparator)<0){return getPathWithDefaults(data,defaultData,key)}var p=key.split(_this.formatSeparator);var k=p.shift().trim();var f=p.join(_this.formatSeparator).trim();return _this.format(getPathWithDefaults(data,defaultData,k),f,lng)};this.resetRegExp();var missingInterpolationHandler=options&&options.missingInterpolationHandler||this.options.missingInterpolationHandler;replaces=0;while(match=this.regexpUnescape.exec(str)){value=handleFormat(match[1].trim());if(value===undefined){if(typeof missingInterpolationHandler==="function"){var temp=missingInterpolationHandler(str,match,options);value=typeof temp==="string"?temp:""}else{this.logger.warn("missed to pass in variable ".concat(match[1]," for interpolating ").concat(str));value=""}}else if(typeof value!=="string"&&!this.useRawValueToEscape){value=makeString(value)}str=str.replace(match[0],regexSafe(value));this.regexpUnescape.lastIndex=0;replaces++;if(replaces>=this.maxReplaces){break}}replaces=0;while(match=this.regexp.exec(str)){value=handleFormat(match[1].trim());if(value===undefined){if(typeof missingInterpolationHandler==="function"){var _temp=missingInterpolationHandler(str,match,options);value=typeof _temp==="string"?_temp:""}else{this.logger.warn("missed to pass in variable ".concat(match[1]," for interpolating ").concat(str));value=""}}else if(typeof value!=="string"&&!this.useRawValueToEscape){value=makeString(value)}value=this.escapeValue?regexSafe(this.escape(value)):regexSafe(value);str=str.replace(match[0],value);this.regexp.lastIndex=0;replaces++;if(replaces>=this.maxReplaces){break}}return str}},{key:"nest",value:function nest(str,fc){var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var match;var value;var clonedOptions=_objectSpread({},options);clonedOptions.applyPostProcessor=false;delete clonedOptions.defaultValue;function handleHasOptions(key,inheritedOptions){if(key.indexOf(",")<0)return key;var p=key.split(",");key=p.shift();var optionsString=p.join(",");optionsString=this.interpolate(optionsString,clonedOptions);optionsString=optionsString.replace(/'/g,'"');try{clonedOptions=JSON.parse(optionsString);if(inheritedOptions)clonedOptions=_objectSpread({},inheritedOptions,clonedOptions)}catch(e){this.logger.error("failed parsing options string in nesting for key ".concat(key),e)}delete clonedOptions.defaultValue;return key}while(match=this.nestingRegexp.exec(str)){value=fc(handleHasOptions.call(this,match[1].trim(),clonedOptions),clonedOptions);if(value&&match[0]===str&&typeof value!=="string")return value;if(typeof value!=="string")value=makeString(value);if(!value){this.logger.warn("missed to resolve ".concat(match[1]," for nesting ").concat(str));value=""}str=str.replace(match[0],value);this.regexp.lastIndex=0}return str}}]);return Interpolator}();function remove(arr,what){var found=arr.indexOf(what);while(found!==-1){arr.splice(found,1);found=arr.indexOf(what)}}var Connector=function(_EventEmitter){_inherits(Connector,_EventEmitter);function Connector(backend,store,services){var _this;var options=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};_classCallCheck(this,Connector);_this=_possibleConstructorReturn(this,_getPrototypeOf(Connector).call(this));EventEmitter.call(_assertThisInitialized(_this));_this.backend=backend;_this.store=store;_this.services=services;_this.languageUtils=services.languageUtils;_this.options=options;_this.logger=baseLogger.create("backendConnector");_this.state={};_this.queue=[];if(_this.backend&&_this.backend.init){_this.backend.init(services,options.backend,options)}return _this}_createClass(Connector,[{key:"queueLoad",value:function queueLoad(languages,namespaces,options,callback){var _this2=this;var toLoad=[];var pending=[];var toLoadLanguages=[];var toLoadNamespaces=[];languages.forEach(function(lng){var hasAllNamespaces=true;namespaces.forEach(function(ns){var name="".concat(lng,"|").concat(ns);if(!options.reload&&_this2.store.hasResourceBundle(lng,ns)){_this2.state[name]=2}else if(_this2.state[name]<0);else if(_this2.state[name]===1){if(pending.indexOf(name)<0)pending.push(name)}else{_this2.state[name]=1;hasAllNamespaces=false;if(pending.indexOf(name)<0)pending.push(name);if(toLoad.indexOf(name)<0)toLoad.push(name);if(toLoadNamespaces.indexOf(ns)<0)toLoadNamespaces.push(ns)}});if(!hasAllNamespaces)toLoadLanguages.push(lng)});if(toLoad.length||pending.length){this.queue.push({pending:pending,loaded:{},errors:[],callback:callback})}return{toLoad:toLoad,pending:pending,toLoadLanguages:toLoadLanguages,toLoadNamespaces:toLoadNamespaces}}},{key:"loaded",value:function loaded(name,err,data){var _name$split=name.split("|"),_name$split2=_slicedToArray(_name$split,2),lng=_name$split2[0],ns=_name$split2[1];if(err)this.emit("failedLoading",lng,ns,err);if(data){this.store.addResourceBundle(lng,ns,data)}this.state[name]=err?-1:2;var loaded={};this.queue.forEach(function(q){pushPath(q.loaded,[lng],ns);remove(q.pending,name);if(err)q.errors.push(err);if(q.pending.length===0&&!q.done){Object.keys(q.loaded).forEach(function(l){if(!loaded[l])loaded[l]=[];if(q.loaded[l].length){q.loaded[l].forEach(function(ns){if(loaded[l].indexOf(ns)<0)loaded[l].push(ns)})}});q.done=true;if(q.errors.length){q.callback(q.errors)}else{q.callback()}}});this.emit("loaded",loaded);this.queue=this.queue.filter(function(q){return!q.done})}},{key:"read",value:function read(lng,ns,fcName){var _this3=this;var tried=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var wait=arguments.length>4&&arguments[4]!==undefined?arguments[4]:250;var callback=arguments.length>5?arguments[5]:undefined;if(!lng.length)return callback(null,{});return this.backend[fcName](lng,ns,function(err,data){if(err&&data&&tried<5){setTimeout(function(){_this3.read.call(_this3,lng,ns,fcName,tried+1,wait*2,callback)},wait);return}callback(err,data)})}},{key:"prepareLoading",value:function prepareLoading(languages,namespaces){var _this4=this;var options=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var callback=arguments.length>3?arguments[3]:undefined;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return callback&&callback()}if(typeof languages==="string")languages=this.languageUtils.toResolveHierarchy(languages);if(typeof namespaces==="string")namespaces=[namespaces];var toLoad=this.queueLoad(languages,namespaces,options,callback);if(!toLoad.toLoad.length){if(!toLoad.pending.length)callback();return null}toLoad.toLoad.forEach(function(name){_this4.loadOne(name)})}},{key:"load",value:function load(languages,namespaces,callback){this.prepareLoading(languages,namespaces,{},callback)}},{key:"reload",value:function reload(languages,namespaces,callback){this.prepareLoading(languages,namespaces,{reload:true},callback)}},{key:"loadOne",value:function loadOne(name){var _this5=this;var prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var _name$split3=name.split("|"),_name$split4=_slicedToArray(_name$split3,2),lng=_name$split4[0],ns=_name$split4[1];this.read(lng,ns,"read",null,null,function(err,data){if(err)_this5.logger.warn("".concat(prefix,"loading namespace ").concat(ns," for language ").concat(lng," failed"),err);if(!err&&data)_this5.logger.log("".concat(prefix,"loaded namespace ").concat(ns," for language ").concat(lng),data);_this5.loaded(name,err,data)})}},{key:"saveMissing",value:function saveMissing(languages,namespace,key,fallbackValue,isUpdate){var options=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(namespace)){this.logger.warn('did not save key "'.concat(key,'" for namespace "').concat(namespace,'" as the namespace was not yet loaded'),"This means something IS WRONG in your application setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(key===undefined||key===null||key==="")return;if(this.backend&&this.backend.create){this.backend.create(languages,namespace,key,fallbackValue,null,_objectSpread({},options,{isUpdate:isUpdate}))}if(!languages||!languages[0])return;this.store.addResource(languages[0],namespace,key,fallbackValue)}}]);return Connector}(EventEmitter);function get(){return{debug:false,initImmediate:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,whitelist:false,nonExplicitWhitelist:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:false,saveMissing:false,updateMissing:false,saveMissingTo:"fallback",saveMissingPlurals:true,missingKeyHandler:false,missingInterpolationHandler:false,postProcess:false,postProcessPassResolved:false,returnNull:true,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:false,parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:function handle(args){var ret={};if(_typeof(args[1])==="object")ret=args[1];if(typeof args[1]==="string")ret.defaultValue=args[1];if(typeof args[2]==="string")ret.tDescription=args[2];if(_typeof(args[2])==="object"||_typeof(args[3])==="object"){var options=args[3]||args[2];Object.keys(options).forEach(function(key){ret[key]=options[key]})}return ret},interpolation:{escapeValue:true,format:function format(value,_format,lng){return value},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}}}function transformOptions(options){if(typeof options.ns==="string")options.ns=[options.ns];if(typeof options.fallbackLng==="string")options.fallbackLng=[options.fallbackLng];if(typeof options.fallbackNS==="string")options.fallbackNS=[options.fallbackNS];if(options.whitelist&&options.whitelist.indexOf("cimode")<0){options.whitelist=options.whitelist.concat(["cimode"])}return options}function noop(){}var I18n=function(_EventEmitter){_inherits(I18n,_EventEmitter);function I18n(){var _this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1?arguments[1]:undefined;_classCallCheck(this,I18n);_this=_possibleConstructorReturn(this,_getPrototypeOf(I18n).call(this));EventEmitter.call(_assertThisInitialized(_this));_this.options=transformOptions(options);_this.services={};_this.logger=baseLogger;_this.modules={external:[]};if(callback&&!_this.isInitialized&&!options.isClone){if(!_this.options.initImmediate){_this.init(options,callback);return _possibleConstructorReturn(_this,_assertThisInitialized(_this))}setTimeout(function(){_this.init(options,callback)},0)}return _this}_createClass(I18n,[{key:"init",value:function init(){var _this2=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1?arguments[1]:undefined;if(typeof options==="function"){callback=options;options={}}this.options=_objectSpread({},get(),this.options,transformOptions(options));this.format=this.options.interpolation.format;if(!callback)callback=noop;function createClassOnDemand(ClassOrObject){if(!ClassOrObject)return null;if(typeof ClassOrObject==="function")return new ClassOrObject;return ClassOrObject}if(!this.options.isClone){if(this.modules.logger){baseLogger.init(createClassOnDemand(this.modules.logger),this.options)}else{baseLogger.init(null,this.options)}var lu=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var s=this.services;s.logger=baseLogger;s.resourceStore=this.store;s.languageUtils=lu;s.pluralResolver=new PluralResolver(lu,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix});s.interpolator=new Interpolator(this.options);s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)};s.backendConnector=new Connector(createClassOnDemand(this.modules.backend),s.resourceStore,s,this.options);s.backendConnector.on("*",function(event){for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key]}_this2.emit.apply(_this2,[event].concat(args))});if(this.modules.languageDetector){s.languageDetector=createClassOnDemand(this.modules.languageDetector);s.languageDetector.init(s,this.options.detection,this.options)}if(this.modules.i18nFormat){s.i18nFormat=createClassOnDemand(this.modules.i18nFormat);if(s.i18nFormat.init)s.i18nFormat.init(this)}this.translator=new Translator(this.services,this.options);this.translator.on("*",function(event){for(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2]}_this2.emit.apply(_this2,[event].concat(args))});this.modules.external.forEach(function(m){if(m.init)m.init(_this2)})}var storeApi=["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle","getDataByLanguage"];storeApi.forEach(function(fcName){_this2[fcName]=function(){var _this2$store;return(_this2$store=_this2.store)[fcName].apply(_this2$store,arguments)}});var deferred=defer();var load=function load(){_this2.changeLanguage(_this2.options.lng,function(err,t){_this2.isInitialized=true;_this2.logger.log("initialized",_this2.options);_this2.emit("initialized",_this2.options);deferred.resolve(t);callback(err,t)})};if(this.options.resources||!this.options.initImmediate){load()}else{setTimeout(load,0)}return deferred}},{key:"loadResources",value:function loadResources(language){var _this3=this;var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:noop;var usedCallback=callback;var usedLng=typeof language==="string"?language:this.language;if(typeof language==="function")usedCallback=language;if(!this.options.resources||this.options.partialBundledLanguages){if(usedLng&&usedLng.toLowerCase()==="cimode")return usedCallback();var toLoad=[];var append=function append(lng){if(!lng)return;var lngs=_this3.services.languageUtils.toResolveHierarchy(lng);lngs.forEach(function(l){if(toLoad.indexOf(l)<0)toLoad.push(l)})};if(!usedLng){var fallbacks=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);fallbacks.forEach(function(l){return append(l)})}else{append(usedLng)}if(this.options.preload){this.options.preload.forEach(function(l){return append(l)})}this.services.backendConnector.load(toLoad,this.options.ns,usedCallback)}else{usedCallback(null)}}},{key:"reloadResources",value:function reloadResources(lngs,ns,callback){var deferred=defer();if(!lngs)lngs=this.languages;if(!ns)ns=this.options.ns;if(!callback)callback=noop;this.services.backendConnector.reload(lngs,ns,function(err){deferred.resolve();callback(err)});return deferred}},{key:"use",value:function use(module){if(module.type==="backend"){this.modules.backend=module}if(module.type==="logger"||module.log&&module.warn&&module.error){this.modules.logger=module}if(module.type==="languageDetector"){this.modules.languageDetector=module}if(module.type==="i18nFormat"){this.modules.i18nFormat=module}if(module.type==="postProcessor"){postProcessor.addPostProcessor(module)}if(module.type==="3rdParty"){this.modules.external.push(module)}return this}},{key:"changeLanguage",value:function changeLanguage(lng,callback){var _this4=this;this.isLanguageChangingTo=lng;var deferred=defer();this.emit("languageChanging",lng);var done=function done(err,l){if(l){_this4.language=l;_this4.languages=_this4.services.languageUtils.toResolveHierarchy(l);_this4.translator.changeLanguage(l);_this4.isLanguageChangingTo=undefined;_this4.emit("languageChanged",l);_this4.logger.log("languageChanged",l)}else{_this4.isLanguageChangingTo=undefined}deferred.resolve(function(){return _this4.t.apply(_this4,arguments)});if(callback)callback(err,function(){return _this4.t.apply(_this4,arguments)})};var setLng=function setLng(l){if(l){if(!_this4.language){_this4.language=l;_this4.languages=_this4.services.languageUtils.toResolveHierarchy(l)}if(!_this4.translator.language)_this4.translator.changeLanguage(l);if(_this4.services.languageDetector)_this4.services.languageDetector.cacheUserLanguage(l)}_this4.loadResources(l,function(err){done(err,l)})};if(!lng&&this.services.languageDetector&&!this.services.languageDetector.async){setLng(this.services.languageDetector.detect())}else if(!lng&&this.services.languageDetector&&this.services.languageDetector.async){this.services.languageDetector.detect(setLng)}else{setLng(lng)}return deferred}},{key:"getFixedT",value:function getFixedT(lng,ns){var _this5=this;var fixedT=function fixedT(key,opts){var options;if(_typeof(opts)!=="object"){for(var _len3=arguments.length,rest=new Array(_len3>2?_len3-2:0),_key3=2;_key3<_len3;_key3++){rest[_key3-2]=arguments[_key3]}options=_this5.options.overloadTranslationOptionHandler([key,opts].concat(rest))}else{options=_objectSpread({},opts)}options.lng=options.lng||fixedT.lng;options.lngs=options.lngs||fixedT.lngs;options.ns=options.ns||fixedT.ns;return _this5.t(key,options)};if(typeof lng==="string"){fixedT.lng=lng}else{fixedT.lngs=lng}fixedT.ns=ns;return fixedT}},{key:"t",value:function t(){var _this$translator;return this.translator&&(_this$translator=this.translator).translate.apply(_this$translator,arguments)}},{key:"exists",value:function exists(){var _this$translator2;return this.translator&&(_this$translator2=this.translator).exists.apply(_this$translator2,arguments)}},{key:"setDefaultNamespace",value:function setDefaultNamespace(ns){this.options.defaultNS=ns}},{key:"hasLoadedNamespace",value:function hasLoadedNamespace(ns){var _this6=this;if(!this.isInitialized){this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages);return false}if(!this.languages||!this.languages.length){this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages);return false}var lng=this.languages[0];var fallbackLng=this.options?this.options.fallbackLng:false;var lastLng=this.languages[this.languages.length-1];if(lng.toLowerCase()==="cimode")return true;var loadNotPending=function loadNotPending(l,n){var loadState=_this6.services.backendConnector.state["".concat(l,"|").concat(n)];return loadState===-1||loadState===2};if(this.hasResourceBundle(lng,ns))return true;if(!this.services.backendConnector.backend)return true;if(loadNotPending(lng,ns)&&(!fallbackLng||loadNotPending(lastLng,ns)))return true;return false}},{key:"loadNamespaces",value:function loadNamespaces(ns,callback){var _this7=this;var deferred=defer();if(!this.options.ns){callback&&callback();return Promise.resolve()}if(typeof ns==="string")ns=[ns];ns.forEach(function(n){if(_this7.options.ns.indexOf(n)<0)_this7.options.ns.push(n)});this.loadResources(function(err){deferred.resolve();if(callback)callback(err)});return deferred}},{key:"loadLanguages",value:function loadLanguages(lngs,callback){var deferred=defer();if(typeof lngs==="string")lngs=[lngs];var preloaded=this.options.preload||[];var newLngs=lngs.filter(function(lng){return preloaded.indexOf(lng)<0});if(!newLngs.length){if(callback)callback();return Promise.resolve()}this.options.preload=preloaded.concat(newLngs);this.loadResources(function(err){deferred.resolve();if(callback)callback(err)});return deferred}},{key:"dir",value:function dir(lng){if(!lng)lng=this.languages&&this.languages.length>0?this.languages[0]:this.language;if(!lng)return"rtl";var rtlLngs=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"];return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng))>=0?"rtl":"ltr"}},{key:"createInstance",value:function createInstance(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1?arguments[1]:undefined;return new I18n(options,callback)}},{key:"cloneInstance",value:function cloneInstance(){var _this8=this;var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var callback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:noop;var mergedOptions=_objectSpread({},this.options,options,{isClone:true});var clone=new I18n(mergedOptions);var membersToCopy=["store","services","language"];membersToCopy.forEach(function(m){clone[m]=_this8[m]});clone.translator=new Translator(clone.services,clone.options);clone.translator.on("*",function(event){for(var _len4=arguments.length,args=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){args[_key4-1]=arguments[_key4]}clone.emit.apply(clone,[event].concat(args))});clone.init(mergedOptions,callback);clone.translator.options=clone.options;return clone}}]);return I18n}(EventEmitter);var i18next=new I18n;module.exports=i18next},{"@babel/runtime/helpers/assertThisInitialized":4,"@babel/runtime/helpers/classCallCheck":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/getPrototypeOf":8,"@babel/runtime/helpers/inherits":9,"@babel/runtime/helpers/objectSpread":14,"@babel/runtime/helpers/possibleConstructorReturn":15,"@babel/runtime/helpers/slicedToArray":17,"@babel/runtime/helpers/toConsumableArray":18,"@babel/runtime/helpers/typeof":19}],258:[function(_dereq_,module,exports){exports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var nBits=-7;var i=isLE?nBytes-1:0;var d=isLE?-1:1;var s=buffer[offset+i];i+=d;e=s&(1<<-nBits)-1;s>>=-nBits;nBits+=eLen;for(;nBits>0;e=e*256+buffer[offset+i],i+=d,nBits-=8){}m=e&(1<<-nBits)-1;e>>=-nBits;nBits+=mLen;for(;nBits>0;m=m*256+buffer[offset+i],i+=d,nBits-=8){}if(e===0){e=1-eBias}else if(e===eMax){return m?NaN:(s?-1:1)*Infinity}else{m=m+Math.pow(2,mLen);e=e-eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)};exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c;var eLen=nBytes*8-mLen-1;var eMax=(1<<eLen)-1;var eBias=eMax>>1;var rt=mLen===23?Math.pow(2,-24)-Math.pow(2,-77):0;var i=isLE?0:nBytes-1;var d=isLE?1:-1;var s=value<0||value===0&&1/value<0?1:0;value=Math.abs(value);if(isNaN(value)||value===Infinity){m=isNaN(value)?1:0;e=eMax}else{e=Math.floor(Math.log(value)/Math.LN2);if(value*(c=Math.pow(2,-e))<1){e--;c*=2}if(e+eBias>=1){value+=rt/c}else{value+=rt*Math.pow(2,1-eBias)}if(value*c>=2){e++;c/=2}if(e+eBias>=eMax){m=0;e=eMax}else if(e+eBias>=1){m=(value*c-1)*Math.pow(2,mLen);e=e+eBias}else{m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen);e=0}}for(;mLen>=8;buffer[offset+i]=m&255,i+=d,m/=256,mLen-=8){}e=e<<mLen|m;eLen+=mLen;for(;eLen>0;buffer[offset+i]=e&255,i+=d,e/=256,eLen-=8){}buffer[offset+i-d]|=s*128}},{}],259:[function(_dereq_,module,exports){"use strict";var n;function t(a,b){return a.b===b.b&&a.a===b.a}function u(a,b){return a.b<b.b||a.b===b.b&&a.a<=b.a}function v(a,b,c){var d=b.b-a.b,e=c.b-b.b;return 0<d+e?d<e?b.a-a.a+d/(d+e)*(a.a-c.a):b.a-c.a+e/(d+e)*(c.a-a.a):0}function x(a,b,c){var d=b.b-a.b,e=c.b-b.b;return 0<d+e?(b.a-c.a)*d+(b.a-a.a)*e:0}function z(a,b){return a.a<b.a||a.a===b.a&&a.b<=b.b}function aa(a,b,c){var d=b.a-a.a,e=c.a-b.a;return 0<d+e?d<e?b.b-a.b+d/(d+e)*(a.b-c.b):b.b-c.b+e/(d+e)*(c.b-a.b):0}function ba(a,b,c){var d=b.a-a.a,e=c.a-b.a;return 0<d+e?(b.b-c.b)*d+(b.b-a.b)*e:0}function ca(a){return u(a.b.a,a.a)}function da(a){return u(a.a,a.b.a)}function A(a,b,c,d){a=0>a?0:a;c=0>c?0:c;return a<=c?0===c?(b+d)/2:b+a/(a+c)*(d-b):d+c/(a+c)*(b-d)}function ea(a){var b=B(a.b);C(b,a.c);C(b.b,a.c);D(b,a.a);return b}function E(a,b){var c=!1,d=!1;a!==b&&(b.a!==a.a&&(d=!0,F(b.a,a.a)),b.d!==a.d&&(c=!0,G(b.d,a.d)),H(b,a),d||(C(b,a.a),a.a.c=a),c||(D(b,a.d),a.d.a=a))}function I(a){var b=a.b,c=!1;a.d!==a.b.d&&(c=!0,G(a.d,a.b.d));a.c===a?F(a.a,null):(a.b.d.a=J(a),a.a.c=a.c,H(a,J(a)),c||D(a,a.d));b.c===b?(F(b.a,null),G(b.d,null)):(a.d.a=J(b),b.a.c=b.c,H(b,J(b)));fa(a)}function K(a){var b=B(a),c=b.b;H(b,a.e);b.a=a.b.a;C(c,b.a);b.d=c.d=a.d;b=b.b;H(a.b,J(a.b));H(a.b,b);a.b.a=b.a;b.b.a.c=b.b;b.b.d=a.b.d;b.f=a.f;b.b.f=a.b.f;return b}function L(a,b){var c=!1,d=B(a),e=d.b;b.d!==a.d&&(c=!0,G(b.d,a.d));H(d,a.e);H(e,b);d.a=a.b.a;e.a=b.a;d.d=e.d=a.d;a.d.a=e;c||D(d,a.d);return d}function B(a){var b=new M,c=new M,d=a.b.h;c.h=d;d.b.h=b;b.h=a;a.b.h=c;b.b=c;b.c=b;b.e=c;c.b=b;c.c=c;return c.e=b}function H(a,b){var c=a.c,d=b.c;c.b.e=b;d.b.e=a;a.c=d;b.c=c}function C(a,b){var c=b.f,d=new N(b,c);c.e=d;b.f=d;c=d.c=a;do{c.a=d,c=c.c}while(c!==a)}function D(a,b){var c=b.d,d=new ga(b,c);c.b=d;b.d=d;d.a=a;d.c=b.c;c=a;do{c.d=d,c=c.e}while(c!==a)}function fa(a){var b=a.h;a=a.b.h;b.b.h=a;a.b.h=b}function F(a,b){var c=a.c,d=c;do{d.a=b,d=d.c}while(d!==c);c=a.f;d=a.e;d.f=c;c.e=d}function G(a,b){var c=a.a,d=c;do{d.d=b,d=d.e}while(d!==c);c=a.d;d=a.b;d.d=c;c.b=d}function ha(a){var b=0;Math.abs(a[1])>Math.abs(a[0])&&(b=1);Math.abs(a[2])>Math.abs(a[b])&&(b=2);return b}var O=4*1e150;function P(a,b){a.f+=b.f;a.b.f+=b.b.f}function ia(a,b,c){a=a.a;b=b.a;c=c.a;if(b.b.a===a)return c.b.a===a?u(b.a,c.a)?0>=x(c.b.a,b.a,c.a):0<=x(b.b.a,c.a,b.a):0>=x(c.b.a,a,c.a);if(c.b.a===a)return 0<=x(b.b.a,a,b.a);b=v(b.b.a,a,b.a);a=v(c.b.a,a,c.a);return b>=a}function Q(a){a.a.i=null;var b=a.e;b.a.c=b.c;b.c.a=b.a;a.e=null}function ja(a,b){I(a.a);a.c=!1;a.a=b;b.i=a}function ka(a){var b=a.a.a;do{a=R(a)}while(a.a.a===b);a.c&&(b=L(S(a).a.b,a.a.e),ja(a,b),a=R(a));return a}function la(a,b,c){var d=new ma;d.a=c;d.e=na(a.f,b.e,d);return c.i=d}function oa(a,b){switch(a.s){case 100130:return 0!==(b&1);case 100131:return 0!==b;case 100132:return 0<b;case 100133:return 0>b;case 100134:return 2<=b||-2>=b}return!1}function pa(a){var b=a.a,c=b.d;c.c=a.d;c.a=b;Q(a)}function T(a,b,c){a=b;for(b=b.a;a!==c;){a.c=!1;var d=S(a),e=d.a;if(e.a!==b.a){if(!d.c){pa(a);break}e=L(b.c.b,e.b);ja(d,e)}b.c!==e&&(E(J(e),e),E(b,e));pa(a);b=d.a;a=d}return b}function U(a,b,c,d,e,f){var g=!0;do{la(a,b,c.b),c=c.c}while(c!==d);for(null===e&&(e=S(b).a.b.c);;){d=S(b);c=d.a.b;if(c.a!==e.a)break;c.c!==e&&(E(J(c),c),E(J(e),c));d.f=b.f-c.f;d.d=oa(a,d.f);b.b=!0;!g&&qa(a,b)&&(P(c,e),Q(b),I(e));g=!1;b=d;e=c}b.b=!0;f&&ra(a,b)}function sa(a,b,c,d,e){var f=[b.g[0],b.g[1],b.g[2]];b.d=null;b.d=a.o?a.o(f,c,d,a.c)||null:null;null===b.d&&(e?a.n||(V(a,100156),a.n=!0):b.d=c[0])}function ta(a,b,c){var d=[null,null,null,null];d[0]=b.a.d;d[1]=c.a.d;sa(a,b.a,d,[.5,.5,0,0],!1);E(b,c)}function ua(a,b,c,d,e){var f=Math.abs(b.b-a.b)+Math.abs(b.a-a.a),g=Math.abs(c.b-a.b)+Math.abs(c.a-a.a),h=e+1;d[e]=.5*g/(f+g);d[h]=.5*f/(f+g);a.g[0]+=d[e]*b.g[0]+d[h]*c.g[0];a.g[1]+=d[e]*b.g[1]+d[h]*c.g[1];a.g[2]+=d[e]*b.g[2]+d[h]*c.g[2]}function qa(a,b){var c=S(b),d=b.a,e=c.a;if(u(d.a,e.a)){if(0<x(e.b.a,d.a,e.a))return!1;if(!t(d.a,e.a))K(e.b),E(d,J(e)),b.b=c.b=!0;else if(d.a!==e.a){var c=a.e,f=d.a.h;if(0<=f){var c=c.b,g=c.d,h=c.e,k=c.c,l=k[f];g[l]=g[c.a];k[g[l]]=l;l<=--c.a&&(1>=l?W(c,l):u(h[g[l>>1]],h[g[l]])?W(c,l):va(c,l));h[f]=null;k[f]=c.b;c.b=f}else for(c.c[-(f+1)]=null;0<c.a&&null===c.c[c.d[c.a-1]];)--c.a;ta(a,J(e),d)}}else{if(0>x(d.b.a,e.a,d.a))return!1;R(b).b=b.b=!0;K(d.b);E(J(e),d)}return!0}function wa(a,b){var c=S(b),d=b.a,e=c.a,f=d.a,g=e.a,h=d.b.a,k=e.b.a,l=new N;x(h,a.a,f);x(k,a.a,g);if(f===g||Math.min(f.a,h.a)>Math.max(g.a,k.a))return!1;if(u(f,g)){if(0<x(k,f,g))return!1}else if(0>x(h,g,f))return!1;var r=h,p=f,q=k,y=g,m,w;u(r,p)||(m=r,r=p,p=m);u(q,y)||(m=q,q=y,y=m);u(r,q)||(m=r,r=q,q=m,m=p,p=y,y=m);u(q,p)?u(p,y)?(m=v(r,q,p),w=v(q,p,y),0>m+w&&(m=-m,w=-w),l.b=A(m,q.b,w,p.b)):(m=x(r,q,p),w=-x(r,y,p),0>m+w&&(m=-m,w=-w),l.b=A(m,q.b,w,y.b)):l.b=(q.b+p.b)/2;z(r,p)||(m=r,r=p,p=m);z(q,y)||(m=q,q=y,y=m);z(r,q)||(m=r,r=q,q=m,m=p,p=y,y=m);z(q,p)?z(p,y)?(m=aa(r,q,p),w=aa(q,p,y),0>m+w&&(m=-m,w=-w),l.a=A(m,q.a,w,p.a)):(m=ba(r,q,p),w=-ba(r,y,p),0>m+w&&(m=-m,w=-w),l.a=A(m,q.a,w,y.a)):l.a=(q.a+p.a)/2;u(l,a.a)&&(l.b=a.a.b,l.a=a.a.a);r=u(f,g)?f:g;u(r,l)&&(l.b=r.b,l.a=r.a);if(t(l,f)||t(l,g))return qa(a,b),!1;if(!t(h,a.a)&&0<=x(h,a.a,l)||!t(k,a.a)&&0>=x(k,a.a,l)){if(k===a.a)return K(d.b),E(e.b,d),b=ka(b),d=S(b).a,T(a,S(b),c),U(a,b,J(d),d,d,!0),!0;if(h===a.a){K(e.b);E(d.e,J(e));f=c=b;g=f.a.b.a;do{f=R(f)}while(f.a.b.a===g);b=f;f=S(b).a.b.c;c.a=J(e);e=T(a,c,null);U(a,b,e.c,d.b.c,f,!0);return!0}0<=x(h,a.a,l)&&(R(b).b=b.b=!0,K(d.b),d.a.b=a.a.b,d.a.a=a.a.a);0>=x(k,a.a,l)&&(b.b=c.b=!0,K(e.b),e.a.b=a.a.b,e.a.a=a.a.a);return!1}K(d.b);K(e.b);E(J(e),d);d.a.b=l.b;d.a.a=l.a;d.a.h=xa(a.e,d.a);d=d.a;e=[0,0,0,0];l=[f.d,h.d,g.d,k.d];d.g[0]=d.g[1]=d.g[2]=0;ua(d,f,h,e,0);ua(d,g,k,e,2);sa(a,d,l,e,!0);R(b).b=b.b=c.b=!0;return!1}function ra(a,b){for(var c=S(b);;){for(;c.b;)b=c,c=S(c);if(!b.b&&(c=b,b=R(b),null===b||!b.b))break;b.b=!1;var d=b.a,e=c.a,f;if(f=d.b.a!==e.b.a)a:{f=b;var g=S(f),h=f.a,k=g.a,l=void 0;if(u(h.b.a,k.b.a)){if(0>x(h.b.a,k.b.a,h.a)){f=!1;break a}R(f).b=f.b=!0;l=K(h);E(k.b,l);l.d.c=f.d}else{if(0<x(k.b.a,h.b.a,k.a)){f=!1;break a}f.b=g.b=!0;l=K(k);E(h.e,k.b);l.b.d.c=f.d}f=!0}f&&(c.c?(Q(c),I(e),c=S(b),e=c.a):b.c&&(Q(b),I(d),b=R(c),d=b.a));if(d.a!==e.a)if(d.b.a===e.b.a||b.c||c.c||d.b.a!==a.a&&e.b.a!==a.a)qa(a,b);else if(wa(a,b))break;d.a===e.a&&d.b.a===e.b.a&&(P(e,d),Q(b),I(d),b=R(c))}}function ya(a,b){a.a=b;for(var c=b.c;null===c.i;)if(c=c.c,c===b.c){var c=a,d=b,e=new ma;e.a=d.c.b;var f=c.f,g=f.a;do{g=g.a}while(null!==g.b&&!f.c(f.b,e,g.b));var f=g.b,h=S(f),e=f.a,g=h.a;if(0===x(e.b.a,d,e.a))e=f.a,t(e.a,d)||t(e.b.a,d)||(K(e.b),f.c&&(I(e.c),f.c=!1),E(d.c,e),ya(c,d));else{var k=u(g.b.a,e.b.a)?f:h,h=void 0;f.d||k.c?(k===f?h=L(d.c.b,e.e):h=L(g.b.c.b,d.c).b,k.c?ja(k,h):(e=c,f=la(c,f,h),f.f=R(f).f+f.a.f,f.d=oa(e,f.f)),ya(c,d)):U(c,f,d.c,d.c,null,!0)}return}c=ka(c.i);e=S(c);f=e.a;e=T(a,e,null);if(e.c===f){var f=e,e=f.c,g=S(c),h=c.a,k=g.a,l=!1;h.b.a!==k.b.a&&wa(a,c);t(h.a,a.a)&&(E(J(e),h),c=ka(c),e=S(c).a,T(a,S(c),g),l=!0);t(k.a,a.a)&&(E(f,J(k)),f=T(a,g,null),l=!0);l?U(a,c,f.c,e,e,!0):(u(k.a,h.a)?d=J(k):d=h,d=L(f.c.b,d),U(a,c,d,d.c,d.c,!1),d.b.i.c=!0,ra(a,c))}else U(a,c,e.c,f,f,!0)}function za(a,b){var c=new ma,d=ea(a.b);d.a.b=O;d.a.a=b;d.b.a.b=-O;d.b.a.a=b;a.a=d.b.a;c.a=d;c.f=0;c.d=!1;c.c=!1;c.h=!0;c.b=!1;d=a.f;d=na(d,d.a,c);c.e=d}function Aa(a){this.a=new Ba;this.b=a;this.c=ia}function na(a,b,c){do{b=b.c}while(null!==b.b&&!a.c(a.b,b.b,c));a=new Ba(c,b.a,b);b.a.c=a;return b.a=a}function Ba(a,b,c){this.b=a||null;this.a=b||this;this.c=c||this}function X(){this.d=Y;this.p=this.b=this.q=null;this.j=[0,0,0];this.s=100130;this.n=!1;this.o=this.a=this.e=this.f=null;this.m=!1;this.c=this.r=this.i=this.k=this.l=this.h=null}var Y=0;n=X.prototype;n.x=function(){Z(this,Y)};n.B=function(a,b){switch(a){case 100142:return;case 100140:switch(b){case 100130:case 100131:case 100132:case 100133:case 100134:this.s=b;return}break;case 100141:this.m=!!b;return;default:V(this,100900);return}V(this,100901)};n.y=function(a){switch(a){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:V(this,100900)}return!1};n.A=function(a,b,c){this.j[0]=a;this.j[1]=b;this.j[2]=c};n.z=function(a,b){var c=b?b:null;switch(a){case 100100:case 100106:this.h=c;break;case 100104:case 100110:this.l=c;break;case 100101:case 100107:this.k=c;break;case 100102:case 100108:this.i=c;break;case 100103:case 100109:this.p=c;break;case 100105:case 100111:this.o=c;break;case 100112:this.r=c;break;default:V(this,100900)}};n.C=function(a,b){var c=!1,d=[0,0,0];Z(this,2);for(var e=0;3>e;++e){var f=a[e];-1e150>f&&(f=-1e150,c=!0);1e150<f&&(f=1e150,c=!0);d[e]=f}c&&V(this,100155);c=this.q;null===c?(c=ea(this.b),E(c,c.b)):(K(c),c=c.e);c.a.d=b;c.a.g[0]=d[0];c.a.g[1]=d[1];c.a.g[2]=d[2];c.f=1;c.b.f=-1;this.q=c};n.u=function(a){Z(this,Y);this.d=1;this.b=new Ca;this.c=a};n.t=function(){Z(this,1);this.d=2;this.q=null};n.v=function(){Z(this,2);this.d=1};n.w=function(){Z(this,1);this.d=Y;var a=this.j[0],b=this.j[1],c=this.j[2],d=!1,e=[a,b,c];if(0===a&&0===b&&0===c){for(var b=[-2*1e150,-2*1e150,-2*1e150],f=[2*1e150,2*1e150,2*1e150],c=[],g=[],d=this.b.c,a=d.e;a!==d;a=a.e)for(var h=0;3>h;++h){var k=a.g[h];k<f[h]&&(f[h]=k,g[h]=a);k>b[h]&&(b[h]=k,c[h]=a)}a=0;b[1]-f[1]>b[0]-f[0]&&(a=1);b[2]-f[2]>b[a]-f[a]&&(a=2);if(f[a]>=b[a])e[0]=0,e[1]=0,e[2]=1;else{b=0;f=g[a];c=c[a];g=[0,0,0];f=[f.g[0]-c.g[0],f.g[1]-c.g[1],f.g[2]-c.g[2]];h=[0,0,0];for(a=d.e;a!==d;a=a.e)h[0]=a.g[0]-c.g[0],h[1]=a.g[1]-c.g[1],h[2]=a.g[2]-c.g[2],g[0]=f[1]*h[2]-f[2]*h[1],g[1]=f[2]*h[0]-f[0]*h[2],g[2]=f[0]*h[1]-f[1]*h[0],k=g[0]*g[0]+g[1]*g[1]+g[2]*g[2],k>b&&(b=k,e[0]=g[0],e[1]=g[1],e[2]=g[2]);0>=b&&(e[0]=e[1]=e[2]=0,e[ha(f)]=1)}d=!0}g=ha(e);a=this.b.c;b=(g+1)%3;c=(g+2)%3;g=0<e[g]?1:-1;for(e=a.e;e!==a;e=e.e)e.b=e.g[b],e.a=g*e.g[c];if(d){e=0;d=this.b.a;for(a=d.b;a!==d;a=a.b)if(b=a.a,!(0>=b.f)){do{e+=(b.a.b-b.b.a.b)*(b.a.a+b.b.a.a),b=b.e}while(b!==a.a)}if(0>e)for(e=this.b.c,d=e.e;d!==e;d=d.e)d.a=-d.a}this.n=!1;e=this.b.b;for(a=e.h;a!==e;a=d)if(d=a.h,b=a.e,t(a.a,a.b.a)&&a.e.e!==a&&(ta(this,b,a),I(a),a=b,b=a.e),b.e===a){if(b!==a){if(b===d||b===d.b)d=d.h;I(b)}if(a===d||a===d.b)d=d.h;I(a)}this.e=e=new Da;d=this.b.c;for(a=d.e;a!==d;a=a.e)a.h=xa(e,a);Ea(e);this.f=new Aa(this);za(this,-O);for(za(this,O);null!==(e=Fa(this.e));){for(;;){a:if(a=this.e,0===a.a)d=Ga(a.b);else if(d=a.c[a.d[a.a-1]],0!==a.b.a&&(a=Ga(a.b),u(a,d))){d=a;break a}if(null===d||!t(d,e))break;d=Fa(this.e);ta(this,e.c,d.c)}ya(this,e)}this.a=this.f.a.a.b.a.a;for(e=0;null!==(d=this.f.a.a.b);)d.h||++e,Q(d);this.f=null;e=this.e;e.b=null;e.d=null;this.e=e.c=null;e=this.b;for(a=e.a.b;a!==e.a;a=d)d=a.b,a=a.a,a.e.e===a&&(P(a.c,a),I(a));if(!this.n){e=this.b;if(this.m)for(a=e.b.h;a!==e.b;a=d)d=a.h,a.b.d.c!==a.d.c?a.f=a.d.c?1:-1:I(a);else for(a=e.a.b;a!==e.a;a=d)if(d=a.b,a.c){for(a=a.a;u(a.b.a,a.a);a=a.c.b);for(;u(a.a,a.b.a);a=a.e);b=a.c.b;for(c=void 0;a.e!==b;)if(u(a.b.a,b.a)){for(;b.e!==a&&(ca(b.e)||0>=x(b.a,b.b.a,b.e.b.a));)c=L(b.e,b),b=c.b;b=b.c.b}else{for(;b.e!==a&&(da(a.c.b)||0<=x(a.b.a,a.a,a.c.b.a));)c=L(a,a.c.b),a=c.b;a=a.e}for(;b.e.e!==a;)c=L(b.e,b),b=c.b}if(this.h||this.i||this.k||this.l)if(this.m)for(e=this.b,d=e.a.b;d!==e.a;d=d.b){if(d.c){this.h&&this.h(2,this.c);a=d.a;do{this.k&&this.k(a.a.d,this.c),a=a.e}while(a!==d.a);this.i&&this.i(this.c)}}else{e=this.b;d=!!this.l;a=!1;b=-1;for(c=e.a.d;c!==e.a;c=c.d)if(c.c){a||(this.h&&this.h(4,this.c),a=!0);g=c.a;do{d&&(f=g.b.d.c?0:1,b!==f&&(b=f,this.l&&this.l(!!b,this.c))),this.k&&this.k(g.a.d,this.c),g=g.e}while(g!==c.a)}a&&this.i&&this.i(this.c)}if(this.r){e=this.b;for(a=e.a.b;a!==e.a;a=d)if(d=a.b,!a.c){b=a.a;c=b.e;g=void 0;do{g=c,c=g.e,g.d=null,null===g.b.d&&(g.c===g?F(g.a,null):(g.a.c=g.c,H(g,J(g))),f=g.b,f.c===f?F(f.a,null):(f.a.c=f.c,H(f,J(f))),fa(g))}while(g!==b);b=a.d;a=a.b;a.d=b;b.b=a}this.r(this.b);this.c=this.b=null;return}}this.b=this.c=null};function Z(a,b){if(a.d!==b)for(;a.d!==b;)if(a.d<b)switch(a.d){case Y:V(a,100151);a.u(null);break;case 1:V(a,100152),a.t()}else switch(a.d){case 2:V(a,100154);a.v();break;case 1:V(a,100153),a.w()}}function V(a,b){a.p&&a.p(b,a.c)}function ga(a,b){this.b=a||this;this.d=b||this;this.a=null;this.c=!1}function M(){this.h=this;this.i=this.d=this.a=this.e=this.c=this.b=null;this.f=0}function J(a){return a.b.e}function Ca(){this.c=new N;this.a=new ga;this.b=new M;this.d=new M;this.b.b=this.d;this.d.b=this.b}function N(a,b){this.e=a||this;this.f=b||this;this.d=this.c=null;this.g=[0,0,0];this.h=this.a=this.b=0}function Da(){this.c=[];this.d=null;this.a=0;this.e=!1;this.b=new Ha}function Ea(a){a.d=[];for(var b=0;b<a.a;b++)a.d[b]=b;a.d.sort(function(a){return function(b,e){return u(a[b],a[e])?1:-1}}(a.c));a.e=!0;Ia(a.b)}function xa(a,b){if(a.e){var c=a.b,d=++c.a;2*d>c.f&&(c.f*=2,c.c=Ja(c.c,c.f+1));var e;0===c.b?e=d:(e=c.b,c.b=c.c[c.b]);c.e[e]=b;c.c[e]=d;c.d[d]=e;c.h&&va(c,d);return e}c=a.a++;a.c[c]=b;return-(c+1)}function Fa(a){if(0===a.a)return Ka(a.b);var b=a.c[a.d[a.a-1]];if(0!==a.b.a&&u(Ga(a.b),b))return Ka(a.b);do{--a.a}while(0<a.a&&null===a.c[a.d[a.a-1]]);return b}function Ha(){this.d=Ja([0],33);this.e=[null,null];this.c=[0,0];this.a=0;this.f=32;this.b=0;this.h=!1;this.d[1]=1}function Ja(a,b){for(var c=Array(b),d=0;d<a.length;d++)c[d]=a[d];for(;d<b;d++)c[d]=0;return c}function Ia(a){for(var b=a.a;1<=b;--b)W(a,b);a.h=!0}function Ga(a){return a.e[a.d[1]]}function Ka(a){var b=a.d,c=a.e,d=a.c,e=b[1],f=c[e];0<a.a&&(b[1]=b[a.a],d[b[1]]=1,c[e]=null,d[e]=a.b,a.b=e,0<--a.a&&W(a,1));return f}function W(a,b){for(var c=a.d,d=a.e,e=a.c,f=b,g=c[f];;){var h=f<<1;h<a.a&&u(d[c[h+1]],d[c[h]])&&(h+=1);var k=c[h];if(h>a.a||u(d[g],d[k])){c[f]=g;e[g]=f;break}c[f]=k;e[k]=f;f=h}}function va(a,b){for(var c=a.d,d=a.e,e=a.c,f=b,g=c[f];;){var h=f>>1,k=c[h];if(0===h||u(d[k],d[g])){c[f]=g;e[g]=f;break}c[f]=k;e[k]=f;f=h}}function ma(){this.e=this.a=null;this.f=0;this.c=this.b=this.h=this.d=!1}function S(a){return a.e.c.b}function R(a){return a.e.a.b}this.libtess={GluTesselator:X,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}};X.prototype.gluDeleteTess=X.prototype.x;X.prototype.gluTessProperty=X.prototype.B;X.prototype.gluGetTessProperty=X.prototype.y;X.prototype.gluTessNormal=X.prototype.A;X.prototype.gluTessCallback=X.prototype.z;X.prototype.gluTessVertex=X.prototype.C;X.prototype.gluTessBeginPolygon=X.prototype.u;X.prototype.gluTessBeginContour=X.prototype.t;X.prototype.gluTessEndContour=X.prototype.v;X.prototype.gluTessEndPolygon=X.prototype.w;if(typeof module!=="undefined"){module.exports=this.libtess}},{}],260:[function(_dereq_,module,exports){"use strict";function GifWriter(buf,width,height,gopts){var p=0;var gopts=gopts===undefined?{}:gopts;var loop_count=gopts.loop===undefined?null:gopts.loop;var global_palette=gopts.palette===undefined?null:gopts.palette;if(width<=0||height<=0||width>65535||height>65535)throw new Error("Width/Height invalid.");function check_palette_and_num_colors(palette){var num_colors=palette.length;if(num_colors<2||num_colors>256||num_colors&num_colors-1){throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.")}return num_colors}buf[p++]=71;buf[p++]=73;buf[p++]=70;buf[p++]=56;buf[p++]=57;buf[p++]=97;var gp_num_colors_pow2=0;var background=0;if(global_palette!==null){var gp_num_colors=check_palette_and_num_colors(global_palette);while(gp_num_colors>>=1)++gp_num_colors_pow2;gp_num_colors=1<<gp_num_colors_pow2;--gp_num_colors_pow2;if(gopts.background!==undefined){background=gopts.background;if(background>=gp_num_colors)throw new Error("Background index out of range.");if(background===0)throw new Error("Background index explicitly passed as 0.")}}buf[p++]=width&255;buf[p++]=width>>8&255;buf[p++]=height&255;buf[p++]=height>>8&255;buf[p++]=(global_palette!==null?128:0)|gp_num_colors_pow2;buf[p++]=background;buf[p++]=0;if(global_palette!==null){for(var i=0,il=global_palette.length;i<il;++i){var rgb=global_palette[i];buf[p++]=rgb>>16&255;buf[p++]=rgb>>8&255;buf[p++]=rgb&255}}if(loop_count!==null){if(loop_count<0||loop_count>65535)throw new Error("Loop count invalid.");buf[p++]=33;buf[p++]=255;buf[p++]=11;buf[p++]=78;buf[p++]=69;buf[p++]=84;buf[p++]=83;buf[p++]=67;buf[p++]=65;buf[p++]=80;buf[p++]=69;buf[p++]=50;buf[p++]=46;buf[p++]=48;buf[p++]=3;buf[p++]=1;buf[p++]=loop_count&255;buf[p++]=loop_count>>8&255;buf[p++]=0}var ended=false;this.addFrame=function(x,y,w,h,indexed_pixels,opts){if(ended===true){--p;ended=false}opts=opts===undefined?{}:opts;if(x<0||y<0||x>65535||y>65535)throw new Error("x/y invalid.");if(w<=0||h<=0||w>65535||h>65535)throw new Error("Width/Height invalid.");if(indexed_pixels.length<w*h)throw new Error("Not enough pixels for the frame size.");var using_local_palette=true;var palette=opts.palette;if(palette===undefined||palette===null){using_local_palette=false;palette=global_palette}if(palette===undefined||palette===null)throw new Error("Must supply either a local or global palette.");var num_colors=check_palette_and_num_colors(palette);var min_code_size=0;while(num_colors>>=1)++min_code_size;num_colors=1<<min_code_size;var delay=opts.delay===undefined?0:opts.delay;var disposal=opts.disposal===undefined?0:opts.disposal;if(disposal<0||disposal>3)throw new Error("Disposal out of range.");var use_transparency=false;var transparent_index=0;if(opts.transparent!==undefined&&opts.transparent!==null){use_transparency=true;transparent_index=opts.transparent;if(transparent_index<0||transparent_index>=num_colors)throw new Error("Transparent color index.")}if(disposal!==0||use_transparency||delay!==0){buf[p++]=33;buf[p++]=249;buf[p++]=4;buf[p++]=disposal<<2|(use_transparency===true?1:0);buf[p++]=delay&255;buf[p++]=delay>>8&255;buf[p++]=transparent_index;buf[p++]=0}buf[p++]=44;buf[p++]=x&255;buf[p++]=x>>8&255;buf[p++]=y&255;buf[p++]=y>>8&255;buf[p++]=w&255;buf[p++]=w>>8&255;buf[p++]=h&255;buf[p++]=h>>8&255;buf[p++]=using_local_palette===true?128|min_code_size-1:0;if(using_local_palette===true){for(var i=0,il=palette.length;i<il;++i){var rgb=palette[i];buf[p++]=rgb>>16&255;buf[p++]=rgb>>8&255;buf[p++]=rgb&255}}p=GifWriterOutputLZWCodeStream(buf,p,min_code_size<2?2:min_code_size,indexed_pixels);return p};this.end=function(){if(ended===false){buf[p++]=59;ended=true}return p};this.getOutputBuffer=function(){return buf};this.setOutputBuffer=function(v){buf=v};this.getOutputBufferPosition=function(){return p};this.setOutputBufferPosition=function(v){p=v}}function GifWriterOutputLZWCodeStream(buf,p,min_code_size,index_stream){buf[p++]=min_code_size;var cur_subblock=p++;var clear_code=1<<min_code_size;var code_mask=clear_code-1;var eoi_code=clear_code+1;var next_code=eoi_code+1;var cur_code_size=min_code_size+1;var cur_shift=0;var cur=0;function emit_bytes_to_buffer(bit_block_size){while(cur_shift>=bit_block_size){buf[p++]=cur&255;cur>>=8;cur_shift-=8;if(p===cur_subblock+256){buf[cur_subblock]=255;cur_subblock=p++}}}function emit_code(c){cur|=c<<cur_shift;cur_shift+=cur_code_size;emit_bytes_to_buffer(8)}var ib_code=index_stream[0]&code_mask;var code_table={};emit_code(clear_code);for(var i=1,il=index_stream.length;i<il;++i){var k=index_stream[i]&code_mask;var cur_key=ib_code<<8|k;var cur_code=code_table[cur_key];if(cur_code===undefined){cur|=ib_code<<cur_shift;cur_shift+=cur_code_size;while(cur_shift>=8){buf[p++]=cur&255;cur>>=8;cur_shift-=8;if(p===cur_subblock+256){buf[cur_subblock]=255;cur_subblock=p++}}if(next_code===4096){emit_code(clear_code);next_code=eoi_code+1;cur_code_size=min_code_size+1;code_table={}}else{if(next_code>=1<<cur_code_size)++cur_code_size;code_table[cur_key]=next_code++}ib_code=k}else{ib_code=cur_code}}emit_code(ib_code);emit_code(eoi_code);emit_bytes_to_buffer(1);if(cur_subblock+1===p){buf[cur_subblock]=0}else{buf[cur_subblock]=p-cur_subblock-1;buf[p++]=0}return p}function GifReader(buf){var p=0;if(buf[p++]!==71||buf[p++]!==73||buf[p++]!==70||buf[p++]!==56||(buf[p++]+1&253)!==56||buf[p++]!==97){throw new Error("Invalid GIF 87a/89a header.")}var width=buf[p++]|buf[p++]<<8;var height=buf[p++]|buf[p++]<<8;var pf0=buf[p++];var global_palette_flag=pf0>>7;var num_global_colors_pow2=pf0&7;var num_global_colors=1<<num_global_colors_pow2+1;var background=buf[p++];buf[p++];var global_palette_offset=null;var global_palette_size=null;if(global_palette_flag){global_palette_offset=p;global_palette_size=num_global_colors;p+=num_global_colors*3}var no_eof=true;var frames=[];var delay=0;var transparent_index=null;var disposal=0;var loop_count=null;this.width=width;this.height=height;while(no_eof&&p<buf.length){switch(buf[p++]){case 33:switch(buf[p++]){case 255:if(buf[p]!==11||buf[p+1]==78&&buf[p+2]==69&&buf[p+3]==84&&buf[p+4]==83&&buf[p+5]==67&&buf[p+6]==65&&buf[p+7]==80&&buf[p+8]==69&&buf[p+9]==50&&buf[p+10]==46&&buf[p+11]==48&&buf[p+12]==3&&buf[p+13]==1&&buf[p+16]==0){p+=14;loop_count=buf[p++]|buf[p++]<<8;p++}else{p+=12;while(true){var block_size=buf[p++];if(!(block_size>=0))throw Error("Invalid block size");if(block_size===0)break;p+=block_size}}break;case 249:if(buf[p++]!==4||buf[p+4]!==0)throw new Error("Invalid graphics extension block.");var pf1=buf[p++];delay=buf[p++]|buf[p++]<<8;transparent_index=buf[p++];if((pf1&1)===0)transparent_index=null;disposal=pf1>>2&7;p++;break;case 254:while(true){var block_size=buf[p++];if(!(block_size>=0))throw Error("Invalid block size");if(block_size===0)break;p+=block_size}break;default:throw new Error("Unknown graphic control label: 0x"+buf[p-1].toString(16))}break;case 44:var x=buf[p++]|buf[p++]<<8;var y=buf[p++]|buf[p++]<<8;var w=buf[p++]|buf[p++]<<8;var h=buf[p++]|buf[p++]<<8;var pf2=buf[p++];var local_palette_flag=pf2>>7;var interlace_flag=pf2>>6&1;var num_local_colors_pow2=pf2&7;var num_local_colors=1<<num_local_colors_pow2+1;var palette_offset=global_palette_offset;var palette_size=global_palette_size;var has_local_palette=false;if(local_palette_flag){var has_local_palette=true;palette_offset=p;palette_size=num_local_colors;p+=num_local_colors*3}var data_offset=p;p++;while(true){var block_size=buf[p++];if(!(block_size>=0))throw Error("Invalid block size");if(block_size===0)break;p+=block_size}frames.push({x:x,y:y,width:w,height:h,has_local_palette:has_local_palette,palette_offset:palette_offset,palette_size:palette_size,data_offset:data_offset,data_length:p-data_offset,transparent_index:transparent_index,interlaced:!!interlace_flag,delay:delay,disposal:disposal});break;case 59:no_eof=false;break;default:throw new Error("Unknown gif block: 0x"+buf[p-1].toString(16));break}}this.numFrames=function(){return frames.length};this.loopCount=function(){return loop_count};this.frameInfo=function(frame_num){if(frame_num<0||frame_num>=frames.length)throw new Error("Frame index out of range.");return frames[frame_num]};this.decodeAndBlitFrameBGRA=function(frame_num,pixels){var frame=this.frameInfo(frame_num);var num_pixels=frame.width*frame.height;var index_stream=new Uint8Array(num_pixels);GifReaderLZWOutputIndexStream(buf,frame.data_offset,index_stream,num_pixels);var palette_offset=frame.palette_offset;var trans=frame.transparent_index;if(trans===null)trans=256;var framewidth=frame.width;var framestride=width-framewidth;var xleft=framewidth;var opbeg=(frame.y*width+frame.x)*4;var opend=((frame.y+frame.height)*width+frame.x)*4;var op=opbeg;var scanstride=framestride*4;if(frame.interlaced===true){scanstride+=width*4*7}var interlaceskip=8;for(var i=0,il=index_stream.length;i<il;++i){var index=index_stream[i];if(xleft===0){op+=scanstride;xleft=framewidth;if(op>=opend){scanstride=framestride*4+width*4*(interlaceskip-1);op=opbeg+(framewidth+framestride)*(interlaceskip<<1);interlaceskip>>=1}}if(index===trans){op+=4}else{var r=buf[palette_offset+index*3];var g=buf[palette_offset+index*3+1];var b=buf[palette_offset+index*3+2];pixels[op++]=b;pixels[op++]=g;pixels[op++]=r;pixels[op++]=255}--xleft}};this.decodeAndBlitFrameRGBA=function(frame_num,pixels){var frame=this.frameInfo(frame_num);var num_pixels=frame.width*frame.height;var index_stream=new Uint8Array(num_pixels);GifReaderLZWOutputIndexStream(buf,frame.data_offset,index_stream,num_pixels);var palette_offset=frame.palette_offset;var trans=frame.transparent_index;if(trans===null)trans=256;var framewidth=frame.width;var framestride=width-framewidth;var xleft=framewidth;var opbeg=(frame.y*width+frame.x)*4;var opend=((frame.y+frame.height)*width+frame.x)*4;var op=opbeg;var scanstride=framestride*4;if(frame.interlaced===true){scanstride+=width*4*7}var interlaceskip=8;for(var i=0,il=index_stream.length;i<il;++i){var index=index_stream[i];if(xleft===0){op+=scanstride;xleft=framewidth;if(op>=opend){scanstride=framestride*4+width*4*(interlaceskip-1);op=opbeg+(framewidth+framestride)*(interlaceskip<<1);interlaceskip>>=1}}if(index===trans){op+=4}else{var r=buf[palette_offset+index*3];var g=buf[palette_offset+index*3+1];var b=buf[palette_offset+index*3+2];pixels[op++]=r;pixels[op++]=g;pixels[op++]=b;pixels[op++]=255}--xleft}}}function GifReaderLZWOutputIndexStream(code_stream,p,output,output_length){var min_code_size=code_stream[p++];var clear_code=1<<min_code_size;var eoi_code=clear_code+1;var next_code=eoi_code+1;var cur_code_size=min_code_size+1;var code_mask=(1<<cur_code_size)-1;var cur_shift=0;var cur=0;var op=0;var subblock_size=code_stream[p++];var code_table=new Int32Array(4096);var prev_code=null;while(true){while(cur_shift<16){if(subblock_size===0)break;cur|=code_stream[p++]<<cur_shift;cur_shift+=8;if(subblock_size===1){subblock_size=code_stream[p++]}else{--subblock_size}}if(cur_shift<cur_code_size)break;var code=cur&code_mask;cur>>=cur_code_size;cur_shift-=cur_code_size;if(code===clear_code){next_code=eoi_code+1;cur_code_size=min_code_size+1;code_mask=(1<<cur_code_size)-1;prev_code=null;continue}else if(code===eoi_code){break}var chase_code=code<next_code?code:prev_code;var chase_length=0;var chase=chase_code;while(chase>clear_code){chase=code_table[chase]>>8;++chase_length}var k=chase;var op_end=op+chase_length+(chase_code!==code?1:0);if(op_end>output_length){console.log("Warning, gif stream longer than expected.");return}output[op++]=k;op+=chase_length;var b=op;if(chase_code!==code)output[op++]=k;chase=chase_code;while(chase_length--){chase=code_table[chase];output[--b]=chase&255;chase>>=8}if(prev_code!==null&&next_code<4096){code_table[next_code++]=prev_code<<8|k;if(next_code>=code_mask+1&&cur_code_size<12){++cur_code_size;code_mask=code_mask<<1|1}}prev_code=code}if(op!==output_length){console.log("Warning, gif stream shorter than expected.")}return output}try{exports.GifWriter=GifWriter;exports.GifReader=GifReader}catch(e){}},{}],261:[function(_dereq_,module,exports){(function(Buffer){(function(global,factory){typeof exports==="object"&&typeof module!=="undefined"?factory(exports):typeof define==="function"&&define.amd?define(["exports"],factory):factory(global.opentype={})})(this,function(exports){"use strict";if(!String.prototype.codePointAt){(function(){var defineProperty=function(){try{var object={};var $defineProperty=Object.defineProperty;var result=$defineProperty(object,object,object)&&$defineProperty}catch(error){}return result}();var codePointAt=function(position){if(this==null){throw TypeError()}var string=String(this);var size=string.length;var index=position?Number(position):0;if(index!=index){index=0}if(index<0||index>=size){return undefined}var first=string.charCodeAt(index);var second;if(first>=55296&&first<=56319&&size>index+1){second=string.charCodeAt(index+1);if(second>=56320&&second<=57343){return(first-55296)*1024+second-56320+65536}}return first};if(defineProperty){defineProperty(String.prototype,"codePointAt",{value:codePointAt,configurable:true,writable:true})}else{String.prototype.codePointAt=codePointAt}})()}var TINF_OK=0;var TINF_DATA_ERROR=-3;function Tree(){this.table=new Uint16Array(16);this.trans=new Uint16Array(288)}function Data(source,dest){this.source=source;this.sourceIndex=0;this.tag=0;this.bitcount=0;this.dest=dest;this.destLen=0;this.ltree=new Tree;this.dtree=new Tree}var sltree=new Tree;var sdtree=new Tree;var length_bits=new Uint8Array(30);var length_base=new Uint16Array(30);var dist_bits=new Uint8Array(30);var dist_base=new Uint16Array(30);var clcidx=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);var code_tree=new Tree;var lengths=new Uint8Array(288+32);function tinf_build_bits_base(bits,base,delta,first){var i,sum;for(i=0;i<delta;++i){bits[i]=0}for(i=0;i<30-delta;++i){bits[i+delta]=i/delta|0}for(sum=first,i=0;i<30;++i){base[i]=sum;sum+=1<<bits[i]}}function tinf_build_fixed_trees(lt,dt){var i;for(i=0;i<7;++i){lt.table[i]=0}lt.table[7]=24;lt.table[8]=152;lt.table[9]=112;for(i=0;i<24;++i){lt.trans[i]=256+i}for(i=0;i<144;++i){lt.trans[24+i]=i}for(i=0;i<8;++i){lt.trans[24+144+i]=280+i}for(i=0;i<112;++i){lt.trans[24+144+8+i]=144+i}for(i=0;i<5;++i){dt.table[i]=0}dt.table[5]=32;for(i=0;i<32;++i){dt.trans[i]=i}}var offs=new Uint16Array(16);function tinf_build_tree(t,lengths,off,num){var i,sum;for(i=0;i<16;++i){t.table[i]=0}for(i=0;i<num;++i){t.table[lengths[off+i]]++}t.table[0]=0;for(sum=0,i=0;i<16;++i){offs[i]=sum;sum+=t.table[i]}for(i=0;i<num;++i){if(lengths[off+i]){t.trans[offs[lengths[off+i]]++]=i}}}function tinf_getbit(d){if(!d.bitcount--){d.tag=d.source[d.sourceIndex++];d.bitcount=7}var bit=d.tag&1;d.tag>>>=1;return bit}function tinf_read_bits(d,num,base){if(!num){return base}while(d.bitcount<24){d.tag|=d.source[d.sourceIndex++]<<d.bitcount;d.bitcount+=8}var val=d.tag&65535>>>16-num;d.tag>>>=num;d.bitcount-=num;return val+base}function tinf_decode_symbol(d,t){while(d.bitcount<24){d.tag|=d.source[d.sourceIndex++]<<d.bitcount;d.bitcount+=8}var sum=0,cur=0,len=0;var tag=d.tag;do{cur=2*cur+(tag&1);tag>>>=1;++len;sum+=t.table[len];cur-=t.table[len]}while(cur>=0);d.tag=tag;d.bitcount-=len;return t.trans[sum+cur]}function tinf_decode_trees(d,lt,dt){var hlit,hdist,hclen;var i,num,length;hlit=tinf_read_bits(d,5,257);hdist=tinf_read_bits(d,5,1);hclen=tinf_read_bits(d,4,4);for(i=0;i<19;++i){lengths[i]=0}for(i=0;i<hclen;++i){var clen=tinf_read_bits(d,3,0);lengths[clcidx[i]]=clen}tinf_build_tree(code_tree,lengths,0,19);for(num=0;num<hlit+hdist;){var sym=tinf_decode_symbol(d,code_tree);switch(sym){case 16:var prev=lengths[num-1];for(length=tinf_read_bits(d,2,3);length;--length){lengths[num++]=prev}break;case 17:for(length=tinf_read_bits(d,3,3);length;--length){lengths[num++]=0}break;case 18:for(length=tinf_read_bits(d,7,11);length;--length){lengths[num++]=0}break;default:lengths[num++]=sym;break}}tinf_build_tree(lt,lengths,0,hlit);tinf_build_tree(dt,lengths,hlit,hdist)}function tinf_inflate_block_data(d,lt,dt){while(1){var sym=tinf_decode_symbol(d,lt);if(sym===256){return TINF_OK}if(sym<256){d.dest[d.destLen++]=sym}else{var length,dist,offs;var i;sym-=257;length=tinf_read_bits(d,length_bits[sym],length_base[sym]);dist=tinf_decode_symbol(d,dt);offs=d.destLen-tinf_read_bits(d,dist_bits[dist],dist_base[dist]);for(i=offs;i<offs+length;++i){d.dest[d.destLen++]=d.dest[i]}}}}function tinf_inflate_uncompressed_block(d){var length,invlength;var i;while(d.bitcount>8){d.sourceIndex--;d.bitcount-=8}length=d.source[d.sourceIndex+1];length=256*length+d.source[d.sourceIndex];invlength=d.source[d.sourceIndex+3];invlength=256*invlength+d.source[d.sourceIndex+2];if(length!==(~invlength&65535)){return TINF_DATA_ERROR}d.sourceIndex+=4;for(i=length;i;--i){d.dest[d.destLen++]=d.source[d.sourceIndex++]}d.bitcount=0;return TINF_OK}function tinf_uncompress(source,dest){var d=new Data(source,dest);var bfinal,btype,res;do{bfinal=tinf_getbit(d);btype=tinf_read_bits(d,2,0);switch(btype){case 0:res=tinf_inflate_uncompressed_block(d);break;case 1:res=tinf_inflate_block_data(d,sltree,sdtree);break;case 2:tinf_decode_trees(d,d.ltree,d.dtree);res=tinf_inflate_block_data(d,d.ltree,d.dtree);break;default:res=TINF_DATA_ERROR}if(res!==TINF_OK){throw new Error("Data error")}}while(!bfinal);if(d.destLen<d.dest.length){if(typeof d.dest.slice==="function"){return d.dest.slice(0,d.destLen)}else{return d.dest.subarray(0,d.destLen)}}return d.dest}tinf_build_fixed_trees(sltree,sdtree);tinf_build_bits_base(length_bits,length_base,4,3);tinf_build_bits_base(dist_bits,dist_base,2,1);length_bits[28]=0;length_base[28]=258;var tinyInflate=tinf_uncompress;function derive(v0,v1,v2,v3,t){return Math.pow(1-t,3)*v0+3*Math.pow(1-t,2)*t*v1+3*(1-t)*Math.pow(t,2)*v2+Math.pow(t,3)*v3}function BoundingBox(){this.x1=Number.NaN;this.y1=Number.NaN;this.x2=Number.NaN;this.y2=Number.NaN}BoundingBox.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};BoundingBox.prototype.addPoint=function(x,y){if(typeof x==="number"){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=x;this.x2=x}if(x<this.x1){this.x1=x}if(x>this.x2){this.x2=x}}if(typeof y==="number"){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=y;this.y2=y}if(y<this.y1){this.y1=y}if(y>this.y2){this.y2=y}}};BoundingBox.prototype.addX=function(x){this.addPoint(x,null)};BoundingBox.prototype.addY=function(y){this.addPoint(null,y)};BoundingBox.prototype.addBezier=function(x0,y0,x1,y1,x2,y2,x,y){var this$1=this;var p0=[x0,y0];var p1=[x1,y1];var p2=[x2,y2];var p3=[x,y];this.addPoint(x0,y0);this.addPoint(x,y);for(var i=0;i<=1;i++){var b=6*p0[i]-12*p1[i]+6*p2[i];var a=-3*p0[i]+9*p1[i]-9*p2[i]+3*p3[i];var c=3*p1[i]-3*p0[i];if(a===0){if(b===0){continue}var t=-c/b;if(0<t&&t<1){if(i===0){this$1.addX(derive(p0[i],p1[i],p2[i],p3[i],t))}if(i===1){this$1.addY(derive(p0[i],p1[i],p2[i],p3[i],t))}}continue}var b2ac=Math.pow(b,2)-4*c*a;if(b2ac<0){continue}var t1=(-b+Math.sqrt(b2ac))/(2*a);if(0<t1&&t1<1){if(i===0){this$1.addX(derive(p0[i],p1[i],p2[i],p3[i],t1))}if(i===1){this$1.addY(derive(p0[i],p1[i],p2[i],p3[i],t1))}}var t2=(-b-Math.sqrt(b2ac))/(2*a);if(0<t2&&t2<1){if(i===0){this$1.addX(derive(p0[i],p1[i],p2[i],p3[i],t2))}if(i===1){this$1.addY(derive(p0[i],p1[i],p2[i],p3[i],t2))}}}};BoundingBox.prototype.addQuad=function(x0,y0,x1,y1,x,y){var cp1x=x0+2/3*(x1-x0);var cp1y=y0+2/3*(y1-y0);var cp2x=cp1x+1/3*(x-x0);var cp2y=cp1y+1/3*(y-y0);this.addBezier(x0,y0,cp1x,cp1y,cp2x,cp2y,x,y)};function Path(){this.commands=[];this.fill="black";this.stroke=null;this.strokeWidth=1}Path.prototype.moveTo=function(x,y){this.commands.push({type:"M",x:x,y:y})};Path.prototype.lineTo=function(x,y){this.commands.push({type:"L",x:x,y:y})};Path.prototype.curveTo=Path.prototype.bezierCurveTo=function(x1,y1,x2,y2,x,y){this.commands.push({type:"C",x1:x1,y1:y1,x2:x2,y2:y2,x:x,y:y})};Path.prototype.quadTo=Path.prototype.quadraticCurveTo=function(x1,y1,x,y){this.commands.push({type:"Q",x1:x1,y1:y1,x:x,y:y})};Path.prototype.close=Path.prototype.closePath=function(){this.commands.push({type:"Z"})};Path.prototype.extend=function(pathOrCommands){if(pathOrCommands.commands){pathOrCommands=pathOrCommands.commands}else if(pathOrCommands instanceof BoundingBox){var box=pathOrCommands;this.moveTo(box.x1,box.y1);this.lineTo(box.x2,box.y1);this.lineTo(box.x2,box.y2);this.lineTo(box.x1,box.y2);this.close();return}Array.prototype.push.apply(this.commands,pathOrCommands)};Path.prototype.getBoundingBox=function(){var this$1=this;var box=new BoundingBox;var startX=0;var startY=0;var prevX=0;var prevY=0;for(var i=0;i<this.commands.length;i++){var cmd=this$1.commands[i];switch(cmd.type){case"M":box.addPoint(cmd.x,cmd.y);startX=prevX=cmd.x;startY=prevY=cmd.y;break;case"L":box.addPoint(cmd.x,cmd.y);prevX=cmd.x;prevY=cmd.y;break;case"Q":box.addQuad(prevX,prevY,cmd.x1,cmd.y1,cmd.x,cmd.y);prevX=cmd.x;prevY=cmd.y;break;case"C":box.addBezier(prevX,prevY,cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y);prevX=cmd.x;prevY=cmd.y;break;case"Z":prevX=startX;prevY=startY;break;default:throw new Error("Unexpected path command "+cmd.type)}}if(box.isEmpty()){box.addPoint(0,0)}return box};Path.prototype.draw=function(ctx){var this$1=this;ctx.beginPath();for(var i=0;i<this.commands.length;i+=1){var cmd=this$1.commands[i];if(cmd.type==="M"){ctx.moveTo(cmd.x,cmd.y)}else if(cmd.type==="L"){ctx.lineTo(cmd.x,cmd.y)}else if(cmd.type==="C"){ctx.bezierCurveTo(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y)}else if(cmd.type==="Q"){ctx.quadraticCurveTo(cmd.x1,cmd.y1,cmd.x,cmd.y)}else if(cmd.type==="Z"){ctx.closePath()}}if(this.fill){ctx.fillStyle=this.fill;ctx.fill()}if(this.stroke){ctx.strokeStyle=this.stroke;ctx.lineWidth=this.strokeWidth;ctx.stroke()}};Path.prototype.toPathData=function(decimalPlaces){var this$1=this;decimalPlaces=decimalPlaces!==undefined?decimalPlaces:2;function floatToString(v){if(Math.round(v)===v){return""+Math.round(v)}else{return v.toFixed(decimalPlaces)}}function packValues(){var arguments$1=arguments;var s="";for(var i=0;i<arguments.length;i+=1){var v=arguments$1[i];if(v>=0&&i>0){s+=" "}s+=floatToString(v)}return s}var d="";for(var i=0;i<this.commands.length;i+=1){var cmd=this$1.commands[i];if(cmd.type==="M"){d+="M"+packValues(cmd.x,cmd.y)}else if(cmd.type==="L"){d+="L"+packValues(cmd.x,cmd.y)}else if(cmd.type==="C"){d+="C"+packValues(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y)}else if(cmd.type==="Q"){d+="Q"+packValues(cmd.x1,cmd.y1,cmd.x,cmd.y)}else if(cmd.type==="Z"){d+="Z"}}return d};Path.prototype.toSVG=function(decimalPlaces){var svg='<path d="';svg+=this.toPathData(decimalPlaces);svg+='"';if(this.fill&&this.fill!=="black"){if(this.fill===null){svg+=' fill="none"'}else{svg+=' fill="'+this.fill+'"'}}if(this.stroke){svg+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'}svg+="/>";return svg};Path.prototype.toDOMElement=function(decimalPlaces){var temporaryPath=this.toPathData(decimalPlaces);var newPath=document.createElementNS("http://www.w3.org/2000/svg","path");newPath.setAttribute("d",temporaryPath);return newPath};function fail(message){throw new Error(message)}function argument(predicate,message){if(!predicate){fail(message)}}var check={fail:fail,argument:argument,assert:argument};var LIMIT16=32768;var LIMIT32=2147483648;var decode={};var encode={};var sizeOf={};function constant(v){return function(){return v}}encode.BYTE=function(v){check.argument(v>=0&&v<=255,"Byte value should be between 0 and 255.");return[v]};sizeOf.BYTE=constant(1);encode.CHAR=function(v){return[v.charCodeAt(0)]};sizeOf.CHAR=constant(1);encode.CHARARRAY=function(v){var b=[];for(var i=0;i<v.length;i+=1){b[i]=v.charCodeAt(i)}return b};sizeOf.CHARARRAY=function(v){return v.length};encode.USHORT=function(v){return[v>>8&255,v&255]};sizeOf.USHORT=constant(2);encode.SHORT=function(v){if(v>=LIMIT16){v=-(2*LIMIT16-v)}return[v>>8&255,v&255]};sizeOf.SHORT=constant(2);encode.UINT24=function(v){return[v>>16&255,v>>8&255,v&255]};sizeOf.UINT24=constant(3);encode.ULONG=function(v){return[v>>24&255,v>>16&255,v>>8&255,v&255]};sizeOf.ULONG=constant(4);encode.LONG=function(v){if(v>=LIMIT32){v=-(2*LIMIT32-v)}return[v>>24&255,v>>16&255,v>>8&255,v&255]};sizeOf.LONG=constant(4);encode.FIXED=encode.ULONG;sizeOf.FIXED=sizeOf.ULONG;encode.FWORD=encode.SHORT;sizeOf.FWORD=sizeOf.SHORT;encode.UFWORD=encode.USHORT;sizeOf.UFWORD=sizeOf.USHORT;encode.LONGDATETIME=function(v){return[0,0,0,0,v>>24&255,v>>16&255,v>>8&255,v&255]};sizeOf.LONGDATETIME=constant(8);encode.TAG=function(v){check.argument(v.length===4,"Tag should be exactly 4 ASCII characters.");return[v.charCodeAt(0),v.charCodeAt(1),v.charCodeAt(2),v.charCodeAt(3)]};sizeOf.TAG=constant(4);encode.Card8=encode.BYTE;sizeOf.Card8=sizeOf.BYTE;encode.Card16=encode.USHORT;sizeOf.Card16=sizeOf.USHORT;encode.OffSize=encode.BYTE;sizeOf.OffSize=sizeOf.BYTE;encode.SID=encode.USHORT;sizeOf.SID=sizeOf.USHORT;encode.NUMBER=function(v){if(v>=-107&&v<=107){return[v+139]}else if(v>=108&&v<=1131){v=v-108;return[(v>>8)+247,v&255]}else if(v>=-1131&&v<=-108){v=-v-108;return[(v>>8)+251,v&255]}else if(v>=-32768&&v<=32767){return encode.NUMBER16(v)}else{return encode.NUMBER32(v)}};sizeOf.NUMBER=function(v){return encode.NUMBER(v).length};encode.NUMBER16=function(v){return[28,v>>8&255,v&255]};sizeOf.NUMBER16=constant(3);encode.NUMBER32=function(v){return[29,v>>24&255,v>>16&255,v>>8&255,v&255]};sizeOf.NUMBER32=constant(5);encode.REAL=function(v){var value=v.toString();var m=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(value);if(m){var epsilon=parseFloat("1e"+((m[2]?+m[2]:0)+m[1].length));value=(Math.round(v*epsilon)/epsilon).toString()}var nibbles="";for(var i=0,ii=value.length;i<ii;i+=1){var c=value[i];if(c==="e"){nibbles+=value[++i]==="-"?"c":"b"}else if(c==="."){nibbles+="a"}else if(c==="-"){nibbles+="e"}else{nibbles+=c}}nibbles+=nibbles.length&1?"f":"ff";var out=[30];for(var i$1=0,ii$1=nibbles.length;i$1<ii$1;i$1+=2){out.push(parseInt(nibbles.substr(i$1,2),16))}return out};sizeOf.REAL=function(v){return encode.REAL(v).length};encode.NAME=encode.CHARARRAY;sizeOf.NAME=sizeOf.CHARARRAY;encode.STRING=encode.CHARARRAY;sizeOf.STRING=sizeOf.CHARARRAY;decode.UTF8=function(data,offset,numBytes){var codePoints=[];var numChars=numBytes;for(var j=0;j<numChars;j++,offset+=1){codePoints[j]=data.getUint8(offset)}return String.fromCharCode.apply(null,codePoints)};decode.UTF16=function(data,offset,numBytes){var codePoints=[];var numChars=numBytes/2;for(var j=0;j<numChars;j++,offset+=2){codePoints[j]=data.getUint16(offset)}return String.fromCharCode.apply(null,codePoints)};encode.UTF16=function(v){var b=[];for(var i=0;i<v.length;i+=1){var codepoint=v.charCodeAt(i);b[b.length]=codepoint>>8&255;b[b.length]=codepoint&255}return b};sizeOf.UTF16=function(v){return v.length*2};var eightBitMacEncodings={"x-mac-croatian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®Š™´¨≠ŽØ∞±≤≥∆µ∂∑∏š∫ªºΩžø"+"¿¡¬√ƒ≈Ć«Č… ÀÃÕŒœĐ—“”‘’÷◊©⁄€‹›Æ»–·‚„‰ÂćÁčÈÍÎÏÌÓÔđÒÚÛÙıˆ˜¯πË˚¸Êæˇ","x-mac-cyrillic":"АБВГДЕЖЗИЙКЛМНОПРСТУФХЦЧШЩЪЫЬЭЮЯ†°Ґ£§•¶І®©™Ђђ≠Ѓѓ∞±≤≥іµґЈЄєЇїЉљЊњ"+"јЅ¬√ƒ≈∆«»… ЋћЌќѕ–—“”‘’÷„ЎўЏџ№Ёёяабвгдежзийклмнопрстуфхцчшщъыьэю","x-mac-gaelic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØḂ±≤≥ḃĊċḊḋḞḟĠġṀæø"+"ṁṖṗɼƒſṠ«»… ÀÃÕŒœ–—“”‘’ṡẛÿŸṪ€‹›Ŷŷṫ·Ỳỳ⁊ÂÊÁËÈÍÎÏÌÓÔ♣ÒÚÛÙıÝýŴŵẄẅẀẁẂẃ","x-mac-greek":"Ä¹²É³ÖÜ΅àâä΄¨çéèêë£™îï•½‰ôö¦€ùûü†ΓΔΘΛΞΠß®©ΣΪ§≠°·Α±≤≥¥ΒΕΖΗΙΚΜΦΫΨΩ"+"άΝ¬ΟΡ≈Τ«»… ΥΧΆΈœ–―“”‘’÷ΉΊΌΎέήίόΏύαβψδεφγηιξκλμνοπώρστθωςχυζϊϋΐΰ­","x-mac-icelandic":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûüÝ°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€ÐðÞþý·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-inuit":"ᐃᐄᐅᐆᐊᐋᐱᐲᐳᐴᐸᐹᑉᑎᑏᑐᑑᑕᑖᑦᑭᑮᑯᑰᑲᑳᒃᒋᒌᒍᒎᒐᒑ°ᒡᒥᒦ•¶ᒧ®©™ᒨᒪᒫᒻᓂᓃᓄᓅᓇᓈᓐᓯᓰᓱᓲᓴᓵᔅᓕᓖᓗ"+"ᓘᓚᓛᓪᔨᔩᔪᔫᔭ… ᔮᔾᕕᕖᕗ–—“”‘’ᕘᕙᕚᕝᕆᕇᕈᕉᕋᕌᕐᕿᖀᖁᖂᖃᖄᖅᖏᖐᖑᖒᖓᖔᖕᙱᙲᙳᙴᙵᙶᖖᖠᖡᖢᖣᖤᖥᖦᕼŁł","x-mac-ce":"ÄĀāÉĄÖÜáąČäčĆćéŹźĎíďĒēĖóėôöõúĚěü†°Ę£§•¶ß®©™ę¨≠ģĮįĪ≤≥īĶ∂∑łĻļĽľĹĺŅ"+"ņŃ¬√ńŇ∆«»… ňŐÕőŌ–—“”‘’÷◊ōŔŕŘ‹›řŖŗŠ‚„šŚśÁŤťÍŽžŪÓÔūŮÚůŰűŲųÝýķŻŁżĢˇ",macintosh:"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›ﬁﬂ‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-romanian":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ĂȘ∞±≤≥¥µ∂∑∏π∫ªºΩăș"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸ⁄€‹›Țț‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙıˆ˜¯˘˙˚¸˝˛ˇ","x-mac-turkish":"ÄÅÇÉÑÖÜáàâäãåçéèêëíìîïñóòôöõúùûü†°¢£§•¶ß®©™´¨≠ÆØ∞±≤≥¥µ∂∑∏π∫ªºΩæø"+"¿¡¬√ƒ≈∆«»… ÀÃÕŒœ–—“”‘’÷◊ÿŸĞğİıŞş‡·‚„‰ÂÊÁËÈÍÎÏÌÓÔÒÚÛÙˆ˜¯˘˙˚¸˝˛ˇ"};decode.MACSTRING=function(dataView,offset,dataLength,encoding){var table=eightBitMacEncodings[encoding];if(table===undefined){return undefined}var result="";for(var i=0;i<dataLength;i++){var c=dataView.getUint8(offset+i);if(c<=127){result+=String.fromCharCode(c)}else{result+=table[c&127]}}return result};var macEncodingTableCache=typeof WeakMap==="function"&&new WeakMap;var macEncodingCacheKeys;var getMacEncodingTable=function(encoding){if(!macEncodingCacheKeys){macEncodingCacheKeys={};for(var e in eightBitMacEncodings){macEncodingCacheKeys[e]=new String(e)}}var cacheKey=macEncodingCacheKeys[encoding];if(cacheKey===undefined){return undefined}if(macEncodingTableCache){var cachedTable=macEncodingTableCache.get(cacheKey);if(cachedTable!==undefined){return cachedTable}}var decodingTable=eightBitMacEncodings[encoding];if(decodingTable===undefined){return undefined}var encodingTable={};for(var i=0;i<decodingTable.length;i++){encodingTable[decodingTable.charCodeAt(i)]=i+128}if(macEncodingTableCache){macEncodingTableCache.set(cacheKey,encodingTable)}return encodingTable};encode.MACSTRING=function(str,encoding){var table=getMacEncodingTable(encoding);if(table===undefined){return undefined}var result=[];for(var i=0;i<str.length;i++){var c=str.charCodeAt(i);if(c>=128){c=table[c];if(c===undefined){return undefined}}result[i]=c}return result};sizeOf.MACSTRING=function(str,encoding){var b=encode.MACSTRING(str,encoding);if(b!==undefined){return b.length}else{return 0}};function isByteEncodable(value){return value>=-128&&value<=127}function encodeVarDeltaRunAsZeroes(deltas,pos,result){var runLength=0;var numDeltas=deltas.length;while(pos<numDeltas&&runLength<64&&deltas[pos]===0){++pos;++runLength}result.push(128|runLength-1);return pos}function encodeVarDeltaRunAsBytes(deltas,offset,result){var runLength=0;var numDeltas=deltas.length;var pos=offset;while(pos<numDeltas&&runLength<64){var value=deltas[pos];if(!isByteEncodable(value)){break}if(value===0&&pos+1<numDeltas&&deltas[pos+1]===0){break}++pos;++runLength}result.push(runLength-1);for(var i=offset;i<pos;++i){result.push(deltas[i]+256&255)}return pos}function encodeVarDeltaRunAsWords(deltas,offset,result){var runLength=0;var numDeltas=deltas.length;var pos=offset;while(pos<numDeltas&&runLength<64){var value=deltas[pos];if(value===0){break}if(isByteEncodable(value)&&pos+1<numDeltas&&isByteEncodable(deltas[pos+1])){break}++pos;++runLength}result.push(64|runLength-1);for(var i=offset;i<pos;++i){var val=deltas[i];result.push(val+65536>>8&255,val+256&255)}return pos}encode.VARDELTAS=function(deltas){var pos=0;var result=[];while(pos<deltas.length){var value=deltas[pos];if(value===0){pos=encodeVarDeltaRunAsZeroes(deltas,pos,result)}else if(value>=-128&&value<=127){pos=encodeVarDeltaRunAsBytes(deltas,pos,result)}else{pos=encodeVarDeltaRunAsWords(deltas,pos,result)}}return result};encode.INDEX=function(l){var offset=1;var offsets=[offset];var data=[];for(var i=0;i<l.length;i+=1){var v=encode.OBJECT(l[i]);Array.prototype.push.apply(data,v);offset+=v.length;offsets.push(offset)}if(data.length===0){return[0,0]}var encodedOffsets=[];var offSize=1+Math.floor(Math.log(offset)/Math.log(2))/8|0;var offsetEncoder=[undefined,encode.BYTE,encode.USHORT,encode.UINT24,encode.ULONG][offSize];for(var i$1=0;i$1<offsets.length;i$1+=1){var encodedOffset=offsetEncoder(offsets[i$1]);Array.prototype.push.apply(encodedOffsets,encodedOffset)}return Array.prototype.concat(encode.Card16(l.length),encode.OffSize(offSize),encodedOffsets,data)};sizeOf.INDEX=function(v){return encode.INDEX(v).length};encode.DICT=function(m){var d=[];var keys=Object.keys(m);var length=keys.length;for(var i=0;i<length;i+=1){var k=parseInt(keys[i],0);var v=m[k];d=d.concat(encode.OPERAND(v.value,v.type));d=d.concat(encode.OPERATOR(k))}return d};sizeOf.DICT=function(m){return encode.DICT(m).length};encode.OPERATOR=function(v){if(v<1200){return[v]}else{return[12,v-1200]}};encode.OPERAND=function(v,type){var d=[];if(Array.isArray(type)){for(var i=0;i<type.length;i+=1){check.argument(v.length===type.length,"Not enough arguments given for type"+type);d=d.concat(encode.OPERAND(v[i],type[i]))}}else{if(type==="SID"){d=d.concat(encode.NUMBER(v))}else if(type==="offset"){d=d.concat(encode.NUMBER32(v))}else if(type==="number"){d=d.concat(encode.NUMBER(v))}else if(type==="real"){d=d.concat(encode.REAL(v))}else{throw new Error("Unknown operand type "+type)}}return d};encode.OP=encode.BYTE;sizeOf.OP=sizeOf.BYTE;var wmm=typeof WeakMap==="function"&&new WeakMap;encode.CHARSTRING=function(ops){if(wmm){var cachedValue=wmm.get(ops);if(cachedValue!==undefined){return cachedValue}}var d=[];var length=ops.length;for(var i=0;i<length;i+=1){var op=ops[i];d=d.concat(encode[op.type](op.value))}if(wmm){wmm.set(ops,d)}return d};sizeOf.CHARSTRING=function(ops){return encode.CHARSTRING(ops).length};encode.OBJECT=function(v){var encodingFunction=encode[v.type];check.argument(encodingFunction!==undefined,"No encoding function for type "+v.type);return encodingFunction(v.value)};sizeOf.OBJECT=function(v){var sizeOfFunction=sizeOf[v.type];check.argument(sizeOfFunction!==undefined,"No sizeOf function for type "+v.type);return sizeOfFunction(v.value)};encode.TABLE=function(table){var d=[];var length=table.fields.length;var subtables=[];var subtableOffsets=[];for(var i=0;i<length;i+=1){var field=table.fields[i];var encodingFunction=encode[field.type];check.argument(encodingFunction!==undefined,"No encoding function for field type "+field.type+" ("+field.name+")");var value=table[field.name];if(value===undefined){value=field.value}var bytes=encodingFunction(value);if(field.type==="TABLE"){subtableOffsets.push(d.length);d=d.concat([0,0]);subtables.push(bytes)}else{d=d.concat(bytes)}}for(var i$1=0;i$1<subtables.length;i$1+=1){var o=subtableOffsets[i$1];var offset=d.length;check.argument(offset<65536,"Table "+table.tableName+" too big.");d[o]=offset>>8;d[o+1]=offset&255;d=d.concat(subtables[i$1])}return d};sizeOf.TABLE=function(table){var numBytes=0;var length=table.fields.length;for(var i=0;i<length;i+=1){var field=table.fields[i];var sizeOfFunction=sizeOf[field.type];check.argument(sizeOfFunction!==undefined,"No sizeOf function for field type "+field.type+" ("+field.name+")");var value=table[field.name];if(value===undefined){value=field.value}numBytes+=sizeOfFunction(value);if(field.type==="TABLE"){numBytes+=2}}return numBytes};encode.RECORD=encode.TABLE;sizeOf.RECORD=sizeOf.TABLE;encode.LITERAL=function(v){return v};sizeOf.LITERAL=function(v){return v.length};function Table(tableName,fields,options){var this$1=this;for(var i=0;i<fields.length;i+=1){var field=fields[i];this$1[field.name]=field.value}this.tableName=tableName;this.fields=fields;if(options){var optionKeys=Object.keys(options);for(var i$1=0;i$1<optionKeys.length;i$1+=1){var k=optionKeys[i$1];var v=options[k];if(this$1[k]!==undefined){this$1[k]=v}}}}Table.prototype.encode=function(){return encode.TABLE(this)};Table.prototype.sizeOf=function(){return sizeOf.TABLE(this)};function ushortList(itemName,list,count){if(count===undefined){count=list.length}var fields=new Array(list.length+1);fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(var i=0;i<list.length;i++){fields[i+1]={name:itemName+i,type:"USHORT",value:list[i]}}return fields}function tableList(itemName,records,itemCallback){var count=records.length;var fields=new Array(count+1);fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(var i=0;i<count;i++){fields[i+1]={name:itemName+i,type:"TABLE",value:itemCallback(records[i],i)}}return fields}function recordList(itemName,records,itemCallback){var count=records.length;var fields=[];fields[0]={name:itemName+"Count",type:"USHORT",value:count};for(var i=0;i<count;i++){fields=fields.concat(itemCallback(records[i],i))}return fields}function Coverage(coverageTable){if(coverageTable.format===1){Table.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(ushortList("glyph",coverageTable.glyphs)))}else{check.assert(false,"Can't create coverage table format 2 yet.")}}Coverage.prototype=Object.create(Table.prototype);Coverage.prototype.constructor=Coverage;function ScriptList(scriptListTable){Table.call(this,"scriptListTable",recordList("scriptRecord",scriptListTable,function(scriptRecord,i){var script=scriptRecord.script;var defaultLangSys=script.defaultLangSys;check.assert(!!defaultLangSys,"Unable to write GSUB: script "+scriptRecord.tag+" has no default language system.");return[{name:"scriptTag"+i,type:"TAG",value:scriptRecord.tag},{name:"script"+i,type:"TABLE",value:new Table("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Table("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:defaultLangSys.reqFeatureIndex}].concat(ushortList("featureIndex",defaultLangSys.featureIndexes)))}].concat(recordList("langSys",script.langSysRecords,function(langSysRecord,i){var langSys=langSysRecord.langSys;return[{name:"langSysTag"+i,type:"TAG",value:langSysRecord.tag},{name:"langSys"+i,type:"TABLE",value:new Table("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:langSys.reqFeatureIndex}].concat(ushortList("featureIndex",langSys.featureIndexes)))}]})))}]}))}ScriptList.prototype=Object.create(Table.prototype);ScriptList.prototype.constructor=ScriptList;function FeatureList(featureListTable){Table.call(this,"featureListTable",recordList("featureRecord",featureListTable,function(featureRecord,i){var feature=featureRecord.feature;return[{name:"featureTag"+i,type:"TAG",value:featureRecord.tag},{name:"feature"+i,type:"TABLE",value:new Table("featureTable",[{name:"featureParams",type:"USHORT",value:feature.featureParams}].concat(ushortList("lookupListIndex",feature.lookupListIndexes)))}]}))}FeatureList.prototype=Object.create(Table.prototype);FeatureList.prototype.constructor=FeatureList;function LookupList(lookupListTable,subtableMakers){Table.call(this,"lookupListTable",tableList("lookup",lookupListTable,function(lookupTable){var subtableCallback=subtableMakers[lookupTable.lookupType];check.assert(!!subtableCallback,"Unable to write GSUB lookup type "+lookupTable.lookupType+" tables.");return new Table("lookupTable",[{name:"lookupType",type:"USHORT",value:lookupTable.lookupType},{name:"lookupFlag",type:"USHORT",value:lookupTable.lookupFlag}].concat(tableList("subtable",lookupTable.subtables,subtableCallback)))}))}LookupList.prototype=Object.create(Table.prototype);LookupList.prototype.constructor=LookupList;var table={Table:Table,Record:Table,Coverage:Coverage,ScriptList:ScriptList,FeatureList:FeatureList,LookupList:LookupList,ushortList:ushortList,tableList:tableList,recordList:recordList};function getByte(dataView,offset){return dataView.getUint8(offset)}function getUShort(dataView,offset){return dataView.getUint16(offset,false)}function getShort(dataView,offset){return dataView.getInt16(offset,false)}function getULong(dataView,offset){return dataView.getUint32(offset,false)}function getFixed(dataView,offset){var decimal=dataView.getInt16(offset,false);var fraction=dataView.getUint16(offset+2,false);return decimal+fraction/65535}function getTag(dataView,offset){var tag="";for(var i=offset;i<offset+4;i+=1){tag+=String.fromCharCode(dataView.getInt8(i))}return tag}function getOffset(dataView,offset,offSize){var v=0;for(var i=0;i<offSize;i+=1){v<<=8;v+=dataView.getUint8(offset+i)}return v}function getBytes(dataView,startOffset,endOffset){var bytes=[];for(var i=startOffset;i<endOffset;i+=1){bytes.push(dataView.getUint8(i))}return bytes}function bytesToString(bytes){var s="";for(var i=0;i<bytes.length;i+=1){s+=String.fromCharCode(bytes[i])}return s}var typeOffsets={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Parser(data,offset){this.data=data;this.offset=offset;this.relativeOffset=0}Parser.prototype.parseByte=function(){var v=this.data.getUint8(this.offset+this.relativeOffset);this.relativeOffset+=1;return v};Parser.prototype.parseChar=function(){var v=this.data.getInt8(this.offset+this.relativeOffset);this.relativeOffset+=1;return v};Parser.prototype.parseCard8=Parser.prototype.parseByte;Parser.prototype.parseUShort=function(){var v=this.data.getUint16(this.offset+this.relativeOffset);this.relativeOffset+=2;return v};Parser.prototype.parseCard16=Parser.prototype.parseUShort;Parser.prototype.parseSID=Parser.prototype.parseUShort;Parser.prototype.parseOffset16=Parser.prototype.parseUShort;Parser.prototype.parseShort=function(){var v=this.data.getInt16(this.offset+this.relativeOffset);this.relativeOffset+=2;return v};Parser.prototype.parseF2Dot14=function(){var v=this.data.getInt16(this.offset+this.relativeOffset)/16384;this.relativeOffset+=2;return v};Parser.prototype.parseULong=function(){var v=getULong(this.data,this.offset+this.relativeOffset);this.relativeOffset+=4;return v};Parser.prototype.parseOffset32=Parser.prototype.parseULong;Parser.prototype.parseFixed=function(){var v=getFixed(this.data,this.offset+this.relativeOffset);this.relativeOffset+=4;return v};Parser.prototype.parseString=function(length){var dataView=this.data;var offset=this.offset+this.relativeOffset;var string="";this.relativeOffset+=length;for(var i=0;i<length;i++){string+=String.fromCharCode(dataView.getUint8(offset+i))}return string};Parser.prototype.parseTag=function(){return this.parseString(4)};Parser.prototype.parseLongDateTime=function(){var v=getULong(this.data,this.offset+this.relativeOffset+4);v-=2082844800;this.relativeOffset+=8;return v};Parser.prototype.parseVersion=function(minorBase){var major=getUShort(this.data,this.offset+this.relativeOffset);var minor=getUShort(this.data,this.offset+this.relativeOffset+2);this.relativeOffset+=4;if(minorBase===undefined){minorBase=4096}return major+minor/minorBase/10};Parser.prototype.skip=function(type,amount){if(amount===undefined){amount=1}this.relativeOffset+=typeOffsets[type]*amount};Parser.prototype.parseULongList=function(count){if(count===undefined){count=this.parseULong()}var offsets=new Array(count);var dataView=this.data;var offset=this.offset+this.relativeOffset;for(var i=0;i<count;i++){offsets[i]=dataView.getUint32(offset);offset+=4}this.relativeOffset+=count*4;return offsets};Parser.prototype.parseOffset16List=Parser.prototype.parseUShortList=function(count){if(count===undefined){count=this.parseUShort()}var offsets=new Array(count);var dataView=this.data;var offset=this.offset+this.relativeOffset;for(var i=0;i<count;i++){offsets[i]=dataView.getUint16(offset);offset+=2}this.relativeOffset+=count*2;return offsets};Parser.prototype.parseShortList=function(count){var list=new Array(count);var dataView=this.data;var offset=this.offset+this.relativeOffset;for(var i=0;i<count;i++){list[i]=dataView.getInt16(offset);offset+=2}this.relativeOffset+=count*2;return list};Parser.prototype.parseByteList=function(count){var list=new Array(count);var dataView=this.data;var offset=this.offset+this.relativeOffset;for(var i=0;i<count;i++){list[i]=dataView.getUint8(offset++)}this.relativeOffset+=count;return list};Parser.prototype.parseList=function(count,itemCallback){var this$1=this;if(!itemCallback){itemCallback=count;count=this.parseUShort()}var list=new Array(count);for(var i=0;i<count;i++){list[i]=itemCallback.call(this$1)}return list};Parser.prototype.parseList32=function(count,itemCallback){var this$1=this;if(!itemCallback){itemCallback=count;count=this.parseULong()}var list=new Array(count);for(var i=0;i<count;i++){list[i]=itemCallback.call(this$1)}return list};Parser.prototype.parseRecordList=function(count,recordDescription){var this$1=this;if(!recordDescription){recordDescription=count;count=this.parseUShort()}var records=new Array(count);var fields=Object.keys(recordDescription);for(var i=0;i<count;i++){var rec={};for(var j=0;j<fields.length;j++){var fieldName=fields[j];var fieldType=recordDescription[fieldName];rec[fieldName]=fieldType.call(this$1)}records[i]=rec}return records};Parser.prototype.parseRecordList32=function(count,recordDescription){var this$1=this;if(!recordDescription){recordDescription=count;count=this.parseULong()}var records=new Array(count);var fields=Object.keys(recordDescription);for(var i=0;i<count;i++){var rec={};for(var j=0;j<fields.length;j++){var fieldName=fields[j];var fieldType=recordDescription[fieldName];rec[fieldName]=fieldType.call(this$1)}records[i]=rec}return records};Parser.prototype.parseStruct=function(description){var this$1=this;if(typeof description==="function"){return description.call(this)}else{var fields=Object.keys(description);var struct={};for(var j=0;j<fields.length;j++){var fieldName=fields[j];var fieldType=description[fieldName];struct[fieldName]=fieldType.call(this$1)}return struct}};Parser.prototype.parseValueRecord=function(valueFormat){if(valueFormat===undefined){valueFormat=this.parseUShort()}if(valueFormat===0){return}var valueRecord={};if(valueFormat&1){valueRecord.xPlacement=this.parseShort()}if(valueFormat&2){valueRecord.yPlacement=this.parseShort()}if(valueFormat&4){valueRecord.xAdvance=this.parseShort()}if(valueFormat&8){valueRecord.yAdvance=this.parseShort()}if(valueFormat&16){valueRecord.xPlaDevice=undefined;this.parseShort()}if(valueFormat&32){valueRecord.yPlaDevice=undefined;this.parseShort()}if(valueFormat&64){valueRecord.xAdvDevice=undefined;this.parseShort()}if(valueFormat&128){valueRecord.yAdvDevice=undefined;this.parseShort()}return valueRecord};Parser.prototype.parseValueRecordList=function(){var this$1=this;var valueFormat=this.parseUShort();var valueCount=this.parseUShort();var values=new Array(valueCount);for(var i=0;i<valueCount;i++){values[i]=this$1.parseValueRecord(valueFormat)}return values};Parser.prototype.parsePointer=function(description){var structOffset=this.parseOffset16();if(structOffset>0){return new Parser(this.data,this.offset+structOffset).parseStruct(description)}return undefined};Parser.prototype.parsePointer32=function(description){var structOffset=this.parseOffset32();if(structOffset>0){return new Parser(this.data,this.offset+structOffset).parseStruct(description)}return undefined};Parser.prototype.parseListOfLists=function(itemCallback){var this$1=this;var offsets=this.parseOffset16List();var count=offsets.length;var relativeOffset=this.relativeOffset;var list=new Array(count);for(var i=0;i<count;i++){var start=offsets[i];if(start===0){list[i]=undefined;continue}this$1.relativeOffset=start;if(itemCallback){var subOffsets=this$1.parseOffset16List();var subList=new Array(subOffsets.length);for(var j=0;j<subOffsets.length;j++){this$1.relativeOffset=start+subOffsets[j];subList[j]=itemCallback.call(this$1)}list[i]=subList}else{list[i]=this$1.parseUShortList()}}this.relativeOffset=relativeOffset;return list};Parser.prototype.parseCoverage=function(){var this$1=this;var startOffset=this.offset+this.relativeOffset;var format=this.parseUShort();var count=this.parseUShort();if(format===1){return{format:1,glyphs:this.parseUShortList(count)}}else if(format===2){var ranges=new Array(count);for(var i=0;i<count;i++){ranges[i]={start:this$1.parseUShort(),end:this$1.parseUShort(),index:this$1.parseUShort()}}return{format:2,ranges:ranges}}throw new Error("0x"+startOffset.toString(16)+": Coverage format must be 1 or 2.")};Parser.prototype.parseClassDef=function(){var startOffset=this.offset+this.relativeOffset;var format=this.parseUShort();if(format===1){return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()}}else if(format===2){return{format:2,ranges:this.parseRecordList({start:Parser.uShort,end:Parser.uShort,classId:Parser.uShort})}}throw new Error("0x"+startOffset.toString(16)+": ClassDef format must be 1 or 2.")};Parser.list=function(count,itemCallback){return function(){return this.parseList(count,itemCallback)}};Parser.list32=function(count,itemCallback){return function(){return this.parseList32(count,itemCallback)}};Parser.recordList=function(count,recordDescription){return function(){return this.parseRecordList(count,recordDescription)}};Parser.recordList32=function(count,recordDescription){return function(){return this.parseRecordList32(count,recordDescription)}};Parser.pointer=function(description){return function(){return this.parsePointer(description)}};Parser.pointer32=function(description){return function(){return this.parsePointer32(description)}};Parser.tag=Parser.prototype.parseTag;Parser.byte=Parser.prototype.parseByte;Parser.uShort=Parser.offset16=Parser.prototype.parseUShort;Parser.uShortList=Parser.prototype.parseUShortList;Parser.uLong=Parser.offset32=Parser.prototype.parseULong;Parser.uLongList=Parser.prototype.parseULongList;Parser.struct=Parser.prototype.parseStruct;Parser.coverage=Parser.prototype.parseCoverage;Parser.classDef=Parser.prototype.parseClassDef;var langSysTable={reserved:Parser.uShort,reqFeatureIndex:Parser.uShort,featureIndexes:Parser.uShortList};Parser.prototype.parseScriptList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,script:Parser.pointer({defaultLangSys:Parser.pointer(langSysTable),langSysRecords:Parser.recordList({tag:Parser.tag,langSys:Parser.pointer(langSysTable)})})}))||[]};Parser.prototype.parseFeatureList=function(){return this.parsePointer(Parser.recordList({tag:Parser.tag,feature:Parser.pointer({featureParams:Parser.offset16,lookupListIndexes:Parser.uShortList})}))||[]};Parser.prototype.parseLookupList=function(lookupTableParsers){return this.parsePointer(Parser.list(Parser.pointer(function(){var lookupType=this.parseUShort();check.argument(1<=lookupType&&lookupType<=9,"GPOS/GSUB lookup type "+lookupType+" unknown.");var lookupFlag=this.parseUShort();var useMarkFilteringSet=lookupFlag&16;return{lookupType:lookupType,lookupFlag:lookupFlag,subtables:this.parseList(Parser.pointer(lookupTableParsers[lookupType])),markFilteringSet:useMarkFilteringSet?this.parseUShort():undefined}})))||[]};Parser.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var majorVersion=this.parseUShort();var minorVersion=this.parseUShort();check.argument(majorVersion===1&&minorVersion<1,"GPOS/GSUB feature variations table unknown.");var featureVariations=this.parseRecordList32({conditionSetOffset:Parser.offset32,featureTableSubstitutionOffset:Parser.offset32});return featureVariations})||[]};var parse={getByte:getByte,getCard8:getByte,getUShort:getUShort,getCard16:getUShort,getShort:getShort,getULong:getULong,getFixed:getFixed,getTag:getTag,getOffset:getOffset,getBytes:getBytes,bytesToString:bytesToString,Parser:Parser};function parseCmapTableFormat12(cmap,p){p.parseUShort();cmap.length=p.parseULong();cmap.language=p.parseULong();var groupCount;cmap.groupCount=groupCount=p.parseULong();cmap.glyphIndexMap={};for(var i=0;i<groupCount;i+=1){var startCharCode=p.parseULong();var endCharCode=p.parseULong();var startGlyphId=p.parseULong();for(var c=startCharCode;c<=endCharCode;c+=1){cmap.glyphIndexMap[c]=startGlyphId;startGlyphId++}}}function parseCmapTableFormat4(cmap,p,data,start,offset){cmap.length=p.parseUShort();cmap.language=p.parseUShort();var segCount;cmap.segCount=segCount=p.parseUShort()>>1;p.skip("uShort",3);cmap.glyphIndexMap={};var endCountParser=new parse.Parser(data,start+offset+14);var startCountParser=new parse.Parser(data,start+offset+16+segCount*2);var idDeltaParser=new parse.Parser(data,start+offset+16+segCount*4);var idRangeOffsetParser=new parse.Parser(data,start+offset+16+segCount*6);var glyphIndexOffset=start+offset+16+segCount*8;for(var i=0;i<segCount-1;i+=1){var glyphIndex=void 0;var endCount=endCountParser.parseUShort();var startCount=startCountParser.parseUShort();var idDelta=idDeltaParser.parseShort();var idRangeOffset=idRangeOffsetParser.parseUShort();for(var c=startCount;c<=endCount;c+=1){if(idRangeOffset!==0){glyphIndexOffset=idRangeOffsetParser.offset+idRangeOffsetParser.relativeOffset-2;glyphIndexOffset+=idRangeOffset;glyphIndexOffset+=(c-startCount)*2;glyphIndex=parse.getUShort(data,glyphIndexOffset);if(glyphIndex!==0){glyphIndex=glyphIndex+idDelta&65535}}else{glyphIndex=c+idDelta&65535}cmap.glyphIndexMap[c]=glyphIndex}}}function parseCmapTable(data,start){var cmap={};cmap.version=parse.getUShort(data,start);check.argument(cmap.version===0,"cmap table version should be 0.");cmap.numTables=parse.getUShort(data,start+2);var offset=-1;for(var i=cmap.numTables-1;i>=0;i-=1){var platformId=parse.getUShort(data,start+4+i*8);var encodingId=parse.getUShort(data,start+4+i*8+2);if(platformId===3&&(encodingId===0||encodingId===1||encodingId===10)||platformId===0&&(encodingId===0||encodingId===1||encodingId===2||encodingId===3||encodingId===4)){offset=parse.getULong(data,start+4+i*8+4);break}}if(offset===-1){throw new Error("No valid cmap sub-tables found.")}var p=new parse.Parser(data,start+offset);cmap.format=p.parseUShort();if(cmap.format===12){parseCmapTableFormat12(cmap,p)}else if(cmap.format===4){parseCmapTableFormat4(cmap,p,data,start,offset)}else{throw new Error("Only format 4 and 12 cmap tables are supported (found format "+cmap.format+").")}return cmap}function addSegment(t,code,glyphIndex){t.segments.push({end:code,start:code,delta:-(code-glyphIndex),offset:0,glyphIndex:glyphIndex})}function addTerminatorSegment(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function makeCmapTable(glyphs){var isPlan0Only=true;var i;for(i=glyphs.length-1;i>0;i-=1){var g=glyphs.get(i);if(g.unicode>65535){console.log("Adding CMAP format 12 (needed!)");isPlan0Only=false;break}}var cmapTable=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:isPlan0Only?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:isPlan0Only?12:12+8}];if(!isPlan0Only){cmapTable=cmapTable.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])}cmapTable=cmapTable.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var t=new table.Table("cmap",cmapTable);t.segments=[];for(i=0;i<glyphs.length;i+=1){var glyph=glyphs.get(i);for(var j=0;j<glyph.unicodes.length;j+=1){addSegment(t,glyph.unicodes[j],i)}t.segments=t.segments.sort(function(a,b){return a.start-b.start})}addTerminatorSegment(t);var segCount=t.segments.length;var segCountToRemove=0;var endCounts=[];var startCounts=[];var idDeltas=[];var idRangeOffsets=[];var glyphIds=[];var cmap12Groups=[];for(i=0;i<segCount;i+=1){var segment=t.segments[i];if(segment.end<=65535&&segment.start<=65535){endCounts=endCounts.concat({name:"end_"+i,type:"USHORT",value:segment.end});startCounts=startCounts.concat({name:"start_"+i,type:"USHORT",value:segment.start});idDeltas=idDeltas.concat({name:"idDelta_"+i,type:"SHORT",value:segment.delta});idRangeOffsets=idRangeOffsets.concat({name:"idRangeOffset_"+i,type:"USHORT",value:segment.offset});if(segment.glyphId!==undefined){glyphIds=glyphIds.concat({name:"glyph_"+i,type:"USHORT",value:segment.glyphId})}}else{segCountToRemove+=1}if(!isPlan0Only&&segment.glyphIndex!==undefined){cmap12Groups=cmap12Groups.concat({name:"cmap12Start_"+i,type:"ULONG",value:segment.start});cmap12Groups=cmap12Groups.concat({name:"cmap12End_"+i,type:"ULONG",value:segment.end});cmap12Groups=cmap12Groups.concat({name:"cmap12Glyph_"+i,type:"ULONG",value:segment.glyphIndex})}}t.segCountX2=(segCount-segCountToRemove)*2;t.searchRange=Math.pow(2,Math.floor(Math.log(segCount-segCountToRemove)/Math.log(2)))*2;t.entrySelector=Math.log(t.searchRange/2)/Math.log(2);t.rangeShift=t.segCountX2-t.searchRange;t.fields=t.fields.concat(endCounts);t.fields.push({name:"reservedPad",type:"USHORT",value:0});t.fields=t.fields.concat(startCounts);t.fields=t.fields.concat(idDeltas);t.fields=t.fields.concat(idRangeOffsets);t.fields=t.fields.concat(glyphIds);t.cmap4Length=14+endCounts.length*2+2+startCounts.length*2+idDeltas.length*2+idRangeOffsets.length*2+glyphIds.length*2;if(!isPlan0Only){var cmap12Length=16+cmap12Groups.length*4;t.cmap12Offset=12+2*2+4+t.cmap4Length;t.fields=t.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:cmap12Length},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:cmap12Groups.length/3}]);t.fields=t.fields.concat(cmap12Groups)}return t}var cmap={parse:parseCmapTable,make:makeCmapTable};var cffStandardStrings=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];var cffStandardEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"];var cffExpertEncoding=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];var standardNames=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function DefaultEncoding(font){this.font=font}DefaultEncoding.prototype.charToGlyphIndex=function(c){var code=c.codePointAt(0);var glyphs=this.font.glyphs;if(glyphs){for(var i=0;i<glyphs.length;i+=1){var glyph=glyphs.get(i);for(var j=0;j<glyph.unicodes.length;j+=1){if(glyph.unicodes[j]===code){return i}}}}return null};function CmapEncoding(cmap){this.cmap=cmap}CmapEncoding.prototype.charToGlyphIndex=function(c){return this.cmap.glyphIndexMap[c.codePointAt(0)]||0};function CffEncoding(encoding,charset){this.encoding=encoding;this.charset=charset}CffEncoding.prototype.charToGlyphIndex=function(s){var code=s.codePointAt(0);var charName=this.encoding[code];return this.charset.indexOf(charName)};function GlyphNames(post){var this$1=this;switch(post.version){case 1:this.names=standardNames.slice();break;case 2:this.names=new Array(post.numberOfGlyphs);for(var i=0;i<post.numberOfGlyphs;i++){if(post.glyphNameIndex[i]<standardNames.length){this$1.names[i]=standardNames[post.glyphNameIndex[i]]}else{this$1.names[i]=post.names[post.glyphNameIndex[i]-standardNames.length]}}break;case 2.5:this.names=new Array(post.numberOfGlyphs);for(var i$1=0;i$1<post.numberOfGlyphs;i$1++){this$1.names[i$1]=standardNames[i$1+post.glyphNameIndex[i$1]]}break;case 3:this.names=[];break;default:this.names=[];break}}GlyphNames.prototype.nameToGlyphIndex=function(name){return this.names.indexOf(name)};GlyphNames.prototype.glyphIndexToName=function(gid){return this.names[gid]};function addGlyphNames(font){var glyph;var glyphIndexMap=font.tables.cmap.glyphIndexMap;var charCodes=Object.keys(glyphIndexMap);for(var i=0;i<charCodes.length;i+=1){var c=charCodes[i];var glyphIndex=glyphIndexMap[c];glyph=font.glyphs.get(glyphIndex);glyph.addUnicode(parseInt(c))}for(var i$1=0;i$1<font.glyphs.length;i$1+=1){glyph=font.glyphs.get(i$1);if(font.cffEncoding){if(font.isCIDFont){glyph.name="gid"+i$1}else{glyph.name=font.cffEncoding.charset[i$1]}}else if(font.glyphNames.names){glyph.name=font.glyphNames.glyphIndexToName(i$1)}}}function line(ctx,x1,y1,x2,y2){ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke()}var draw={line:line};function getPathDefinition(glyph,path){var _path=path||new Path;return{configurable:true,get:function(){if(typeof _path==="function"){_path=_path()}return _path},set:function(p){_path=p}}}function Glyph(options){this.bindConstructorValues(options)}Glyph.prototype.bindConstructorValues=function(options){this.index=options.index||0;this.name=options.name||null;this.unicode=options.unicode||undefined;this.unicodes=options.unicodes||options.unicode!==undefined?[options.unicode]:[];if(options.xMin){this.xMin=options.xMin}if(options.yMin){this.yMin=options.yMin}if(options.xMax){this.xMax=options.xMax}if(options.yMax){this.yMax=options.yMax}if(options.advanceWidth){this.advanceWidth=options.advanceWidth}Object.defineProperty(this,"path",getPathDefinition(this,options.path))};Glyph.prototype.addUnicode=function(unicode){if(this.unicodes.length===0){this.unicode=unicode}this.unicodes.push(unicode)};Glyph.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Glyph.prototype.getPath=function(x,y,fontSize,options,font){x=x!==undefined?x:0;y=y!==undefined?y:0;fontSize=fontSize!==undefined?fontSize:72;var commands;var hPoints;if(!options){options={}}var xScale=options.xScale;var yScale=options.yScale;if(options.hinting&&font&&font.hinting){hPoints=this.path&&font.hinting.exec(this,fontSize)}if(hPoints){commands=font.hinting.getCommands(hPoints);x=Math.round(x);y=Math.round(y);xScale=yScale=1}else{commands=this.path.commands;var scale=1/this.path.unitsPerEm*fontSize;if(xScale===undefined){xScale=scale}if(yScale===undefined){yScale=scale}}var p=new Path;for(var i=0;i<commands.length;i+=1){var cmd=commands[i];if(cmd.type==="M"){p.moveTo(x+cmd.x*xScale,y+-cmd.y*yScale)}else if(cmd.type==="L"){p.lineTo(x+cmd.x*xScale,y+-cmd.y*yScale)}else if(cmd.type==="Q"){p.quadraticCurveTo(x+cmd.x1*xScale,y+-cmd.y1*yScale,x+cmd.x*xScale,y+-cmd.y*yScale)}else if(cmd.type==="C"){p.curveTo(x+cmd.x1*xScale,y+-cmd.y1*yScale,x+cmd.x2*xScale,y+-cmd.y2*yScale,x+cmd.x*xScale,y+-cmd.y*yScale)}else if(cmd.type==="Z"){p.closePath()}}return p};Glyph.prototype.getContours=function(){var this$1=this;if(this.points===undefined){return[]}var contours=[];var currentContour=[];for(var i=0;i<this.points.length;i+=1){var pt=this$1.points[i];currentContour.push(pt);if(pt.lastPointOfContour){contours.push(currentContour);currentContour=[]}}check.argument(currentContour.length===0,"There are still points left in the current contour.");return contours};Glyph.prototype.getMetrics=function(){var commands=this.path.commands;var xCoords=[];var yCoords=[];for(var i=0;i<commands.length;i+=1){var cmd=commands[i];if(cmd.type!=="Z"){xCoords.push(cmd.x);yCoords.push(cmd.y)}if(cmd.type==="Q"||cmd.type==="C"){xCoords.push(cmd.x1);yCoords.push(cmd.y1)}if(cmd.type==="C"){xCoords.push(cmd.x2);yCoords.push(cmd.y2)}}var metrics={xMin:Math.min.apply(null,xCoords),yMin:Math.min.apply(null,yCoords),xMax:Math.max.apply(null,xCoords),yMax:Math.max.apply(null,yCoords),leftSideBearing:this.leftSideBearing};if(!isFinite(metrics.xMin)){metrics.xMin=0}if(!isFinite(metrics.xMax)){metrics.xMax=this.advanceWidth}if(!isFinite(metrics.yMin)){metrics.yMin=0}if(!isFinite(metrics.yMax)){metrics.yMax=0}metrics.rightSideBearing=this.advanceWidth-metrics.leftSideBearing-(metrics.xMax-metrics.xMin);return metrics};Glyph.prototype.draw=function(ctx,x,y,fontSize,options){this.getPath(x,y,fontSize,options).draw(ctx)};Glyph.prototype.drawPoints=function(ctx,x,y,fontSize){function drawCircles(l,x,y,scale){var PI_SQ=Math.PI*2;ctx.beginPath();for(var j=0;j<l.length;j+=1){ctx.moveTo(x+l[j].x*scale,y+l[j].y*scale);ctx.arc(x+l[j].x*scale,y+l[j].y*scale,2,0,PI_SQ,false)}ctx.closePath();ctx.fill()}x=x!==undefined?x:0;y=y!==undefined?y:0;fontSize=fontSize!==undefined?fontSize:24;var scale=1/this.path.unitsPerEm*fontSize;var blueCircles=[];var redCircles=[];var path=this.path;for(var i=0;i<path.commands.length;i+=1){var cmd=path.commands[i];if(cmd.x!==undefined){blueCircles.push({x:cmd.x,y:-cmd.y})}if(cmd.x1!==undefined){redCircles.push({x:cmd.x1,y:-cmd.y1})}if(cmd.x2!==undefined){redCircles.push({x:cmd.x2,y:-cmd.y2})}}ctx.fillStyle="blue";drawCircles(blueCircles,x,y,scale);ctx.fillStyle="red";drawCircles(redCircles,x,y,scale)};Glyph.prototype.drawMetrics=function(ctx,x,y,fontSize){var scale;x=x!==undefined?x:0;y=y!==undefined?y:0;fontSize=fontSize!==undefined?fontSize:24;scale=1/this.path.unitsPerEm*fontSize;ctx.lineWidth=1;ctx.strokeStyle="black";draw.line(ctx,x,-1e4,x,1e4);draw.line(ctx,-1e4,y,1e4,y);var xMin=this.xMin||0;var yMin=this.yMin||0;var xMax=this.xMax||0;var yMax=this.yMax||0;var advanceWidth=this.advanceWidth||0;ctx.strokeStyle="blue";draw.line(ctx,x+xMin*scale,-1e4,x+xMin*scale,1e4);draw.line(ctx,x+xMax*scale,-1e4,x+xMax*scale,1e4);draw.line(ctx,-1e4,y+-yMin*scale,1e4,y+-yMin*scale);draw.line(ctx,-1e4,y+-yMax*scale,1e4,y+-yMax*scale);ctx.strokeStyle="green";draw.line(ctx,x+advanceWidth*scale,-1e4,x+advanceWidth*scale,1e4)};function defineDependentProperty(glyph,externalName,internalName){Object.defineProperty(glyph,externalName,{get:function(){glyph.path;return glyph[internalName]},set:function(newValue){glyph[internalName]=newValue},enumerable:true,configurable:true})}function GlyphSet(font,glyphs){var this$1=this;this.font=font;this.glyphs={};if(Array.isArray(glyphs)){for(var i=0;i<glyphs.length;i++){this$1.glyphs[i]=glyphs[i]}}this.length=glyphs&&glyphs.length||0}GlyphSet.prototype.get=function(index){if(typeof this.glyphs[index]==="function"){this.glyphs[index]=this.glyphs[index]()}return this.glyphs[index]};GlyphSet.prototype.push=function(index,loader){this.glyphs[index]=loader;this.length++};function glyphLoader(font,index){return new Glyph({index:index,font:font})}function ttfGlyphLoader(font,index,parseGlyph,data,position,buildPath){return function(){var glyph=new Glyph({index:index,font:font});glyph.path=function(){parseGlyph(glyph,data,position);var path=buildPath(font.glyphs,glyph);path.unitsPerEm=font.unitsPerEm;return path};defineDependentProperty(glyph,"xMin","_xMin");defineDependentProperty(glyph,"xMax","_xMax");defineDependentProperty(glyph,"yMin","_yMin");defineDependentProperty(glyph,"yMax","_yMax");return glyph}}function cffGlyphLoader(font,index,parseCFFCharstring,charstring){return function(){var glyph=new Glyph({index:index,font:font});glyph.path=function(){var path=parseCFFCharstring(font,glyph,charstring);path.unitsPerEm=font.unitsPerEm;return path};return glyph}}var glyphset={GlyphSet:GlyphSet,glyphLoader:glyphLoader,ttfGlyphLoader:ttfGlyphLoader,cffGlyphLoader:cffGlyphLoader};function equals(a,b){if(a===b){return true}else if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length){return false}for(var i=0;i<a.length;i+=1){if(!equals(a[i],b[i])){return false}}return true}else{return false}}function calcCFFSubroutineBias(subrs){var bias;if(subrs.length<1240){bias=107}else if(subrs.length<33900){bias=1131}else{bias=32768}return bias}function parseCFFIndex(data,start,conversionFn){var offsets=[];var objects=[];var count=parse.getCard16(data,start);var objectOffset;var endOffset;if(count!==0){var offsetSize=parse.getByte(data,start+2);objectOffset=start+(count+1)*offsetSize+2;var pos=start+3;for(var i=0;i<count+1;i+=1){offsets.push(parse.getOffset(data,pos,offsetSize));pos+=offsetSize}endOffset=objectOffset+offsets[count]}else{endOffset=start+2}for(var i$1=0;i$1<offsets.length-1;i$1+=1){var value=parse.getBytes(data,objectOffset+offsets[i$1],objectOffset+offsets[i$1+1]);if(conversionFn){value=conversionFn(value)}objects.push(value)}return{objects:objects,startOffset:start,endOffset:endOffset}}function parseFloatOperand(parser){var s="";var eof=15;var lookup=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];while(true){var b=parser.parseByte();var n1=b>>4;var n2=b&15;if(n1===eof){break}s+=lookup[n1];if(n2===eof){break}s+=lookup[n2]}return parseFloat(s)}function parseOperand(parser,b0){var b1;var b2;var b3;var b4;if(b0===28){b1=parser.parseByte();b2=parser.parseByte();return b1<<8|b2}if(b0===29){b1=parser.parseByte();b2=parser.parseByte();b3=parser.parseByte();b4=parser.parseByte();return b1<<24|b2<<16|b3<<8|b4}if(b0===30){return parseFloatOperand(parser)}if(b0>=32&&b0<=246){return b0-139}if(b0>=247&&b0<=250){b1=parser.parseByte();return(b0-247)*256+b1+108}if(b0>=251&&b0<=254){b1=parser.parseByte();return-(b0-251)*256-b1-108}throw new Error("Invalid b0 "+b0)}function entriesToObject(entries){var o={};for(var i=0;i<entries.length;i+=1){var key=entries[i][0];var values=entries[i][1];var value=void 0;if(values.length===1){value=values[0]}else{value=values}if(o.hasOwnProperty(key)&&!isNaN(o[key])){throw new Error("Object "+o+" already has key "+key)}o[key]=value}return o}function parseCFFDict(data,start,size){start=start!==undefined?start:0;var parser=new parse.Parser(data,start);var entries=[];var operands=[];size=size!==undefined?size:data.length;while(parser.relativeOffset<size){var op=parser.parseByte();if(op<=21){if(op===12){op=1200+parser.parseByte()}entries.push([op,operands]);operands=[]}else{operands.push(parseOperand(parser,op))}}return entriesToObject(entries)}function getCFFString(strings,index){if(index<=390){index=cffStandardStrings[index]}else{index=strings[index-391]}return index}function interpretDict(dict,meta,strings){var newDict={};var value;for(var i=0;i<meta.length;i+=1){var m=meta[i];if(Array.isArray(m.type)){var values=[];values.length=m.type.length;for(var j=0;j<m.type.length;j++){value=dict[m.op]!==undefined?dict[m.op][j]:undefined;if(value===undefined){value=m.value!==undefined&&m.value[j]!==undefined?m.value[j]:null}if(m.type[j]==="SID"){value=getCFFString(strings,value)}values[j]=value}newDict[m.name]=values}else{value=dict[m.op];if(value===undefined){value=m.value!==undefined?m.value:null}if(m.type==="SID"){value=getCFFString(strings,value)}newDict[m.name]=value}}return newDict}function parseCFFHeader(data,start){var header={};header.formatMajor=parse.getCard8(data,start);header.formatMinor=parse.getCard8(data,start+1);header.size=parse.getCard8(data,start+2);header.offsetSize=parse.getCard8(data,start+3);header.startOffset=start;header.endOffset=start+4;return header}var TOP_DICT_META=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}];var PRIVATE_DICT_META=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function parseCFFTopDict(data,strings){var dict=parseCFFDict(data,0,data.byteLength);return interpretDict(dict,TOP_DICT_META,strings)}function parseCFFPrivateDict(data,start,size,strings){var dict=parseCFFDict(data,start,size);return interpretDict(dict,PRIVATE_DICT_META,strings)}function gatherCFFTopDicts(data,start,cffIndex,strings){var topDictArray=[];for(var iTopDict=0;iTopDict<cffIndex.length;iTopDict+=1){var topDictData=new DataView(new Uint8Array(cffIndex[iTopDict]).buffer);var topDict=parseCFFTopDict(topDictData,strings);topDict._subrs=[];topDict._subrsBias=0;var privateSize=topDict.private[0];var privateOffset=topDict.private[1];if(privateSize!==0&&privateOffset!==0){var privateDict=parseCFFPrivateDict(data,privateOffset+start,privateSize,strings);topDict._defaultWidthX=privateDict.defaultWidthX;topDict._nominalWidthX=privateDict.nominalWidthX;if(privateDict.subrs!==0){var subrOffset=privateOffset+privateDict.subrs;var subrIndex=parseCFFIndex(data,subrOffset+start);topDict._subrs=subrIndex.objects;topDict._subrsBias=calcCFFSubroutineBias(topDict._subrs)}topDict._privateDict=privateDict}topDictArray.push(topDict)}return topDictArray}function parseCFFCharset(data,start,nGlyphs,strings){var sid;var count;var parser=new parse.Parser(data,start);nGlyphs-=1;var charset=[".notdef"];var format=parser.parseCard8();if(format===0){for(var i=0;i<nGlyphs;i+=1){sid=parser.parseSID();charset.push(getCFFString(strings,sid))}}else if(format===1){while(charset.length<=nGlyphs){sid=parser.parseSID();count=parser.parseCard8();for(var i$1=0;i$1<=count;i$1+=1){charset.push(getCFFString(strings,sid));sid+=1}}}else if(format===2){while(charset.length<=nGlyphs){sid=parser.parseSID();count=parser.parseCard16();for(var i$2=0;i$2<=count;i$2+=1){charset.push(getCFFString(strings,sid));sid+=1}}}else{throw new Error("Unknown charset format "+format)}return charset}function parseCFFEncoding(data,start,charset){var code;var enc={};var parser=new parse.Parser(data,start);var format=parser.parseCard8();if(format===0){var nCodes=parser.parseCard8();for(var i=0;i<nCodes;i+=1){code=parser.parseCard8();enc[code]=i}}else if(format===1){var nRanges=parser.parseCard8();code=1;for(var i$1=0;i$1<nRanges;i$1+=1){var first=parser.parseCard8();var nLeft=parser.parseCard8();for(var j=first;j<=first+nLeft;j+=1){enc[j]=code;code+=1}}}else{throw new Error("Unknown encoding format "+format)}return new CffEncoding(enc,charset)}function parseCFFCharstring(font,glyph,code){var c1x;var c1y;var c2x;var c2y;var p=new Path;var stack=[];var nStems=0;var haveWidth=false;var open=false;var x=0;var y=0;var subrs;var subrsBias;var defaultWidthX;var nominalWidthX;if(font.isCIDFont){var fdIndex=font.tables.cff.topDict._fdSelect[glyph.index];var fdDict=font.tables.cff.topDict._fdArray[fdIndex];subrs=fdDict._subrs;subrsBias=fdDict._subrsBias;defaultWidthX=fdDict._defaultWidthX;nominalWidthX=fdDict._nominalWidthX}else{subrs=font.tables.cff.topDict._subrs;subrsBias=font.tables.cff.topDict._subrsBias;defaultWidthX=font.tables.cff.topDict._defaultWidthX;nominalWidthX=font.tables.cff.topDict._nominalWidthX}var width=defaultWidthX;function newContour(x,y){if(open){p.closePath()}p.moveTo(x,y);open=true}function parseStems(){var hasWidthArg;hasWidthArg=stack.length%2!==0;if(hasWidthArg&&!haveWidth){width=stack.shift()+nominalWidthX}nStems+=stack.length>>1;stack.length=0;haveWidth=true}function parse$$1(code){var b1;var b2;var b3;var b4;var codeIndex;var subrCode;var jpx;var jpy;var c3x;var c3y;var c4x;var c4y;var i=0;while(i<code.length){var v=code[i];i+=1;switch(v){case 1:parseStems();break;case 3:parseStems();break;case 4:if(stack.length>1&&!haveWidth){width=stack.shift()+nominalWidthX;haveWidth=true}y+=stack.pop();newContour(x,y);break;case 5:while(stack.length>0){x+=stack.shift();y+=stack.shift();p.lineTo(x,y)}break;case 6:while(stack.length>0){x+=stack.shift();p.lineTo(x,y);if(stack.length===0){break}y+=stack.shift();p.lineTo(x,y)}break;case 7:while(stack.length>0){y+=stack.shift();p.lineTo(x,y);if(stack.length===0){break}x+=stack.shift();p.lineTo(x,y)}break;case 8:while(stack.length>0){c1x=x+stack.shift();c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x+stack.shift();y=c2y+stack.shift();p.curveTo(c1x,c1y,c2x,c2y,x,y)}break;case 10:codeIndex=stack.pop()+subrsBias;subrCode=subrs[codeIndex];if(subrCode){parse$$1(subrCode)}break;case 11:return;case 12:v=code[i];i+=1;switch(v){case 35:c1x=x+stack.shift();c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();jpx=c2x+stack.shift();jpy=c2y+stack.shift();c3x=jpx+stack.shift();c3y=jpy+stack.shift();c4x=c3x+stack.shift();c4y=c3y+stack.shift();x=c4x+stack.shift();y=c4y+stack.shift();stack.shift();p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy);p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 34:c1x=x+stack.shift();c1y=y;c2x=c1x+stack.shift();c2y=c1y+stack.shift();jpx=c2x+stack.shift();jpy=c2y;c3x=jpx+stack.shift();c3y=c2y;c4x=c3x+stack.shift();c4y=y;x=c4x+stack.shift();p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy);p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 36:c1x=x+stack.shift();c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();jpx=c2x+stack.shift();jpy=c2y;c3x=jpx+stack.shift();c3y=c2y;c4x=c3x+stack.shift();c4y=c3y+stack.shift();x=c4x+stack.shift();p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy);p.curveTo(c3x,c3y,c4x,c4y,x,y);break;case 37:c1x=x+stack.shift();c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();jpx=c2x+stack.shift();jpy=c2y+stack.shift();c3x=jpx+stack.shift();c3y=jpy+stack.shift();c4x=c3x+stack.shift();c4y=c3y+stack.shift();if(Math.abs(c4x-x)>Math.abs(c4y-y)){x=c4x+stack.shift()}else{y=c4y+stack.shift()}p.curveTo(c1x,c1y,c2x,c2y,jpx,jpy);p.curveTo(c3x,c3y,c4x,c4y,x,y);break;default:console.log("Glyph "+glyph.index+": unknown operator "+1200+v);stack.length=0}break;case 14:if(stack.length>0&&!haveWidth){width=stack.shift()+nominalWidthX;haveWidth=true}if(open){p.closePath();open=false}break;case 18:parseStems();break;case 19:case 20:parseStems();i+=nStems+7>>3;break;case 21:if(stack.length>2&&!haveWidth){width=stack.shift()+nominalWidthX;haveWidth=true}y+=stack.pop();x+=stack.pop();newContour(x,y);break;case 22:if(stack.length>1&&!haveWidth){width=stack.shift()+nominalWidthX;haveWidth=true}x+=stack.pop();newContour(x,y);break;case 23:parseStems();break;case 24:while(stack.length>2){c1x=x+stack.shift();c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x+stack.shift();y=c2y+stack.shift();p.curveTo(c1x,c1y,c2x,c2y,x,y)}x+=stack.shift();y+=stack.shift();p.lineTo(x,y);break;case 25:while(stack.length>6){x+=stack.shift();y+=stack.shift();p.lineTo(x,y)}c1x=x+stack.shift();c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x+stack.shift();y=c2y+stack.shift();p.curveTo(c1x,c1y,c2x,c2y,x,y);break;case 26:if(stack.length%2){x+=stack.shift()}while(stack.length>0){c1x=x;c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x;y=c2y+stack.shift();p.curveTo(c1x,c1y,c2x,c2y,x,y)}break;case 27:if(stack.length%2){y+=stack.shift()}while(stack.length>0){c1x=x+stack.shift();c1y=y;c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x+stack.shift();y=c2y;p.curveTo(c1x,c1y,c2x,c2y,x,y)}break;case 28:b1=code[i];b2=code[i+1];stack.push((b1<<24|b2<<16)>>16);i+=2;break;case 29:codeIndex=stack.pop()+font.gsubrsBias;subrCode=font.gsubrs[codeIndex];if(subrCode){parse$$1(subrCode)}break;case 30:while(stack.length>0){c1x=x;c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x+stack.shift();y=c2y+(stack.length===1?stack.shift():0);p.curveTo(c1x,c1y,c2x,c2y,x,y);if(stack.length===0){break}c1x=x+stack.shift();c1y=y;c2x=c1x+stack.shift();c2y=c1y+stack.shift();y=c2y+stack.shift();x=c2x+(stack.length===1?stack.shift():0);p.curveTo(c1x,c1y,c2x,c2y,x,y)}break;case 31:while(stack.length>0){c1x=x+stack.shift();c1y=y;c2x=c1x+stack.shift();c2y=c1y+stack.shift();y=c2y+stack.shift();x=c2x+(stack.length===1?stack.shift():0);p.curveTo(c1x,c1y,c2x,c2y,x,y);if(stack.length===0){break}c1x=x;c1y=y+stack.shift();c2x=c1x+stack.shift();c2y=c1y+stack.shift();x=c2x+stack.shift();y=c2y+(stack.length===1?stack.shift():0);p.curveTo(c1x,c1y,c2x,c2y,x,y)}break;default:if(v<32){console.log("Glyph "+glyph.index+": unknown operator "+v)}else if(v<247){stack.push(v-139)}else if(v<251){b1=code[i];i+=1;stack.push((v-247)*256+b1+108)}else if(v<255){b1=code[i];i+=1;stack.push(-(v-251)*256-b1-108)}else{b1=code[i];b2=code[i+1];b3=code[i+2];b4=code[i+3];i+=4;stack.push((b1<<24|b2<<16|b3<<8|b4)/65536)}}}}parse$$1(code);glyph.advanceWidth=width;return p}function parseCFFFDSelect(data,start,nGlyphs,fdArrayCount){var fdSelect=[];var fdIndex;var parser=new parse.Parser(data,start);var format=parser.parseCard8();if(format===0){for(var iGid=0;iGid<nGlyphs;iGid++){fdIndex=parser.parseCard8();if(fdIndex>=fdArrayCount){throw new Error("CFF table CID Font FDSelect has bad FD index value "+fdIndex+" (FD count "+fdArrayCount+")")}fdSelect.push(fdIndex)}}else if(format===3){var nRanges=parser.parseCard16();var first=parser.parseCard16();if(first!==0){throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+first)}var next;for(var iRange=0;iRange<nRanges;iRange++){fdIndex=parser.parseCard8();next=parser.parseCard16();if(fdIndex>=fdArrayCount){throw new Error("CFF table CID Font FDSelect has bad FD index value "+fdIndex+" (FD count "+fdArrayCount+")")}if(next>nGlyphs){throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+next)}for(;first<next;first++){fdSelect.push(fdIndex)}first=next}if(next!==nGlyphs){throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+next)}}else{throw new Error("CFF Table CID Font FDSelect table has unsupported format "+format)}return fdSelect}function parseCFFTable(data,start,font){font.tables.cff={};var header=parseCFFHeader(data,start);var nameIndex=parseCFFIndex(data,header.endOffset,parse.bytesToString);var topDictIndex=parseCFFIndex(data,nameIndex.endOffset);var stringIndex=parseCFFIndex(data,topDictIndex.endOffset,parse.bytesToString);var globalSubrIndex=parseCFFIndex(data,stringIndex.endOffset);font.gsubrs=globalSubrIndex.objects;font.gsubrsBias=calcCFFSubroutineBias(font.gsubrs);var topDictArray=gatherCFFTopDicts(data,start,topDictIndex.objects,stringIndex.objects);if(topDictArray.length!==1){throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+topDictArray.length)}var topDict=topDictArray[0];font.tables.cff.topDict=topDict;if(topDict._privateDict){font.defaultWidthX=topDict._privateDict.defaultWidthX;font.nominalWidthX=topDict._privateDict.nominalWidthX}if(topDict.ros[0]!==undefined&&topDict.ros[1]!==undefined){font.isCIDFont=true}if(font.isCIDFont){var fdArrayOffset=topDict.fdArray;var fdSelectOffset=topDict.fdSelect;if(fdArrayOffset===0||fdSelectOffset===0){throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing")}fdArrayOffset+=start;var fdArrayIndex=parseCFFIndex(data,fdArrayOffset);var fdArray=gatherCFFTopDicts(data,start,fdArrayIndex.objects,stringIndex.objects);topDict._fdArray=fdArray;fdSelectOffset+=start;topDict._fdSelect=parseCFFFDSelect(data,fdSelectOffset,font.numGlyphs,fdArray.length)}var privateDictOffset=start+topDict.private[1];var privateDict=parseCFFPrivateDict(data,privateDictOffset,topDict.private[0],stringIndex.objects);font.defaultWidthX=privateDict.defaultWidthX;font.nominalWidthX=privateDict.nominalWidthX;if(privateDict.subrs!==0){var subrOffset=privateDictOffset+privateDict.subrs;var subrIndex=parseCFFIndex(data,subrOffset);font.subrs=subrIndex.objects;font.subrsBias=calcCFFSubroutineBias(font.subrs)}else{font.subrs=[];font.subrsBias=0}var charStringsIndex=parseCFFIndex(data,start+topDict.charStrings);font.nGlyphs=charStringsIndex.objects.length;var charset=parseCFFCharset(data,start+topDict.charset,font.nGlyphs,stringIndex.objects);if(topDict.encoding===0){font.cffEncoding=new CffEncoding(cffStandardEncoding,charset)}else if(topDict.encoding===1){font.cffEncoding=new CffEncoding(cffExpertEncoding,charset)}else{font.cffEncoding=parseCFFEncoding(data,start+topDict.encoding,charset)}font.encoding=font.encoding||font.cffEncoding;font.glyphs=new glyphset.GlyphSet(font);for(var i=0;i<font.nGlyphs;i+=1){var charString=charStringsIndex.objects[i];font.glyphs.push(i,glyphset.cffGlyphLoader(font,i,parseCFFCharstring,charString))}}function encodeString(s,strings){var sid;var i=cffStandardStrings.indexOf(s);if(i>=0){sid=i}i=strings.indexOf(s);if(i>=0){sid=i+cffStandardStrings.length}else{sid=cffStandardStrings.length+strings.length;strings.push(s)}return sid}function makeHeader(){return new table.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function makeNameIndex(fontNames){var t=new table.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var i=0;i<fontNames.length;i+=1){t.names.push({name:"name_"+i,type:"NAME",value:fontNames[i]})}return t}function makeDict(meta,attrs,strings){var m={};for(var i=0;i<meta.length;i+=1){var entry=meta[i];var value=attrs[entry.name];if(value!==undefined&&!equals(value,entry.value)){if(entry.type==="SID"){value=encodeString(value,strings)}m[entry.op]={name:entry.name,type:entry.type,value:value}}}return m}function makeTopDict(attrs,strings){var t=new table.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);t.dict=makeDict(TOP_DICT_META,attrs,strings);return t}function makeTopDictIndex(topDict){var t=new table.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);t.topDicts=[{name:"topDict_0",type:"TABLE",value:topDict}];return t}function makeStringIndex(strings){var t=new table.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var i=0;i<strings.length;i+=1){t.strings.push({name:"string_"+i,type:"STRING",value:strings[i]})}return t}function makeGlobalSubrIndex(){return new table.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function makeCharsets(glyphNames,strings){var t=new table.Record("Charsets",[{name:"format",type:"Card8",value:0}]);for(var i=0;i<glyphNames.length;i+=1){var glyphName=glyphNames[i];var glyphSID=encodeString(glyphName,strings);t.fields.push({name:"glyph_"+i,type:"SID",value:glyphSID})}return t}function glyphToOps(glyph){var ops=[];var path=glyph.path;ops.push({name:"width",type:"NUMBER",value:glyph.advanceWidth});var x=0;var y=0;for(var i=0;i<path.commands.length;i+=1){var dx=void 0;var dy=void 0;var cmd=path.commands[i];if(cmd.type==="Q"){var _13=1/3;var _23=2/3;cmd={type:"C",x:cmd.x,y:cmd.y,x1:_13*x+_23*cmd.x1,y1:_13*y+_23*cmd.y1,x2:_13*cmd.x+_23*cmd.x1,y2:_13*cmd.y+_23*cmd.y1}}if(cmd.type==="M"){dx=Math.round(cmd.x-x);dy=Math.round(cmd.y-y);ops.push({name:"dx",type:"NUMBER",value:dx});ops.push({name:"dy",type:"NUMBER",value:dy});ops.push({name:"rmoveto",type:"OP",value:21});x=Math.round(cmd.x);y=Math.round(cmd.y)}else if(cmd.type==="L"){dx=Math.round(cmd.x-x);dy=Math.round(cmd.y-y);ops.push({name:"dx",type:"NUMBER",value:dx});ops.push({name:"dy",type:"NUMBER",value:dy});ops.push({name:"rlineto",type:"OP",value:5});x=Math.round(cmd.x);y=Math.round(cmd.y)}else if(cmd.type==="C"){var dx1=Math.round(cmd.x1-x);var dy1=Math.round(cmd.y1-y);var dx2=Math.round(cmd.x2-cmd.x1);var dy2=Math.round(cmd.y2-cmd.y1);dx=Math.round(cmd.x-cmd.x2);dy=Math.round(cmd.y-cmd.y2);ops.push({name:"dx1",type:"NUMBER",value:dx1});ops.push({name:"dy1",type:"NUMBER",value:dy1});ops.push({name:"dx2",type:"NUMBER",value:dx2});ops.push({name:"dy2",type:"NUMBER",value:dy2});ops.push({name:"dx",type:"NUMBER",value:dx});ops.push({name:"dy",type:"NUMBER",value:dy});ops.push({name:"rrcurveto",type:"OP",value:8});x=Math.round(cmd.x);y=Math.round(cmd.y)}}ops.push({name:"endchar",type:"OP",value:14});return ops}function makeCharStringsIndex(glyphs){var t=new table.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]);for(var i=0;i<glyphs.length;i+=1){var glyph=glyphs.get(i);var ops=glyphToOps(glyph);t.charStrings.push({name:glyph.name,type:"CHARSTRING",value:ops})}return t}function makePrivateDict(attrs,strings){var t=new table.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);t.dict=makeDict(PRIVATE_DICT_META,attrs,strings);return t}function makeCFFTable(glyphs,options){var t=new table.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]);var fontScale=1/options.unitsPerEm;var attrs={version:options.version,fullName:options.fullName,familyName:options.familyName,weight:options.weightName,fontBBox:options.fontBBox||[0,0,0,0],fontMatrix:[fontScale,0,0,fontScale,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]};var privateAttrs={};var glyphNames=[];var glyph;for(var i=1;i<glyphs.length;i+=1){glyph=glyphs.get(i);glyphNames.push(glyph.name)}var strings=[];t.header=makeHeader();t.nameIndex=makeNameIndex([options.postScriptName]);var topDict=makeTopDict(attrs,strings);t.topDictIndex=makeTopDictIndex(topDict);t.globalSubrIndex=makeGlobalSubrIndex();t.charsets=makeCharsets(glyphNames,strings);t.charStringsIndex=makeCharStringsIndex(glyphs);t.privateDict=makePrivateDict(privateAttrs,strings);t.stringIndex=makeStringIndex(strings);var startOffset=t.header.sizeOf()+t.nameIndex.sizeOf()+t.topDictIndex.sizeOf()+t.stringIndex.sizeOf()+t.globalSubrIndex.sizeOf();attrs.charset=startOffset;attrs.encoding=0;attrs.charStrings=attrs.charset+t.charsets.sizeOf();attrs.private[1]=attrs.charStrings+t.charStringsIndex.sizeOf();topDict=makeTopDict(attrs,strings);t.topDictIndex=makeTopDictIndex(topDict);return t}var cff={parse:parseCFFTable,make:makeCFFTable};function parseHeadTable(data,start){var head={};var p=new parse.Parser(data,start);head.version=p.parseVersion();head.fontRevision=Math.round(p.parseFixed()*1e3)/1e3;head.checkSumAdjustment=p.parseULong();head.magicNumber=p.parseULong();check.argument(head.magicNumber===1594834165,"Font header has wrong magic number.");head.flags=p.parseUShort();head.unitsPerEm=p.parseUShort();head.created=p.parseLongDateTime();head.modified=p.parseLongDateTime();head.xMin=p.parseShort();head.yMin=p.parseShort();head.xMax=p.parseShort();head.yMax=p.parseShort();head.macStyle=p.parseUShort();head.lowestRecPPEM=p.parseUShort();head.fontDirectionHint=p.parseShort();head.indexToLocFormat=p.parseShort();head.glyphDataFormat=p.parseShort();return head}function makeHeadTable(options){var timestamp=Math.round((new Date).getTime()/1e3)+2082844800;var createdTimestamp=timestamp;if(options.createdTimestamp){createdTimestamp=options.createdTimestamp+2082844800}return new table.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:createdTimestamp},{name:"modified",type:"LONGDATETIME",value:timestamp},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],options)}var head={parse:parseHeadTable,make:makeHeadTable};function parseHheaTable(data,start){var hhea={};var p=new parse.Parser(data,start);hhea.version=p.parseVersion();hhea.ascender=p.parseShort();hhea.descender=p.parseShort();hhea.lineGap=p.parseShort();hhea.advanceWidthMax=p.parseUShort();hhea.minLeftSideBearing=p.parseShort();hhea.minRightSideBearing=p.parseShort();hhea.xMaxExtent=p.parseShort();hhea.caretSlopeRise=p.parseShort();hhea.caretSlopeRun=p.parseShort();hhea.caretOffset=p.parseShort();p.relativeOffset+=8;hhea.metricDataFormat=p.parseShort();hhea.numberOfHMetrics=p.parseUShort();return hhea}function makeHheaTable(options){return new table.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],options)}var hhea={parse:parseHheaTable,make:makeHheaTable};function parseHmtxTable(data,start,numMetrics,numGlyphs,glyphs){var advanceWidth;var leftSideBearing;var p=new parse.Parser(data,start);for(var i=0;i<numGlyphs;i+=1){if(i<numMetrics){advanceWidth=p.parseUShort();leftSideBearing=p.parseShort()}var glyph=glyphs.get(i);glyph.advanceWidth=advanceWidth;glyph.leftSideBearing=leftSideBearing}}function makeHmtxTable(glyphs){var t=new table.Table("hmtx",[]);for(var i=0;i<glyphs.length;i+=1){var glyph=glyphs.get(i);var advanceWidth=glyph.advanceWidth||0;var leftSideBearing=glyph.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+i,type:"USHORT",value:advanceWidth});t.fields.push({name:"leftSideBearing_"+i,type:"SHORT",value:leftSideBearing})}return t}var hmtx={parse:parseHmtxTable,make:makeHmtxTable};function makeLtagTable(tags){var result=new table.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:tags.length}]);var stringPool="";var stringPoolOffset=12+tags.length*4;for(var i=0;i<tags.length;++i){var pos=stringPool.indexOf(tags[i]);if(pos<0){pos=stringPool.length;stringPool+=tags[i]}result.fields.push({name:"offset "+i,type:"USHORT",value:stringPoolOffset+pos});result.fields.push({name:"length "+i,type:"USHORT",value:tags[i].length})}result.fields.push({name:"stringPool",type:"CHARARRAY",value:stringPool});return result}function parseLtagTable(data,start){var p=new parse.Parser(data,start);var tableVersion=p.parseULong();check.argument(tableVersion===1,"Unsupported ltag table version.");p.skip("uLong",1);var numTags=p.parseULong();var tags=[];for(var i=0;i<numTags;i++){var tag="";var offset=start+p.parseUShort();var length=p.parseUShort();for(var j=offset;j<offset+length;++j){tag+=String.fromCharCode(data.getInt8(j))}tags.push(tag)}return tags}var ltag={make:makeLtagTable,parse:parseLtagTable};function parseMaxpTable(data,start){var maxp={};var p=new parse.Parser(data,start);maxp.version=p.parseVersion();maxp.numGlyphs=p.parseUShort();if(maxp.version===1){maxp.maxPoints=p.parseUShort();maxp.maxContours=p.parseUShort();maxp.maxCompositePoints=p.parseUShort();maxp.maxCompositeContours=p.parseUShort();maxp.maxZones=p.parseUShort();maxp.maxTwilightPoints=p.parseUShort();maxp.maxStorage=p.parseUShort();maxp.maxFunctionDefs=p.parseUShort();maxp.maxInstructionDefs=p.parseUShort();maxp.maxStackElements=p.parseUShort();maxp.maxSizeOfInstructions=p.parseUShort();maxp.maxComponentElements=p.parseUShort();maxp.maxComponentDepth=p.parseUShort()}return maxp}function makeMaxpTable(numGlyphs){return new table.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:numGlyphs}])}var maxp={parse:parseMaxpTable,make:makeMaxpTable};var nameTableNames=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"];var macLanguages={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"};var macLanguageToScript={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0};var windowsLanguages={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function getLanguageCode(platformID,languageID,ltag){switch(platformID){case 0:if(languageID===65535){return"und"}else if(ltag){return ltag[languageID]}break;case 1:return macLanguages[languageID];case 3:return windowsLanguages[languageID]}return undefined}var utf16="utf-16";var macScriptEncodings={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"};var macLanguageEncodings={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function getEncoding(platformID,encodingID,languageID){switch(platformID){case 0:return utf16;case 1:return macLanguageEncodings[languageID]||macScriptEncodings[encodingID];case 3:if(encodingID===1||encodingID===10){return utf16}break}return undefined}function parseNameTable(data,start,ltag){var name={};var p=new parse.Parser(data,start);var format=p.parseUShort();var count=p.parseUShort();var stringOffset=p.offset+p.parseUShort();for(var i=0;i<count;i++){var platformID=p.parseUShort();var encodingID=p.parseUShort();var languageID=p.parseUShort();var nameID=p.parseUShort();var property=nameTableNames[nameID]||nameID;var byteLength=p.parseUShort();var offset=p.parseUShort();var language=getLanguageCode(platformID,languageID,ltag);var encoding=getEncoding(platformID,encodingID,languageID);if(encoding!==undefined&&language!==undefined){var text=void 0;if(encoding===utf16){text=decode.UTF16(data,stringOffset+offset,byteLength)}else{text=decode.MACSTRING(data,stringOffset+offset,byteLength,encoding)}if(text){var translations=name[property];if(translations===undefined){translations=name[property]={}}translations[language]=text}}}var langTagCount=0;if(format===1){langTagCount=p.parseUShort()}return name}function reverseDict(dict){var result={};for(var key in dict){result[dict[key]]=parseInt(key)}return result}function makeNameRecord(platformID,encodingID,languageID,nameID,length,offset){return new table.Record("NameRecord",[{name:"platformID",type:"USHORT",value:platformID},{name:"encodingID",type:"USHORT",value:encodingID},{name:"languageID",type:"USHORT",value:languageID},{name:"nameID",type:"USHORT",value:nameID},{name:"length",type:"USHORT",value:length},{name:"offset",type:"USHORT",value:offset}])}function findSubArray(needle,haystack){var needleLength=needle.length;var limit=haystack.length-needleLength+1;loop:for(var pos=0;pos<limit;pos++){for(;pos<limit;pos++){for(var k=0;k<needleLength;k++){if(haystack[pos+k]!==needle[k]){continue loop}}return pos}}return-1}function addStringToPool(s,pool){var offset=findSubArray(s,pool);if(offset<0){offset=pool.length;var i=0;var len=s.length;for(;i<len;++i){pool.push(s[i])}}return offset}function makeNameTable(names,ltag){var nameID;var nameIDs=[];var namesWithNumericKeys={};var nameTableIds=reverseDict(nameTableNames);for(var key in names){var id=nameTableIds[key];if(id===undefined){id=key}nameID=parseInt(id);if(isNaN(nameID)){throw new Error('Name table entry "'+key+'" does not exist, see nameTableNames for complete list.')}namesWithNumericKeys[nameID]=names[key];nameIDs.push(nameID)}var macLanguageIds=reverseDict(macLanguages);var windowsLanguageIds=reverseDict(windowsLanguages);var nameRecords=[];var stringPool=[];for(var i=0;i<nameIDs.length;i++){nameID=nameIDs[i];var translations=namesWithNumericKeys[nameID];for(var lang in translations){var text=translations[lang];var macPlatform=1;var macLanguage=macLanguageIds[lang];var macScript=macLanguageToScript[macLanguage];var macEncoding=getEncoding(macPlatform,macScript,macLanguage);var macName=encode.MACSTRING(text,macEncoding);if(macName===undefined){macPlatform=0;macLanguage=ltag.indexOf(lang);if(macLanguage<0){macLanguage=ltag.length;ltag.push(lang)}macScript=4;macName=encode.UTF16(text)}var macNameOffset=addStringToPool(macName,stringPool);nameRecords.push(makeNameRecord(macPlatform,macScript,macLanguage,nameID,macName.length,macNameOffset));var winLanguage=windowsLanguageIds[lang];if(winLanguage!==undefined){var winName=encode.UTF16(text);var winNameOffset=addStringToPool(winName,stringPool);nameRecords.push(makeNameRecord(3,1,winLanguage,nameID,winName.length,winNameOffset))}}}nameRecords.sort(function(a,b){return a.platformID-b.platformID||a.encodingID-b.encodingID||a.languageID-b.languageID||a.nameID-b.nameID});var t=new table.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:nameRecords.length},{name:"stringOffset",type:"USHORT",value:6+nameRecords.length*12}]);for(var r=0;r<nameRecords.length;r++){t.fields.push({name:"record_"+r,type:"RECORD",value:nameRecords[r]})}t.fields.push({name:"strings",type:"LITERAL",value:stringPool});return t}var _name={parse:parseNameTable,make:makeNameTable};var unicodeRanges=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function getUnicodeRange(unicode){for(var i=0;i<unicodeRanges.length;i+=1){var range=unicodeRanges[i];if(unicode>=range.begin&&unicode<range.end){return i}}return-1}function parseOS2Table(data,start){var os2={};var p=new parse.Parser(data,start);os2.version=p.parseUShort();os2.xAvgCharWidth=p.parseShort();os2.usWeightClass=p.parseUShort();os2.usWidthClass=p.parseUShort();os2.fsType=p.parseUShort();os2.ySubscriptXSize=p.parseShort();os2.ySubscriptYSize=p.parseShort();os2.ySubscriptXOffset=p.parseShort();os2.ySubscriptYOffset=p.parseShort();os2.ySuperscriptXSize=p.parseShort();os2.ySuperscriptYSize=p.parseShort();os2.ySuperscriptXOffset=p.parseShort();os2.ySuperscriptYOffset=p.parseShort();os2.yStrikeoutSize=p.parseShort();os2.yStrikeoutPosition=p.parseShort();os2.sFamilyClass=p.parseShort();os2.panose=[];for(var i=0;i<10;i++){os2.panose[i]=p.parseByte()}os2.ulUnicodeRange1=p.parseULong();os2.ulUnicodeRange2=p.parseULong();os2.ulUnicodeRange3=p.parseULong();os2.ulUnicodeRange4=p.parseULong();os2.achVendID=String.fromCharCode(p.parseByte(),p.parseByte(),p.parseByte(),p.parseByte());os2.fsSelection=p.parseUShort();os2.usFirstCharIndex=p.parseUShort();os2.usLastCharIndex=p.parseUShort();os2.sTypoAscender=p.parseShort();os2.sTypoDescender=p.parseShort();os2.sTypoLineGap=p.parseShort();os2.usWinAscent=p.parseUShort();os2.usWinDescent=p.parseUShort();if(os2.version>=1){os2.ulCodePageRange1=p.parseULong();os2.ulCodePageRange2=p.parseULong()}if(os2.version>=2){os2.sxHeight=p.parseShort();os2.sCapHeight=p.parseShort();os2.usDefaultChar=p.parseUShort();os2.usBreakChar=p.parseUShort();os2.usMaxContent=p.parseUShort()}return os2}function makeOS2Table(options){return new table.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],options)}var os2={parse:parseOS2Table,make:makeOS2Table,unicodeRanges:unicodeRanges,getUnicodeRange:getUnicodeRange};function parsePostTable(data,start){var post={};var p=new parse.Parser(data,start);post.version=p.parseVersion();post.italicAngle=p.parseFixed();post.underlinePosition=p.parseShort();post.underlineThickness=p.parseShort();post.isFixedPitch=p.parseULong();post.minMemType42=p.parseULong();post.maxMemType42=p.parseULong();post.minMemType1=p.parseULong();post.maxMemType1=p.parseULong();switch(post.version){case 1:post.names=standardNames.slice();break;case 2:post.numberOfGlyphs=p.parseUShort();post.glyphNameIndex=new Array(post.numberOfGlyphs);for(var i=0;i<post.numberOfGlyphs;i++){post.glyphNameIndex[i]=p.parseUShort()}post.names=[];for(var i$1=0;i$1<post.numberOfGlyphs;i$1++){if(post.glyphNameIndex[i$1]>=standardNames.length){var nameLength=p.parseChar();post.names.push(p.parseString(nameLength))}}break;case 2.5:post.numberOfGlyphs=p.parseUShort();post.offset=new Array(post.numberOfGlyphs);for(var i$2=0;i$2<post.numberOfGlyphs;i$2++){post.offset[i$2]=p.parseChar()}break}return post}function makePostTable(){return new table.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var post={parse:parsePostTable,make:makePostTable};var subtableParsers=new Array(9);subtableParsers[1]=function parseLookup1(){var start=this.offset+this.relativeOffset;var substFormat=this.parseUShort();if(substFormat===1){return{substFormat:1,coverage:this.parsePointer(Parser.coverage),deltaGlyphId:this.parseUShort()}}else if(substFormat===2){return{substFormat:2,coverage:this.parsePointer(Parser.coverage),substitute:this.parseOffset16List()}}check.assert(false,"0x"+start.toString(16)+": lookup type 1 format must be 1 or 2.")};subtableParsers[2]=function parseLookup2(){var substFormat=this.parseUShort();check.argument(substFormat===1,"GSUB Multiple Substitution Subtable identifier-format must be 1");return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),sequences:this.parseListOfLists()}};subtableParsers[3]=function parseLookup3(){var substFormat=this.parseUShort();check.argument(substFormat===1,"GSUB Alternate Substitution Subtable identifier-format must be 1");return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),alternateSets:this.parseListOfLists()}};subtableParsers[4]=function parseLookup4(){var substFormat=this.parseUShort();check.argument(substFormat===1,"GSUB ligature table identifier-format must be 1");return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var lookupRecordDesc={sequenceIndex:Parser.uShort,lookupListIndex:Parser.uShort};subtableParsers[5]=function parseLookup5(){var start=this.offset+this.relativeOffset;var substFormat=this.parseUShort();if(substFormat===1){return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),ruleSets:this.parseListOfLists(function(){var glyphCount=this.parseUShort();var substCount=this.parseUShort();return{input:this.parseUShortList(glyphCount-1),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}})}}else if(substFormat===2){return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),classDef:this.parsePointer(Parser.classDef),classSets:this.parseListOfLists(function(){var glyphCount=this.parseUShort();var substCount=this.parseUShort();return{classes:this.parseUShortList(glyphCount-1),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}})}}else if(substFormat===3){var glyphCount=this.parseUShort();var substCount=this.parseUShort();return{substFormat:substFormat,coverages:this.parseList(glyphCount,Parser.pointer(Parser.coverage)),lookupRecords:this.parseRecordList(substCount,lookupRecordDesc)}}check.assert(false,"0x"+start.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};subtableParsers[6]=function parseLookup6(){var start=this.offset+this.relativeOffset;var substFormat=this.parseUShort();if(substFormat===1){return{substFormat:1,coverage:this.parsePointer(Parser.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})}}else if(substFormat===2){return{substFormat:2,coverage:this.parsePointer(Parser.coverage),backtrackClassDef:this.parsePointer(Parser.classDef),inputClassDef:this.parsePointer(Parser.classDef),lookaheadClassDef:this.parsePointer(Parser.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(lookupRecordDesc)}})}}else if(substFormat===3){return{substFormat:3,backtrackCoverage:this.parseList(Parser.pointer(Parser.coverage)),inputCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookaheadCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookupRecords:this.parseRecordList(lookupRecordDesc)}}check.assert(false,"0x"+start.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};subtableParsers[7]=function parseLookup7(){var substFormat=this.parseUShort();check.argument(substFormat===1,"GSUB Extension Substitution subtable identifier-format must be 1");var extensionLookupType=this.parseUShort();var extensionParser=new Parser(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:extensionLookupType,extension:subtableParsers[extensionLookupType].call(extensionParser)}};subtableParsers[8]=function parseLookup8(){var substFormat=this.parseUShort();check.argument(substFormat===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1");return{substFormat:substFormat,coverage:this.parsePointer(Parser.coverage),backtrackCoverage:this.parseList(Parser.pointer(Parser.coverage)),lookaheadCoverage:this.parseList(Parser.pointer(Parser.coverage)),substitutes:this.parseUShortList()}};function parseGsubTable(data,start){start=start||0;var p=new Parser(data,start);var tableVersion=p.parseVersion(1);check.argument(tableVersion===1||tableVersion===1.1,"Unsupported GSUB table version.");if(tableVersion===1){return{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers)}}else{return{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers),variations:p.parseFeatureVariationsList()}}}var subtableMakers=new Array(9);subtableMakers[1]=function makeLookup1(subtable){if(subtable.substFormat===1){return new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(subtable.coverage)},{name:"deltaGlyphID",type:"USHORT",value:subtable.deltaGlyphId}])}else{return new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new table.Coverage(subtable.coverage)}].concat(table.ushortList("substitute",subtable.substitute)))}check.fail("Lookup type 1 substFormat must be 1 or 2.")};subtableMakers[3]=function makeLookup3(subtable){check.assert(subtable.substFormat===1,"Lookup type 3 substFormat must be 1.");return new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(subtable.coverage)}].concat(table.tableList("altSet",subtable.alternateSets,function(alternateSet){return new table.Table("alternateSetTable",table.ushortList("alternate",alternateSet))})))};subtableMakers[4]=function makeLookup4(subtable){check.assert(subtable.substFormat===1,"Lookup type 4 substFormat must be 1.");return new table.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new table.Coverage(subtable.coverage)}].concat(table.tableList("ligSet",subtable.ligatureSets,function(ligatureSet){return new table.Table("ligatureSetTable",table.tableList("ligature",ligatureSet,function(ligature){return new table.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:ligature.ligGlyph}].concat(table.ushortList("component",ligature.components,ligature.components.length+1)))}))})))};function makeGsubTable(gsub){return new table.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new table.ScriptList(gsub.scripts)},{name:"features",type:"TABLE",value:new table.FeatureList(gsub.features)},{name:"lookups",type:"TABLE",value:new table.LookupList(gsub.lookups,subtableMakers)}])}var gsub={parse:parseGsubTable,make:makeGsubTable};function parseMetaTable(data,start){var p=new parse.Parser(data,start);var tableVersion=p.parseULong();check.argument(tableVersion===1,"Unsupported META table version.");p.parseULong();p.parseULong();var numDataMaps=p.parseULong();var tags={};for(var i=0;i<numDataMaps;i++){var tag=p.parseTag();var dataOffset=p.parseULong();var dataLength=p.parseULong();var text=decode.UTF8(data,start+dataOffset,dataLength);tags[tag]=text}return tags}function makeMetaTable(tags){var numTags=Object.keys(tags).length;var stringPool="";var stringPoolOffset=16+numTags*12;var result=new table.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:stringPoolOffset},{name:"numTags",type:"ULONG",value:numTags}]);for(var tag in tags){var pos=stringPool.length;stringPool+=tags[tag];result.fields.push({name:"tag "+tag,type:"TAG",value:tag});result.fields.push({name:"offset "+tag,type:"ULONG",value:stringPoolOffset+pos});result.fields.push({name:"length "+tag,type:"ULONG",value:tags[tag].length})}result.fields.push({name:"stringPool",type:"CHARARRAY",value:stringPool});return result}var meta={parse:parseMetaTable,make:makeMetaTable};function log2(v){return Math.log(v)/Math.log(2)|0}function computeCheckSum(bytes){while(bytes.length%4!==0){bytes.push(0)}var sum=0;for(var i=0;i<bytes.length;i+=4){sum+=(bytes[i]<<24)+(bytes[i+1]<<16)+(bytes[i+2]<<8)+bytes[i+3]}sum%=Math.pow(2,32);return sum}function makeTableRecord(tag,checkSum,offset,length){return new table.Record("Table Record",[{name:"tag",type:"TAG",value:tag!==undefined?tag:""},{name:"checkSum",type:"ULONG",value:checkSum!==undefined?checkSum:0},{name:"offset",type:"ULONG",value:offset!==undefined?offset:0},{name:"length",type:"ULONG",value:length!==undefined?length:0}])}function makeSfntTable(tables){var sfnt=new table.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);sfnt.tables=tables;sfnt.numTables=tables.length;var highestPowerOf2=Math.pow(2,log2(sfnt.numTables));sfnt.searchRange=16*highestPowerOf2;sfnt.entrySelector=log2(highestPowerOf2);sfnt.rangeShift=sfnt.numTables*16-sfnt.searchRange;var recordFields=[];var tableFields=[];var offset=sfnt.sizeOf()+makeTableRecord().sizeOf()*sfnt.numTables;while(offset%4!==0){offset+=1;tableFields.push({name:"padding",type:"BYTE",value:0})}for(var i=0;i<tables.length;i+=1){var t=tables[i];check.argument(t.tableName.length===4,"Table name"+t.tableName+" is invalid.");var tableLength=t.sizeOf();var tableRecord=makeTableRecord(t.tableName,computeCheckSum(t.encode()),offset,tableLength);recordFields.push({name:tableRecord.tag+" Table Record",type:"RECORD",value:tableRecord});tableFields.push({name:t.tableName+" table",type:"RECORD",value:t});offset+=tableLength;check.argument(!isNaN(offset),"Something went wrong calculating the offset.");while(offset%4!==0){offset+=1;tableFields.push({name:"padding",type:"BYTE",value:0})}}recordFields.sort(function(r1,r2){if(r1.value.tag>r2.value.tag){return 1}else{return-1}});sfnt.fields=sfnt.fields.concat(recordFields);sfnt.fields=sfnt.fields.concat(tableFields);return sfnt}function metricsForChar(font,chars,notFoundMetrics){for(var i=0;i<chars.length;i+=1){var glyphIndex=font.charToGlyphIndex(chars[i]);if(glyphIndex>0){var glyph=font.glyphs.get(glyphIndex);return glyph.getMetrics()}}return notFoundMetrics}function average(vs){var sum=0;for(var i=0;i<vs.length;i+=1){sum+=vs[i]}return sum/vs.length}function fontToSfntTable(font){var xMins=[];var yMins=[];var xMaxs=[];var yMaxs=[];var advanceWidths=[];var leftSideBearings=[];var rightSideBearings=[];var firstCharIndex;var lastCharIndex=0;var ulUnicodeRange1=0;var ulUnicodeRange2=0;var ulUnicodeRange3=0;var ulUnicodeRange4=0;for(var i=0;i<font.glyphs.length;i+=1){var glyph=font.glyphs.get(i);var unicode=glyph.unicode|0;if(isNaN(glyph.advanceWidth)){throw new Error("Glyph "+glyph.name+" ("+i+"): advanceWidth is not a number.")}if(firstCharIndex>unicode||firstCharIndex===undefined){if(unicode>0){firstCharIndex=unicode}}if(lastCharIndex<unicode){lastCharIndex=unicode}var position=os2.getUnicodeRange(unicode);if(position<32){ulUnicodeRange1|=1<<position}else if(position<64){ulUnicodeRange2|=1<<position-32}else if(position<96){ulUnicodeRange3|=1<<position-64}else if(position<123){ulUnicodeRange4|=1<<position-96}else{throw new Error("Unicode ranges bits > 123 are reserved for internal usage")}if(glyph.name===".notdef"){continue}var metrics=glyph.getMetrics();xMins.push(metrics.xMin);yMins.push(metrics.yMin);xMaxs.push(metrics.xMax);yMaxs.push(metrics.yMax);leftSideBearings.push(metrics.leftSideBearing);rightSideBearings.push(metrics.rightSideBearing);advanceWidths.push(glyph.advanceWidth)}var globals={xMin:Math.min.apply(null,xMins),yMin:Math.min.apply(null,yMins),xMax:Math.max.apply(null,xMaxs),yMax:Math.max.apply(null,yMaxs),advanceWidthMax:Math.max.apply(null,advanceWidths),advanceWidthAvg:average(advanceWidths),minLeftSideBearing:Math.min.apply(null,leftSideBearings),maxLeftSideBearing:Math.max.apply(null,leftSideBearings),minRightSideBearing:Math.min.apply(null,rightSideBearings)};globals.ascender=font.ascender;globals.descender=font.descender;var headTable=head.make({flags:3,unitsPerEm:font.unitsPerEm,xMin:globals.xMin,yMin:globals.yMin,xMax:globals.xMax,yMax:globals.yMax,lowestRecPPEM:3,createdTimestamp:font.createdTimestamp});var hheaTable=hhea.make({ascender:globals.ascender,descender:globals.descender,advanceWidthMax:globals.advanceWidthMax,minLeftSideBearing:globals.minLeftSideBearing,minRightSideBearing:globals.minRightSideBearing,xMaxExtent:globals.maxLeftSideBearing+(globals.xMax-globals.xMin),numberOfHMetrics:font.glyphs.length});var maxpTable=maxp.make(font.glyphs.length);var os2Table=os2.make({xAvgCharWidth:Math.round(globals.advanceWidthAvg),usWeightClass:font.tables.os2.usWeightClass,usWidthClass:font.tables.os2.usWidthClass,usFirstCharIndex:firstCharIndex,usLastCharIndex:lastCharIndex,ulUnicodeRange1:ulUnicodeRange1,ulUnicodeRange2:ulUnicodeRange2,ulUnicodeRange3:ulUnicodeRange3,ulUnicodeRange4:ulUnicodeRange4,fsSelection:font.tables.os2.fsSelection,sTypoAscender:globals.ascender,sTypoDescender:globals.descender,sTypoLineGap:0,usWinAscent:globals.yMax,usWinDescent:Math.abs(globals.yMin),ulCodePageRange1:1,sxHeight:metricsForChar(font,"xyvw",{yMax:Math.round(globals.ascender/2)}).yMax,sCapHeight:metricsForChar(font,"HIKLEFJMNTZBDPRAGOQSUVWXY",globals).yMax,usDefaultChar:font.hasChar(" ")?32:0,usBreakChar:font.hasChar(" ")?32:0});var hmtxTable=hmtx.make(font.glyphs);var cmapTable=cmap.make(font.glyphs);var englishFamilyName=font.getEnglishName("fontFamily");var englishStyleName=font.getEnglishName("fontSubfamily");var englishFullName=englishFamilyName+" "+englishStyleName;var postScriptName=font.getEnglishName("postScriptName");if(!postScriptName){postScriptName=englishFamilyName.replace(/\s/g,"")+"-"+englishStyleName}var names={};for(var n in font.names){names[n]=font.names[n]}if(!names.uniqueID){names.uniqueID={en:font.getEnglishName("manufacturer")+":"+englishFullName}}if(!names.postScriptName){names.postScriptName={en:postScriptName}}if(!names.preferredFamily){names.preferredFamily=font.names.fontFamily}if(!names.preferredSubfamily){names.preferredSubfamily=font.names.fontSubfamily}var languageTags=[];var nameTable=_name.make(names,languageTags);var ltagTable=languageTags.length>0?ltag.make(languageTags):undefined;var postTable=post.make();var cffTable=cff.make(font.glyphs,{version:font.getEnglishName("version"),fullName:englishFullName,familyName:englishFamilyName,weightName:englishStyleName,postScriptName:postScriptName,unitsPerEm:font.unitsPerEm,fontBBox:[0,globals.yMin,globals.ascender,globals.advanceWidthMax]});var metaTable=font.metas&&Object.keys(font.metas).length>0?meta.make(font.metas):undefined;var tables=[headTable,hheaTable,maxpTable,os2Table,nameTable,cmapTable,postTable,cffTable,hmtxTable];if(ltagTable){tables.push(ltagTable)}if(font.tables.gsub){tables.push(gsub.make(font.tables.gsub))}if(metaTable){tables.push(metaTable)}var sfntTable=makeSfntTable(tables);var bytes=sfntTable.encode();var checkSum=computeCheckSum(bytes);var tableFields=sfntTable.fields;var checkSumAdjusted=false;for(var i$1=0;i$1<tableFields.length;i$1+=1){if(tableFields[i$1].name==="head table"){tableFields[i$1].value.checkSumAdjustment=2981146554-checkSum;checkSumAdjusted=true;break}}if(!checkSumAdjusted){throw new Error("Could not find head table with checkSum to adjust.")}return sfntTable}var sfnt={make:makeSfntTable,fontToTable:fontToSfntTable,computeCheckSum:computeCheckSum};function searchTag(arr,tag){var imin=0;var imax=arr.length-1;while(imin<=imax){var imid=imin+imax>>>1;var val=arr[imid].tag;if(val===tag){return imid}else if(val<tag){imin=imid+1}else{imax=imid-1}}return-imin-1}function binSearch(arr,value){var imin=0;var imax=arr.length-1;while(imin<=imax){var imid=imin+imax>>>1;var val=arr[imid];if(val===value){return imid}else if(val<value){imin=imid+1}else{imax=imid-1}}return-imin-1}function searchRange(ranges,value){var range;var imin=0;var imax=ranges.length-1;while(imin<=imax){var imid=imin+imax>>>1;range=ranges[imid];var start=range.start;if(start===value){return range}else if(start<value){imin=imid+1}else{imax=imid-1}}if(imin>0){range=ranges[imin-1];if(value>range.end){return 0}return range}}function Layout(font,tableName){this.font=font;this.tableName=tableName}Layout.prototype={searchTag:searchTag,binSearch:binSearch,getTable:function(create){var layout=this.font.tables[this.tableName];if(!layout&&create){layout=this.font.tables[this.tableName]=this.createDefaultTable()}return layout},getScriptNames:function(){var layout=this.getTable();if(!layout){return[]}return layout.scripts.map(function(script){return script.tag})},getDefaultScriptName:function(){var layout=this.getTable();if(!layout){return}var hasLatn=false;for(var i=0;i<layout.scripts.length;i++){var name=layout.scripts[i].tag;if(name==="DFLT"){return name}if(name==="latn"){hasLatn=true}}if(hasLatn){return"latn"}},getScriptTable:function(script,create){var layout=this.getTable(create);if(layout){script=script||"DFLT";var scripts=layout.scripts;var pos=searchTag(layout.scripts,script);if(pos>=0){return scripts[pos].script}else if(create){var scr={tag:script,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};scripts.splice(-1-pos,0,scr);return scr.script}}},getLangSysTable:function(script,language,create){var scriptTable=this.getScriptTable(script,create);if(scriptTable){if(!language||language==="dflt"||language==="DFLT"){return scriptTable.defaultLangSys}var pos=searchTag(scriptTable.langSysRecords,language);if(pos>=0){return scriptTable.langSysRecords[pos].langSys}else if(create){var langSysRecord={tag:language,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};scriptTable.langSysRecords.splice(-1-pos,0,langSysRecord);return langSysRecord.langSys}}},getFeatureTable:function(script,language,feature,create){var langSysTable=this.getLangSysTable(script,language,create);if(langSysTable){var featureRecord;var featIndexes=langSysTable.featureIndexes;var allFeatures=this.font.tables[this.tableName].features;for(var i=0;i<featIndexes.length;i++){featureRecord=allFeatures[featIndexes[i]];if(featureRecord.tag===feature){return featureRecord.feature}}if(create){var index=allFeatures.length;check.assert(index===0||feature>=allFeatures[index-1].tag,"Features must be added in alphabetical order.");featureRecord={tag:feature,feature:{params:0,lookupListIndexes:[]}};allFeatures.push(featureRecord);featIndexes.push(index);return featureRecord.feature}}},getLookupTables:function(script,language,feature,lookupType,create){var featureTable=this.getFeatureTable(script,language,feature,create);var tables=[];if(featureTable){var lookupTable;var lookupListIndexes=featureTable.lookupListIndexes;var allLookups=this.font.tables[this.tableName].lookups;for(var i=0;i<lookupListIndexes.length;i++){lookupTable=allLookups[lookupListIndexes[i]];if(lookupTable.lookupType===lookupType){tables.push(lookupTable)}}if(tables.length===0&&create){lookupTable={lookupType:lookupType,lookupFlag:0,subtables:[],markFilteringSet:undefined};var index=allLookups.length;allLookups.push(lookupTable);lookupListIndexes.push(index);return[lookupTable]}}return tables},getGlyphClass:function(classDefTable,glyphIndex){switch(classDefTable.format){case 1:if(classDefTable.startGlyph<=glyphIndex&&glyphIndex<classDefTable.startGlyph+classDefTable.classes.length){return classDefTable.classes[glyphIndex-classDefTable.startGlyph]}return 0;case 2:var range=searchRange(classDefTable.ranges,glyphIndex);return range?range.classId:0}},getCoverageIndex:function(coverageTable,glyphIndex){switch(coverageTable.format){case 1:var index=binSearch(coverageTable.glyphs,glyphIndex);return index>=0?index:-1;case 2:var range=searchRange(coverageTable.ranges,glyphIndex);return range?range.index+glyphIndex-range.start:-1}},expandCoverage:function(coverageTable){if(coverageTable.format===1){return coverageTable.glyphs}else{var glyphs=[];var ranges=coverageTable.ranges;for(var i=0;i<ranges.length;i++){var range=ranges[i];var start=range.start;var end=range.end;for(var j=start;j<=end;j++){glyphs.push(j)}}return glyphs}}};function Position(font){Layout.call(this,font,"gpos")}Position.prototype=Layout.prototype;Position.prototype.init=function(){var script=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(script)};Position.prototype.getKerningValue=function(kerningLookups,leftIndex,rightIndex){var this$1=this;for(var i=0;i<kerningLookups.length;i++){var subtables=kerningLookups[i].subtables;for(var j=0;j<subtables.length;j++){var subtable=subtables[j];var covIndex=this$1.getCoverageIndex(subtable.coverage,leftIndex);if(covIndex<0){continue}switch(subtable.posFormat){case 1:var pairSet=subtable.pairSets[covIndex];for(var k=0;k<pairSet.length;k++){var pair=pairSet[k];if(pair.secondGlyph===rightIndex){return pair.value1&&pair.value1.xAdvance||0}}break;case 2:var class1=this$1.getGlyphClass(subtable.classDef1,leftIndex);var class2=this$1.getGlyphClass(subtable.classDef2,rightIndex);var pair$1=subtable.classRecords[class1][class2];return pair$1.value1&&pair$1.value1.xAdvance||0}}}return 0};Position.prototype.getKerningTables=function(script,language){if(this.font.tables.gpos){return this.getLookupTables(script,language,"kern",2)}};function Substitution(font){Layout.call(this,font,"gsub")}function arraysEqual(ar1,ar2){var n=ar1.length;if(n!==ar2.length){return false}for(var i=0;i<n;i++){if(ar1[i]!==ar2[i]){return false}}return true}function getSubstFormat(lookupTable,format,defaultSubtable){var subtables=lookupTable.subtables;for(var i=0;i<subtables.length;i++){var subtable=subtables[i];if(subtable.substFormat===format){return subtable}}if(defaultSubtable){subtables.push(defaultSubtable);return defaultSubtable}return undefined}Substitution.prototype=Layout.prototype;Substitution.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Substitution.prototype.getSingle=function(feature,script,language){var this$1=this;var substitutions=[];var lookupTables=this.getLookupTables(script,language,feature,1);for(var idx=0;idx<lookupTables.length;idx++){var subtables=lookupTables[idx].subtables;for(var i=0;i<subtables.length;i++){var subtable=subtables[i];var glyphs=this$1.expandCoverage(subtable.coverage);var j=void 0;if(subtable.substFormat===1){var delta=subtable.deltaGlyphId;for(j=0;j<glyphs.length;j++){var glyph=glyphs[j];substitutions.push({sub:glyph,by:glyph+delta})}}else{var substitute=subtable.substitute;for(j=0;j<glyphs.length;j++){substitutions.push({sub:glyphs[j],by:substitute[j]})}}}}return substitutions};Substitution.prototype.getAlternates=function(feature,script,language){var this$1=this;var alternates=[];var lookupTables=this.getLookupTables(script,language,feature,3);for(var idx=0;idx<lookupTables.length;idx++){var subtables=lookupTables[idx].subtables;for(var i=0;i<subtables.length;i++){var subtable=subtables[i];var glyphs=this$1.expandCoverage(subtable.coverage);var alternateSets=subtable.alternateSets;for(var j=0;j<glyphs.length;j++){alternates.push({sub:glyphs[j],by:alternateSets[j]})}}}return alternates};Substitution.prototype.getLigatures=function(feature,script,language){var this$1=this;var ligatures=[];var lookupTables=this.getLookupTables(script,language,feature,4);for(var idx=0;idx<lookupTables.length;idx++){var subtables=lookupTables[idx].subtables;for(var i=0;i<subtables.length;i++){var subtable=subtables[i];var glyphs=this$1.expandCoverage(subtable.coverage);var ligatureSets=subtable.ligatureSets;for(var j=0;j<glyphs.length;j++){var startGlyph=glyphs[j];var ligSet=ligatureSets[j];for(var k=0;k<ligSet.length;k++){var lig=ligSet[k];ligatures.push({sub:[startGlyph].concat(lig.components),by:lig.ligGlyph})}}}}return ligatures};Substitution.prototype.addSingle=function(feature,substitution,script,language){var lookupTable=this.getLookupTables(script,language,feature,1,true)[0];var subtable=getSubstFormat(lookupTable,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});check.assert(subtable.coverage.format===1,"Ligature: unable to modify coverage table format "+subtable.coverage.format);var coverageGlyph=substitution.sub;var pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);if(pos<0){pos=-1-pos;subtable.coverage.glyphs.splice(pos,0,coverageGlyph);subtable.substitute.splice(pos,0,0)}subtable.substitute[pos]=substitution.by};Substitution.prototype.addAlternate=function(feature,substitution,script,language){var lookupTable=this.getLookupTables(script,language,feature,3,true)[0];var subtable=getSubstFormat(lookupTable,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});check.assert(subtable.coverage.format===1,"Ligature: unable to modify coverage table format "+subtable.coverage.format);var coverageGlyph=substitution.sub;var pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);if(pos<0){pos=-1-pos;subtable.coverage.glyphs.splice(pos,0,coverageGlyph);subtable.alternateSets.splice(pos,0,0)}subtable.alternateSets[pos]=substitution.by};Substitution.prototype.addLigature=function(feature,ligature,script,language){var lookupTable=this.getLookupTables(script,language,feature,4,true)[0];var subtable=lookupTable.subtables[0];if(!subtable){subtable={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]};lookupTable.subtables[0]=subtable}check.assert(subtable.coverage.format===1,"Ligature: unable to modify coverage table format "+subtable.coverage.format);var coverageGlyph=ligature.sub[0];var ligComponents=ligature.sub.slice(1);var ligatureTable={ligGlyph:ligature.by,components:ligComponents};var pos=this.binSearch(subtable.coverage.glyphs,coverageGlyph);if(pos>=0){var ligatureSet=subtable.ligatureSets[pos];for(var i=0;i<ligatureSet.length;i++){if(arraysEqual(ligatureSet[i].components,ligComponents)){return}}ligatureSet.push(ligatureTable)}else{pos=-1-pos;subtable.coverage.glyphs.splice(pos,0,coverageGlyph);subtable.ligatureSets.splice(pos,0,[ligatureTable])}};Substitution.prototype.getFeature=function(feature,script,language){if(/ss\d\d/.test(feature)){return this.getSingle(feature,script,language)}switch(feature){case"aalt":case"salt":return this.getSingle(feature,script,language).concat(this.getAlternates(feature,script,language));case"dlig":case"liga":case"rlig":return this.getLigatures(feature,script,language)}return undefined};Substitution.prototype.add=function(feature,sub,script,language){if(/ss\d\d/.test(feature)){return this.addSingle(feature,sub,script,language)}switch(feature){case"aalt":case"salt":if(typeof sub.by==="number"){return this.addSingle(feature,sub,script,language)}return this.addAlternate(feature,sub,script,language);case"dlig":case"liga":case"rlig":return this.addLigature(feature,sub,script,language)}return undefined};function isBrowser(){return typeof window!=="undefined"}function nodeBufferToArrayBuffer(buffer){var ab=new ArrayBuffer(buffer.length);var view=new Uint8Array(ab);for(var i=0;i<buffer.length;++i){view[i]=buffer[i]}return ab}function arrayBufferToNodeBuffer(ab){var buffer=new Buffer(ab.byteLength);var view=new Uint8Array(ab);for(var i=0;i<buffer.length;++i){buffer[i]=view[i]}return buffer}function checkArgument(expression,message){if(!expression){throw message}}function parseGlyphCoordinate(p,flag,previousValue,shortVectorBitMask,sameBitMask){var v;if((flag&shortVectorBitMask)>0){v=p.parseByte();if((flag&sameBitMask)===0){v=-v}v=previousValue+v}else{if((flag&sameBitMask)>0){v=previousValue}else{v=previousValue+p.parseShort()}}return v}function parseGlyph(glyph,data,start){var p=new parse.Parser(data,start);glyph.numberOfContours=p.parseShort();glyph._xMin=p.parseShort();glyph._yMin=p.parseShort();glyph._xMax=p.parseShort();glyph._yMax=p.parseShort();var flags;var flag;if(glyph.numberOfContours>0){var endPointIndices=glyph.endPointIndices=[];for(var i=0;i<glyph.numberOfContours;i+=1){endPointIndices.push(p.parseUShort())}glyph.instructionLength=p.parseUShort();glyph.instructions=[];for(var i$1=0;i$1<glyph.instructionLength;i$1+=1){glyph.instructions.push(p.parseByte())}var numberOfCoordinates=endPointIndices[endPointIndices.length-1]+1;flags=[];for(var i$2=0;i$2<numberOfCoordinates;i$2+=1){flag=p.parseByte();flags.push(flag);if((flag&8)>0){var repeatCount=p.parseByte();for(var j=0;j<repeatCount;j+=1){flags.push(flag);i$2+=1}}}check.argument(flags.length===numberOfCoordinates,"Bad flags.");if(endPointIndices.length>0){var points=[];var point;if(numberOfCoordinates>0){for(var i$3=0;i$3<numberOfCoordinates;i$3+=1){flag=flags[i$3];point={};point.onCurve=!!(flag&1);point.lastPointOfContour=endPointIndices.indexOf(i$3)>=0;points.push(point)}var px=0;for(var i$4=0;i$4<numberOfCoordinates;i$4+=1){flag=flags[i$4];point=points[i$4];point.x=parseGlyphCoordinate(p,flag,px,2,16);px=point.x}var py=0;for(var i$5=0;i$5<numberOfCoordinates;i$5+=1){flag=flags[i$5];point=points[i$5];point.y=parseGlyphCoordinate(p,flag,py,4,32);py=point.y}}glyph.points=points}else{glyph.points=[]}}else if(glyph.numberOfContours===0){glyph.points=[]}else{glyph.isComposite=true;glyph.points=[];glyph.components=[];var moreComponents=true;while(moreComponents){flags=p.parseUShort();var component={glyphIndex:p.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};if((flags&1)>0){if((flags&2)>0){component.dx=p.parseShort();component.dy=p.parseShort()}else{component.matchedPoints=[p.parseUShort(),p.parseUShort()]}}else{if((flags&2)>0){component.dx=p.parseChar();component.dy=p.parseChar()}else{component.matchedPoints=[p.parseByte(),p.parseByte()]}}if((flags&8)>0){component.xScale=component.yScale=p.parseF2Dot14()}else if((flags&64)>0){component.xScale=p.parseF2Dot14();component.yScale=p.parseF2Dot14()}else if((flags&128)>0){component.xScale=p.parseF2Dot14();component.scale01=p.parseF2Dot14();component.scale10=p.parseF2Dot14();component.yScale=p.parseF2Dot14()}glyph.components.push(component);moreComponents=!!(flags&32)}if(flags&256){glyph.instructionLength=p.parseUShort();glyph.instructions=[];for(var i$6=0;i$6<glyph.instructionLength;i$6+=1){glyph.instructions.push(p.parseByte())}}}}function transformPoints(points,transform){var newPoints=[];for(var i=0;i<points.length;i+=1){var pt=points[i];var newPt={x:transform.xScale*pt.x+transform.scale01*pt.y+transform.dx,y:transform.scale10*pt.x+transform.yScale*pt.y+transform.dy,onCurve:pt.onCurve,lastPointOfContour:pt.lastPointOfContour};newPoints.push(newPt)}return newPoints}function getContours(points){var contours=[];var currentContour=[];for(var i=0;i<points.length;i+=1){var pt=points[i];currentContour.push(pt);if(pt.lastPointOfContour){contours.push(currentContour);currentContour=[]}}check.argument(currentContour.length===0,"There are still points left in the current contour.");return contours}function getPath(points){var p=new Path;if(!points){return p}var contours=getContours(points);for(var contourIndex=0;contourIndex<contours.length;++contourIndex){var contour=contours[contourIndex];var prev=null;var curr=contour[contour.length-1];var next=contour[0];if(curr.onCurve){p.moveTo(curr.x,curr.y)}else{if(next.onCurve){p.moveTo(next.x,next.y)}else{var start={x:(curr.x+next.x)*.5,y:(curr.y+next.y)*.5};p.moveTo(start.x,start.y)}}for(var i=0;i<contour.length;++i){prev=curr;curr=next;next=contour[(i+1)%contour.length];if(curr.onCurve){p.lineTo(curr.x,curr.y)}else{var prev2=prev;var next2=next;if(!prev.onCurve){prev2={x:(curr.x+prev.x)*.5,y:(curr.y+prev.y)*.5}}if(!next.onCurve){next2={x:(curr.x+next.x)*.5,y:(curr.y+next.y)*.5}}p.quadraticCurveTo(curr.x,curr.y,next2.x,next2.y)}}p.closePath()}return p}function buildPath(glyphs,glyph){if(glyph.isComposite){for(var j=0;j<glyph.components.length;j+=1){var component=glyph.components[j];var componentGlyph=glyphs.get(component.glyphIndex);componentGlyph.getPath();if(componentGlyph.points){var transformedPoints=void 0;if(component.matchedPoints===undefined){transformedPoints=transformPoints(componentGlyph.points,component)}else{if(component.matchedPoints[0]>glyph.points.length-1||component.matchedPoints[1]>componentGlyph.points.length-1){throw Error("Matched points out of range in "+glyph.name)}var firstPt=glyph.points[component.matchedPoints[0]];var secondPt=componentGlyph.points[component.matchedPoints[1]];var transform={xScale:component.xScale,scale01:component.scale01,scale10:component.scale10,yScale:component.yScale,dx:0,dy:0};secondPt=transformPoints([secondPt],transform)[0];transform.dx=firstPt.x-secondPt.x;transform.dy=firstPt.y-secondPt.y;transformedPoints=transformPoints(componentGlyph.points,transform)}glyph.points=glyph.points.concat(transformedPoints)}}}return getPath(glyph.points)}function parseGlyfTable(data,start,loca,font){var glyphs=new glyphset.GlyphSet(font);for(var i=0;i<loca.length-1;i+=1){var offset=loca[i];var nextOffset=loca[i+1];if(offset!==nextOffset){glyphs.push(i,glyphset.ttfGlyphLoader(font,i,parseGlyph,data,start+offset,buildPath))}else{glyphs.push(i,glyphset.glyphLoader(font,i))}}return glyphs}var glyf={getPath:getPath,parse:parseGlyfTable};var instructionTable;var exec;var execGlyph;var execComponent;function Hinting(font){this.font=font;this.getCommands=function(hPoints){return glyf.getPath(hPoints).commands};this._fpgmState=this._prepState=undefined;this._errorState=0}function roundOff(v){return v}function roundToGrid(v){return Math.sign(v)*Math.round(Math.abs(v))}function roundToDoubleGrid(v){return Math.sign(v)*Math.round(Math.abs(v*2))/2}function roundToHalfGrid(v){return Math.sign(v)*(Math.round(Math.abs(v)+.5)-.5)}function roundUpToGrid(v){return Math.sign(v)*Math.ceil(Math.abs(v))}function roundDownToGrid(v){return Math.sign(v)*Math.floor(Math.abs(v))}var roundSuper=function(v){var period=this.srPeriod;var phase=this.srPhase;var threshold=this.srThreshold;var sign=1;if(v<0){v=-v;sign=-1}v+=threshold-phase;v=Math.trunc(v/period)*period;v+=phase;if(v<0){return phase*sign}return v*sign};var xUnitVector={x:1,y:0,axis:"x",distance:function(p1,p2,o1,o2){return(o1?p1.xo:p1.x)-(o2?p2.xo:p2.x)},interpolate:function(p,rp1,rp2,pv){var do1;var do2;var doa1;var doa2;var dm1;var dm2;var dt;if(!pv||pv===this){do1=p.xo-rp1.xo;do2=p.xo-rp2.xo;dm1=rp1.x-rp1.xo;dm2=rp2.x-rp2.xo;doa1=Math.abs(do1);doa2=Math.abs(do2);dt=doa1+doa2;if(dt===0){p.x=p.xo+(dm1+dm2)/2;return}p.x=p.xo+(dm1*doa2+dm2*doa1)/dt;return}do1=pv.distance(p,rp1,true,true);do2=pv.distance(p,rp2,true,true);dm1=pv.distance(rp1,rp1,false,true);dm2=pv.distance(rp2,rp2,false,true);doa1=Math.abs(do1);doa2=Math.abs(do2);dt=doa1+doa2;if(dt===0){xUnitVector.setRelative(p,p,(dm1+dm2)/2,pv,true);return}xUnitVector.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,true)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(p,rp,d,pv,org){if(!pv||pv===this){p.x=(org?rp.xo:rp.x)+d;return}var rpx=org?rp.xo:rp.x;var rpy=org?rp.yo:rp.y;var rpdx=rpx+d*pv.x;var rpdy=rpy+d*pv.y;p.x=rpdx+(p.y-rpdy)/pv.normalSlope},slope:0,touch:function(p){p.xTouched=true},touched:function(p){return p.xTouched},untouch:function(p){p.xTouched=false}};var yUnitVector={x:0,y:1,axis:"y",distance:function(p1,p2,o1,o2){return(o1?p1.yo:p1.y)-(o2?p2.yo:p2.y)},interpolate:function(p,rp1,rp2,pv){var do1;var do2;var doa1;var doa2;var dm1;var dm2;var dt;if(!pv||pv===this){do1=p.yo-rp1.yo;do2=p.yo-rp2.yo;dm1=rp1.y-rp1.yo;dm2=rp2.y-rp2.yo;doa1=Math.abs(do1);doa2=Math.abs(do2);dt=doa1+doa2;if(dt===0){p.y=p.yo+(dm1+dm2)/2;return}p.y=p.yo+(dm1*doa2+dm2*doa1)/dt;return}do1=pv.distance(p,rp1,true,true);do2=pv.distance(p,rp2,true,true);dm1=pv.distance(rp1,rp1,false,true);dm2=pv.distance(rp2,rp2,false,true);doa1=Math.abs(do1);doa2=Math.abs(do2);dt=doa1+doa2;if(dt===0){yUnitVector.setRelative(p,p,(dm1+dm2)/2,pv,true);return}yUnitVector.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,true)},normalSlope:0,setRelative:function(p,rp,d,pv,org){if(!pv||pv===this){p.y=(org?rp.yo:rp.y)+d;return}var rpx=org?rp.xo:rp.x;var rpy=org?rp.yo:rp.y;var rpdx=rpx+d*pv.x;var rpdy=rpy+d*pv.y;p.y=rpdy+pv.normalSlope*(p.x-rpdx)},slope:Number.POSITIVE_INFINITY,touch:function(p){p.yTouched=true},touched:function(p){return p.yTouched},untouch:function(p){p.yTouched=false}};Object.freeze(xUnitVector);Object.freeze(yUnitVector);function UnitVector(x,y){this.x=x;this.y=y;this.axis=undefined;this.slope=y/x;this.normalSlope=-x/y;Object.freeze(this)}UnitVector.prototype.distance=function(p1,p2,o1,o2){return this.x*xUnitVector.distance(p1,p2,o1,o2)+this.y*yUnitVector.distance(p1,p2,o1,o2)};UnitVector.prototype.interpolate=function(p,rp1,rp2,pv){var dm1;var dm2;var do1;var do2;var doa1;var doa2;var dt;do1=pv.distance(p,rp1,true,true);do2=pv.distance(p,rp2,true,true);dm1=pv.distance(rp1,rp1,false,true);dm2=pv.distance(rp2,rp2,false,true);doa1=Math.abs(do1);doa2=Math.abs(do2);dt=doa1+doa2;if(dt===0){this.setRelative(p,p,(dm1+dm2)/2,pv,true);return}this.setRelative(p,p,(dm1*doa2+dm2*doa1)/dt,pv,true)};UnitVector.prototype.setRelative=function(p,rp,d,pv,org){pv=pv||this;var rpx=org?rp.xo:rp.x;var rpy=org?rp.yo:rp.y;var rpdx=rpx+d*pv.x;var rpdy=rpy+d*pv.y;var pvns=pv.normalSlope;var fvs=this.slope;var px=p.x;var py=p.y;p.x=(fvs*px-pvns*rpdx+rpdy-py)/(fvs-pvns);p.y=fvs*(p.x-px)+py};UnitVector.prototype.touch=function(p){p.xTouched=true;p.yTouched=true};function getUnitVector(x,y){var d=Math.sqrt(x*x+y*y);x/=d;y/=d;if(x===1&&y===0){return xUnitVector}else if(x===0&&y===1){return yUnitVector}else{return new UnitVector(x,y)}}function HPoint(x,y,lastPointOfContour,onCurve){this.x=this.xo=Math.round(x*64)/64;this.y=this.yo=Math.round(y*64)/64;this.lastPointOfContour=lastPointOfContour;this.onCurve=onCurve;this.prevPointOnContour=undefined;this.nextPointOnContour=undefined;this.xTouched=false;this.yTouched=false;Object.preventExtensions(this)}HPoint.prototype.nextTouched=function(v){var p=this.nextPointOnContour;while(!v.touched(p)&&p!==this){p=p.nextPointOnContour}return p};HPoint.prototype.prevTouched=function(v){var p=this.prevPointOnContour;while(!v.touched(p)&&p!==this){p=p.prevPointOnContour}return p};var HPZero=Object.freeze(new HPoint(0,0));var defaultState={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:true};function State(env,prog){this.env=env;this.stack=[];this.prog=prog;switch(env){case"glyf":this.zp0=this.zp1=this.zp2=1;this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=xUnitVector;this.round=roundToGrid}}Hinting.prototype.exec=function(glyph,ppem){if(typeof ppem!=="number"){throw new Error("Point size is not a number!")}if(this._errorState>2){return}var font=this.font;var prepState=this._prepState;if(!prepState||prepState.ppem!==ppem){var fpgmState=this._fpgmState;if(!fpgmState){State.prototype=defaultState;fpgmState=this._fpgmState=new State("fpgm",font.tables.fpgm);fpgmState.funcs=[];fpgmState.font=font;if(exports.DEBUG){console.log("---EXEC FPGM---");fpgmState.step=-1}try{exec(fpgmState)}catch(e){console.log("Hinting error in FPGM:"+e);this._errorState=3;return}}State.prototype=fpgmState;prepState=this._prepState=new State("prep",font.tables.prep);prepState.ppem=ppem;var oCvt=font.tables.cvt;if(oCvt){var cvt=prepState.cvt=new Array(oCvt.length);var scale=ppem/font.unitsPerEm;for(var c=0;c<oCvt.length;c++){cvt[c]=oCvt[c]*scale}}else{prepState.cvt=[]}if(exports.DEBUG){console.log("---EXEC PREP---");prepState.step=-1}try{exec(prepState)}catch(e){if(this._errorState<2){console.log("Hinting error in PREP:"+e)}this._errorState=2}}if(this._errorState>1){return}try{return execGlyph(glyph,prepState)}catch(e){if(this._errorState<1){console.log("Hinting error:"+e);console.log("Note: further hinting errors are silenced")}this._errorState=1;return undefined}};execGlyph=function(glyph,prepState){var xScale=prepState.ppem/prepState.font.unitsPerEm;var yScale=xScale;var components=glyph.components;var contours;var gZone;var state;State.prototype=prepState;if(!components){state=new State("glyf",glyph.instructions);if(exports.DEBUG){console.log("---EXEC GLYPH---");state.step=-1}execComponent(glyph,state,xScale,yScale);gZone=state.gZone}else{var font=prepState.font;gZone=[];contours=[];for(var i=0;i<components.length;i++){var c=components[i];var cg=font.glyphs.get(c.glyphIndex);state=new State("glyf",cg.instructions);if(exports.DEBUG){console.log("---EXEC COMP "+i+"---");state.step=-1}execComponent(cg,state,xScale,yScale);var dx=Math.round(c.dx*xScale);var dy=Math.round(c.dy*yScale);var gz=state.gZone;var cc=state.contours;for(var pi=0;pi<gz.length;pi++){var p=gz[pi];p.xTouched=p.yTouched=false;p.xo=p.x=p.x+dx;p.yo=p.y=p.y+dy}var gLen=gZone.length;gZone.push.apply(gZone,gz);for(var j=0;j<cc.length;j++){contours.push(cc[j]+gLen)}}if(glyph.instructions&&!state.inhibitGridFit){state=new State("glyf",glyph.instructions);state.gZone=state.z0=state.z1=state.z2=gZone;state.contours=contours;gZone.push(new HPoint(0,0),new HPoint(Math.round(glyph.advanceWidth*xScale),0));if(exports.DEBUG){console.log("---EXEC COMPOSITE---");state.step=-1}exec(state);gZone.length-=2}}return gZone};execComponent=function(glyph,state,xScale,yScale){var points=glyph.points||[];var pLen=points.length;var gZone=state.gZone=state.z0=state.z1=state.z2=[];var contours=state.contours=[];var cp;for(var i=0;i<pLen;i++){cp=points[i];gZone[i]=new HPoint(cp.x*xScale,cp.y*yScale,cp.lastPointOfContour,cp.onCurve)}var sp;var np;for(var i$1=0;i$1<pLen;i$1++){cp=gZone[i$1];if(!sp){sp=cp;contours.push(i$1)}if(cp.lastPointOfContour){cp.nextPointOnContour=sp;sp.prevPointOnContour=cp;sp=undefined}else{np=gZone[i$1+1];cp.nextPointOnContour=np;np.prevPointOnContour=cp}}if(state.inhibitGridFit){return}if(exports.DEBUG){console.log("PROCESSING GLYPH",state.stack);for(var i$2=0;i$2<pLen;i$2++){console.log(i$2,gZone[i$2].x,gZone[i$2].y)}}gZone.push(new HPoint(0,0),new HPoint(Math.round(glyph.advanceWidth*xScale),0));exec(state);gZone.length-=2;if(exports.DEBUG){console.log("FINISHED GLYPH",state.stack);for(var i$3=0;i$3<pLen;i$3++){console.log(i$3,gZone[i$3].x,gZone[i$3].y)}}};exec=function(state){var prog=state.prog;if(!prog){return}var pLen=prog.length;var ins;for(state.ip=0;state.ip<pLen;state.ip++){if(exports.DEBUG){state.step++}ins=instructionTable[prog[state.ip]];if(!ins){throw new Error("unknown instruction: 0x"+Number(prog[state.ip]).toString(16))}ins(state)}};function initTZone(state){var tZone=state.tZone=new Array(state.gZone.length);for(var i=0;i<tZone.length;i++){tZone[i]=new HPoint(0,0)}}function skip(state,handleElse){var prog=state.prog;var ip=state.ip;var nesting=1;var ins;do{ins=prog[++ip];if(ins===88){nesting++}else if(ins===89){nesting--}else if(ins===64){ip+=prog[ip+1]+1}else if(ins===65){ip+=2*prog[ip+1]+1}else if(ins>=176&&ins<=183){ip+=ins-176+1}else if(ins>=184&&ins<=191){ip+=(ins-184+1)*2}else if(handleElse&&nesting===1&&ins===27){break}}while(nesting>0);state.ip=ip}function SVTCA(v,state){if(exports.DEBUG){console.log(state.step,"SVTCA["+v.axis+"]")}state.fv=state.pv=state.dpv=v}function SPVTCA(v,state){if(exports.DEBUG){console.log(state.step,"SPVTCA["+v.axis+"]")}state.pv=state.dpv=v}function SFVTCA(v,state){if(exports.DEBUG){console.log(state.step,"SFVTCA["+v.axis+"]")}state.fv=v}function SPVTL(a,state){var stack=state.stack;var p2i=stack.pop();var p1i=stack.pop();var p2=state.z2[p2i];var p1=state.z1[p1i];if(exports.DEBUG){console.log("SPVTL["+a+"]",p2i,p1i)}var dx;var dy;if(!a){dx=p1.x-p2.x;dy=p1.y-p2.y}else{dx=p2.y-p1.y;dy=p1.x-p2.x}state.pv=state.dpv=getUnitVector(dx,dy)}function SFVTL(a,state){var stack=state.stack;var p2i=stack.pop();var p1i=stack.pop();var p2=state.z2[p2i];var p1=state.z1[p1i];if(exports.DEBUG){console.log("SFVTL["+a+"]",p2i,p1i)}var dx;var dy;if(!a){dx=p1.x-p2.x;dy=p1.y-p2.y}else{dx=p2.y-p1.y;dy=p1.x-p2.x}state.fv=getUnitVector(dx,dy)}function SPVFS(state){var stack=state.stack;var y=stack.pop();var x=stack.pop();if(exports.DEBUG){console.log(state.step,"SPVFS[]",y,x)}state.pv=state.dpv=getUnitVector(x,y)}function SFVFS(state){var stack=state.stack;var y=stack.pop();var x=stack.pop();if(exports.DEBUG){console.log(state.step,"SPVFS[]",y,x)}state.fv=getUnitVector(x,y)}function GPV(state){var stack=state.stack;var pv=state.pv;if(exports.DEBUG){console.log(state.step,"GPV[]")}stack.push(pv.x*16384);stack.push(pv.y*16384)}function GFV(state){var stack=state.stack;var fv=state.fv;if(exports.DEBUG){console.log(state.step,"GFV[]")}stack.push(fv.x*16384);stack.push(fv.y*16384)}function SFVTPV(state){state.fv=state.pv;if(exports.DEBUG){console.log(state.step,"SFVTPV[]")}}function ISECT(state){var stack=state.stack;var pa0i=stack.pop();var pa1i=stack.pop();var pb0i=stack.pop();var pb1i=stack.pop();var pi=stack.pop();var z0=state.z0;var z1=state.z1;var pa0=z0[pa0i];var pa1=z0[pa1i];var pb0=z1[pb0i];var pb1=z1[pb1i];var p=state.z2[pi];if(exports.DEBUG){console.log("ISECT[], ",pa0i,pa1i,pb0i,pb1i,pi)}var x1=pa0.x;var y1=pa0.y;var x2=pa1.x;var y2=pa1.y;var x3=pb0.x;var y3=pb0.y;var x4=pb1.x;var y4=pb1.y;var div=(x1-x2)*(y3-y4)-(y1-y2)*(x3-x4);var f1=x1*y2-y1*x2;var f2=x3*y4-y3*x4;p.x=(f1*(x3-x4)-f2*(x1-x2))/div;p.y=(f1*(y3-y4)-f2*(y1-y2))/div}function SRP0(state){state.rp0=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SRP0[]",state.rp0)}}function SRP1(state){state.rp1=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SRP1[]",state.rp1)}}function SRP2(state){state.rp2=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SRP2[]",state.rp2)}}function SZP0(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SZP0[]",n)}state.zp0=n;switch(n){case 0:if(!state.tZone){initTZone(state)}state.z0=state.tZone;break;case 1:state.z0=state.gZone;break;default:throw new Error("Invalid zone pointer")}}function SZP1(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SZP1[]",n)}state.zp1=n;switch(n){case 0:if(!state.tZone){initTZone(state)}state.z1=state.tZone;break;case 1:state.z1=state.gZone;break;default:throw new Error("Invalid zone pointer")}}function SZP2(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SZP2[]",n)}state.zp2=n;switch(n){case 0:if(!state.tZone){initTZone(state)}state.z2=state.tZone;break;case 1:state.z2=state.gZone;break;default:throw new Error("Invalid zone pointer")}}function SZPS(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SZPS[]",n)}state.zp0=state.zp1=state.zp2=n;switch(n){case 0:if(!state.tZone){initTZone(state)}state.z0=state.z1=state.z2=state.tZone;break;case 1:state.z0=state.z1=state.z2=state.gZone;break;default:throw new Error("Invalid zone pointer")}}function SLOOP(state){state.loop=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SLOOP[]",state.loop)}}function RTG(state){if(exports.DEBUG){console.log(state.step,"RTG[]")}state.round=roundToGrid}function RTHG(state){if(exports.DEBUG){console.log(state.step,"RTHG[]")}state.round=roundToHalfGrid}function SMD(state){var d=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SMD[]",d)}state.minDis=d/64}function ELSE(state){if(exports.DEBUG){console.log(state.step,"ELSE[]")}skip(state,false)}function JMPR(state){var o=state.stack.pop();if(exports.DEBUG){console.log(state.step,"JMPR[]",o)}state.ip+=o-1}function SCVTCI(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SCVTCI[]",n)}state.cvCutIn=n/64}function DUP(state){var stack=state.stack;if(exports.DEBUG){console.log(state.step,"DUP[]")}stack.push(stack[stack.length-1])}function POP(state){if(exports.DEBUG){console.log(state.step,"POP[]")}state.stack.pop()}function CLEAR(state){if(exports.DEBUG){console.log(state.step,"CLEAR[]")}state.stack.length=0}function SWAP(state){var stack=state.stack;var a=stack.pop();var b=stack.pop();if(exports.DEBUG){console.log(state.step,"SWAP[]")}stack.push(a);stack.push(b)}function DEPTH(state){var stack=state.stack;if(exports.DEBUG){console.log(state.step,"DEPTH[]")}stack.push(stack.length)}function LOOPCALL(state){var stack=state.stack;var fn=stack.pop();var c=stack.pop();if(exports.DEBUG){console.log(state.step,"LOOPCALL[]",fn,c)}var cip=state.ip;var cprog=state.prog;state.prog=state.funcs[fn];for(var i=0;i<c;i++){exec(state);if(exports.DEBUG){console.log(++state.step,i+1<c?"next loopcall":"done loopcall",i)}}state.ip=cip;state.prog=cprog}function CALL(state){var fn=state.stack.pop();if(exports.DEBUG){console.log(state.step,"CALL[]",fn)}var cip=state.ip;var cprog=state.prog;state.prog=state.funcs[fn];exec(state);state.ip=cip;state.prog=cprog;if(exports.DEBUG){console.log(++state.step,"returning from",fn)}}function CINDEX(state){var stack=state.stack;var k=stack.pop();if(exports.DEBUG){console.log(state.step,"CINDEX[]",k)}stack.push(stack[stack.length-k])}function MINDEX(state){var stack=state.stack;var k=stack.pop();if(exports.DEBUG){console.log(state.step,"MINDEX[]",k)}stack.push(stack.splice(stack.length-k,1)[0])}function FDEF(state){if(state.env!=="fpgm"){throw new Error("FDEF not allowed here")}var stack=state.stack;var prog=state.prog;var ip=state.ip;var fn=stack.pop();var ipBegin=ip;if(exports.DEBUG){console.log(state.step,"FDEF[]",fn)}while(prog[++ip]!==45){}state.ip=ip;state.funcs[fn]=prog.slice(ipBegin+1,ip)}function MDAP(round,state){var pi=state.stack.pop();var p=state.z0[pi];var fv=state.fv;var pv=state.pv;if(exports.DEBUG){console.log(state.step,"MDAP["+round+"]",pi)}var d=pv.distance(p,HPZero);if(round){d=state.round(d)}fv.setRelative(p,HPZero,d,pv);fv.touch(p);state.rp0=state.rp1=pi}function IUP(v,state){var z2=state.z2;var pLen=z2.length-2;var cp;var pp;var np;if(exports.DEBUG){console.log(state.step,"IUP["+v.axis+"]")}for(var i=0;i<pLen;i++){cp=z2[i];if(v.touched(cp)){continue}pp=cp.prevTouched(v);if(pp===cp){continue}np=cp.nextTouched(v);if(pp===np){v.setRelative(cp,cp,v.distance(pp,pp,false,true),v,true)}v.interpolate(cp,pp,np,v)}}function SHP(a,state){var stack=state.stack;var rpi=a?state.rp1:state.rp2;var rp=(a?state.z0:state.z1)[rpi];var fv=state.fv;var pv=state.pv;var loop=state.loop;var z2=state.z2;while(loop--){var pi=stack.pop();var p=z2[pi];var d=pv.distance(rp,rp,false,true);fv.setRelative(p,p,d,pv);fv.touch(p);if(exports.DEBUG){console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"SHP["+(a?"rp1":"rp2")+"]",pi)}}state.loop=1}function SHC(a,state){var stack=state.stack;var rpi=a?state.rp1:state.rp2;var rp=(a?state.z0:state.z1)[rpi];var fv=state.fv;var pv=state.pv;var ci=stack.pop();var sp=state.z2[state.contours[ci]];var p=sp;if(exports.DEBUG){console.log(state.step,"SHC["+a+"]",ci)}var d=pv.distance(rp,rp,false,true);do{if(p!==rp){fv.setRelative(p,p,d,pv)}p=p.nextPointOnContour}while(p!==sp)}function SHZ(a,state){var stack=state.stack;var rpi=a?state.rp1:state.rp2;var rp=(a?state.z0:state.z1)[rpi];var fv=state.fv;var pv=state.pv;var e=stack.pop();if(exports.DEBUG){console.log(state.step,"SHZ["+a+"]",e)}var z;switch(e){case 0:z=state.tZone;break;case 1:z=state.gZone;break;default:throw new Error("Invalid zone")}var p;var d=pv.distance(rp,rp,false,true);var pLen=z.length-2;for(var i=0;i<pLen;i++){p=z[i];fv.setRelative(p,p,d,pv)}}function SHPIX(state){var stack=state.stack;var loop=state.loop;var fv=state.fv;var d=stack.pop()/64;var z2=state.z2;while(loop--){var pi=stack.pop();var p=z2[pi];if(exports.DEBUG){console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"SHPIX[]",pi,d)}fv.setRelative(p,p,d);fv.touch(p)}state.loop=1}function IP(state){var stack=state.stack;var rp1i=state.rp1;var rp2i=state.rp2;var loop=state.loop;var rp1=state.z0[rp1i];var rp2=state.z1[rp2i];var fv=state.fv;var pv=state.dpv;var z2=state.z2;while(loop--){var pi=stack.pop();var p=z2[pi];if(exports.DEBUG){console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"IP[]",pi,rp1i,"<->",rp2i)}fv.interpolate(p,rp1,rp2,pv);fv.touch(p)}state.loop=1}function MSIRP(a,state){var stack=state.stack;var d=stack.pop()/64;var pi=stack.pop();var p=state.z1[pi];var rp0=state.z0[state.rp0];var fv=state.fv;var pv=state.pv;fv.setRelative(p,rp0,d,pv);fv.touch(p);if(exports.DEBUG){console.log(state.step,"MSIRP["+a+"]",d,pi)}state.rp1=state.rp0;state.rp2=pi;if(a){state.rp0=pi}}function ALIGNRP(state){var stack=state.stack;var rp0i=state.rp0;var rp0=state.z0[rp0i];var loop=state.loop;var fv=state.fv;var pv=state.pv;var z1=state.z1;while(loop--){var pi=stack.pop();var p=z1[pi];if(exports.DEBUG){console.log(state.step,(state.loop>1?"loop "+(state.loop-loop)+": ":"")+"ALIGNRP[]",pi)}fv.setRelative(p,rp0,0,pv);fv.touch(p)}state.loop=1}function RTDG(state){if(exports.DEBUG){console.log(state.step,"RTDG[]")}state.round=roundToDoubleGrid}function MIAP(round,state){var stack=state.stack;var n=stack.pop();var pi=stack.pop();var p=state.z0[pi];var fv=state.fv;var pv=state.pv;var cv=state.cvt[n];if(exports.DEBUG){console.log(state.step,"MIAP["+round+"]",n,"(",cv,")",pi)}var d=pv.distance(p,HPZero);if(round){if(Math.abs(d-cv)<state.cvCutIn){d=cv}d=state.round(d)}fv.setRelative(p,HPZero,d,pv);if(state.zp0===0){p.xo=p.x;p.yo=p.y}fv.touch(p);state.rp0=state.rp1=pi}function NPUSHB(state){var prog=state.prog;var ip=state.ip;var stack=state.stack;var n=prog[++ip];if(exports.DEBUG){console.log(state.step,"NPUSHB[]",n)}for(var i=0;i<n;i++){stack.push(prog[++ip])}state.ip=ip}function NPUSHW(state){var ip=state.ip;var prog=state.prog;var stack=state.stack;var n=prog[++ip];if(exports.DEBUG){console.log(state.step,"NPUSHW[]",n)}for(var i=0;i<n;i++){var w=prog[++ip]<<8|prog[++ip];if(w&32768){w=-((w^65535)+1)}stack.push(w)}state.ip=ip}function WS(state){var stack=state.stack;var store=state.store;if(!store){store=state.store=[]}var v=stack.pop();var l=stack.pop();if(exports.DEBUG){console.log(state.step,"WS",v,l)}store[l]=v}function RS(state){var stack=state.stack;var store=state.store;var l=stack.pop();if(exports.DEBUG){console.log(state.step,"RS",l)}var v=store&&store[l]||0;stack.push(v)}function WCVTP(state){var stack=state.stack;var v=stack.pop();var l=stack.pop();if(exports.DEBUG){console.log(state.step,"WCVTP",v,l)}state.cvt[l]=v/64}function RCVT(state){var stack=state.stack;var cvte=stack.pop();if(exports.DEBUG){console.log(state.step,"RCVT",cvte)}stack.push(state.cvt[cvte]*64)}function GC(a,state){var stack=state.stack;var pi=stack.pop();var p=state.z2[pi];if(exports.DEBUG){console.log(state.step,"GC["+a+"]",pi)}stack.push(state.dpv.distance(p,HPZero,a,false)*64)}function MD(a,state){var stack=state.stack;var pi2=stack.pop();var pi1=stack.pop();var p2=state.z1[pi2];var p1=state.z0[pi1];var d=state.dpv.distance(p1,p2,a,a);if(exports.DEBUG){console.log(state.step,"MD["+a+"]",pi2,pi1,"->",d)}state.stack.push(Math.round(d*64))}function MPPEM(state){if(exports.DEBUG){console.log(state.step,"MPPEM[]")}state.stack.push(state.ppem)}function FLIPON(state){if(exports.DEBUG){console.log(state.step,"FLIPON[]")}state.autoFlip=true}function LT(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"LT[]",e2,e1)}stack.push(e1<e2?1:0)}function LTEQ(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"LTEQ[]",e2,e1)}stack.push(e1<=e2?1:0)}function GT(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"GT[]",e2,e1)}stack.push(e1>e2?1:0)}function GTEQ(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"GTEQ[]",e2,e1)}stack.push(e1>=e2?1:0)}function EQ(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"EQ[]",e2,e1)}stack.push(e2===e1?1:0)}function NEQ(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"NEQ[]",e2,e1)}stack.push(e2!==e1?1:0)}function ODD(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"ODD[]",n)}stack.push(Math.trunc(n)%2?1:0)}function EVEN(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"EVEN[]",n)}stack.push(Math.trunc(n)%2?0:1)}function IF(state){var test=state.stack.pop();if(exports.DEBUG){console.log(state.step,"IF[]",test)}if(!test){skip(state,true);if(exports.DEBUG){console.log(state.step,"EIF[]")}}}function EIF(state){if(exports.DEBUG){console.log(state.step,"EIF[]")}}function AND(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"AND[]",e2,e1)}stack.push(e2&&e1?1:0)}function OR(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"OR[]",e2,e1)}stack.push(e2||e1?1:0)}function NOT(state){var stack=state.stack;var e=stack.pop();if(exports.DEBUG){console.log(state.step,"NOT[]",e)}stack.push(e?0:1)}function DELTAP123(b,state){var stack=state.stack;var n=stack.pop();var fv=state.fv;var pv=state.pv;var ppem=state.ppem;var base=state.deltaBase+(b-1)*16;var ds=state.deltaShift;var z0=state.z0;if(exports.DEBUG){console.log(state.step,"DELTAP["+b+"]",n,stack)}for(var i=0;i<n;i++){var pi=stack.pop();var arg=stack.pop();var appem=base+((arg&240)>>4);if(appem!==ppem){continue}var mag=(arg&15)-8;if(mag>=0){mag++}if(exports.DEBUG){console.log(state.step,"DELTAPFIX",pi,"by",mag*ds)}var p=z0[pi];fv.setRelative(p,p,mag*ds,pv)}}function SDB(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"SDB[]",n)}state.deltaBase=n}function SDS(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"SDS[]",n)}state.deltaShift=Math.pow(.5,n)}function ADD(state){var stack=state.stack;var n2=stack.pop();var n1=stack.pop();if(exports.DEBUG){console.log(state.step,"ADD[]",n2,n1)}stack.push(n1+n2)}function SUB(state){var stack=state.stack;var n2=stack.pop();var n1=stack.pop();if(exports.DEBUG){console.log(state.step,"SUB[]",n2,n1)}stack.push(n1-n2)}function DIV(state){var stack=state.stack;var n2=stack.pop();var n1=stack.pop();if(exports.DEBUG){console.log(state.step,"DIV[]",n2,n1)}stack.push(n1*64/n2)}function MUL(state){var stack=state.stack;var n2=stack.pop();var n1=stack.pop();if(exports.DEBUG){console.log(state.step,"MUL[]",n2,n1)}stack.push(n1*n2/64)}function ABS(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"ABS[]",n)}stack.push(Math.abs(n))}function NEG(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"NEG[]",n)}stack.push(-n)}function FLOOR(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"FLOOR[]",n)}stack.push(Math.floor(n/64)*64)}function CEILING(state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"CEILING[]",n)}stack.push(Math.ceil(n/64)*64)}function ROUND(dt,state){var stack=state.stack;var n=stack.pop();if(exports.DEBUG){console.log(state.step,"ROUND[]")}stack.push(state.round(n/64)*64)}function WCVTF(state){var stack=state.stack;var v=stack.pop();var l=stack.pop();if(exports.DEBUG){console.log(state.step,"WCVTF[]",v,l)}state.cvt[l]=v*state.ppem/state.font.unitsPerEm}function DELTAC123(b,state){var stack=state.stack;var n=stack.pop();var ppem=state.ppem;var base=state.deltaBase+(b-1)*16;var ds=state.deltaShift;if(exports.DEBUG){console.log(state.step,"DELTAC["+b+"]",n,stack)}for(var i=0;i<n;i++){var c=stack.pop();var arg=stack.pop();var appem=base+((arg&240)>>4);if(appem!==ppem){continue}var mag=(arg&15)-8;if(mag>=0){mag++}var delta=mag*ds;if(exports.DEBUG){console.log(state.step,"DELTACFIX",c,"by",delta)}state.cvt[c]+=delta}}function SROUND(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SROUND[]",n)}state.round=roundSuper;var period;switch(n&192){case 0:period=.5;break;case 64:period=1;break;case 128:period=2;break;default:throw new Error("invalid SROUND value")}state.srPeriod=period;switch(n&48){case 0:state.srPhase=0;break;case 16:state.srPhase=.25*period;break;case 32:state.srPhase=.5*period;break;case 48:state.srPhase=.75*period;break;default:throw new Error("invalid SROUND value")}n&=15;if(n===0){state.srThreshold=0}else{state.srThreshold=(n/8-.5)*period}}function S45ROUND(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"S45ROUND[]",n)}state.round=roundSuper;var period;switch(n&192){case 0:period=Math.sqrt(2)/2;break;case 64:period=Math.sqrt(2);break;case 128:period=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}state.srPeriod=period;switch(n&48){case 0:state.srPhase=0;break;case 16:state.srPhase=.25*period;break;case 32:state.srPhase=.5*period;break;case 48:state.srPhase=.75*period;break;default:throw new Error("invalid S45ROUND value")}n&=15;if(n===0){state.srThreshold=0}else{state.srThreshold=(n/8-.5)*period}}function ROFF(state){if(exports.DEBUG){console.log(state.step,"ROFF[]")}state.round=roundOff}function RUTG(state){if(exports.DEBUG){console.log(state.step,"RUTG[]")}state.round=roundUpToGrid}function RDTG(state){if(exports.DEBUG){console.log(state.step,"RDTG[]")}state.round=roundDownToGrid}function SCANCTRL(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SCANCTRL[]",n)}}function SDPVTL(a,state){var stack=state.stack;var p2i=stack.pop();var p1i=stack.pop();var p2=state.z2[p2i];var p1=state.z1[p1i];if(exports.DEBUG){console.log(state.step,"SDPVTL["+a+"]",p2i,p1i)}var dx;var dy;if(!a){dx=p1.x-p2.x;dy=p1.y-p2.y}else{dx=p2.y-p1.y;dy=p1.x-p2.x}state.dpv=getUnitVector(dx,dy)}function GETINFO(state){var stack=state.stack;var sel=stack.pop();var r=0;if(exports.DEBUG){console.log(state.step,"GETINFO[]",sel)}if(sel&1){r=35}if(sel&32){r|=4096}stack.push(r)}function ROLL(state){var stack=state.stack;var a=stack.pop();var b=stack.pop();var c=stack.pop();if(exports.DEBUG){console.log(state.step,"ROLL[]")}stack.push(b);stack.push(a);stack.push(c)}function MAX(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"MAX[]",e2,e1)}stack.push(Math.max(e1,e2))}function MIN(state){var stack=state.stack;var e2=stack.pop();var e1=stack.pop();if(exports.DEBUG){console.log(state.step,"MIN[]",e2,e1)}stack.push(Math.min(e1,e2))}function SCANTYPE(state){var n=state.stack.pop();if(exports.DEBUG){console.log(state.step,"SCANTYPE[]",n)}}function INSTCTRL(state){var s=state.stack.pop();var v=state.stack.pop();if(exports.DEBUG){console.log(state.step,"INSTCTRL[]",s,v)}switch(s){case 1:state.inhibitGridFit=!!v;return;case 2:state.ignoreCvt=!!v;return;default:throw new Error("invalid INSTCTRL[] selector")}}function PUSHB(n,state){var stack=state.stack;var prog=state.prog;var ip=state.ip;if(exports.DEBUG){console.log(state.step,"PUSHB["+n+"]")}for(var i=0;i<n;i++){stack.push(prog[++ip])}state.ip=ip}function PUSHW(n,state){var ip=state.ip;var prog=state.prog;var stack=state.stack;if(exports.DEBUG){console.log(state.ip,"PUSHW["+n+"]")}for(var i=0;i<n;i++){var w=prog[++ip]<<8|prog[++ip];if(w&32768){w=-((w^65535)+1)}stack.push(w)}state.ip=ip}function MDRP_MIRP(indirect,setRp0,keepD,ro,dt,state){var stack=state.stack;var cvte=indirect&&stack.pop();var pi=stack.pop();var rp0i=state.rp0;var rp=state.z0[rp0i];var p=state.z1[pi];var md=state.minDis;var fv=state.fv;var pv=state.dpv;var od;var d;var sign;var cv;d=od=pv.distance(p,rp,true,true);sign=d>=0?1:-1;d=Math.abs(d);if(indirect){cv=state.cvt[cvte];if(ro&&Math.abs(d-cv)<state.cvCutIn){d=cv}}if(keepD&&d<md){d=md}if(ro){d=state.round(d)}fv.setRelative(p,rp,sign*d,pv);fv.touch(p);if(exports.DEBUG){console.log(state.step,(indirect?"MIRP[":"MDRP[")+(setRp0?"M":"m")+(keepD?">":"_")+(ro?"R":"_")+(dt===0?"Gr":dt===1?"Bl":dt===2?"Wh":"")+"]",indirect?cvte+"("+state.cvt[cvte]+","+cv+")":"",pi,"(d =",od,"->",sign*d,")")}state.rp1=state.rp0;state.rp2=pi;if(setRp0){state.rp0=pi}}instructionTable=[SVTCA.bind(undefined,yUnitVector),SVTCA.bind(undefined,xUnitVector),SPVTCA.bind(undefined,yUnitVector),SPVTCA.bind(undefined,xUnitVector),SFVTCA.bind(undefined,yUnitVector),SFVTCA.bind(undefined,xUnitVector),SPVTL.bind(undefined,0),SPVTL.bind(undefined,1),SFVTL.bind(undefined,0),SFVTL.bind(undefined,1),SPVFS,SFVFS,GPV,GFV,SFVTPV,ISECT,SRP0,SRP1,SRP2,SZP0,SZP1,SZP2,SZPS,SLOOP,RTG,RTHG,SMD,ELSE,JMPR,SCVTCI,undefined,undefined,DUP,POP,CLEAR,SWAP,DEPTH,CINDEX,MINDEX,undefined,undefined,undefined,LOOPCALL,CALL,FDEF,undefined,MDAP.bind(undefined,0),MDAP.bind(undefined,1),IUP.bind(undefined,yUnitVector),IUP.bind(undefined,xUnitVector),SHP.bind(undefined,0),SHP.bind(undefined,1),SHC.bind(undefined,0),SHC.bind(undefined,1),SHZ.bind(undefined,0),SHZ.bind(undefined,1),SHPIX,IP,MSIRP.bind(undefined,0),MSIRP.bind(undefined,1),ALIGNRP,RTDG,MIAP.bind(undefined,0),MIAP.bind(undefined,1),NPUSHB,NPUSHW,WS,RS,WCVTP,RCVT,GC.bind(undefined,0),GC.bind(undefined,1),undefined,MD.bind(undefined,0),MD.bind(undefined,1),MPPEM,undefined,FLIPON,undefined,undefined,LT,LTEQ,GT,GTEQ,EQ,NEQ,ODD,EVEN,IF,EIF,AND,OR,NOT,DELTAP123.bind(undefined,1),SDB,SDS,ADD,SUB,DIV,MUL,ABS,NEG,FLOOR,CEILING,ROUND.bind(undefined,0),ROUND.bind(undefined,1),ROUND.bind(undefined,2),ROUND.bind(undefined,3),undefined,undefined,undefined,undefined,WCVTF,DELTAP123.bind(undefined,2),DELTAP123.bind(undefined,3),DELTAC123.bind(undefined,1),DELTAC123.bind(undefined,2),DELTAC123.bind(undefined,3),SROUND,S45ROUND,undefined,undefined,ROFF,undefined,RUTG,RDTG,POP,POP,undefined,undefined,undefined,undefined,undefined,SCANCTRL,SDPVTL.bind(undefined,0),SDPVTL.bind(undefined,1),GETINFO,undefined,ROLL,MAX,MIN,SCANTYPE,INSTCTRL,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,PUSHB.bind(undefined,1),PUSHB.bind(undefined,2),PUSHB.bind(undefined,3),PUSHB.bind(undefined,4),PUSHB.bind(undefined,5),PUSHB.bind(undefined,6),PUSHB.bind(undefined,7),PUSHB.bind(undefined,8),PUSHW.bind(undefined,1),PUSHW.bind(undefined,2),PUSHW.bind(undefined,3),PUSHW.bind(undefined,4),PUSHW.bind(undefined,5),PUSHW.bind(undefined,6),PUSHW.bind(undefined,7),PUSHW.bind(undefined,8),MDRP_MIRP.bind(undefined,0,0,0,0,0),MDRP_MIRP.bind(undefined,0,0,0,0,1),MDRP_MIRP.bind(undefined,0,0,0,0,2),MDRP_MIRP.bind(undefined,0,0,0,0,3),MDRP_MIRP.bind(undefined,0,0,0,1,0),MDRP_MIRP.bind(undefined,0,0,0,1,1),MDRP_MIRP.bind(undefined,0,0,0,1,2),MDRP_MIRP.bind(undefined,0,0,0,1,3),MDRP_MIRP.bind(undefined,0,0,1,0,0),MDRP_MIRP.bind(undefined,0,0,1,0,1),MDRP_MIRP.bind(undefined,0,0,1,0,2),MDRP_MIRP.bind(undefined,0,0,1,0,3),MDRP_MIRP.bind(undefined,0,0,1,1,0),MDRP_MIRP.bind(undefined,0,0,1,1,1),MDRP_MIRP.bind(undefined,0,0,1,1,2),MDRP_MIRP.bind(undefined,0,0,1,1,3),MDRP_MIRP.bind(undefined,0,1,0,0,0),MDRP_MIRP.bind(undefined,0,1,0,0,1),MDRP_MIRP.bind(undefined,0,1,0,0,2),MDRP_MIRP.bind(undefined,0,1,0,0,3),MDRP_MIRP.bind(undefined,0,1,0,1,0),MDRP_MIRP.bind(undefined,0,1,0,1,1),MDRP_MIRP.bind(undefined,0,1,0,1,2),MDRP_MIRP.bind(undefined,0,1,0,1,3),MDRP_MIRP.bind(undefined,0,1,1,0,0),MDRP_MIRP.bind(undefined,0,1,1,0,1),MDRP_MIRP.bind(undefined,0,1,1,0,2),MDRP_MIRP.bind(undefined,0,1,1,0,3),MDRP_MIRP.bind(undefined,0,1,1,1,0),MDRP_MIRP.bind(undefined,0,1,1,1,1),MDRP_MIRP.bind(undefined,0,1,1,1,2),MDRP_MIRP.bind(undefined,0,1,1,1,3),MDRP_MIRP.bind(undefined,1,0,0,0,0),MDRP_MIRP.bind(undefined,1,0,0,0,1),MDRP_MIRP.bind(undefined,1,0,0,0,2),MDRP_MIRP.bind(undefined,1,0,0,0,3),MDRP_MIRP.bind(undefined,1,0,0,1,0),MDRP_MIRP.bind(undefined,1,0,0,1,1),MDRP_MIRP.bind(undefined,1,0,0,1,2),MDRP_MIRP.bind(undefined,1,0,0,1,3),MDRP_MIRP.bind(undefined,1,0,1,0,0),MDRP_MIRP.bind(undefined,1,0,1,0,1),MDRP_MIRP.bind(undefined,1,0,1,0,2),MDRP_MIRP.bind(undefined,1,0,1,0,3),MDRP_MIRP.bind(undefined,1,0,1,1,0),MDRP_MIRP.bind(undefined,1,0,1,1,1),MDRP_MIRP.bind(undefined,1,0,1,1,2),MDRP_MIRP.bind(undefined,1,0,1,1,3),MDRP_MIRP.bind(undefined,1,1,0,0,0),MDRP_MIRP.bind(undefined,1,1,0,0,1),MDRP_MIRP.bind(undefined,1,1,0,0,2),MDRP_MIRP.bind(undefined,1,1,0,0,3),MDRP_MIRP.bind(undefined,1,1,0,1,0),MDRP_MIRP.bind(undefined,1,1,0,1,1),MDRP_MIRP.bind(undefined,1,1,0,1,2),MDRP_MIRP.bind(undefined,1,1,0,1,3),MDRP_MIRP.bind(undefined,1,1,1,0,0),MDRP_MIRP.bind(undefined,1,1,1,0,1),MDRP_MIRP.bind(undefined,1,1,1,0,2),MDRP_MIRP.bind(undefined,1,1,1,0,3),MDRP_MIRP.bind(undefined,1,1,1,1,0),MDRP_MIRP.bind(undefined,1,1,1,1,1),MDRP_MIRP.bind(undefined,1,1,1,1,2),MDRP_MIRP.bind(undefined,1,1,1,1,3)];var arrayFromString=Array.from||function(s){return s.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function Font(options){options=options||{};if(!options.empty){checkArgument(options.familyName,"When creating a new Font object, familyName is required.");checkArgument(options.styleName,"When creating a new Font object, styleName is required.");checkArgument(options.unitsPerEm,"When creating a new Font object, unitsPerEm is required.");checkArgument(options.ascender,"When creating a new Font object, ascender is required.");checkArgument(options.descender,"When creating a new Font object, descender is required.");checkArgument(options.descender<0,"Descender should be negative (e.g. -512).");this.names={fontFamily:{en:options.familyName||" "},fontSubfamily:{en:options.styleName||" "},fullName:{en:options.fullName||options.familyName+" "+options.styleName},postScriptName:{en:options.postScriptName||(options.familyName+options.styleName).replace(/\s/g,"")},designer:{en:options.designer||" "},designerURL:{en:options.designerURL||" "},manufacturer:{en:options.manufacturer||" "},manufacturerURL:{en:options.manufacturerURL||" "},license:{en:options.license||" "},licenseURL:{en:options.licenseURL||" "},version:{en:options.version||"Version 0.1"},description:{en:options.description||" "},copyright:{en:options.copyright||" "},trademark:{en:options.trademark||" "}};this.unitsPerEm=options.unitsPerEm||1e3;this.ascender=options.ascender;this.descender=options.descender;this.createdTimestamp=options.createdTimestamp;this.tables={os2:{usWeightClass:options.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:options.widthClass||this.usWidthClasses.MEDIUM,fsSelection:options.fsSelection||this.fsSelectionValues.REGULAR}}}this.supported=true;this.glyphs=new glyphset.GlyphSet(this,options.glyphs||[]);this.encoding=new DefaultEncoding(this);this.position=new Position(this);this.substitution=new Substitution(this);this.tables=this.tables||{};Object.defineProperty(this,"hinting",{get:function(){if(this._hinting){return this._hinting}if(this.outlinesFormat==="truetype"){return this._hinting=new Hinting(this)}}})}Font.prototype.hasChar=function(c){return this.encoding.charToGlyphIndex(c)!==null};Font.prototype.charToGlyphIndex=function(s){return this.encoding.charToGlyphIndex(s)};Font.prototype.charToGlyph=function(c){var glyphIndex=this.charToGlyphIndex(c);var glyph=this.glyphs.get(glyphIndex);if(!glyph){glyph=this.glyphs.get(0)}return glyph};Font.prototype.stringToGlyphs=function(s,options){var this$1=this;options=options||this.defaultRenderOptions;var chars=arrayFromString(s);var indexes=[];for(var i=0;i<chars.length;i+=1){var c=chars[i];indexes.push(this$1.charToGlyphIndex(c))}var length=indexes.length;if(options.features){var script=options.script||this.substitution.getDefaultScriptName();var manyToOne=[];if(options.features.liga){manyToOne=manyToOne.concat(this.substitution.getFeature("liga",script,options.language))}if(options.features.rlig){manyToOne=manyToOne.concat(this.substitution.getFeature("rlig",script,options.language))}for(var i$1=0;i$1<length;i$1+=1){for(var j=0;j<manyToOne.length;j++){var ligature=manyToOne[j];var components=ligature.sub;var compCount=components.length;var k=0;while(k<compCount&&components[k]===indexes[i$1+k]){k++}if(k===compCount){indexes.splice(i$1,compCount,ligature.by);length=length-compCount+1}}}}var glyphs=new Array(length);var notdef=this.glyphs.get(0);for(var i$2=0;i$2<length;i$2+=1){glyphs[i$2]=this$1.glyphs.get(indexes[i$2])||notdef}return glyphs};Font.prototype.nameToGlyphIndex=function(name){return this.glyphNames.nameToGlyphIndex(name)};Font.prototype.nameToGlyph=function(name){var glyphIndex=this.nameToGlyphIndex(name);var glyph=this.glyphs.get(glyphIndex);if(!glyph){glyph=this.glyphs.get(0)}return glyph};Font.prototype.glyphIndexToName=function(gid){if(!this.glyphNames.glyphIndexToName){return""}return this.glyphNames.glyphIndexToName(gid)};Font.prototype.getKerningValue=function(leftGlyph,rightGlyph){leftGlyph=leftGlyph.index||leftGlyph;rightGlyph=rightGlyph.index||rightGlyph;var gposKerning=this.position.defaultKerningTables;if(gposKerning){return this.position.getKerningValue(gposKerning,leftGlyph,rightGlyph)}return this.kerningPairs[leftGlyph+","+rightGlyph]||0};Font.prototype.defaultRenderOptions={kerning:true,features:{liga:true,rlig:true}};Font.prototype.forEachGlyph=function(text,x,y,fontSize,options,callback){var this$1=this;x=x!==undefined?x:0;y=y!==undefined?y:0;fontSize=fontSize!==undefined?fontSize:72;options=options||this.defaultRenderOptions;var fontScale=1/this.unitsPerEm*fontSize;var glyphs=this.stringToGlyphs(text,options);var kerningLookups;if(options.kerning){var script=options.script||this.position.getDefaultScriptName();kerningLookups=this.position.getKerningTables(script,options.language)}for(var i=0;i<glyphs.length;i+=1){var glyph=glyphs[i];callback.call(this$1,glyph,x,y,fontSize,options);if(glyph.advanceWidth){x+=glyph.advanceWidth*fontScale}if(options.kerning&&i<glyphs.length-1){var kerningValue=kerningLookups?this$1.position.getKerningValue(kerningLookups,glyph.index,glyphs[i+1].index):this$1.getKerningValue(glyph,glyphs[i+1]);x+=kerningValue*fontScale}if(options.letterSpacing){x+=options.letterSpacing*fontSize}else if(options.tracking){x+=options.tracking/1e3*fontSize}}return x};Font.prototype.getPath=function(text,x,y,fontSize,options){var fullPath=new Path;this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){var glyphPath=glyph.getPath(gX,gY,gFontSize,options,this);fullPath.extend(glyphPath)});return fullPath};Font.prototype.getPaths=function(text,x,y,fontSize,options){var glyphPaths=[];this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){var glyphPath=glyph.getPath(gX,gY,gFontSize,options,this);glyphPaths.push(glyphPath)});return glyphPaths};Font.prototype.getAdvanceWidth=function(text,fontSize,options){return this.forEachGlyph(text,0,0,fontSize,options,function(){})};Font.prototype.draw=function(ctx,text,x,y,fontSize,options){this.getPath(text,x,y,fontSize,options).draw(ctx)};Font.prototype.drawPoints=function(ctx,text,x,y,fontSize,options){this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){glyph.drawPoints(ctx,gX,gY,gFontSize)})};Font.prototype.drawMetrics=function(ctx,text,x,y,fontSize,options){this.forEachGlyph(text,x,y,fontSize,options,function(glyph,gX,gY,gFontSize){glyph.drawMetrics(ctx,gX,gY,gFontSize)})};Font.prototype.getEnglishName=function(name){var translations=this.names[name];if(translations){return translations.en}};Font.prototype.validate=function(){var _this=this;function assert(predicate,message){}function assertNamePresent(name){var englishName=_this.getEnglishName(name);assert(englishName&&englishName.trim().length>0,"No English "+name+" specified.")}assertNamePresent("fontFamily");assertNamePresent("weightName");assertNamePresent("manufacturer");assertNamePresent("copyright");assertNamePresent("version");assert(this.unitsPerEm>0,"No unitsPerEm specified.")};Font.prototype.toTables=function(){return sfnt.fontToTable(this)};Font.prototype.toBuffer=function(){console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead.");return this.toArrayBuffer()};Font.prototype.toArrayBuffer=function(){var sfntTable=this.toTables();var bytes=sfntTable.encode();var buffer=new ArrayBuffer(bytes.length);var intArray=new Uint8Array(buffer);for(var i=0;i<bytes.length;i++){intArray[i]=bytes[i]}return buffer};Font.prototype.download=function(fileName){var familyName=this.getEnglishName("fontFamily");var styleName=this.getEnglishName("fontSubfamily");fileName=fileName||familyName.replace(/\s/g,"")+"-"+styleName+".otf";var arrayBuffer=this.toArrayBuffer();if(isBrowser()){window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem;window.requestFileSystem(window.TEMPORARY,arrayBuffer.byteLength,function(fs){fs.root.getFile(fileName,{create:true},function(fileEntry){fileEntry.createWriter(function(writer){var dataView=new DataView(arrayBuffer);var blob=new Blob([dataView],{type:"font/opentype"});writer.write(blob);writer.addEventListener("writeend",function(){location.href=fileEntry.toURL()},false)})})},function(err){throw new Error(err.name+": "+err.message)})}else{var fs=_dereq_("fs");var buffer=arrayBufferToNodeBuffer(arrayBuffer);fs.writeFileSync(fileName,buffer)}};Font.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Font.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Font.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function addName(name,names){var nameString=JSON.stringify(name);var nameID=256;for(var nameKey in names){var n=parseInt(nameKey);if(!n||n<256){continue}if(JSON.stringify(names[nameKey])===nameString){return n}if(nameID<=n){nameID=n+1}}names[nameID]=name;return nameID}function makeFvarAxis(n,axis,names){var nameID=addName(axis.name,names);return[{name:"tag_"+n,type:"TAG",value:axis.tag},{name:"minValue_"+n,type:"FIXED",value:axis.minValue<<16},{name:"defaultValue_"+n,type:"FIXED",value:axis.defaultValue<<16},{name:"maxValue_"+n,type:"FIXED",value:axis.maxValue<<16},{name:"flags_"+n,type:"USHORT",value:0},{name:"nameID_"+n,type:"USHORT",value:nameID}]}function parseFvarAxis(data,start,names){var axis={};var p=new parse.Parser(data,start);axis.tag=p.parseTag();axis.minValue=p.parseFixed();axis.defaultValue=p.parseFixed();axis.maxValue=p.parseFixed();p.skip("uShort",1);axis.name=names[p.parseUShort()]||{};return axis}function makeFvarInstance(n,inst,axes,names){var nameID=addName(inst.name,names);var fields=[{name:"nameID_"+n,type:"USHORT",value:nameID},{name:"flags_"+n,type:"USHORT",value:0}];for(var i=0;i<axes.length;++i){var axisTag=axes[i].tag;fields.push({name:"axis_"+n+" "+axisTag,type:"FIXED",value:inst.coordinates[axisTag]<<16})}return fields}function parseFvarInstance(data,start,axes,names){var inst={};var p=new parse.Parser(data,start);inst.name=names[p.parseUShort()]||{};p.skip("uShort",1);inst.coordinates={};for(var i=0;i<axes.length;++i){inst.coordinates[axes[i].tag]=p.parseFixed()}return inst}function makeFvarTable(fvar,names){var result=new table.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:fvar.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:fvar.instances.length},{name:"instanceSize",type:"USHORT",value:4+fvar.axes.length*4}]);result.offsetToData=result.sizeOf();for(var i=0;i<fvar.axes.length;i++){result.fields=result.fields.concat(makeFvarAxis(i,fvar.axes[i],names))}for(var j=0;j<fvar.instances.length;j++){result.fields=result.fields.concat(makeFvarInstance(j,fvar.instances[j],fvar.axes,names))}return result}function parseFvarTable(data,start,names){var p=new parse.Parser(data,start);var tableVersion=p.parseULong();check.argument(tableVersion===65536,"Unsupported fvar table version.");var offsetToData=p.parseOffset16();p.skip("uShort",1);var axisCount=p.parseUShort();var axisSize=p.parseUShort();var instanceCount=p.parseUShort();var instanceSize=p.parseUShort();var axes=[];for(var i=0;i<axisCount;i++){axes.push(parseFvarAxis(data,start+offsetToData+i*axisSize,names))}var instances=[];var instanceStart=start+offsetToData+axisCount*axisSize;for(var j=0;j<instanceCount;j++){instances.push(parseFvarInstance(data,instanceStart+j*instanceSize,axes,names))}return{axes:axes,instances:instances}}var fvar={make:makeFvarTable,parse:parseFvarTable};var subtableParsers$1=new Array(10);subtableParsers$1[1]=function parseLookup1(){var start=this.offset+this.relativeOffset;var posformat=this.parseUShort();if(posformat===1){return{posFormat:1,coverage:this.parsePointer(Parser.coverage),value:this.parseValueRecord()}}else if(posformat===2){return{posFormat:2,coverage:this.parsePointer(Parser.coverage),values:this.parseValueRecordList()}}check.assert(false,"0x"+start.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};subtableParsers$1[2]=function parseLookup2(){var start=this.offset+this.relativeOffset;var posFormat=this.parseUShort();check.assert(posFormat===1||posFormat===2,"0x"+start.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var coverage=this.parsePointer(Parser.coverage);var valueFormat1=this.parseUShort();var valueFormat2=this.parseUShort();if(posFormat===1){return{posFormat:posFormat,coverage:coverage,valueFormat1:valueFormat1,valueFormat2:valueFormat2,pairSets:this.parseList(Parser.pointer(Parser.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(valueFormat1),value2:this.parseValueRecord(valueFormat2)}})))}}else if(posFormat===2){var classDef1=this.parsePointer(Parser.classDef);var classDef2=this.parsePointer(Parser.classDef);var class1Count=this.parseUShort();var class2Count=this.parseUShort();return{posFormat:posFormat,coverage:coverage,valueFormat1:valueFormat1,valueFormat2:valueFormat2,classDef1:classDef1,classDef2:classDef2,class1Count:class1Count,class2Count:class2Count,classRecords:this.parseList(class1Count,Parser.list(class2Count,function(){return{value1:this.parseValueRecord(valueFormat1),value2:this.parseValueRecord(valueFormat2)}}))}}};subtableParsers$1[3]=function parseLookup3(){return{error:"GPOS Lookup 3 not supported"}};subtableParsers$1[4]=function parseLookup4(){return{error:"GPOS Lookup 4 not supported"}};subtableParsers$1[5]=function parseLookup5(){return{error:"GPOS Lookup 5 not supported"}};subtableParsers$1[6]=function parseLookup6(){return{error:"GPOS Lookup 6 not supported"}};subtableParsers$1[7]=function parseLookup7(){return{error:"GPOS Lookup 7 not supported"}};subtableParsers$1[8]=function parseLookup8(){return{error:"GPOS Lookup 8 not supported"}};subtableParsers$1[9]=function parseLookup9(){return{error:"GPOS Lookup 9 not supported"}};function parseGposTable(data,start){start=start||0;var p=new Parser(data,start);var tableVersion=p.parseVersion(1);check.argument(tableVersion===1||tableVersion===1.1,"Unsupported GPOS table version "+tableVersion);if(tableVersion===1){return{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers$1)}}else{return{version:tableVersion,scripts:p.parseScriptList(),features:p.parseFeatureList(),lookups:p.parseLookupList(subtableParsers$1),variations:p.parseFeatureVariationsList()}}}var subtableMakers$1=new Array(10);function makeGposTable(gpos){return new table.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new table.ScriptList(gpos.scripts)},{name:"features",type:"TABLE",value:new table.FeatureList(gpos.features)},{name:"lookups",type:"TABLE",value:new table.LookupList(gpos.lookups,subtableMakers$1)}])}var gpos={parse:parseGposTable,make:makeGposTable};function parseWindowsKernTable(p){var pairs={};p.skip("uShort");var subtableVersion=p.parseUShort();check.argument(subtableVersion===0,"Unsupported kern sub-table version.");p.skip("uShort",2);var nPairs=p.parseUShort();p.skip("uShort",3);for(var i=0;i<nPairs;i+=1){var leftIndex=p.parseUShort();var rightIndex=p.parseUShort();var value=p.parseShort();pairs[leftIndex+","+rightIndex]=value}return pairs}function parseMacKernTable(p){var pairs={};p.skip("uShort");var nTables=p.parseULong();if(nTables>1){console.warn("Only the first kern subtable is supported.")}p.skip("uLong");var coverage=p.parseUShort();var subtableVersion=coverage&255;p.skip("uShort");if(subtableVersion===0){var nPairs=p.parseUShort();p.skip("uShort",3);for(var i=0;i<nPairs;i+=1){var leftIndex=p.parseUShort();var rightIndex=p.parseUShort();var value=p.parseShort();pairs[leftIndex+","+rightIndex]=value}}return pairs}function parseKernTable(data,start){var p=new parse.Parser(data,start);var tableVersion=p.parseUShort();if(tableVersion===0){return parseWindowsKernTable(p)}else if(tableVersion===1){return parseMacKernTable(p)}else{throw new Error("Unsupported kern table version ("+tableVersion+").")}}var kern={parse:parseKernTable};function parseLocaTable(data,start,numGlyphs,shortVersion){var p=new parse.Parser(data,start);var parseFn=shortVersion?p.parseUShort:p.parseULong;var glyphOffsets=[];for(var i=0;i<numGlyphs+1;i+=1){var glyphOffset=parseFn.call(p);if(shortVersion){glyphOffset*=2}glyphOffsets.push(glyphOffset)}return glyphOffsets}var loca={parse:parseLocaTable};function loadFromFile(path,callback){var fs=_dereq_("fs");fs.readFile(path,function(err,buffer){if(err){return callback(err.message)}callback(null,nodeBufferToArrayBuffer(buffer))})}function loadFromUrl(url,callback){var request=new XMLHttpRequest;request.open("get",url,true);request.responseType="arraybuffer";request.onload=function(){if(request.response){return callback(null,request.response)}else{return callback("Font could not be loaded: "+request.statusText)}};request.onerror=function(){callback("Font could not be loaded")};request.send()}function parseOpenTypeTableEntries(data,numTables){var tableEntries=[];var p=12;for(var i=0;i<numTables;i+=1){var tag=parse.getTag(data,p);var checksum=parse.getULong(data,p+4);var offset=parse.getULong(data,p+8);var length=parse.getULong(data,p+12);tableEntries.push({tag:tag,checksum:checksum,offset:offset,length:length,compression:false});p+=16}return tableEntries}function parseWOFFTableEntries(data,numTables){var tableEntries=[];var p=44;for(var i=0;i<numTables;i+=1){var tag=parse.getTag(data,p);var offset=parse.getULong(data,p+4);var compLength=parse.getULong(data,p+8);var origLength=parse.getULong(data,p+12);var compression=void 0;if(compLength<origLength){compression="WOFF"}else{compression=false}tableEntries.push({tag:tag,offset:offset,compression:compression,compressedLength:compLength,length:origLength});p+=20}return tableEntries}function uncompressTable(data,tableEntry){if(tableEntry.compression==="WOFF"){var inBuffer=new Uint8Array(data.buffer,tableEntry.offset+2,tableEntry.compressedLength-2);var outBuffer=new Uint8Array(tableEntry.length);tinyInflate(inBuffer,outBuffer);if(outBuffer.byteLength!==tableEntry.length){throw new Error("Decompression error: "+tableEntry.tag+" decompressed length doesn't match recorded length")}var view=new DataView(outBuffer.buffer,0);return{data:view,offset:0}}else{return{data:data,offset:tableEntry.offset}}}function parseBuffer(buffer){var indexToLocFormat;var ltagTable;var font=new Font({empty:true});var data=new DataView(buffer,0);var numTables;var tableEntries=[];var signature=parse.getTag(data,0);if(signature===String.fromCharCode(0,1,0,0)||signature==="true"||signature==="typ1"){font.outlinesFormat="truetype";numTables=parse.getUShort(data,4);tableEntries=parseOpenTypeTableEntries(data,numTables)}else if(signature==="OTTO"){font.outlinesFormat="cff";numTables=parse.getUShort(data,4);tableEntries=parseOpenTypeTableEntries(data,numTables)}else if(signature==="wOFF"){var flavor=parse.getTag(data,4);if(flavor===String.fromCharCode(0,1,0,0)){font.outlinesFormat="truetype"}else if(flavor==="OTTO"){font.outlinesFormat="cff"}else{throw new Error("Unsupported OpenType flavor "+signature)}numTables=parse.getUShort(data,12);tableEntries=parseWOFFTableEntries(data,numTables)}else{throw new Error("Unsupported OpenType signature "+signature)}var cffTableEntry;var fvarTableEntry;var glyfTableEntry;var gposTableEntry;var gsubTableEntry;var hmtxTableEntry;var kernTableEntry;var locaTableEntry;var nameTableEntry;var metaTableEntry;var p;for(var i=0;i<numTables;i+=1){var tableEntry=tableEntries[i];var table=void 0;switch(tableEntry.tag){case"cmap":table=uncompressTable(data,tableEntry);font.tables.cmap=cmap.parse(table.data,table.offset);font.encoding=new CmapEncoding(font.tables.cmap);break;case"cvt ":table=uncompressTable(data,tableEntry);p=new parse.Parser(table.data,table.offset);font.tables.cvt=p.parseShortList(tableEntry.length/2);break;case"fvar":fvarTableEntry=tableEntry;break;case"fpgm":table=uncompressTable(data,tableEntry);p=new parse.Parser(table.data,table.offset);font.tables.fpgm=p.parseByteList(tableEntry.length);break;case"head":table=uncompressTable(data,tableEntry);font.tables.head=head.parse(table.data,table.offset);font.unitsPerEm=font.tables.head.unitsPerEm;indexToLocFormat=font.tables.head.indexToLocFormat;break;case"hhea":table=uncompressTable(data,tableEntry);font.tables.hhea=hhea.parse(table.data,table.offset);font.ascender=font.tables.hhea.ascender;font.descender=font.tables.hhea.descender;font.numberOfHMetrics=font.tables.hhea.numberOfHMetrics;break;case"hmtx":hmtxTableEntry=tableEntry;break;case"ltag":table=uncompressTable(data,tableEntry);ltagTable=ltag.parse(table.data,table.offset);break;case"maxp":table=uncompressTable(data,tableEntry);font.tables.maxp=maxp.parse(table.data,table.offset);font.numGlyphs=font.tables.maxp.numGlyphs;break;case"name":nameTableEntry=tableEntry;break;case"OS/2":table=uncompressTable(data,tableEntry);font.tables.os2=os2.parse(table.data,table.offset);break;case"post":table=uncompressTable(data,tableEntry);font.tables.post=post.parse(table.data,table.offset);font.glyphNames=new GlyphNames(font.tables.post);break;case"prep":table=uncompressTable(data,tableEntry);p=new parse.Parser(table.data,table.offset);font.tables.prep=p.parseByteList(tableEntry.length);break;case"glyf":glyfTableEntry=tableEntry;break;case"loca":locaTableEntry=tableEntry;break;case"CFF ":cffTableEntry=tableEntry;break;case"kern":kernTableEntry=tableEntry;break;case"GPOS":gposTableEntry=tableEntry;break;case"GSUB":gsubTableEntry=tableEntry;break;case"meta":metaTableEntry=tableEntry;break}}var nameTable=uncompressTable(data,nameTableEntry);font.tables.name=_name.parse(nameTable.data,nameTable.offset,ltagTable);font.names=font.tables.name;if(glyfTableEntry&&locaTableEntry){var shortVersion=indexToLocFormat===0;var locaTable=uncompressTable(data,locaTableEntry);var locaOffsets=loca.parse(locaTable.data,locaTable.offset,font.numGlyphs,shortVersion);var glyfTable=uncompressTable(data,glyfTableEntry);font.glyphs=glyf.parse(glyfTable.data,glyfTable.offset,locaOffsets,font)}else if(cffTableEntry){var cffTable=uncompressTable(data,cffTableEntry);cff.parse(cffTable.data,cffTable.offset,font)}else{throw new Error("Font doesn't contain TrueType or CFF outlines.")}var hmtxTable=uncompressTable(data,hmtxTableEntry);hmtx.parse(hmtxTable.data,hmtxTable.offset,font.numberOfHMetrics,font.numGlyphs,font.glyphs);addGlyphNames(font);if(kernTableEntry){var kernTable=uncompressTable(data,kernTableEntry);font.kerningPairs=kern.parse(kernTable.data,kernTable.offset)}else{font.kerningPairs={}}if(gposTableEntry){var gposTable=uncompressTable(data,gposTableEntry);font.tables.gpos=gpos.parse(gposTable.data,gposTable.offset);font.position.init()}if(gsubTableEntry){var gsubTable=uncompressTable(data,gsubTableEntry);font.tables.gsub=gsub.parse(gsubTable.data,gsubTable.offset)}if(fvarTableEntry){var fvarTable=uncompressTable(data,fvarTableEntry);font.tables.fvar=fvar.parse(fvarTable.data,fvarTable.offset,font.names)}if(metaTableEntry){var metaTable=uncompressTable(data,metaTableEntry);font.tables.meta=meta.parse(metaTable.data,metaTable.offset);font.metas=font.tables.meta}return font}function load(url,callback){var isNode$$1=typeof window==="undefined";var loadFn=isNode$$1?loadFromFile:loadFromUrl;loadFn(url,function(err,arrayBuffer){if(err){return callback(err)}var font;try{font=parseBuffer(arrayBuffer)}catch(e){return callback(e,null)}return callback(null,font)})}function loadSync(url){var fs=_dereq_("fs");var buffer=fs.readFileSync(url);return parseBuffer(nodeBufferToArrayBuffer(buffer))}exports.Font=Font;exports.Glyph=Glyph;exports.Path=Path;exports.BoundingBox=BoundingBox;exports._parse=parse;exports.parse=parseBuffer;exports.load=load;exports.loadSync=loadSync;Object.defineProperty(exports,"__esModule",{value:true})})}).call(this,_dereq_("buffer").Buffer)},{buffer:22,fs:21}],262:[function(_dereq_,module,exports){(function(process){function normalizeArray(parts,allowAboveRoot){var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up--;up){parts.unshift("..")}}return parts}exports.resolve=function(){var resolvedPath="",resolvedAbsolute=false;for(var i=arguments.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?arguments[i]:process.cwd();if(typeof path!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){continue}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=path.charAt(0)==="/"}resolvedPath=normalizeArray(filter(resolvedPath.split("/"),function(p){return!!p}),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."};exports.normalize=function(path){var isAbsolute=exports.isAbsolute(path),trailingSlash=substr(path,-1)==="/";path=normalizeArray(filter(path.split("/"),function(p){return!!p}),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path};exports.isAbsolute=function(path){return path.charAt(0)==="/"};exports.join=function(){var paths=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(paths,function(p,index){if(typeof p!=="string"){throw new TypeError("Arguments to path.join must be strings")}return p}).join("/"))};exports.relative=function(from,to){from=exports.resolve(from).substr(1);to=exports.resolve(to).substr(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")};exports.sep="/";exports.delimiter=":";exports.dirname=function(path){if(typeof path!=="string")path=path+"";if(path.length===0)return".";var code=path.charCodeAt(0);var hasRoot=code===47;var end=-1;var matchedSlash=true;for(var i=path.length-1;i>=1;--i){code=path.charCodeAt(i);if(code===47){if(!matchedSlash){end=i;break}}else{matchedSlash=false}}if(end===-1)return hasRoot?"/":".";if(hasRoot&&end===1){return"/"}return path.slice(0,end)};function basename(path){if(typeof path!=="string")path=path+"";var start=0;var end=-1;var matchedSlash=true;var i;for(i=path.length-1;i>=0;--i){if(path.charCodeAt(i)===47){if(!matchedSlash){start=i+1;break}}else if(end===-1){matchedSlash=false;end=i+1}}if(end===-1)return"";return path.slice(start,end)}exports.basename=function(path,ext){var f=basename(path);if(ext&&f.substr(-1*ext.length)===ext){f=f.substr(0,f.length-ext.length)}return f};exports.extname=function(path){if(typeof path!=="string")path=path+"";var startDot=-1;var startPart=0;var end=-1;var matchedSlash=true;var preDotState=0;for(var i=path.length-1;i>=0;--i){var code=path.charCodeAt(i);if(code===47){if(!matchedSlash){startPart=i+1;break}continue}if(end===-1){matchedSlash=false;end=i+1}if(code===46){if(startDot===-1)startDot=i;else if(preDotState!==1)preDotState=1}else if(startDot!==-1){preDotState=-1}}if(startDot===-1||end===-1||preDotState===0||preDotState===1&&startDot===end-1&&startDot===startPart+1){return""}return path.slice(startDot,end)};function filter(xs,f){if(xs.filter)return xs.filter(f);var res=[];for(var i=0;i<xs.length;i++){if(f(xs[i],i,xs))res.push(xs[i])}return res}var substr="ab".substr(-1)==="b"?function(str,start,len){return str.substr(start,len)}:function(str,start,len){if(start<0)start=str.length+start;return str.substr(start,len)}}).call(this,_dereq_("_process"))},{_process:263}],263:[function(_dereq_,module,exports){var process=module.exports={};var cachedSetTimeout;var cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){cachedSetTimeout=setTimeout}else{cachedSetTimeout=defaultSetTimout}}catch(e){cachedSetTimeout=defaultSetTimout}try{if(typeof clearTimeout==="function"){cachedClearTimeout=clearTimeout}else{cachedClearTimeout=defaultClearTimeout}}catch(e){cachedClearTimeout=defaultClearTimeout}})();function runTimeout(fun){if(cachedSetTimeout===setTimeout){return setTimeout(fun,0)}if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout){cachedSetTimeout=setTimeout;return setTimeout(fun,0)}try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout){return clearTimeout(marker)}if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout){cachedClearTimeout=clearTimeout;return clearTimeout(marker)}try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}var queue=[];var draining=false;var currentQueue;var queueIndex=-1;function cleanUpNextTick(){if(!draining||!currentQueue){return}draining=false;if(currentQueue.length){queue=currentQueue.concat(queue)}else{queueIndex=-1}if(queue.length){drainQueue()}}function drainQueue(){if(draining){return}var timeout=runTimeout(cleanUpNextTick);draining=true;var len=queue.length;while(len){currentQueue=queue;queue=[];while(++queueIndex<len){if(currentQueue){currentQueue[queueIndex].run()}}queueIndex=-1;len=queue.length}currentQueue=null;draining=false;runClearTimeout(timeout)}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1){for(var i=1;i<arguments.length;i++){args[i-1]=arguments[i]}}queue.push(new Item(fun,args));if(queue.length===1&&!draining){runTimeout(drainQueue)}};function Item(fun,array){this.fun=fun;this.array=array}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=true;process.env={};process.argv=[];process.version="";process.versions={};function noop(){}process.on=noop;process.addListener=noop;process.once=noop;process.off=noop;process.removeListener=noop;process.removeAllListeners=noop;process.emit=noop;process.prependListener=noop;process.prependOnceListener=noop;process.listeners=function(name){return[]};process.binding=function(name){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(dir){throw new Error("process.chdir is not supported")};process.umask=function(){return 0}},{}],264:[function(_dereq_,module,exports){(function(self){"use strict";if(self.fetch){return}var support={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{new Blob;return true}catch(e){return false}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(support.arrayBuffer){var viewClasses=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"];var isDataView=function(obj){return obj&&DataView.prototype.isPrototypeOf(obj)};var isArrayBufferView=ArrayBuffer.isView||function(obj){return obj&&viewClasses.indexOf(Object.prototype.toString.call(obj))>-1}}function normalizeName(name){if(typeof name!=="string"){name=String(name)}if(/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(name)){throw new TypeError("Invalid character in header field name")}return name.toLowerCase()}function normalizeValue(value){if(typeof value!=="string"){value=String(value)}return value}function iteratorFor(items){var iterator={next:function(){var value=items.shift();return{done:value===undefined,value:value}}};if(support.iterable){iterator[Symbol.iterator]=function(){return iterator}}return iterator}function Headers(headers){this.map={};if(headers instanceof Headers){headers.forEach(function(value,name){this.append(name,value)},this)}else if(Array.isArray(headers)){headers.forEach(function(header){this.append(header[0],header[1])},this)}else if(headers){Object.getOwnPropertyNames(headers).forEach(function(name){this.append(name,headers[name])},this)}}Headers.prototype.append=function(name,value){name=normalizeName(name);value=normalizeValue(value);var oldValue=this.map[name];this.map[name]=oldValue?oldValue+","+value:value};Headers.prototype["delete"]=function(name){delete this.map[normalizeName(name)]};Headers.prototype.get=function(name){name=normalizeName(name);return this.has(name)?this.map[name]:null};Headers.prototype.has=function(name){return this.map.hasOwnProperty(normalizeName(name))};Headers.prototype.set=function(name,value){this.map[normalizeName(name)]=normalizeValue(value)};Headers.prototype.forEach=function(callback,thisArg){for(var name in this.map){if(this.map.hasOwnProperty(name)){callback.call(thisArg,this.map[name],name,this)}}};Headers.prototype.keys=function(){var items=[];this.forEach(function(value,name){items.push(name)});return iteratorFor(items)};Headers.prototype.values=function(){var items=[];this.forEach(function(value){items.push(value)});return iteratorFor(items)};Headers.prototype.entries=function(){var items=[];this.forEach(function(value,name){items.push([name,value])});return iteratorFor(items)};if(support.iterable){Headers.prototype[Symbol.iterator]=Headers.prototype.entries}function consumed(body){if(body.bodyUsed){return Promise.reject(new TypeError("Already read"))}body.bodyUsed=true}function fileReaderReady(reader){return new Promise(function(resolve,reject){reader.onload=function(){resolve(reader.result)};reader.onerror=function(){reject(reader.error)}})}function readBlobAsArrayBuffer(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsArrayBuffer(blob);return promise}function readBlobAsText(blob){var reader=new FileReader;var promise=fileReaderReady(reader);reader.readAsText(blob);return promise}function readArrayBufferAsText(buf){var view=new Uint8Array(buf);var chars=new Array(view.length);for(var i=0;i<view.length;i++){chars[i]=String.fromCharCode(view[i])}return chars.join("")}function bufferClone(buf){if(buf.slice){return buf.slice(0)}else{var view=new Uint8Array(buf.byteLength);view.set(new Uint8Array(buf));return view.buffer}}function Body(){this.bodyUsed=false;this._initBody=function(body){this._bodyInit=body;if(!body){this._bodyText=""}else if(typeof body==="string"){this._bodyText=body}else if(support.blob&&Blob.prototype.isPrototypeOf(body)){this._bodyBlob=body}else if(support.formData&&FormData.prototype.isPrototypeOf(body)){this._bodyFormData=body}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this._bodyText=body.toString()}else if(support.arrayBuffer&&support.blob&&isDataView(body)){this._bodyArrayBuffer=bufferClone(body.buffer);this._bodyInit=new Blob([this._bodyArrayBuffer])}else if(support.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(body)||isArrayBufferView(body))){this._bodyArrayBuffer=bufferClone(body)}else{throw new Error("unsupported BodyInit type")}if(!this.headers.get("content-type")){if(typeof body==="string"){this.headers.set("content-type","text/plain;charset=UTF-8")}else if(this._bodyBlob&&this._bodyBlob.type){this.headers.set("content-type",this._bodyBlob.type)}else if(support.searchParams&&URLSearchParams.prototype.isPrototypeOf(body)){this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8")}}};if(support.blob){this.blob=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return Promise.resolve(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(new Blob([this._bodyArrayBuffer]))}else if(this._bodyFormData){throw new Error("could not read FormData body as blob")}else{return Promise.resolve(new Blob([this._bodyText]))}};this.arrayBuffer=function(){if(this._bodyArrayBuffer){return consumed(this)||Promise.resolve(this._bodyArrayBuffer)}else{return this.blob().then(readBlobAsArrayBuffer)}}}this.text=function(){var rejected=consumed(this);if(rejected){return rejected}if(this._bodyBlob){return readBlobAsText(this._bodyBlob)}else if(this._bodyArrayBuffer){return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))}else if(this._bodyFormData){throw new Error("could not read FormData body as text")}else{return Promise.resolve(this._bodyText)}};if(support.formData){this.formData=function(){return this.text().then(decode)}}this.json=function(){return this.text().then(JSON.parse)};return this}var methods=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function normalizeMethod(method){var upcased=method.toUpperCase();return methods.indexOf(upcased)>-1?upcased:method}function Request(input,options){options=options||{};var body=options.body;if(input instanceof Request){if(input.bodyUsed){throw new TypeError("Already read")}this.url=input.url;this.credentials=input.credentials;if(!options.headers){this.headers=new Headers(input.headers)}this.method=input.method;this.mode=input.mode;if(!body&&input._bodyInit!=null){body=input._bodyInit;input.bodyUsed=true}}else{this.url=String(input)}this.credentials=options.credentials||this.credentials||"omit";if(options.headers||!this.headers){this.headers=new Headers(options.headers)}this.method=normalizeMethod(options.method||this.method||"GET");this.mode=options.mode||this.mode||null;this.referrer=null;if((this.method==="GET"||this.method==="HEAD")&&body){throw new TypeError("Body not allowed for GET or HEAD requests")}this._initBody(body)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})};function decode(body){var form=new FormData;body.trim().split("&").forEach(function(bytes){if(bytes){var split=bytes.split("=");var name=split.shift().replace(/\+/g," ");var value=split.join("=").replace(/\+/g," ");form.append(decodeURIComponent(name),decodeURIComponent(value))}});return form}function parseHeaders(rawHeaders){var headers=new Headers;var preProcessedHeaders=rawHeaders.replace(/\r?\n[\t ]+/g," ");preProcessedHeaders.split(/\r?\n/).forEach(function(line){var parts=line.split(":");var key=parts.shift().trim();if(key){var value=parts.join(":").trim();headers.append(key,value)}});return headers}Body.call(Request.prototype);function Response(bodyInit,options){if(!options){options={}}this.type="default";this.status=options.status===undefined?200:options.status;this.ok=this.status>=200&&this.status<300;this.statusText="statusText"in options?options.statusText:"OK";this.headers=new Headers(options.headers);this.url=options.url||"";this._initBody(bodyInit)}Body.call(Response.prototype);Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})};Response.error=function(){var response=new Response(null,{status:0,statusText:""});response.type="error";return response};var redirectStatuses=[301,302,303,307,308];Response.redirect=function(url,status){if(redirectStatuses.indexOf(status)===-1){throw new RangeError("Invalid status code")}return new Response(null,{status:status,headers:{location:url}})};self.Headers=Headers;self.Request=Request;self.Response=Response;self.fetch=function(input,init){return new Promise(function(resolve,reject){var request=new Request(input,init);var xhr=new XMLHttpRequest;xhr.onload=function(){var options={status:xhr.status,statusText:xhr.statusText,headers:parseHeaders(xhr.getAllResponseHeaders()||"")};options.url="responseURL"in xhr?xhr.responseURL:options.headers.get("X-Request-URL");var body="response"in xhr?xhr.response:xhr.responseText;resolve(new Response(body,options))};xhr.onerror=function(){reject(new TypeError("Network request failed"))};xhr.ontimeout=function(){reject(new TypeError("Network request failed"))};xhr.open(request.method,request.url,true);if(request.credentials==="include"){xhr.withCredentials=true}else if(request.credentials==="omit"){xhr.withCredentials=false}if("responseType"in xhr&&support.blob){xhr.responseType="blob"}request.headers.forEach(function(value,name){xhr.setRequestHeader(name,value)});xhr.send(typeof request._bodyInit==="undefined"?null:request._bodyInit)})};self.fetch.polyfill=true})(typeof self!=="undefined"?self:this)},{}],265:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.split");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var _color_conversion=_interopRequireDefault(_dereq_("../color/color_conversion"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var originalHSB;var colorExceptions=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}];var colorLookUp=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];function _calculateColor(hsb){var colortext;if(hsb[0]!==0){hsb[0]=Math.round(hsb[0]*100);var hue=hsb[0].toString().split("");var last=hue.length-1;hue[last]=parseInt(hue[last]);if(hue[last]<2.5){hue[last]=0}else if(hue[last]>=2.5&&hue[last]<7.5){hue[last]=5}if(hue.length===2){hue[0]=parseInt(hue[0]);if(hue[last]>=7.5){hue[last]=0;hue[0]=hue[0]+1}hsb[0]=hue[0]*10+hue[1]}else{if(hue[last]>=7.5){hsb[0]=10}else{hsb[0]=hue[last]}}}hsb[2]=hsb[2]/255;for(var i=hsb.length-1;i>=1;i--){if(hsb[i]<=.25){hsb[i]=0}else if(hsb[i]>.25&&hsb[i]<.75){hsb[i]=.5}else{hsb[i]=1}}if(hsb[0]===0&&hsb[1]===0&&hsb[2]===1){for(var _i=2;_i>=0;_i--){originalHSB[_i]=Math.round(originalHSB[_i]*1e4)/1e4}for(var e=0;e<colorExceptions.length;e++){if(colorExceptions[e].h===originalHSB[0]&&colorExceptions[e].s===originalHSB[1]&&colorExceptions[e].b===originalHSB[2]){colortext=colorExceptions[e].name;break}else{colortext="white"}}}else{for(var _i2=0;_i2<colorLookUp.length;_i2++){if(colorLookUp[_i2].h===hsb[0]&&colorLookUp[_i2].s===hsb[1]&&colorLookUp[_i2].b===hsb[2]){colortext=colorLookUp[_i2].name;break}}}return colortext}_main.default.prototype._rgbColorName=function(arg){var hsb=_color_conversion.default._rgbaToHSBA(arg);originalHSB=hsb;return _calculateColor([hsb[0],hsb[1],hsb[2]])};var _default=_main.default;exports.default=_default},{"../color/color_conversion":271,"../core/main":287,"core-js/modules/es.function.name":184,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.split":209}],266:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.ends-with");_dereq_("core-js/modules/es.string.replace");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var descContainer="_Description";var fallbackDescId="_fallbackDesc";var fallbackTableId="_fallbackTable";var fallbackTableElId="_fte_";var labelContainer="_Label";var labelDescId="_labelDesc";var labelTableId="_labelTable";var labelTableElId="_lte_";_main.default.prototype.describe=function(text,display){_main.default._validateParameters("describe",arguments);if(typeof text!=="string"){return}var cnvId=this.canvas.id;text=_descriptionText(text);if(!this.dummyDOM){this.dummyDOM=document.getElementById(cnvId).parentNode}if(!this.descriptions){this.descriptions={}}if(this.descriptions.fallback){if(this.descriptions.fallback.innerHTML!==text){this.descriptions.fallback.innerHTML=text}}else{this._describeHTML("fallback",text)}if(display===this.LABEL){if(this.descriptions.label){if(this.descriptions.label.innerHTML!==text){this.descriptions.label.innerHTML=text}}else{this._describeHTML("label",text)}}};_main.default.prototype.describeElement=function(name,text,display){_main.default._validateParameters("describeElement",arguments);if(typeof text!=="string"||typeof name!=="string"){return}var cnvId=this.canvas.id;text=_descriptionText(text);var elementName=_elementName(name);name=name.replace(/[^a-zA-Z0-9]/g,"");var inner='<th scope="row">'.concat(elementName,"</th><td>").concat(text,"</td>");if(!this.dummyDOM){this.dummyDOM=document.getElementById(cnvId).parentNode}if(!this.descriptions){this.descriptions={fallbackElements:{}}}else if(!this.descriptions.fallbackElements){this.descriptions.fallbackElements={}}if(this.descriptions.fallbackElements[name]){if(this.descriptions.fallbackElements[name].innerHTML!==inner){this.descriptions.fallbackElements[name].innerHTML=inner}}else{this._describeElementHTML("fallback",name,inner)}if(display===this.LABEL){if(!this.descriptions.labelElements){this.descriptions.labelElements={}}if(this.descriptions.labelElements[name]){if(this.descriptions.labelElements[name].innerHTML!==inner){this.descriptions.labelElements[name].innerHTML=inner}}else{this._describeElementHTML("label",name,inner)}}};function _descriptionText(text){if(text==="label"||text==="fallback"){throw new Error("description should not be LABEL or FALLBACK")}if(!text.endsWith(".")&&!text.endsWith(";")&&!text.endsWith(",")&&!text.endsWith("?")&&!text.endsWith("!")){text=text+"."}return text}_main.default.prototype._describeHTML=function(type,text){var cnvId=this.canvas.id;if(type==="fallback"){if(!this.dummyDOM.querySelector("#".concat(cnvId+descContainer))){var html='<div id="'.concat(cnvId).concat(descContainer,'" role="region" aria-label="Canvas Description"><p id="').concat(cnvId).concat(fallbackDescId,'"></p></div>');if(!this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutput"))){this.dummyDOM.querySelector("#".concat(cnvId)).innerHTML=html}else{this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutput")).insertAdjacentHTML("beforebegin",html)}}else{this.dummyDOM.querySelector("#"+cnvId+fallbackTableId).insertAdjacentHTML("beforebegin",'<p id="'.concat(cnvId+fallbackDescId,'"></p>'))}this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(cnvId).concat(fallbackDescId));this.descriptions.fallback.innerHTML=text;return}else if(type==="label"){if(!this.dummyDOM.querySelector("#".concat(cnvId+labelContainer))){var _html='<div id="'.concat(cnvId).concat(labelContainer,'" class="p5Label"><p id="').concat(cnvId).concat(labelDescId,'"></p></div>');if(!this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutputLabel"))){this.dummyDOM.querySelector("#"+cnvId).insertAdjacentHTML("afterend",_html)}else{this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_html)}}else if(this.dummyDOM.querySelector("#".concat(cnvId+labelTableId))){this.dummyDOM.querySelector("#".concat(cnvId+labelTableId)).insertAdjacentHTML("beforebegin",'<p id="'.concat(cnvId).concat(labelDescId,'"></p>'))}this.descriptions.label=this.dummyDOM.querySelector("#"+cnvId+labelDescId);this.descriptions.label.innerHTML=text;return}};function _elementName(name){if(name==="label"||name==="fallback"){throw new Error("element name should not be LABEL or FALLBACK")}if(name.endsWith(".")||name.endsWith(";")||name.endsWith(",")){name=name.replace(/.$/,":")}else if(!name.endsWith(":")){name=name+":"}return name}_main.default.prototype._describeElementHTML=function(type,name,text){var cnvId=this.canvas.id;if(type==="fallback"){if(!this.dummyDOM.querySelector("#".concat(cnvId+descContainer))){var html='<div id="'.concat(cnvId).concat(descContainer,'" role="region" aria-label="Canvas Description"><table id="').concat(cnvId).concat(fallbackTableId,'"><caption>Canvas elements and their descriptions</caption></table></div>');if(!this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutput"))){this.dummyDOM.querySelector("#"+cnvId).innerHTML=html}else{this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutput")).insertAdjacentHTML("beforebegin",html)}}else if(!this.dummyDOM.querySelector("#"+cnvId+fallbackTableId)){this.dummyDOM.querySelector("#"+cnvId+fallbackDescId).insertAdjacentHTML("afterend",'<table id="'.concat(cnvId).concat(fallbackTableId,'"><caption>Canvas elements and their descriptions</caption></table>'))}var tableRow=document.createElement("tr");tableRow.id=cnvId+fallbackTableElId+name;this.dummyDOM.querySelector("#"+cnvId+fallbackTableId).appendChild(tableRow);this.descriptions.fallbackElements[name]=this.dummyDOM.querySelector("#".concat(cnvId).concat(fallbackTableElId).concat(name));this.descriptions.fallbackElements[name].innerHTML=text;return}else if(type==="label"){if(!this.dummyDOM.querySelector("#".concat(cnvId+labelContainer))){var _html2='<div id="'.concat(cnvId).concat(labelContainer,'" class="p5Label"><table id="').concat(cnvId).concat(labelTableId,'"></table></div>');if(!this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutputLabel"))){this.dummyDOM.querySelector("#"+cnvId).insertAdjacentHTML("afterend",_html2)}else{this.dummyDOM.querySelector("#".concat(cnvId,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_html2)}}else if(!this.dummyDOM.querySelector("#".concat(cnvId+labelTableId))){this.dummyDOM.querySelector("#"+cnvId+labelDescId).insertAdjacentHTML("afterend",'<table id="'.concat(cnvId+labelTableId,'"></table>'))}var _tableRow=document.createElement("tr");_tableRow.id=cnvId+labelTableElId+name;this.dummyDOM.querySelector("#"+cnvId+labelTableId).appendChild(_tableRow);this.descriptions.labelElements[name]=this.dummyDOM.querySelector("#".concat(cnvId).concat(labelTableElId).concat(name));this.descriptions.labelElements[name].innerHTML=text}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.ends-with":202,"core-js/modules/es.string.replace":207}],267:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.map");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype._updateGridOutput=function(idT){if(!this.dummyDOM.querySelector("#".concat(idT,"_summary"))){return}var current=this._accessibleOutputs[idT];var innerShapeDetails=_gridShapeDetails(idT,this.ingredients.shapes);var innerSummary=_gridSummary(innerShapeDetails.numShapes,this.ingredients.colors.background,this.width,this.height);var innerMap=_gridMap(idT,this.ingredients.shapes);if(innerSummary!==current.summary.innerHTML){current.summary.innerHTML=innerSummary}if(innerMap!==current.map.innerHTML){current.map.innerHTML=innerMap}if(innerShapeDetails.details!==current.shapeDetails.innerHTML){current.shapeDetails.innerHTML=innerShapeDetails.details}this._accessibleOutputs[idT]=current};function _gridMap(idT,ingredients){var shapeNumber=0;var table="";var cells=Array.apply(null,Array(10)).map(function(){});for(var r in cells){cells[r]=Array.apply(null,Array(10)).map(function(){})}for(var x in ingredients){for(var y in ingredients[x]){var fill=void 0;if(x!=="line"){fill='<a href="#'.concat(idT,"shape").concat(shapeNumber,'">').concat(ingredients[x][y].color," ").concat(x,"</a>")}else{fill='<a href="#'.concat(idT,"shape").concat(shapeNumber,'">').concat(ingredients[x][y].color," ").concat(x," midpoint</a>")}if(!cells[ingredients[x][y].loc.locY][ingredients[x][y].loc.locX]){cells[ingredients[x][y].loc.locY][ingredients[x][y].loc.locX]=fill}else{cells[ingredients[x][y].loc.locY][ingredients[x][y].loc.locX]=cells[ingredients[x][y].loc.locY][ingredients[x][y].loc.locX]+"  "+fill}shapeNumber++}}for(var _r in cells){var row="<tr>";for(var c in cells[_r]){row=row+"<td>";if(cells[_r][c]!==undefined){row=row+cells[_r][c]}row=row+"</td>"}table=table+row+"</tr>"}return table}function _gridSummary(numShapes,background,width,height){var text="".concat(background," canvas, ").concat(width," by ").concat(height," pixels, contains ").concat(numShapes[0]);if(numShapes[0]===1){text="".concat(text," shape: ").concat(numShapes[1])}else{text="".concat(text," shapes: ").concat(numShapes[1])}return text}function _gridShapeDetails(idT,ingredients){var shapeDetails="";var shapes="";var totalShapes=0;for(var x in ingredients){var shapeNum=0;for(var y in ingredients[x]){var line='<li id="'.concat(idT,"shape").concat(totalShapes,'">').concat(ingredients[x][y].color," ").concat(x,",");if(x==="line"){line=line+" location = ".concat(ingredients[x][y].pos,", length = ").concat(ingredients[x][y].length," pixels")}else{line=line+" location = ".concat(ingredients[x][y].pos);if(x!=="point"){line=line+", area = ".concat(ingredients[x][y].area," %")}line=line+"</li>"}shapeDetails=shapeDetails+line;shapeNum++;totalShapes++}if(shapeNum>1){shapes="".concat(shapes," ").concat(shapeNum," ").concat(x,"s")}else{shapes="".concat(shapes," ").concat(shapeNum," ").concat(x)}}return{numShapes:[totalShapes,shapes],details:shapeDetails}}var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.map":179}],268:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.fill");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.number.to-fixed");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.textOutput=function(display){_main.default._validateParameters("textOutput",arguments);if(this._accessibleOutputs.text){return}else{this._accessibleOutputs.text=true;this._createOutput("textOutput","Fallback");if(display===this.LABEL){this._accessibleOutputs.textLabel=true;this._createOutput("textOutput","Label")}}};_main.default.prototype.gridOutput=function(display){_main.default._validateParameters("gridOutput",arguments);if(this._accessibleOutputs.grid){return}else{this._accessibleOutputs.grid=true;this._createOutput("gridOutput","Fallback");if(display===this.LABEL){this._accessibleOutputs.gridLabel=true;this._createOutput("gridOutput","Label")}}};_main.default.prototype._addAccsOutput=function(){if(!this._accessibleOutputs){this._accessibleOutputs={text:false,grid:false,textLabel:false,gridLabel:false}}return this._accessibleOutputs.grid||this._accessibleOutputs.text};_main.default.prototype._createOutput=function(type,display){var cnvId=this.canvas.id;if(!this.ingredients){this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:""}}if(!this.dummyDOM){this.dummyDOM=document.getElementById(cnvId).parentNode}var cIdT,container,inner;var query="";if(display==="Fallback"){cIdT=cnvId+type;container=cnvId+"accessibleOutput";if(!this.dummyDOM.querySelector("#".concat(container))){if(!this.dummyDOM.querySelector("#".concat(cnvId,"_Description"))){this.dummyDOM.querySelector("#".concat(cnvId)).innerHTML='<div id="'.concat(container,'" role="region" aria-label="Canvas Outputs"></div>')}else{this.dummyDOM.querySelector("#".concat(cnvId,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(container,'" role="region" aria-label="Canvas Outputs"></div>'))}}}else if(display==="Label"){query=display;cIdT=cnvId+type+display;container=cnvId+"accessibleOutput"+display;if(!this.dummyDOM.querySelector("#".concat(container))){if(!this.dummyDOM.querySelector("#".concat(cnvId,"_Label"))){this.dummyDOM.querySelector("#".concat(cnvId)).insertAdjacentHTML("afterend",'<div id="'.concat(container,'"></div>'))}else{this.dummyDOM.querySelector("#".concat(cnvId,"_Label")).insertAdjacentHTML("afterend",'<div id="'.concat(container,'"></div>'))}}}this._accessibleOutputs[cIdT]={};if(type==="textOutput"){query="#".concat(cnvId,"gridOutput").concat(query);inner='<div id="'.concat(cIdT,'">Text Output<div id="').concat(cIdT,'Summary" aria-label="text output summary"><p id="').concat(cIdT,'_summary"></p><ul id="').concat(cIdT,'_list"></ul></div><table id="').concat(cIdT,'_shapeDetails" summary="text output shape details"></table></div>');if(this.dummyDOM.querySelector(query)){this.dummyDOM.querySelector(query).insertAdjacentHTML("beforebegin",inner)}else{this.dummyDOM.querySelector("#".concat(container)).innerHTML=inner}this._accessibleOutputs[cIdT].list=this.dummyDOM.querySelector("#".concat(cIdT,"_list"))}else if(type==="gridOutput"){query="#".concat(cnvId,"textOutput").concat(query);inner='<div id="'.concat(cIdT,'">Grid Output<p id="').concat(cIdT,'_summary" aria-label="grid output summary"><table id="').concat(cIdT,'_map" summary="grid output content"></table><ul id="').concat(cIdT,'_shapeDetails" aria-label="grid output shape details"></ul></div>');if(this.dummyDOM.querySelector(query)){this.dummyDOM.querySelector(query).insertAdjacentHTML("afterend",inner)}else{this.dummyDOM.querySelector("#".concat(container)).innerHTML=inner}this._accessibleOutputs[cIdT].map=this.dummyDOM.querySelector("#".concat(cIdT,"_map"))}this._accessibleOutputs[cIdT].shapeDetails=this.dummyDOM.querySelector("#".concat(cIdT,"_shapeDetails"));this._accessibleOutputs[cIdT].summary=this.dummyDOM.querySelector("#".concat(cIdT,"_summary"))};_main.default.prototype._updateAccsOutput=function(){var cnvId=this.canvas.id;if(JSON.stringify(this.ingredients.shapes)!==this.ingredients.pShapes){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes);if(this._accessibleOutputs.text){this._updateTextOutput(cnvId+"textOutput")}if(this._accessibleOutputs.grid){this._updateGridOutput(cnvId+"gridOutput")}if(this._accessibleOutputs.textLabel){this._updateTextOutput(cnvId+"textOutputLabel")}if(this._accessibleOutputs.gridLabel){this._updateGridOutput(cnvId+"gridOutputLabel")}}};_main.default.prototype._accsBackground=function(args){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes);this.ingredients.shapes={};if(this.ingredients.colors.backgroundRGBA!==args){this.ingredients.colors.backgroundRGBA=args;this.ingredients.colors.background=this._rgbColorName(args)}};_main.default.prototype._accsCanvasColors=function(f,args){if(f==="fill"){if(this.ingredients.colors.fillRGBA!==args){this.ingredients.colors.fillRGBA=args;this.ingredients.colors.fill=this._rgbColorName(args)}}else if(f==="stroke"){if(this.ingredients.colors.strokeRGBA!==args){this.ingredients.colors.strokeRGBA=args;this.ingredients.colors.stroke=this._rgbColorName(args)}}};_main.default.prototype._accsOutput=function(f,args){if(f==="ellipse"&&args[2]===args[3]){f="circle"}else if(f==="rectangle"&&args[2]===args[3]){f="square"}var include={};var add=true;var middle=_getMiddle(f,args);if(f==="line"){include.color=this.ingredients.colors.stroke;include.length=Math.round(this.dist(args[0],args[1],args[2],args[3]));var p1=_getPos([args[0],[1]],this.width,this.height);var p2=_getPos([args[2],[3]],this.width,this.height);include.loc=_canvasLocator(middle,this.width,this.height);if(p1===p2){include.pos="at ".concat(p1)}else{include.pos="from ".concat(p1," to ").concat(p2)}}else{if(f==="point"){include.color=this.ingredients.colors.stroke}else{include.color=this.ingredients.colors.fill;include.area=_getArea(f,args,this.width,this.height)}include.pos=_getPos(middle,this.width,this.height);include.loc=_canvasLocator(middle,this.width,this.height)}if(!this.ingredients.shapes[f]){this.ingredients.shapes[f]=[include]}else if(this.ingredients.shapes[f]!==[include]){for(var y in this.ingredients.shapes[f]){if(JSON.stringify(this.ingredients.shapes[f][y])===JSON.stringify(include)){add=false}}if(add===true){this.ingredients.shapes[f].push(include)}}};function _getMiddle(f,args){var x,y;if(f==="rectangle"||f==="ellipse"||f==="arc"||f==="circle"||f==="square"){x=Math.round(args[0]+args[2]/2);y=Math.round(args[1]+args[3]/2)}else if(f==="triangle"){x=(args[0]+args[2]+args[4])/3;y=(args[1]+args[3]+args[5])/3}else if(f==="quadrilateral"){x=(args[0]+args[2]+args[4]+args[6])/4;y=(args[1]+args[3]+args[5]+args[7])/4}else if(f==="line"){x=(args[0]+args[2])/2;y=(args[1]+args[3])/2}else{x=args[0];y=args[1]}return[x,y]}function _getPos(args,canvasWidth,canvasHeight){if(args[0]<.4*canvasWidth){if(args[1]<.4*canvasHeight){return"top left"}else if(args[1]>.6*canvasHeight){return"bottom left"}else{return"mid left"}}else if(args[0]>.6*canvasWidth){if(args[1]<.4*canvasHeight){return"top right"}else if(args[1]>.6*canvasHeight){return"bottom right"}else{return"mid right"}}else{if(args[1]<.4*canvasHeight){return"top middle"}else if(args[1]>.6*canvasHeight){return"bottom middle"}else{return"middle"}}}function _canvasLocator(args,canvasWidth,canvasHeight){var noRows=10;var noCols=10;var locX=Math.floor(args[0]/canvasWidth*noRows);var locY=Math.floor(args[1]/canvasHeight*noCols);if(locX===noRows){locX=locX-1}if(locY===noCols){locY=locY-1}return{locX:locX,locY:locY}}function _getArea(objectType,shapeArgs,canvasWidth,canvasHeight){var objectArea=0;if(objectType==="arc"){var arcSizeInRadians=((shapeArgs[5]-shapeArgs[4])%(Math.PI*2)+Math.PI*2)%(Math.PI*2);objectArea=arcSizeInRadians*shapeArgs[2]*shapeArgs[3]/8;if(shapeArgs[6]==="open"||shapeArgs[6]==="chord"){var Ax=shapeArgs[0];var Ay=shapeArgs[1];var Bx=shapeArgs[0]+shapeArgs[2]/2*Math.cos(shapeArgs[4]).toFixed(2);var By=shapeArgs[1]+shapeArgs[3]/2*Math.sin(shapeArgs[4]).toFixed(2);var Cx=shapeArgs[0]+shapeArgs[2]/2*Math.cos(shapeArgs[5]).toFixed(2);var Cy=shapeArgs[1]+shapeArgs[3]/2*Math.sin(shapeArgs[5]).toFixed(2);var areaOfExtraTriangle=Math.abs(Ax*(By-Cy)+Bx*(Cy-Ay)+Cx*(Ay-By))/2;if(arcSizeInRadians>Math.PI){objectArea=objectArea+areaOfExtraTriangle}else{objectArea=objectArea-areaOfExtraTriangle}}}else if(objectType==="ellipse"||objectType==="circle"){objectArea=3.14*shapeArgs[2]/2*shapeArgs[3]/2}else if(objectType==="line"){objectArea=0}else if(objectType==="point"){objectArea=0}else if(objectType==="quadrilateral"){objectArea=Math.abs((shapeArgs[6]+shapeArgs[0])*(shapeArgs[7]-shapeArgs[1])+(shapeArgs[0]+shapeArgs[2])*(shapeArgs[1]-shapeArgs[3])+(shapeArgs[2]+shapeArgs[4])*(shapeArgs[3]-shapeArgs[5])+(shapeArgs[4]+shapeArgs[6])*(shapeArgs[5]-shapeArgs[7]))/2}else if(objectType==="rectangle"||objectType==="square"){objectArea=shapeArgs[2]*shapeArgs[3]}else if(objectType==="triangle"){objectArea=Math.abs(shapeArgs[0]*(shapeArgs[3]-shapeArgs[5])+shapeArgs[2]*(shapeArgs[5]-shapeArgs[1])+shapeArgs[4]*(shapeArgs[1]-shapeArgs[3]))/2}return Math.round(objectArea*100/(canvasWidth*canvasHeight))}var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.fill":169,"core-js/modules/es.array.map":179,"core-js/modules/es.number.to-fixed":190}],269:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype._updateTextOutput=function(idT){if(!this.dummyDOM.querySelector("#".concat(idT,"_summary"))){return}var current=this._accessibleOutputs[idT];var innerList=_shapeList(idT,this.ingredients.shapes);var innerSummary=_textSummary(innerList.numShapes,this.ingredients.colors.background,this.width,this.height);var innerShapeDetails=_shapeDetails(idT,this.ingredients.shapes);if(innerSummary!==current.summary.innerHTML){current.summary.innerHTML=innerSummary}if(innerList.listShapes!==current.list.innerHTML){current.list.innerHTML=innerList.listShapes}if(innerShapeDetails!==current.shapeDetails.innerHTML){current.shapeDetails.innerHTML=innerShapeDetails}this._accessibleOutputs[idT]=current};function _textSummary(numShapes,background,width,height){var text="Your output is a, ".concat(width," by ").concat(height," pixels, ").concat(background," canvas containing the following");if(numShapes===1){text="".concat(text," shape:")}else{text="".concat(text," ").concat(numShapes," shapes:")}return text}function _shapeDetails(idT,ingredients){var shapeDetails="";var shapeNumber=0;for(var x in ingredients){for(var y in ingredients[x]){var row='<tr id="'.concat(idT,"shape").concat(shapeNumber,'"><th>').concat(ingredients[x][y].color," ").concat(x,"</th>");if(x==="line"){row=row+"<td>location = ".concat(ingredients[x][y].pos,"</td><td>length = ").concat(ingredients[x][y].length," pixels</td></tr>")}else{row=row+"<td>location = ".concat(ingredients[x][y].pos,"</td>");if(x!=="point"){row=row+"<td> area = ".concat(ingredients[x][y].area,"%</td>")}row=row+"</tr>"}shapeDetails=shapeDetails+row;shapeNumber++}}return shapeDetails}function _shapeList(idT,ingredients){var shapeList="";var shapeNumber=0;for(var x in ingredients){for(var y in ingredients[x]){var _line='<li><a href="#'.concat(idT,"shape").concat(shapeNumber,'">').concat(ingredients[x][y].color," ").concat(x,"</a>");if(x==="line"){_line=_line+", ".concat(ingredients[x][y].pos,", ").concat(ingredients[x][y].length," pixels long.</li>")}else{_line=_line+", at ".concat(ingredients[x][y].pos);if(x!=="point"){_line=_line+", covering ".concat(ingredients[x][y].area,"% of the canvas")}_line=_line+".</li>"}shapeList=shapeList+_line;shapeNumber++}}return{numShapes:shapeNumber,listShapes:shapeList}}var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167}],270:[function(_dereq_,module,exports){"use strict";var _main=_interopRequireDefault(_dereq_("./core/main"));_dereq_("./core/constants");_dereq_("./core/environment");_dereq_("./core/friendly_errors/stacktrace");_dereq_("./core/friendly_errors/validate_params");_dereq_("./core/friendly_errors/file_errors");_dereq_("./core/friendly_errors/fes_core");_dereq_("./core/friendly_errors/sketch_reader");_dereq_("./core/helpers");_dereq_("./core/legacy");_dereq_("./core/preload");_dereq_("./core/p5.Element");_dereq_("./core/p5.Graphics");_dereq_("./core/p5.Renderer");_dereq_("./core/p5.Renderer2D");_dereq_("./core/rendering");_dereq_("./core/shim");_dereq_("./core/structure");_dereq_("./core/transform");_dereq_("./core/shape/2d_primitives");_dereq_("./core/shape/attributes");_dereq_("./core/shape/curves");_dereq_("./core/shape/vertex");_dereq_("./accessibility/outputs");_dereq_("./accessibility/textOutput");_dereq_("./accessibility/gridOutput");_dereq_("./accessibility/color_namer");_dereq_("./color/color_conversion");_dereq_("./color/creating_reading");_dereq_("./color/p5.Color");_dereq_("./color/setting");_dereq_("./data/p5.TypedDict");_dereq_("./data/local_storage.js");_dereq_("./dom/dom");_dereq_("./accessibility/describe");_dereq_("./events/acceleration");_dereq_("./events/keyboard");_dereq_("./events/mouse");_dereq_("./events/touch");_dereq_("./image/filters");_dereq_("./image/image");_dereq_("./image/loading_displaying");_dereq_("./image/p5.Image");_dereq_("./image/pixels");_dereq_("./io/files");_dereq_("./io/p5.Table");_dereq_("./io/p5.TableRow");_dereq_("./io/p5.XML");_dereq_("./math/calculation");_dereq_("./math/math");_dereq_("./math/noise");_dereq_("./math/p5.Vector");_dereq_("./math/random");_dereq_("./math/trigonometry");_dereq_("./typography/attributes");_dereq_("./typography/loading_displaying");_dereq_("./typography/p5.Font");_dereq_("./utilities/array_functions");_dereq_("./utilities/conversion");_dereq_("./utilities/string_functions");_dereq_("./utilities/time_date");_dereq_("./webgl/3d_primitives");_dereq_("./webgl/interaction");_dereq_("./webgl/light");_dereq_("./webgl/loading");_dereq_("./webgl/material");_dereq_("./webgl/p5.Camera");_dereq_("./webgl/p5.Geometry");_dereq_("./webgl/p5.Matrix");_dereq_("./webgl/p5.RendererGL.Immediate");_dereq_("./webgl/p5.RendererGL");_dereq_("./webgl/p5.RendererGL.Retained");_dereq_("./webgl/p5.Shader");_dereq_("./webgl/p5.RenderBuffer");_dereq_("./webgl/p5.Texture");_dereq_("./webgl/text");_dereq_("./core/init");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}module.exports=_main.default},{"./accessibility/color_namer":265,"./accessibility/describe":266,"./accessibility/gridOutput":267,"./accessibility/outputs":268,"./accessibility/textOutput":269,"./color/color_conversion":271,"./color/creating_reading":272,"./color/p5.Color":273,"./color/setting":274,"./core/constants":275,"./core/environment":276,"./core/friendly_errors/fes_core":278,"./core/friendly_errors/file_errors":279,"./core/friendly_errors/sketch_reader":280,"./core/friendly_errors/stacktrace":281,"./core/friendly_errors/validate_params":282,"./core/helpers":283,"./core/init":284,"./core/legacy":286,"./core/main":287,"./core/p5.Element":288,"./core/p5.Graphics":289,"./core/p5.Renderer":290,"./core/p5.Renderer2D":291,"./core/preload":292,"./core/rendering":293,"./core/shape/2d_primitives":294,"./core/shape/attributes":295,"./core/shape/curves":296,"./core/shape/vertex":297,"./core/shim":298,"./core/structure":299,"./core/transform":300,"./data/local_storage.js":301,"./data/p5.TypedDict":302,"./dom/dom":303,"./events/acceleration":304,"./events/keyboard":305,"./events/mouse":306,"./events/touch":307,"./image/filters":308,"./image/image":309,"./image/loading_displaying":310,"./image/p5.Image":311,"./image/pixels":312,"./io/files":313,"./io/p5.Table":314,"./io/p5.TableRow":315,"./io/p5.XML":316,"./math/calculation":317,"./math/math":318,"./math/noise":319,"./math/p5.Vector":320,"./math/random":321,"./math/trigonometry":322,"./typography/attributes":323,"./typography/loading_displaying":324,"./typography/p5.Font":325,"./utilities/array_functions":326,"./utilities/conversion":327,"./utilities/string_functions":328,"./utilities/time_date":329,"./webgl/3d_primitives":330,"./webgl/interaction":331,"./webgl/light":332,"./webgl/loading":333,"./webgl/material":334,"./webgl/p5.Camera":335,"./webgl/p5.Geometry":336,"./webgl/p5.Matrix":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],271:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.ColorConversion={};_main.default.ColorConversion._hsbaToHSLA=function(hsba){var hue=hsba[0];var sat=hsba[1];var val=hsba[2];var li=(2-sat)*val/2;if(li!==0){if(li===1){sat=0}else if(li<.5){sat=sat/(2-sat)}else{sat=sat*val/(2-li*2)}}return[hue,sat,li,hsba[3]]};_main.default.ColorConversion._hsbaToRGBA=function(hsba){var hue=hsba[0]*6;var sat=hsba[1];var val=hsba[2];var RGBA=[];if(sat===0){RGBA=[val,val,val,hsba[3]]}else{var sector=Math.floor(hue);var tint1=val*(1-sat);var tint2=val*(1-sat*(hue-sector));var tint3=val*(1-sat*(1+sector-hue));var red,green,blue;if(sector===1){red=tint2;green=val;blue=tint1}else if(sector===2){red=tint1;green=val;blue=tint3}else if(sector===3){red=tint1;green=tint2;blue=val}else if(sector===4){red=tint3;green=tint1;blue=val}else if(sector===5){red=val;green=tint1;blue=tint2}else{red=val;green=tint3;blue=tint1}RGBA=[red,green,blue,hsba[3]]}return RGBA};_main.default.ColorConversion._hslaToHSBA=function(hsla){var hue=hsla[0];var sat=hsla[1];var li=hsla[2];var val;if(li<.5){val=(1+sat)*li}else{val=li+sat-li*sat}sat=2*(val-li)/val;return[hue,sat,val,hsla[3]]};_main.default.ColorConversion._hslaToRGBA=function(hsla){var hue=hsla[0]*6;var sat=hsla[1];var li=hsla[2];var RGBA=[];if(sat===0){RGBA=[li,li,li,hsla[3]]}else{var val;if(li<.5){val=(1+sat)*li}else{val=li+sat-li*sat}var zest=2*li-val;var hzvToRGB=function hzvToRGB(hue,zest,val){if(hue<0){hue+=6}else if(hue>=6){hue-=6}if(hue<1){return zest+(val-zest)*hue}else if(hue<3){return val}else if(hue<4){return zest+(val-zest)*(4-hue)}else{return zest}};RGBA=[hzvToRGB(hue+2,zest,val),hzvToRGB(hue,zest,val),hzvToRGB(hue-2,zest,val),hsla[3]]}return RGBA};_main.default.ColorConversion._rgbaToHSBA=function(rgba){var red=rgba[0];var green=rgba[1];var blue=rgba[2];var val=Math.max(red,green,blue);var chroma=val-Math.min(red,green,blue);var hue,sat;if(chroma===0){hue=0;sat=0}else{sat=chroma/val;if(red===val){hue=(green-blue)/chroma}else if(green===val){hue=2+(blue-red)/chroma}else if(blue===val){hue=4+(red-green)/chroma}if(hue<0){hue+=6}else if(hue>=6){hue-=6}}return[hue/6,sat,val,rgba[3]]};_main.default.ColorConversion._rgbaToHSLA=function(rgba){var red=rgba[0];var green=rgba[1];var blue=rgba[2];var val=Math.max(red,green,blue);var min=Math.min(red,green,blue);var li=val+min;var chroma=val-min;var hue,sat;if(chroma===0){hue=0;sat=0}else{if(li<1){sat=chroma/li}else{sat=chroma/(2-li)}if(red===val){hue=(green-blue)/chroma}else if(green===val){hue=2+(blue-red)/chroma}else if(blue===val){hue=4+(red-green)/chroma}if(hue<0){hue+=6}else if(hue>=6){hue-=6}}return[hue/6,sat,li/2,rgba[3]]};var _default=_main.default.ColorConversion;exports.default=_default},{"../core/main":287}],272:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.map");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));_dereq_("./p5.Color");_dereq_("../core/friendly_errors/validate_params");_dereq_("../core/friendly_errors/file_errors");_dereq_("../core/friendly_errors/fes_core");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.alpha=function(c){_main.default._validateParameters("alpha",arguments);return this.color(c)._getAlpha()};_main.default.prototype.blue=function(c){_main.default._validateParameters("blue",arguments);return this.color(c)._getBlue()};_main.default.prototype.brightness=function(c){_main.default._validateParameters("brightness",arguments);return this.color(c)._getBrightness()};_main.default.prototype.color=function(){_main.default._validateParameters("color",arguments);if(arguments[0]instanceof _main.default.Color){return arguments[0]}var args=arguments[0]instanceof Array?arguments[0]:arguments;return new _main.default.Color(this,args)};_main.default.prototype.green=function(c){_main.default._validateParameters("green",arguments);return this.color(c)._getGreen()};_main.default.prototype.hue=function(c){_main.default._validateParameters("hue",arguments);return this.color(c)._getHue()};_main.default.prototype.lerpColor=function(c1,c2,amt){_main.default._validateParameters("lerpColor",arguments);var mode=this._colorMode;var maxes=this._colorMaxes;var l0,l1,l2,l3;var fromArray,toArray;if(mode===constants.RGB){fromArray=c1.levels.map(function(level){return level/255});toArray=c2.levels.map(function(level){return level/255})}else if(mode===constants.HSB){c1._getBrightness();c2._getBrightness();fromArray=c1.hsba;toArray=c2.hsba}else if(mode===constants.HSL){c1._getLightness();c2._getLightness();fromArray=c1.hsla;toArray=c2.hsla}else{throw new Error("".concat(mode,"cannot be used for interpolation."))}amt=Math.max(Math.min(amt,1),0);if(typeof this.lerp==="undefined"){this.lerp=function(start,stop,amt){return amt*(stop-start)+start}}l0=this.lerp(fromArray[0],toArray[0],amt);l1=this.lerp(fromArray[1],toArray[1],amt);l2=this.lerp(fromArray[2],toArray[2],amt);l3=this.lerp(fromArray[3],toArray[3],amt);l0*=maxes[mode][0];l1*=maxes[mode][1];l2*=maxes[mode][2];l3*=maxes[mode][3];return this.color(l0,l1,l2,l3)};_main.default.prototype.lightness=function(c){_main.default._validateParameters("lightness",arguments);return this.color(c)._getLightness()};_main.default.prototype.red=function(c){_main.default._validateParameters("red",arguments);return this.color(c)._getRed()};_main.default.prototype.saturation=function(c){_main.default._validateParameters("saturation",arguments);return this.color(c)._getSaturation()};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/friendly_errors/fes_core":278,"../core/friendly_errors/file_errors":279,"../core/friendly_errors/validate_params":282,"../core/main":287,"./p5.Color":273,"core-js/modules/es.array.map":179}],273:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.constructor");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.trim");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));var _color_conversion=_interopRequireDefault(_dereq_("./color_conversion"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Color=function(pInst,vals){this._storeModeAndMaxes(pInst._colorMode,pInst._colorMaxes);if(this.mode!==constants.RGB&&this.mode!==constants.HSL&&this.mode!==constants.HSB){throw new Error("".concat(this.mode," is an invalid colorMode."))}else{this._array=_main.default.Color._parseInputs.apply(this,vals)}this._calculateLevels();return this};_main.default.Color.prototype.toString=function(format){var a=this.levels;var f=this._array;var alpha=f[3];switch(format){case"#rrggbb":return"#".concat(a[0]<16?"0".concat(a[0].toString(16)):a[0].toString(16),a[1]<16?"0".concat(a[1].toString(16)):a[1].toString(16),a[2]<16?"0".concat(a[2].toString(16)):a[2].toString(16));case"#rrggbbaa":return"#".concat(a[0]<16?"0".concat(a[0].toString(16)):a[0].toString(16),a[1]<16?"0".concat(a[1].toString(16)):a[1].toString(16),a[2]<16?"0".concat(a[2].toString(16)):a[2].toString(16),a[3]<16?"0".concat(a[3].toString(16)):a[3].toString(16));case"#rgb":return"#".concat(Math.round(f[0]*15).toString(16),Math.round(f[1]*15).toString(16),Math.round(f[2]*15).toString(16));case"#rgba":return"#".concat(Math.round(f[0]*15).toString(16),Math.round(f[1]*15).toString(16),Math.round(f[2]*15).toString(16),Math.round(f[3]*15).toString(16));case"rgb":return"rgb(".concat(a[0],", ",a[1],", ",a[2],")");case"rgb%":return"rgb(".concat((100*f[0]).toPrecision(3),"%, ",(100*f[1]).toPrecision(3),"%, ",(100*f[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*f[0]).toPrecision(3),"%, ",(100*f[1]).toPrecision(3),"%, ",(100*f[2]).toPrecision(3),"%, ",(100*f[3]).toPrecision(3),"%)");case"hsb":case"hsv":if(!this.hsba)this.hsba=_color_conversion.default._rgbaToHSBA(this._array);return"hsb(".concat(this.hsba[0]*this.maxes[constants.HSB][0],", ",this.hsba[1]*this.maxes[constants.HSB][1],", ",this.hsba[2]*this.maxes[constants.HSB][2],")");case"hsb%":case"hsv%":if(!this.hsba)this.hsba=_color_conversion.default._rgbaToHSBA(this._array);return"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":if(!this.hsba)this.hsba=_color_conversion.default._rgbaToHSBA(this._array);return"hsba(".concat(this.hsba[0]*this.maxes[constants.HSB][0],", ",this.hsba[1]*this.maxes[constants.HSB][1],", ",this.hsba[2]*this.maxes[constants.HSB][2],", ",alpha,")");case"hsba%":case"hsva%":if(!this.hsba)this.hsba=_color_conversion.default._rgbaToHSBA(this._array);return"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*alpha).toPrecision(3),"%)");case"hsl":if(!this.hsla)this.hsla=_color_conversion.default._rgbaToHSLA(this._array);return"hsl(".concat(this.hsla[0]*this.maxes[constants.HSL][0],", ",this.hsla[1]*this.maxes[constants.HSL][1],", ",this.hsla[2]*this.maxes[constants.HSL][2],")");case"hsl%":if(!this.hsla)this.hsla=_color_conversion.default._rgbaToHSLA(this._array);return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":if(!this.hsla)this.hsla=_color_conversion.default._rgbaToHSLA(this._array);return"hsla(".concat(this.hsla[0]*this.maxes[constants.HSL][0],", ",this.hsla[1]*this.maxes[constants.HSL][1],", ",this.hsla[2]*this.maxes[constants.HSL][2],", ",alpha,")");case"hsla%":if(!this.hsla)this.hsla=_color_conversion.default._rgbaToHSLA(this._array);return"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*alpha).toPrecision(3),"%)");case"rgba":default:return"rgba(".concat(a[0],",",a[1],",",a[2],",",alpha,")")}};_main.default.Color.prototype.setRed=function(new_red){this._array[0]=new_red/this.maxes[constants.RGB][0];this._calculateLevels()};_main.default.Color.prototype.setGreen=function(new_green){this._array[1]=new_green/this.maxes[constants.RGB][1];this._calculateLevels()};_main.default.Color.prototype.setBlue=function(new_blue){this._array[2]=new_blue/this.maxes[constants.RGB][2];this._calculateLevels()};_main.default.Color.prototype.setAlpha=function(new_alpha){this._array[3]=new_alpha/this.maxes[this.mode][3];this._calculateLevels()};_main.default.Color.prototype._calculateLevels=function(){var array=this._array;var levels=this.levels=new Array(array.length);for(var i=array.length-1;i>=0;--i){levels[i]=Math.round(array[i]*255)}};_main.default.Color.prototype._getAlpha=function(){return this._array[3]*this.maxes[this.mode][3]};_main.default.Color.prototype._storeModeAndMaxes=function(new_mode,new_maxes){this.mode=new_mode;this.maxes=new_maxes};_main.default.Color.prototype._getMode=function(){return this.mode};_main.default.Color.prototype._getMaxes=function(){return this.maxes};_main.default.Color.prototype._getBlue=function(){return this._array[2]*this.maxes[constants.RGB][2]};_main.default.Color.prototype._getBrightness=function(){if(!this.hsba){this.hsba=_color_conversion.default._rgbaToHSBA(this._array)}return this.hsba[2]*this.maxes[constants.HSB][2]};_main.default.Color.prototype._getGreen=function(){return this._array[1]*this.maxes[constants.RGB][1]};_main.default.Color.prototype._getHue=function(){if(this.mode===constants.HSB){if(!this.hsba){this.hsba=_color_conversion.default._rgbaToHSBA(this._array)}return this.hsba[0]*this.maxes[constants.HSB][0]}else{if(!this.hsla){this.hsla=_color_conversion.default._rgbaToHSLA(this._array)}return this.hsla[0]*this.maxes[constants.HSL][0]}};_main.default.Color.prototype._getLightness=function(){if(!this.hsla){this.hsla=_color_conversion.default._rgbaToHSLA(this._array)}return this.hsla[2]*this.maxes[constants.HSL][2]};_main.default.Color.prototype._getRed=function(){return this._array[0]*this.maxes[constants.RGB][0]};_main.default.Color.prototype._getSaturation=function(){if(this.mode===constants.HSB){if(!this.hsba){this.hsba=_color_conversion.default._rgbaToHSBA(this._array)}return this.hsba[1]*this.maxes[constants.HSB][1]}else{if(!this.hsla){this.hsla=_color_conversion.default._rgbaToHSLA(this._array)}return this.hsla[1]*this.maxes[constants.HSL][1]}};var namedColors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};var WHITESPACE=/\s*/;var INTEGER=/(\d{1,3})/;var DECIMAL=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/;var PERCENT=new RegExp("".concat(DECIMAL.source,"%"));var colorPatterns={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",INTEGER.source,",",INTEGER.source,",",INTEGER.source,"\\)$"].join(WHITESPACE.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",PERCENT.source,",",PERCENT.source,",",PERCENT.source,"\\)$"].join(WHITESPACE.source),"i"),RGBA:new RegExp(["^rgba\\(",INTEGER.source,",",INTEGER.source,",",INTEGER.source,",",DECIMAL.source,"\\)$"].join(WHITESPACE.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",PERCENT.source,",",PERCENT.source,",",PERCENT.source,",",DECIMAL.source,"\\)$"].join(WHITESPACE.source),"i"),HSL:new RegExp(["^hsl\\(",INTEGER.source,",",PERCENT.source,",",PERCENT.source,"\\)$"].join(WHITESPACE.source),"i"),HSLA:new RegExp(["^hsla\\(",INTEGER.source,",",PERCENT.source,",",PERCENT.source,",",DECIMAL.source,"\\)$"].join(WHITESPACE.source),"i"),HSB:new RegExp(["^hsb\\(",INTEGER.source,",",PERCENT.source,",",PERCENT.source,"\\)$"].join(WHITESPACE.source),"i"),HSBA:new RegExp(["^hsba\\(",INTEGER.source,",",PERCENT.source,",",PERCENT.source,",",DECIMAL.source,"\\)$"].join(WHITESPACE.source),"i")};_main.default.Color._parseInputs=function(r,g,b,a){var numArgs=arguments.length;var mode=this.mode;var maxes=this.maxes[mode];var results=[];var i;if(numArgs>=3){results[0]=r/maxes[0];results[1]=g/maxes[1];results[2]=b/maxes[2];if(typeof a==="number"){results[3]=a/maxes[3]}else{results[3]=1}for(i=results.length-1;i>=0;--i){var result=results[i];if(result<0){results[i]=0}else if(result>1){results[i]=1}}if(mode===constants.HSL){return _color_conversion.default._hslaToRGBA(results)}else if(mode===constants.HSB){return _color_conversion.default._hsbaToRGBA(results)}else{return results}}else if(numArgs===1&&typeof r==="string"){var str=r.trim().toLowerCase();if(namedColors[str]){return _main.default.Color._parseInputs.call(this,namedColors[str])}if(colorPatterns.HEX3.test(str)){results=colorPatterns.HEX3.exec(str).slice(1).map(function(color){return parseInt(color+color,16)/255});results[3]=1;return results}else if(colorPatterns.HEX6.test(str)){results=colorPatterns.HEX6.exec(str).slice(1).map(function(color){return parseInt(color,16)/255});results[3]=1;return results}else if(colorPatterns.HEX4.test(str)){results=colorPatterns.HEX4.exec(str).slice(1).map(function(color){return parseInt(color+color,16)/255});return results}else if(colorPatterns.HEX8.test(str)){results=colorPatterns.HEX8.exec(str).slice(1).map(function(color){return parseInt(color,16)/255});return results}else if(colorPatterns.RGB.test(str)){results=colorPatterns.RGB.exec(str).slice(1).map(function(color){return color/255});results[3]=1;return results}else if(colorPatterns.RGB_PERCENT.test(str)){results=colorPatterns.RGB_PERCENT.exec(str).slice(1).map(function(color){return parseFloat(color)/100});results[3]=1;return results}else if(colorPatterns.RGBA.test(str)){results=colorPatterns.RGBA.exec(str).slice(1).map(function(color,idx){if(idx===3){return parseFloat(color)}return color/255});return results}else if(colorPatterns.RGBA_PERCENT.test(str)){results=colorPatterns.RGBA_PERCENT.exec(str).slice(1).map(function(color,idx){if(idx===3){return parseFloat(color)}return parseFloat(color)/100});return results}if(colorPatterns.HSL.test(str)){results=colorPatterns.HSL.exec(str).slice(1).map(function(color,idx){if(idx===0){return parseInt(color,10)/360}return parseInt(color,10)/100});results[3]=1}else if(colorPatterns.HSLA.test(str)){results=colorPatterns.HSLA.exec(str).slice(1).map(function(color,idx){if(idx===0){return parseInt(color,10)/360}else if(idx===3){return parseFloat(color)}return parseInt(color,10)/100})}results=results.map(function(value){return Math.max(Math.min(value,1),0)});if(results.length){return _color_conversion.default._hslaToRGBA(results)}if(colorPatterns.HSB.test(str)){results=colorPatterns.HSB.exec(str).slice(1).map(function(color,idx){if(idx===0){return parseInt(color,10)/360}return parseInt(color,10)/100});results[3]=1}else if(colorPatterns.HSBA.test(str)){results=colorPatterns.HSBA.exec(str).slice(1).map(function(color,idx){if(idx===0){return parseInt(color,10)/360}else if(idx===3){return parseFloat(color)}return parseInt(color,10)/100})}if(results.length){for(i=results.length-1;i>=0;--i){results[i]=Math.max(Math.min(results[i],1),0)}return _color_conversion.default._hsbaToRGBA(results)}results=[1,1,1,1]}else if((numArgs===1||numArgs===2)&&typeof r==="number"){results[0]=r/maxes[2];results[1]=r/maxes[2];results[2]=r/maxes[2];if(typeof g==="number"){results[3]=g/maxes[3]}else{results[3]=1}results=results.map(function(value){return Math.max(Math.min(value,1),0)})}else{throw new Error("".concat(arguments,"is not a valid color representation."))}return results};var _default=_main.default.Color;exports.default=_default},{"../core/constants":275,"../core/main":287,"./color_conversion":271,"core-js/modules/es.array.join":177,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.constructor":198,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.trim":211}],274:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.fill");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));_dereq_("./p5.Color");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.background=function(){var _this$_renderer;(_this$_renderer=this._renderer).background.apply(_this$_renderer,arguments);return this};_main.default.prototype.clear=function(){var _r=(arguments.length<=0?undefined:arguments[0])||0;var _g=(arguments.length<=1?undefined:arguments[1])||0;var _b=(arguments.length<=2?undefined:arguments[2])||0;var _a=(arguments.length<=3?undefined:arguments[3])||0;this._renderer.clear(_r,_g,_b,_a);return this};_main.default.prototype.colorMode=function(mode,max1,max2,max3,maxA){_main.default._validateParameters("colorMode",arguments);if(mode===constants.RGB||mode===constants.HSB||mode===constants.HSL){this._colorMode=mode;var maxes=this._colorMaxes[mode];if(arguments.length===2){maxes[0]=max1;maxes[1]=max1;maxes[2]=max1;maxes[3]=max1}else if(arguments.length===4){maxes[0]=max1;maxes[1]=max2;maxes[2]=max3}else if(arguments.length===5){maxes[0]=max1;maxes[1]=max2;maxes[2]=max3;maxes[3]=maxA}}return this};_main.default.prototype.fill=function(){var _this$_renderer2;this._renderer._setProperty("_fillSet",true);this._renderer._setProperty("_doFill",true);(_this$_renderer2=this._renderer).fill.apply(_this$_renderer2,arguments);return this};_main.default.prototype.noFill=function(){this._renderer._setProperty("_doFill",false);return this};_main.default.prototype.noStroke=function(){this._renderer._setProperty("_doStroke",false);return this};_main.default.prototype.stroke=function(){var _this$_renderer3;this._renderer._setProperty("_strokeSet",true);this._renderer._setProperty("_doStroke",true);(_this$_renderer3=this._renderer).stroke.apply(_this$_renderer3,arguments);return this};_main.default.prototype.erase=function(){var opacityFill=arguments.length>0&&arguments[0]!==undefined?arguments[0]:255;var opacityStroke=arguments.length>1&&arguments[1]!==undefined?arguments[1]:255;this._renderer.erase(opacityFill,opacityStroke);return this};_main.default.prototype.noErase=function(){this._renderer.noErase();return this};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287,"./p5.Color":273,"core-js/modules/es.array.fill":169}],275:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.BEZIER=exports.QUADRATIC=exports.LINEAR=exports._CTX_MIDDLE=exports._DEFAULT_LEADMULT=exports._DEFAULT_TEXT_FILL=exports.WORD=exports.CHAR=exports.BOLDITALIC=exports.BOLD=exports.ITALIC=exports.NORMAL=exports.BLUR=exports.ERODE=exports.DILATE=exports.POSTERIZE=exports.INVERT=exports.OPAQUE=exports.GRAY=exports.THRESHOLD=exports.BURN=exports.DODGE=exports.SOFT_LIGHT=exports.HARD_LIGHT=exports.OVERLAY=exports.REPLACE=exports.SCREEN=exports.MULTIPLY=exports.EXCLUSION=exports.SUBTRACT=exports.DIFFERENCE=exports.LIGHTEST=exports.DARKEST=exports.ADD=exports.REMOVE=exports.BLEND=exports.UP_ARROW=exports.TAB=exports.SHIFT=exports.RIGHT_ARROW=exports.RETURN=exports.OPTION=exports.LEFT_ARROW=exports.ESCAPE=exports.ENTER=exports.DOWN_ARROW=exports.DELETE=exports.CONTROL=exports.BACKSPACE=exports.ALT=exports.AUTO=exports.HSL=exports.HSB=exports.RGB=exports.MITER=exports.BEVEL=exports.ROUND=exports.SQUARE=exports.PROJECT=exports.PIE=exports.CHORD=exports.OPEN=exports.CLOSE=exports.TESS=exports.QUAD_STRIP=exports.QUADS=exports.TRIANGLE_STRIP=exports.TRIANGLE_FAN=exports.TRIANGLES=exports.LINE_LOOP=exports.LINE_STRIP=exports.LINES=exports.POINTS=exports.BASELINE=exports.BOTTOM=exports.TOP=exports.CENTER=exports.LEFT=exports.RIGHT=exports.RADIUS=exports.CORNERS=exports.CORNER=exports.RAD_TO_DEG=exports.DEG_TO_RAD=exports.RADIANS=exports.DEGREES=exports.TWO_PI=exports.TAU=exports.QUARTER_PI=exports.PI=exports.HALF_PI=exports.WAIT=exports.TEXT=exports.MOVE=exports.HAND=exports.CROSS=exports.ARROW=exports.WEBGL=exports.P2D=exports.VERSION=void 0;exports.FALLBACK=exports.LABEL=exports.AXES=exports.GRID=exports._DEFAULT_FILL=exports._DEFAULT_STROKE=exports.PORTRAIT=exports.LANDSCAPE=exports.MIRROR=exports.CLAMP=exports.REPEAT=exports.NEAREST=exports.IMAGE=exports.IMMEDIATE=exports.TEXTURE=exports.FILL=exports.STROKE=exports.CURVE=void 0;var _PI=Math.PI;var VERSION="1.4.1";exports.VERSION=VERSION;var P2D="p2d";exports.P2D=P2D;var WEBGL="webgl";exports.WEBGL=WEBGL;var ARROW="default";exports.ARROW=ARROW;var CROSS="crosshair";exports.CROSS=CROSS;var HAND="pointer";exports.HAND=HAND;var MOVE="move";exports.MOVE=MOVE;var TEXT="text";exports.TEXT=TEXT;var WAIT="wait";exports.WAIT=WAIT;var HALF_PI=_PI/2;exports.HALF_PI=HALF_PI;var PI=_PI;exports.PI=PI;var QUARTER_PI=_PI/4;exports.QUARTER_PI=QUARTER_PI;var TAU=_PI*2;exports.TAU=TAU;var TWO_PI=_PI*2;exports.TWO_PI=TWO_PI;var DEGREES="degrees";exports.DEGREES=DEGREES;var RADIANS="radians";exports.RADIANS=RADIANS;var DEG_TO_RAD=_PI/180;exports.DEG_TO_RAD=DEG_TO_RAD;var RAD_TO_DEG=180/_PI;exports.RAD_TO_DEG=RAD_TO_DEG;var CORNER="corner";exports.CORNER=CORNER;var CORNERS="corners";exports.CORNERS=CORNERS;var RADIUS="radius";exports.RADIUS=RADIUS;var RIGHT="right";exports.RIGHT=RIGHT;var LEFT="left";exports.LEFT=LEFT;var CENTER="center";exports.CENTER=CENTER;var TOP="top";exports.TOP=TOP;var BOTTOM="bottom";exports.BOTTOM=BOTTOM;var BASELINE="alphabetic";exports.BASELINE=BASELINE;var POINTS=0;exports.POINTS=POINTS;var LINES=1;exports.LINES=LINES;var LINE_STRIP=3;exports.LINE_STRIP=LINE_STRIP;var LINE_LOOP=2;exports.LINE_LOOP=LINE_LOOP;var TRIANGLES=4;exports.TRIANGLES=TRIANGLES;var TRIANGLE_FAN=6;exports.TRIANGLE_FAN=TRIANGLE_FAN;var TRIANGLE_STRIP=5;exports.TRIANGLE_STRIP=TRIANGLE_STRIP;var QUADS="quads";exports.QUADS=QUADS;var QUAD_STRIP="quad_strip";exports.QUAD_STRIP=QUAD_STRIP;var TESS="tess";exports.TESS=TESS;var CLOSE="close";exports.CLOSE=CLOSE;var OPEN="open";exports.OPEN=OPEN;var CHORD="chord";exports.CHORD=CHORD;var PIE="pie";exports.PIE=PIE;var PROJECT="square";exports.PROJECT=PROJECT;var SQUARE="butt";exports.SQUARE=SQUARE;var ROUND="round";exports.ROUND=ROUND;var BEVEL="bevel";exports.BEVEL=BEVEL;var MITER="miter";exports.MITER=MITER;var RGB="rgb";exports.RGB=RGB;var HSB="hsb";exports.HSB=HSB;var HSL="hsl";exports.HSL=HSL;var AUTO="auto";exports.AUTO=AUTO;var ALT=18;exports.ALT=ALT;var BACKSPACE=8;exports.BACKSPACE=BACKSPACE;var CONTROL=17;exports.CONTROL=CONTROL;var DELETE=46;exports.DELETE=DELETE;var DOWN_ARROW=40;exports.DOWN_ARROW=DOWN_ARROW;var ENTER=13;exports.ENTER=ENTER;var ESCAPE=27;exports.ESCAPE=ESCAPE;var LEFT_ARROW=37;exports.LEFT_ARROW=LEFT_ARROW;var OPTION=18;exports.OPTION=OPTION;var RETURN=13;exports.RETURN=RETURN;var RIGHT_ARROW=39;exports.RIGHT_ARROW=RIGHT_ARROW;var SHIFT=16;exports.SHIFT=SHIFT;var TAB=9;exports.TAB=TAB;var UP_ARROW=38;exports.UP_ARROW=UP_ARROW;var BLEND="source-over";exports.BLEND=BLEND;var REMOVE="destination-out";exports.REMOVE=REMOVE;var ADD="lighter";exports.ADD=ADD;var DARKEST="darken";exports.DARKEST=DARKEST;var LIGHTEST="lighten";exports.LIGHTEST=LIGHTEST;var DIFFERENCE="difference";exports.DIFFERENCE=DIFFERENCE;var SUBTRACT="subtract";exports.SUBTRACT=SUBTRACT;var EXCLUSION="exclusion";exports.EXCLUSION=EXCLUSION;var MULTIPLY="multiply";exports.MULTIPLY=MULTIPLY;var SCREEN="screen";exports.SCREEN=SCREEN;var REPLACE="copy";exports.REPLACE=REPLACE;var OVERLAY="overlay";exports.OVERLAY=OVERLAY;var HARD_LIGHT="hard-light";exports.HARD_LIGHT=HARD_LIGHT;var SOFT_LIGHT="soft-light";exports.SOFT_LIGHT=SOFT_LIGHT;var DODGE="color-dodge";exports.DODGE=DODGE;var BURN="color-burn";exports.BURN=BURN;var THRESHOLD="threshold";exports.THRESHOLD=THRESHOLD;var GRAY="gray";exports.GRAY=GRAY;var OPAQUE="opaque";exports.OPAQUE=OPAQUE;var INVERT="invert";exports.INVERT=INVERT;var POSTERIZE="posterize";exports.POSTERIZE=POSTERIZE;var DILATE="dilate";exports.DILATE=DILATE;var ERODE="erode";exports.ERODE=ERODE;var BLUR="blur";exports.BLUR=BLUR;var NORMAL="normal";exports.NORMAL=NORMAL;var ITALIC="italic";exports.ITALIC=ITALIC;var BOLD="bold";exports.BOLD=BOLD;var BOLDITALIC="bold italic";exports.BOLDITALIC=BOLDITALIC;var CHAR="CHAR";exports.CHAR=CHAR;var WORD="WORD";exports.WORD=WORD;var _DEFAULT_TEXT_FILL="#000000";exports._DEFAULT_TEXT_FILL=_DEFAULT_TEXT_FILL;var _DEFAULT_LEADMULT=1.25;exports._DEFAULT_LEADMULT=_DEFAULT_LEADMULT;var _CTX_MIDDLE="middle";exports._CTX_MIDDLE=_CTX_MIDDLE;var LINEAR="linear";exports.LINEAR=LINEAR;var QUADRATIC="quadratic";exports.QUADRATIC=QUADRATIC;var BEZIER="bezier";exports.BEZIER=BEZIER;var CURVE="curve";exports.CURVE=CURVE;var STROKE="stroke";exports.STROKE=STROKE;var FILL="fill";exports.FILL=FILL;var TEXTURE="texture";exports.TEXTURE=TEXTURE;var IMMEDIATE="immediate";exports.IMMEDIATE=IMMEDIATE;var IMAGE="image";exports.IMAGE=IMAGE;var NEAREST="nearest";exports.NEAREST=NEAREST;var REPEAT="repeat";exports.REPEAT=REPEAT;var CLAMP="clamp";exports.CLAMP=CLAMP;var MIRROR="mirror";exports.MIRROR=MIRROR;var LANDSCAPE="landscape";exports.LANDSCAPE=LANDSCAPE;var PORTRAIT="portrait";exports.PORTRAIT=PORTRAIT;var _DEFAULT_STROKE="#000000";exports._DEFAULT_STROKE=_DEFAULT_STROKE;var _DEFAULT_FILL="#FFFFFF";exports._DEFAULT_FILL=_DEFAULT_FILL;var GRID="grid";exports.GRID=GRID;var AXES="axes";exports.AXES=AXES;var LABEL="label";exports.LABEL=LABEL;var FALLBACK="fallback";exports.FALLBACK=FALLBACK},{}],276:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.string.search");_dereq_("core-js/modules/es.string.split");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));var C=_interopRequireWildcard(_dereq_("./constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var standardCursors=[C.ARROW,C.CROSS,C.HAND,C.MOVE,C.TEXT,C.WAIT];_main.default.prototype._frameRate=0;_main.default.prototype._lastFrameTime=window.performance.now();_main.default.prototype._targetFrameRate=60;var _windowPrint=window.print;_main.default.prototype.print=function(){if(!arguments.length){_windowPrint()}else{var _console;(_console=console).log.apply(_console,arguments)}};_main.default.prototype.frameCount=0;_main.default.prototype.deltaTime=0;_main.default.prototype.focused=document.hasFocus();_main.default.prototype.cursor=function(type,x,y){var cursor="auto";var canvas=this._curElement.elt;if(standardCursors.includes(type)){cursor=type}else if(typeof type==="string"){var coords="";if(x&&y&&typeof x==="number"&&typeof y==="number"){coords="".concat(x," ").concat(y)}if(type.substring(0,7)==="http://"||type.substring(0,8)==="https://"){cursor="url(".concat(type,") ").concat(coords,", auto")}else if(/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(type)){cursor="url(".concat(type,") ").concat(coords,", auto")}else{cursor=type}}canvas.style.cursor=cursor};_main.default.prototype.frameRate=function(fps){_main.default._validateParameters("frameRate",arguments);if(typeof fps!=="number"||fps<0){return this._frameRate}else{this._setProperty("_targetFrameRate",fps);if(fps===0){this._setProperty("_frameRate",fps)}return this}};_main.default.prototype.getFrameRate=function(){return this.frameRate()};_main.default.prototype.setFrameRate=function(fps){return this.frameRate(fps)};_main.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"};_main.default.prototype.displayWidth=screen.width;_main.default.prototype.displayHeight=screen.height;_main.default.prototype.windowWidth=getWindowWidth();_main.default.prototype.windowHeight=getWindowHeight();_main.default.prototype._onresize=function(e){this._setProperty("windowWidth",getWindowWidth());this._setProperty("windowHeight",getWindowHeight());var context=this._isGlobal?window:this;var executeDefault;if(typeof context.windowResized==="function"){executeDefault=context.windowResized(e);if(executeDefault!==undefined&&!executeDefault){e.preventDefault()}}};function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}_main.default.prototype.width=0;_main.default.prototype.height=0;_main.default.prototype.fullscreen=function(val){_main.default._validateParameters("fullscreen",arguments);if(typeof val==="undefined"){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}else{if(val){launchFullscreen(document.documentElement)}else{exitFullscreen()}}};_main.default.prototype.pixelDensity=function(val){_main.default._validateParameters("pixelDensity",arguments);var returnValue;if(typeof val==="number"){if(val!==this._pixelDensity){this._pixelDensity=val}returnValue=this;this.resizeCanvas(this.width,this.height,true)}else{returnValue=this._pixelDensity}return returnValue};_main.default.prototype.displayDensity=function(){return window.devicePixelRatio};function launchFullscreen(element){var enabled=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled;if(!enabled){throw new Error("Fullscreen not enabled in this browser.")}if(element.requestFullscreen){element.requestFullscreen()}else if(element.mozRequestFullScreen){element.mozRequestFullScreen()}else if(element.webkitRequestFullscreen){element.webkitRequestFullscreen()}else if(element.msRequestFullscreen){element.msRequestFullscreen()}}function exitFullscreen(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}}_main.default.prototype.getURL=function(){return location.href};_main.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(v){return v!==""})};_main.default.prototype.getURLParams=function(){var re=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim;var m;var v={};while((m=re.exec(location.search))!=null){if(m.index===re.lastIndex){re.lastIndex++}v[m[1]]=m[2]}return v};var _default=_main.default;exports.default=_default},{"./constants":275,"./main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.includes":174,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.includes":203,"core-js/modules/es.string.search":208,"core-js/modules/es.string.split":209}],277:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var strings={ReferenceError:[{msg:"{{}} is not defined",type:"NOTDEFINED",browser:"all"},{msg:"Can't find variable: {{}}",type:"NOTDEFINED",browser:"Safari"},{msg:"Cannot access '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Chrome"},{msg:"can't access lexical declaration '{{.}}' before initialization",type:"CANNOTACCESS",browser:"Firefox"}],SyntaxError:[{msg:"illegal character",type:"INVALIDTOKEN",browser:"Firefox"},{msg:"Invalid character",type:"INVALIDTOKEN",browser:"Safari"},{msg:"Invalid or unexpected token",type:"INVALIDTOKEN",browser:"Chrome"},{msg:"Unexpected token '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"expected {{.}}, got '{{.}}'",type:"UNEXPECTEDTOKEN",browser:"Chrome"},{msg:"Identifier '{{.}}' has already been declared",type:"REDECLAREDVARIABLE",browser:"Chrome"},{msg:"redeclaration of {} {{.}}",type:"REDECLAREDVARIABLE",browser:"Firefox"},{msg:"Missing initializer in const declaration",type:"MISSINGINITIALIZER",browser:"Chrome"},{msg:"missing = in const declaration",type:"MISSINGINITIALIZER",browser:"Firefox"},{msg:"Illegal return statement",type:"BADRETURNORYIELD",browser:"Chrome"},{msg:"return not in function",type:"BADRETURNORYIELD",browser:"Firefox"}],TypeError:[{msg:"{{.}} is not a function",type:"NOTFUNC",browser:"all"},{msg:"Cannot read {{.}} null",type:"READNULL",browser:"Chrome"},{msg:"{{.}} is null",type:"READNULL",browser:"Firefox"},{msg:"Cannot read {{.}} undefined",type:"READUDEFINED",browser:"Chrome"},{msg:"{{.}} is undefined",type:"READUDEFINED",browser:"Firefox"},{msg:"Assignment to constant variable",type:"CONSTASSIGN",browser:"Chrome"},{msg:"invalid assignment to const '{{.}}'",type:"CONSTASSIGN",browser:"Firefox"}]};var _default=strings;exports.default=_default},{}],278:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.some");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.object.assign");_dereq_("core-js/modules/es.object.get-own-property-names");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.constructor");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.match");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.search");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/web.dom-collections.for-each");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var _internationalization=_dereq_("../internationalization");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(arr,i){if(!(Symbol.iterator in Object(arr)||Object.prototype.toString.call(arr)==="[object Arguments]")){return}var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break}}catch(err){_d=true;_e=err}finally{try{if(!_n&&_i["return"]!=null)_i["return"]()}finally{if(_d)throw _e}}return _arr}function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var typeColors=["#2D7BB6","#EE9900","#4DB200","#C83C00"];var misusedAtTopLevelCode=null;var defineMisusedAtTopLevelCode=null;var EDIT_DIST_THRESHOLD=2;var ENABLE_FES_STYLING=false;if(typeof IS_MINIFIED!=="undefined"){_main.default._friendlyError=_main.default._checkForUserDefinedFunctions=_main.default._fesErrorMonitor=function(){}}else{var doFriendlyWelcome=false;var errorTable=_dereq_("./browser_errors").default;var class2type={};var _toString=class2type.toString;var names=["Boolean","Number","String","Function","Array","Date","RegExp","Object","Error"];for(var n=0;n<names.length;n++){class2type["[object ".concat(names[n],"]")]=names[n].toLowerCase()}var getType=function getType(obj){if(obj==null){return"".concat(obj)}return _typeof(obj)==="object"||typeof obj==="function"?class2type[_toString.call(obj)]||"object":_typeof(obj)};var entryPoints=["setup","draw","preload","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized"];var friendlyWelcome=function friendlyWelcome(){var welcomeMessage=(0,_internationalization.translator)("fes.pre",{message:(0,_internationalization.translator)("fes.welcome")});console.log("    _ \n"+" /\\| |/\\ \n"+" \\ ` ' /  \n"+" / , . \\  \n"+" \\/|_|\\/ "+"\n\n"+welcomeMessage)};var mapToReference=function mapToReference(message,func){var msgWithReference="";if(func==null||func.substring(0,4)==="load"){msgWithReference=message}else{var methodParts=func.split(".");var referenceSection=methodParts.length>1?"".concat(methodParts[0],".").concat(methodParts[1]):"p5";var funcName=methodParts.length===1?func:methodParts.slice(2).join("/");msgWithReference="".concat(message," (http://p5js.org/reference/#/").concat(referenceSection,"/").concat(funcName,")")}return msgWithReference};_main.default._report=function(message,func,color){var log=_main.default._fesLogger==null?console.log.bind(console):_main.default._fesLogger;if(doFriendlyWelcome){friendlyWelcome();doFriendlyWelcome=false}if("undefined"===getType(color)){color="#B40033"}else if(getType(color)==="number"){color=typeColors[color]}message=mapToReference(message,func);var style=["color: ".concat(color),"font-family: Arial","font-size: larger"];var prefixedMsg=(0,_internationalization.translator)("fes.pre",{message:message});if(ENABLE_FES_STYLING){log("%c"+prefixedMsg,style.join(";"))}else{log(prefixedMsg)}};_main.default._friendlyError=function(message,func,color){_main.default._report(message,func,color)};_main.default._friendlyAutoplayError=function(src){var message=(0,_internationalization.translator)("fes.autoplay",{src:src,url:"https://developer.mozilla.org/docs/Web/Media/Autoplay_guide"});console.log((0,_internationalization.translator)("fes.pre",{message:message}))};var computeEditDistance=function computeEditDistance(w1,w2){var l1=w1.length,l2=w2.length;if(l1===0)return w2;if(l2===0)return w1;var prev=[];var cur=[];for(var j=0;j<l2+1;j++){cur[j]=j}prev=cur;for(var i=1;i<l1+1;i++){cur=[];for(var _j=0;_j<l2+1;_j++){if(_j===0){cur[_j]=i}else{var a1=w1[i-1],a2=w2[_j-1];var temp=999999;var cost=a1.toLowerCase()===a2.toLowerCase()?0:1;temp=temp>cost+prev[_j-1]?cost+prev[_j-1]:temp;temp=temp>1+cur[_j-1]?1+cur[_j-1]:temp;temp=temp>1+prev[_j]?1+prev[_j]:temp;cur[_j]=temp}}prev=cur}return cur[l2]};var checkForUserDefinedFunctions=function checkForUserDefinedFunctions(context){if(_main.default.disableFriendlyErrors)return;var instanceMode=context instanceof _main.default;context=instanceMode?context:window;var fnNames=entryPoints;var fxns={};fnNames.forEach(function(symbol){fxns[symbol.toLowerCase()]=symbol});for(var _i=0,_Object$keys=Object.keys(context);_i<_Object$keys.length;_i++){var prop=_Object$keys[_i];var lowercase=prop.toLowerCase();if(fxns[lowercase]&&!context[fxns[lowercase]]&&typeof context[prop]==="function"){var msg=(0,_internationalization.translator)("fes.checkUserDefinedFns",{name:prop,actualName:fxns[lowercase]});_main.default._friendlyError(msg,fxns[lowercase])}}};var handleMisspelling=function handleMisspelling(errSym,error){if(!misusedAtTopLevelCode){defineMisusedAtTopLevelCode()}var distanceMap={};var min=999999;misusedAtTopLevelCode.forEach(function(symbol){var dist=computeEditDistance(errSym,symbol.name);if(distanceMap[dist])distanceMap[dist].push(symbol);else distanceMap[dist]=[symbol];if(dist<min)min=dist});if(min>Math.min(EDIT_DIST_THRESHOLD,errSym.length))return false;var matchedSymbols=distanceMap[min].filter(function(symbol){return symbol.name!==errSym});if(matchedSymbols.length!==0){var parsed=_main.default._getErrorStackParser().parse(error);var locationObj;if(parsed&&parsed[0]&&parsed[0].fileName&&parsed[0].lineNumber&&parsed[0].columnNumber){locationObj={location:"".concat(parsed[0].fileName,":").concat(parsed[0].lineNumber,":").concat(parsed[0].columnNumber),file:parsed[0].fileName.split("/").slice(-1),line:parsed[0].lineNumber}}var msg;if(matchedSymbols.length===1){msg=(0,_internationalization.translator)("fes.misspelling",{name:errSym,actualName:matchedSymbols[0].name,type:matchedSymbols[0].type,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):"",count:matchedSymbols.length})}else{var suggestions=matchedSymbols.map(function(symbol){var message="▶️ "+symbol.name+(symbol.type==="function"?"()":"");return mapToReference(message,symbol.name)}).join("\n");msg=(0,_internationalization.translator)("fes.misspelling",{name:errSym,suggestions:suggestions,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):"",count:matchedSymbols.length})}_main.default._friendlyError(msg,matchedSymbols.length===1?matchedSymbols[0].name:undefined);return true}return false};var printFriendlyStack=function printFriendlyStack(friendlyStack){var log=_main.default._fesLogger&&typeof _main.default._fesLogger==="function"?_main.default._fesLogger:console.log.bind(console);if(friendlyStack.length>1){var stacktraceMsg="";friendlyStack.forEach(function(frame,idx){var location="".concat(frame.fileName,":").concat(frame.lineNumber,":").concat(frame.columnNumber);var frameMsg,translationObj={func:frame.functionName,line:frame.lineNumber,location:location,file:frame.fileName.split("/").slice(-1)};if(idx===0){frameMsg=(0,_internationalization.translator)("fes.globalErrors.stackTop",translationObj)}else{frameMsg=(0,_internationalization.translator)("fes.globalErrors.stackSubseq",translationObj)}stacktraceMsg+=frameMsg});log(stacktraceMsg)}};var processStack=function processStack(error,stacktrace){if(!stacktrace)return[false,null];stacktrace.forEach(function(frame){frame.functionName=frame.functionName||""});var isInternal=false;var p5FileName,friendlyStack,currentEntryPoint;for(var i=stacktrace.length-1;i>=0;i--){var splitted=stacktrace[i].functionName.split(".");if(entryPoints.includes(splitted[splitted.length-1])){friendlyStack=stacktrace.slice(0,i+1);currentEntryPoint=splitted[splitted.length-1];for(var j=0;j<i;j++){if(stacktrace[j].functionName.search("_main.default")!==-1){isInternal=true;p5FileName=stacktrace[j].fileName;break}}break}}if(!friendlyStack)friendlyStack=stacktrace;if(isInternal){friendlyStack=friendlyStack.map(function(frame,index){frame.frameIndex=index;return frame}).filter(function(frame){return frame.fileName!==p5FileName});if(friendlyStack.length===0)return[true,null];var func=stacktrace[friendlyStack[0].frameIndex-1].functionName.split(".").slice(-1)[0];var locationObj;if(friendlyStack[0].fileName&&friendlyStack[0].lineNumber&&friendlyStack[0].columnNumber){locationObj={location:"".concat(friendlyStack[0].fileName,":").concat(friendlyStack[0].lineNumber,":").concat(friendlyStack[0].columnNumber),file:friendlyStack[0].fileName.split("/").slice(-1),line:friendlyStack[0].lineNumber};if(_main.default._fesLogCache[locationObj.location])return[true,null]}if(currentEntryPoint==="preload"&&_main.default.prototype._preloadMethods[func]==null){_main.default._friendlyError((0,_internationalization.translator)("fes.wrongPreload",{func:func,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):"",error:error.message}),"preload")}else{_main.default._friendlyError((0,_internationalization.translator)("fes.libraryError",{func:func,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):"",error:error.message}),func)}if(friendlyStack&&friendlyStack.length){printFriendlyStack(friendlyStack)}}return[isInternal,friendlyStack]};var fesErrorMonitor=function fesErrorMonitor(e){if(_main.default.disableFriendlyErrors)return;var error;if(e instanceof Error){error=e}else if(e instanceof ErrorEvent){error=e.error}else if(e instanceof PromiseRejectionEvent){error=e.reason;if(!(error instanceof Error))return}if(!error)return;var stacktrace=_main.default._getErrorStackParser().parse(error);var _processStack=processStack(error,stacktrace),_processStack2=_slicedToArray(_processStack,2),isInternal=_processStack2[0],friendlyStack=_processStack2[1];if(isInternal){return}var errList=errorTable[error.name];if(!errList)return;var matchedError;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=errList[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var obj=_step.value;var string=obj.msg;string=string.replace(new RegExp("{{}}","g"),"([a-zA-Z0-9_]+)");string=string.replace(new RegExp("{{.}}","g"),"(.+)");string=string.replace(new RegExp("{}","g"),"(?:[a-zA-Z0-9_]+)");var matched=error.message.match(string);if(matched){matchedError=Object.assign({},obj);matchedError.match=matched;break}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(!matchedError)return;var locationObj;if(stacktrace&&stacktrace[0].fileName&&stacktrace[0].lineNumber&&stacktrace[0].columnNumber){locationObj={location:"".concat(stacktrace[0].fileName,":").concat(stacktrace[0].lineNumber,":").concat(stacktrace[0].columnNumber),file:stacktrace[0].fileName.split("/").slice(-1),line:friendlyStack[0].lineNumber}}switch(error.name){case"SyntaxError":{switch(matchedError.type){case"INVALIDTOKEN":{var url="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Illegal_character#What_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.syntax.invalidToken",{url:url}));break}case"UNEXPECTEDTOKEN":{var _url="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Unexpected_token#What_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.syntax.unexpectedToken",{url:_url}));break}case"REDECLAREDVARIABLE":{var errSym=matchedError.match[1];var _url2="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Redeclared_parameter#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.syntax.redeclaredVariable",{symbol:errSym,url:_url2}));break}case"MISSINGINITIALIZER":{var _url3="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Missing_initializer_in_const#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.syntax.missingInitializer",{url:_url3}));break}case"BADRETURNORYIELD":{var _url4="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Bad_return_or_yield#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.syntax.badReturnOrYield",{url:_url4}));break}}break}case"ReferenceError":{switch(matchedError.type){case"NOTDEFINED":{var _errSym=matchedError.match[1];if(_errSym&&handleMisspelling(_errSym,error)){break}var _url5="https://p5js.org/examples/data-variable-scope.html";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.reference.notDefined",{url:_url5,symbol:_errSym,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):""}));if(friendlyStack)printFriendlyStack(friendlyStack);break}case"CANNOTACCESS":{var _errSym2=matchedError.match[1];var _url6="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_lexical_declaration_before_init#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.reference.cannotAccess",{url:_url6,symbol:_errSym2,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):""}));if(friendlyStack)printFriendlyStack(friendlyStack);break}}break}case"TypeError":{switch(matchedError.type){case"NOTFUNC":{var _errSym3=matchedError.match[1];var splitSym=_errSym3.split(".");var _url7="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Errors/Not_a_function#What_went_wrong";var translationObj={url:_url7,symbol:splitSym[splitSym.length-1],obj:splitSym.slice(0,splitSym.length-1).join("."),location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):""};if(splitSym.length>1){_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.type.notfuncObj",translationObj))}else{_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.type.notfunc",translationObj))}if(friendlyStack)printFriendlyStack(friendlyStack);break}case"READNULL":{var _errSym4=matchedError.match[1];var _url8="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.type.readFromNull",{url:_url8,symbol:_errSym4,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):""}));if(friendlyStack)printFriendlyStack(friendlyStack);break}case"READUDEFINED":{var _errSym5=matchedError.match[1];var _url9="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Cant_access_property#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.type.readFromUndefined",{url:_url9,symbol:_errSym5,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):""}));if(friendlyStack)printFriendlyStack(friendlyStack);break}case"CONSTASSIGN":{var _url10="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Errors/Invalid_const_assignment#what_went_wrong";_main.default._friendlyError((0,_internationalization.translator)("fes.globalErrors.type.constAssign",{url:_url10,location:locationObj?(0,_internationalization.translator)("fes.location",locationObj):""}));if(friendlyStack)printFriendlyStack(friendlyStack);break}}}}};_main.default._fesErrorMonitor=fesErrorMonitor;_main.default._checkForUserDefinedFunctions=checkForUserDefinedFunctions;_main.default._fesLogger=null;_main.default._fesLogCache={};window.addEventListener("load",checkForUserDefinedFunctions,false);window.addEventListener("error",_main.default._fesErrorMonitor,false);window.addEventListener("unhandledrejection",_main.default._fesErrorMonitor,false)}misusedAtTopLevelCode=null;var FAQ_URL="https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup";defineMisusedAtTopLevelCode=function defineMisusedAtTopLevelCode(){var uniqueNamesFound={};var getSymbols=function getSymbols(obj){return Object.getOwnPropertyNames(obj).filter(function(name){if(name[0]==="_"){return false}if(name in uniqueNamesFound){return false}uniqueNamesFound[name]=true;return true}).map(function(name){var type;if(typeof obj[name]==="function"){type="function"}else if(name===name.toUpperCase()){type="constant"}else{type="variable"}return{name:name,type:type}})};misusedAtTopLevelCode=[].concat(getSymbols(_main.default.prototype),getSymbols(_dereq_("../constants")));misusedAtTopLevelCode.sort(function(a,b){return b.name.length-a.name.length})};var helpForMisusedAtTopLevelCode=function helpForMisusedAtTopLevelCode(e,log){if(!log){log=console.log.bind(console)}if(!misusedAtTopLevelCode){defineMisusedAtTopLevelCode()}misusedAtTopLevelCode.some(function(symbol){if(e.message&&e.message.match("\\W?".concat(symbol.name,"\\W"))!==null){var symbolName=symbol.type==="function"?"".concat(symbol.name,"()"):symbol.name;if(typeof IS_MINIFIED!=="undefined"){log("Did you just try to use p5.js's ".concat(symbolName," ").concat(symbol.type,"? If so, you may want to move it into your sketch's setup() function.\n\nFor more details, see: ").concat(FAQ_URL))}else{log((0,_internationalization.translator)("fes.misusedTopLevel",{symbolName:symbolName,symbolType:symbol.type,url:FAQ_URL}))}return true}})};_main.default.prototype._helpForMisusedAtTopLevelCode=helpForMisusedAtTopLevelCode;if(document.readyState!=="complete"){window.addEventListener("error",helpForMisusedAtTopLevelCode,false);window.addEventListener("load",function(){window.removeEventListener("error",helpForMisusedAtTopLevelCode,false)})}var _default=_main.default;exports.default=_default},{"../constants":275,"../internationalization":285,"../main":287,"./browser_errors":277,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.for-each":172,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.join":177,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.some":181,"core-js/modules/es.function.name":184,"core-js/modules/es.object.assign":191,"core-js/modules/es.object.get-own-property-names":192,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.constructor":198,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.match":205,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.search":208,"core-js/modules/es.string.split":209,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.for-each":246,"core-js/modules/web.dom-collections.iterator":247}],279:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var _internationalization=_dereq_("../internationalization");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}if(typeof IS_MINIFIED!=="undefined"){_main.default._friendlyFileLoadError=function(){}}else{var fileLoadErrorCases=function fileLoadErrorCases(num,filePath){var suggestion=(0,_internationalization.translator)("fes.fileLoadError.suggestion",{filePath:filePath,url:"https://github.com/processing/p5.js/wiki/Local-server"});switch(num){case 0:return{message:(0,_internationalization.translator)("fes.fileLoadError.image",{suggestion:suggestion}),method:"loadImage"};case 1:return{message:(0,_internationalization.translator)("fes.fileLoadError.xml",{suggestion:suggestion}),method:"loadXML"};case 2:return{message:(0,_internationalization.translator)("fes.fileLoadError.table",{suggestion:suggestion}),method:"loadTable"};case 3:return{message:(0,_internationalization.translator)("fes.fileLoadError.strings",{suggestion:suggestion}),method:"loadStrings"};case 4:return{message:(0,_internationalization.translator)("fes.fileLoadError.font",{suggestion:suggestion}),method:"loadFont"};case 5:return{message:(0,_internationalization.translator)("fes.fileLoadError.json",{suggestion:suggestion}),method:"loadJSON"};case 6:return{message:(0,_internationalization.translator)("fes.fileLoadError.bytes",{suggestion:suggestion}),method:"loadBytes"};case 7:return{message:(0,_internationalization.translator)("fes.fileLoadError.large"),method:"loadX"};case 8:return{message:(0,_internationalization.translator)("fes.fileLoadError.gif"),method:"loadImage"}}};_main.default._friendlyFileLoadError=function(errorType,filePath){var _fileLoadErrorCases=fileLoadErrorCases(errorType,filePath),message=_fileLoadErrorCases.message,method=_fileLoadErrorCases.method;_main.default._friendlyError(message,method,3)}}var _default=_main.default;exports.default=_default},{"../internationalization":285,"../main":287}],280:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.flat-map");_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.array.from");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.unscopables.flat-map");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.constructor");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.match");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.string.trim");_dereq_("core-js/modules/web.dom-collections.for-each");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var _internationalization=_dereq_("../internationalization");var constants=_interopRequireWildcard(_dereq_("../constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}if(typeof IS_MINIFIED!=="undefined"){_main.default._fesCodeReader=function(){}}else{var ignoreFunction=["setup","draw","preload","deviceMoved","deviceTurned","deviceShaken","doubleClicked","mousePressed","mouseReleased","mouseMoved","mouseDragged","mouseClicked","mouseWheel","touchStarted","touchMoved","touchEnded","keyPressed","keyReleased","keyTyped","windowResized","name","parent","toString","print","stop","onended"];var checkForConstsAndFuncs=function checkForConstsAndFuncs(variableArray){for(var i=0;i<variableArray.length;i++){if(constants[variableArray[i]]!==undefined){var url="https://p5js.org/reference/#/p5/".concat(variableArray[i]);_main.default._friendlyError((0,_internationalization.translator)("fes.sketchReaderErrors.reservedConst",{url:url,symbol:variableArray[i]}));return}}var p5Constructors={};for(var _i=0,_Object$keys=Object.keys(_main.default);_i<_Object$keys.length;_i++){var key=_Object$keys[_i];if(typeof _main.default[key]==="function"&&key[0]!==key[0].toLowerCase()){p5Constructors[key]=_main.default[key]}}for(var _i2=0;_i2<variableArray.length;_i2++){if(!ignoreFunction.includes(variableArray[_i2])){var keyArray=Object.keys(p5Constructors);var j=0;for(;j<keyArray.length;j++){if(p5Constructors[keyArray[j]].prototype[variableArray[_i2]]!==undefined){var _url="https://p5js.org/reference/#/p5/".concat(variableArray[_i2]);_main.default._friendlyError((0,_internationalization.translator)("fes.sketchReaderErrors.reservedFunc",{url:_url,symbol:variableArray[_i2]}));return}}}}};var varName=/(?:(?:let|const|var)\s+)?([\w$]+)/;var varNameWithComma=/(?:(?:let|const|var)\s+)?([\w$,]+)/;var letConstName=/(?:(?:let|const)\s+)([\w$]+)/;var extractVariables=function extractVariables(linesArray){var matches=[];linesArray.forEach(function(ele){if(ele.includes(",")){matches.push.apply(matches,_toConsumableArray(ele.split(",").flatMap(function(s){var match;if(s.includes("=")){match=s.match(/(\w+)\s*(?==)/i);if(match!==null)return match[1]}else if(!s.match(new RegExp("[[]{}]"))){var m=s.match(varName);if(m!==null)return s.match(varNameWithComma)[1]}else return[]})))}else{var match=ele.match(letConstName);if(match!==null)matches.push(match[1])}});checkForConstsAndFuncs(matches)};var extractFuncVariables=function extractFuncVariables(linesArray){var matches=[];linesArray.forEach(function(ele){var m=ele.match(letConstName);if(m!==null)matches.push(ele.match(letConstName)[1])});checkForConstsAndFuncs(matches)};var codeToLines=function codeToLines(code){var arrayVariables=code.split("\n").map(function(line){return line.trim()}).filter(function(line){return line!==""&&!line.includes("//")&&(line.includes("let")||line.includes("const"))&&!line.includes("=>")&&!line.includes("function")});var arrayFunctions=code.split("\n").map(function(line){return line.trim()}).filter(function(line){return line!==""&&!line.includes("//")&&(line.includes("let")||line.includes("const"))&&(line.includes("=>")||line.includes("function"))});extractVariables(arrayVariables);extractFuncVariables(arrayFunctions)};var removeMultilineComments=function removeMultilineComments(code){var start=code.indexOf("/*");var end=code.indexOf("*/");while(start!==-1&&end!==-1){if(start===0){code=code.substr(end+2)}else code=code.substr(0,start)+code.substr(end+2);start=code.indexOf("/*");end=code.indexOf("*/")}return code};var globalConstFuncCheck=function globalConstFuncCheck(){var tempArray=Object.keys(constants);var element;for(var i=0;i<tempArray.length;i++){try{element=eval(tempArray[i])}catch(e){continue}if(constants[tempArray[i]]!==element){var url="https://p5js.org/reference/#/p5/".concat(tempArray[i]);_main.default._friendlyError((0,_internationalization.translator)("fes.sketchReaderErrors.reservedConst",{url:url,symbol:tempArray[i]}));return true}}var p5Constructors={};for(var _i3=0,_Object$keys2=Object.keys(_main.default);_i3<_Object$keys2.length;_i3++){var key=_Object$keys2[_i3];if(typeof _main.default[key]==="function"&&key[0]!==key[0].toLowerCase()){p5Constructors[key]=_main.default[key]}}var keyArray=Object.keys(p5Constructors);var functionArray=[];for(var _i4=0;_i4<keyArray.length;_i4++){var _functionArray;(_functionArray=functionArray).push.apply(_functionArray,_toConsumableArray(Object.keys(p5Constructors[keyArray[_i4]].prototype)))}functionArray=functionArray.filter(function(ele){return!ele.includes("_")});for(var _i5=0;_i5<functionArray.length;_i5++){if(!ignoreFunction.includes(functionArray[_i5])){try{element=eval(functionArray[_i5])}catch(e){continue}for(var k=0;k<keyArray.length;k++){if(p5Constructors[keyArray[k]].prototype[functionArray[_i5]]===undefined);else{if(p5Constructors[keyArray[k]].prototype[functionArray[_i5]]!==element){var _url2="https://p5js.org/reference/#/p5/".concat(functionArray[_i5]);_main.default._friendlyError((0,_internationalization.translator)("fes.sketchReaderErrors.reservedFunc",{url:_url2,symbol:functionArray[_i5]}));return true}}}}}};var fesCodeReader=function fesCodeReader(){var moveAhead=globalConstFuncCheck();if(moveAhead)return;var code="";try{code+=""+setup}catch(e){code+=""}try{code+="\n"+draw}catch(e){code+=""}if(code==="")return;code=removeMultilineComments(code);codeToLines(code)};_main.default._fesCodeReader=fesCodeReader;window.addEventListener("load",_main.default._fesCodeReader)}var _default=_main.default;exports.default=_default},{"../constants":275,"../internationalization":285,"../main":287,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.flat-map":171,"core-js/modules/es.array.for-each":172,"core-js/modules/es.array.from":173,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.map":179,"core-js/modules/es.array.unscopables.flat-map":183,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.constructor":198,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.includes":203,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.match":205,"core-js/modules/es.string.split":209,"core-js/modules/es.string.trim":211,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.for-each":246,"core-js/modules/web.dom-collections.iterator":247}],281:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.match");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.split");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ErrorStackParser(){"use strict";var FIREFOX_SAFARI_STACK_REGEXP=/(^|@)\S+:\d+/;var CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+:\d+|\(native\))/m;var SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code])?$/;return{parse:function ErrorStackParser$$parse(error){if(typeof error.stacktrace!=="undefined"||typeof error["opera#sourceloc"]!=="undefined"){return this.parseOpera(error)}else if(error.stack&&error.stack.match(CHROME_IE_STACK_REGEXP)){return this.parseV8OrIE(error)}else if(error.stack){return this.parseFFOrSafari(error)}else{}},extractLocation:function ErrorStackParser$$extractLocation(urlLike){if(urlLike.indexOf(":")===-1){return[urlLike]}var regExp=/(.+?)(?::(\d+))?(?::(\d+))?$/;var parts=regExp.exec(urlLike.replace(/[()]/g,""));return[parts[1],parts[2]||undefined,parts[3]||undefined]},parseV8OrIE:function ErrorStackParser$$parseV8OrIE(error){var filtered=error.stack.split("\n").filter(function(line){return!!line.match(CHROME_IE_STACK_REGEXP)},this);return filtered.map(function(line){if(line.indexOf("(eval ")>-1){line=line.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,"")}var sanitizedLine=line.replace(/^\s+/,"").replace(/\(eval code/g,"(");var location=sanitizedLine.match(/ (\((.+):(\d+):(\d+)\)$)/);sanitizedLine=location?sanitizedLine.replace(location[0],""):sanitizedLine;var tokens=sanitizedLine.split(/\s+/).slice(1);var locationParts=this.extractLocation(location?location[1]:tokens.pop());var functionName=tokens.join(" ")||undefined;var fileName=["eval","<anonymous>"].indexOf(locationParts[0])>-1?undefined:locationParts[0];return{functionName:functionName,fileName:fileName,lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}},this)},parseFFOrSafari:function ErrorStackParser$$parseFFOrSafari(error){var filtered=error.stack.split("\n").filter(function(line){return!line.match(SAFARI_NATIVE_CODE_REGEXP)},this);return filtered.map(function(line){if(line.indexOf(" > eval")>-1){line=line.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")}if(line.indexOf("@")===-1&&line.indexOf(":")===-1){return{functionName:line}}else{var functionNameRegex=/((.*".+"[^@]*)?[^@]*)(?:@)/;var matches=line.match(functionNameRegex);var functionName=matches&&matches[1]?matches[1]:undefined;var locationParts=this.extractLocation(line.replace(functionNameRegex,""));return{functionName:functionName,fileName:locationParts[0],lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}}},this)},parseOpera:function ErrorStackParser$$parseOpera(e){if(!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length){return this.parseOpera9(e)}else if(!e.stack){return this.parseOpera10(e)}else{return this.parseOpera11(e)}},parseOpera9:function ErrorStackParser$$parseOpera9(e){var lineRE=/Line (\d+).*script (?:in )?(\S+)/i;var lines=e.message.split("\n");var result=[];for(var i=2,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push({fileName:match[2],lineNumber:match[1],source:lines[i]})}}return result},parseOpera10:function ErrorStackParser$$parseOpera10(e){var lineRE=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i;var lines=e.stacktrace.split("\n");var result=[];for(var i=0,len=lines.length;i<len;i+=2){var match=lineRE.exec(lines[i]);if(match){result.push({functionName:match[3]||undefined,fileName:match[2],lineNumber:match[1],source:lines[i]})}}return result},parseOpera11:function ErrorStackParser$$parseOpera11(error){var filtered=error.stack.split("\n").filter(function(line){return!!line.match(FIREFOX_SAFARI_STACK_REGEXP)&&!line.match(/^Error created at/)},this);return filtered.map(function(line){var tokens=line.split("@");var locationParts=this.extractLocation(tokens.pop());var functionCall=tokens.shift()||"";var functionName=functionCall.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||undefined;var argsRaw;if(functionCall.match(/\(([^)]*)\)/)){argsRaw=functionCall.replace(/^[^(]+\(([^)]*)\)$/,"$1")}var args=argsRaw===undefined||argsRaw==="[arguments not available]"?undefined:argsRaw.split(",");return{functionName:functionName,args:args,fileName:locationParts[0],lineNumber:locationParts[1],columnNumber:locationParts[2],source:line}},this)}}}_main.default._getErrorStackParser=function getErrorStackParser(){return new ErrorStackParser};var _default=_main.default;exports.default=_default},{"../main":287,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.join":177,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.match":205,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.split":209}],282:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.last-index-of");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.map");_dereq_("core-js/modules/es.number.constructor");_dereq_("core-js/modules/es.object.get-prototype-of");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.reflect.construct");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.set");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/web.dom-collections.for-each");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var constants=_interopRequireWildcard(_dereq_("../constants"));var _internationalization=_dereq_("../internationalization");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function")}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass)}function _createSuper(Derived){function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}return function(){var Super=_getPrototypeOf(Derived),result;if(isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget)}else{result=Super.apply(this,arguments)}return _possibleConstructorReturn(this,result)}}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)==="object"||typeof call==="function")){return call}return _assertThisInitialized(self)}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return self}function _wrapNativeSuper(Class){var _cache=typeof Map==="function"?new Map:undefined;_wrapNativeSuper=function _wrapNativeSuper(Class){if(Class===null||!_isNativeFunction(Class))return Class;if(typeof Class!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof _cache!=="undefined"){if(_cache.has(Class))return _cache.get(Class);_cache.set(Class,Wrapper)}function Wrapper(){return _construct(Class,arguments,_getPrototypeOf(this).constructor)}Wrapper.prototype=Object.create(Class.prototype,{constructor:{value:Wrapper,enumerable:false,writable:true,configurable:true}});return _setPrototypeOf(Wrapper,Class)};return _wrapNativeSuper(Class)}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _isNativeFunction(fn){return Function.toString.call(fn).indexOf("[native code]")!==-1}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o)};return _getPrototypeOf(o)}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}if(typeof IS_MINIFIED!=="undefined"){_main.default._validateParameters=_main.default._clearValidateParamsCache=function(){}}else{var dataDoc=_dereq_("../../../docs/parameterData.json");var arrDoc=JSON.parse(JSON.stringify(dataDoc));var docCache={};var builtinTypes=new Set(["null","number","string","boolean","constant","function","any","integer"]);var basicTypes={number:true,boolean:true,string:true,function:true,undefined:true};var constantsReverseMap={};for(var key in constants){constantsReverseMap[constants[key]]=key}var p5Constructors={};var funcSpecificConstructors={};window.addEventListener("load",function(){for(var _i=0,_Object$keys=Object.keys(_main.default);_i<_Object$keys.length;_i++){var _key=_Object$keys[_i];if(typeof _main.default[_key]==="function"&&_key[0]!==_key[0].toLowerCase()){p5Constructors[_key]=_main.default[_key]}}});var argumentTree={};var addType=function addType(value,obj,func){var type=_typeof(value);if(basicTypes[type]){if(constantsReverseMap[value]){obj=obj[value]||(obj[value]={})}else{obj=obj[type]||(obj[type]={})}}else if(value===null){obj=obj["null"]||(obj["null"]={})}else{if(value.constructor&&value.constructor.name){obj=obj[value.constructor.name]||(obj[value.constructor.name]={});return obj}var p5C=funcSpecificConstructors[func];if(p5C===undefined){p5C=funcSpecificConstructors[func]={}}for(var _key2 in p5C){if(value instanceof p5C[_key2]){obj=obj[_key2]||(obj[_key2]={});return obj}}for(var _key3 in p5Constructors){if(value instanceof p5Constructors[_key3]){obj=obj[_key3]||(obj[_key3]={});p5C[_key3]=p5Constructors[_key3];return obj}}obj=obj[type]||(obj[type]={})}return obj};var buildArgTypeCache=function buildArgTypeCache(func,arr){var obj=argumentTree[func];if(obj===undefined){obj=argumentTree[func]={}}for(var i=0,len=arr.length;i<len;++i){var value=arr[i];if(value instanceof Array){obj=obj["as"]||(obj["as"]={});for(var j=0,lenA=value.length;j<lenA;++j){obj=addType(value[j],obj,func)}}else{obj=addType(value,obj,func)}}return obj};var lookupParamDoc=function lookupParamDoc(func){var ichDot=func.lastIndexOf(".");var funcName=func.substr(ichDot+1);var funcClass=func.substr(0,ichDot)||"p5";var classitems=arrDoc;var queryResult=classitems[funcClass][funcName];var overloads=[];if(queryResult.hasOwnProperty("overloads")){for(var i=0;i<queryResult.overloads.length;i++){overloads.push({formats:queryResult.overloads[i].params})}}else{overloads.push({formats:queryResult.params||[]})}var mapConstants={};var maxParams=0;overloads.forEach(function(overload){var formats=overload.formats;if(maxParams<formats.length){maxParams=formats.length}var minParams=formats.length;while(minParams>0&&formats[minParams-1].optional){minParams--}overload.minParams=minParams;formats.forEach(function(format){format.types=format.type.split("|").map(function ct(type){if(type.substr(type.length-2,2)==="[]"){return{name:type,array:ct(type.substr(0,type.length-2))}}var lowerType=type.toLowerCase();if(lowerType==="constant"){var constant;if(mapConstants.hasOwnProperty(format.name)){constant=mapConstants[format.name]}else{var myRe=/either\s+(?:[A-Z0-9_]+\s*,?\s*(?:or)?\s*)+/g;var values={};var names=[];constant=mapConstants[format.name]={values:values,names:names};var myArray=myRe.exec(format.description);if(func==="endShape"&&format.name==="mode"){values[constants.CLOSE]=true;names.push("CLOSE")}else{var match=myArray[0];var reConst=/[A-Z0-9_]+/g;var matchConst;while((matchConst=reConst.exec(match))!==null){var name=matchConst[0];if(constants.hasOwnProperty(name)){values[constants[name]]=true;names.push(name)}}}}return{name:type,builtin:lowerType,names:constant.names,values:constant.values}}if(lowerType.substr(0,"function".length)==="function"){lowerType="function"}if(builtinTypes.has(lowerType)){return{name:type,builtin:lowerType}}var t=window;var typeParts=type.split(".");if(typeParts[0]==="p5"){t=_main.default;typeParts.shift()}typeParts.forEach(function(p){t=t&&t[p]});if(t){return{name:type,prototype:t}}return{name:type,type:lowerType}})})});return{overloads:overloads,maxParams:maxParams}};var isNumber=function isNumber(param){switch(_typeof(param)){case"number":return true;case"string":return!isNaN(param);default:return false}};var testParamType=function testParamType(param,type){var isArray=param instanceof Array;var matches=true;if(type.array&&isArray){for(var i=0;i<param.length;i++){var error=testParamType(param[i],type.array);if(error)return error/2}}else if(type.prototype){matches=param instanceof type.prototype}else if(type.builtin){switch(type.builtin){case"number":matches=isNumber(param);break;case"integer":matches=isNumber(param)&&Number(param)===Math.floor(param);break;case"boolean":case"any":matches=true;break;case"array":matches=isArray;break;case"string":matches=typeof param==="string";break;case"constant":matches=type.values.hasOwnProperty(param);break;case"function":matches=param instanceof Function;break;case"null":matches=param===null;break}}else{matches=_typeof(param)===type.t}return matches?0:1};var testParamTypes=function testParamTypes(param,types){var minScore=9999;for(var i=0;minScore>0&&i<types.length;i++){var score=testParamType(param,types[i]);if(minScore>score)minScore=score}return minScore};var scoreOverload=function scoreOverload(args,argCount,overload,minScore){var score=0;var formats=overload.formats;var minParams=overload.minParams;if(argCount<minParams){score=(minParams-argCount)*2}else if(argCount>formats.length){score=(argCount-formats.length)*2}for(var p=0;score<=minScore&&p<formats.length;p++){var arg=args[p];var format=formats[p];if(arg==null){if(!format.optional||p<minParams||p<argCount){score+=1}}else{score+=testParamTypes(arg,format.types)}}return score};var getOverloadErrors=function getOverloadErrors(args,argCount,overload){var formats=overload.formats;var minParams=overload.minParams;if(argCount<minParams){return[{type:"TOO_FEW_ARGUMENTS",argCount:argCount,minParams:minParams}]}else if(argCount>formats.length){return[{type:"TOO_MANY_ARGUMENTS",argCount:argCount,maxParams:formats.length}]}var errorArray=[];for(var p=0;p<formats.length;p++){var arg=args[p];var format=formats[p];if(arg==null){if(!format.optional||p<minParams||p<argCount){errorArray.push({type:"EMPTY_VAR",position:p,format:format})}}else if(testParamTypes(arg,format.types)>0){errorArray.push({type:"WRONG_TYPE",position:p,format:format,arg:arg})}}return errorArray};_main.default.ValidationError=function(name){var err=function(_Error){_inherits(err,_Error);var _super=_createSuper(err);function err(message,func,type){var _this;_classCallCheck(this,err);_this=_super.call(this);_this.message=message;_this.func=func;_this.type=type;if("captureStackTrace"in Error)Error.captureStackTrace(_assertThisInitialized(_this),err);else _this.stack=(new Error).stack;return _this}return err}(_wrapNativeSuper(Error));err.prototype.name=name;return err}("ValidationError");_main.default._friendlyParamError=function(errorObj,func){var message;var translationObj;function formatType(){var format=errorObj.format;return format.types.map(function(type){return type.names?type.names.join("|"):type.name}).join("|")}switch(errorObj.type){case"EMPTY_VAR":{translationObj={func:func,formatType:formatType(),position:(0,_internationalization.translator)("fes.positions.p",{context:(errorObj.position+1).toString(),defaultValue:(errorObj.position+1).toString()}),url:"https://p5js.org/examples/data-variable-scope.html"};break}case"WRONG_TYPE":{var arg=errorObj.arg;var argType=arg instanceof Array?"array":arg===null?"null":arg.name||_typeof(arg);translationObj={func:func,formatType:formatType(),argType:argType,position:(0,_internationalization.translator)("fes.positions.p",{context:(errorObj.position+1).toString(),defaultValue:(errorObj.position+1).toString()})};break}case"TOO_FEW_ARGUMENTS":{translationObj={func:func,minParams:errorObj.minParams,argCount:errorObj.argCount};break}case"TOO_MANY_ARGUMENTS":{translationObj={func:func,maxParams:errorObj.maxParams,argCount:errorObj.argCount};break}}if(translationObj){try{var myError=new Error;var parsed=_main.default._getErrorStackParser().parse(myError);if(parsed[3]&&parsed[3].functionName&&parsed[3].functionName.includes(".")&&_main.default.prototype[parsed[3].functionName.split(".").slice(-1)[0]]){return}if(_main.default._throwValidationErrors){throw new _main.default.ValidationError(message,func,errorObj.type)}if(parsed[3]&&parsed[3].fileName&&parsed[3].lineNumber&&parsed[3].columnNumber){var location="".concat(parsed[3].fileName,":").concat(parsed[3].lineNumber,":").concat(parsed[3].columnNumber);translationObj.location=(0,_internationalization.translator)("fes.location",{location:location,file:parsed[3].fileName.split("/").slice(-1),line:parsed[3].lineNumber});_main.default._fesLogCache[location]=true}}catch(err){if(err instanceof _main.default.ValidationError){throw err}}translationObj.context=errorObj.type;message=(0,_internationalization.translator)("fes.friendlyParamError.type",translationObj);_main.default._friendlyError("".concat(message),func,3)}};_main.default._clearValidateParamsCache=function clearValidateParamsCache(){for(var _i2=0,_Object$keys2=Object.keys(argumentTree);_i2<_Object$keys2.length;_i2++){var _key4=_Object$keys2[_i2];delete argumentTree[_key4]}};_main.default._getValidateParamsArgTree=function getValidateParamsArgTree(){return argumentTree};_main.default._validateParameters=function validateParameters(func,args){if(_main.default.disableFriendlyErrors){return}var obj=buildArgTypeCache(func,args);if(obj.seen){return}obj.seen=true;var docs=docCache[func]||(docCache[func]=lookupParamDoc(func));var overloads=docs.overloads;var argCount=args.length;var minScore=99999;var minOverload;for(var i=0;i<overloads.length;i++){var score=scoreOverload(args,argCount,overloads[i],minScore);if(score===0){return}else if(minScore>score){minScore=score;minOverload=i}}if(minScore>0){var errorArray=getOverloadErrors(args,argCount,overloads[minOverload]);for(var n=0;n<errorArray.length;n++){_main.default._friendlyParamError(errorArray[n],func)}}};_main.default.prototype._validateParameters=_main.default.validateParameters}var _default=_main.default;exports.default=_default},{"../../../docs/parameterData.json":1,"../constants":275,"../internationalization":285,"../main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.for-each":172,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.join":177,"core-js/modules/es.array.last-index-of":178,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.function.name":184,"core-js/modules/es.map":185,"core-js/modules/es.number.constructor":188,"core-js/modules/es.object.get-prototype-of":193,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.reflect.construct":197,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.set":201,"core-js/modules/es.string.includes":203,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.split":209,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.for-each":246,"core-js/modules/web.dom-collections.iterator":247}],283:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var constants=_interopRequireWildcard(_dereq_("./constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function modeAdjust(a,b,c,d,mode){if(mode===constants.CORNER){return{x:a,y:b,w:c,h:d}}else if(mode===constants.CORNERS){return{x:a,y:b,w:c-a,h:d-b}}else if(mode===constants.RADIUS){return{x:a-c,y:b-d,w:2*c,h:2*d}}else if(mode===constants.CENTER){return{x:a-c*.5,y:b-d*.5,w:c,h:d}}}var _default={modeAdjust:modeAdjust};exports.default=_default},{"./constants":275}],284:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.promise");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.iterator");var _main=_interopRequireDefault(_dereq_("../core/main"));var _internationalization=_dereq_("./internationalization");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _globalInit=function _globalInit(){if(typeof window._setupDone!=="undefined"){console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import");return}if(!window.mocha){if((window.setup&&typeof window.setup==="function"||window.draw&&typeof window.draw==="function")&&!_main.default.instance){new _main.default}}};var waitForDocumentReady=function waitForDocumentReady(){return new Promise(function(resolve,reject){if(document.readyState==="complete"){resolve()}else{window.addEventListener("load",resolve,false)}})};var waitingForTranslator=typeof IS_MINIFIED==="undefined"?(0,_internationalization.initialize)():Promise.resolve();Promise.all([waitForDocumentReady(),waitingForTranslator]).then(_globalInit)},{"../core/main":287,"./internationalization":285,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.promise":196,"core-js/modules/es.string.iterator":204,"core-js/modules/web.dom-collections.iterator":247}],285:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.promise");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.setTranslatorLanguage=exports.currentTranslatorLanguage=exports.availableTranslatorLanguages=exports.initialize=exports.translator=void 0;var _i18next=_interopRequireDefault(_dereq_("i18next"));var _i18nextBrowserLanguagedetector=_interopRequireDefault(_dereq_("i18next-browser-languagedetector"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var fallbackResources,languages;if(typeof IS_MINIFIED==="undefined"){var translationsModule=_dereq_("../../translations");fallbackResources=translationsModule.default;languages=translationsModule.languages;if(typeof P5_DEV_BUILD!=="undefined"){var completeResources=_dereq_("../../translations/dev");for(var _i=0,_Object$keys=Object.keys(completeResources);_i<_Object$keys.length;_i++){var language=_Object$keys[_i];var parts=language.split("_");var lng=parts.slice(0,parts.length-1).join("-");var ns=parts[parts.length-1];fallbackResources[lng]=fallbackResources[lng]||{};fallbackResources[lng][ns]=completeResources[language]}}}var FetchResources=function(){function FetchResources(services,options){_classCallCheck(this,FetchResources);this.init(services,options)}_createClass(FetchResources,[{key:"fetchWithTimeout",value:function fetchWithTimeout(url,options){var timeout=arguments.length>2&&arguments[2]!==undefined?arguments[2]:2e3;return Promise.race([fetch(url,options),new Promise(function(_,reject){return setTimeout(function(){return reject(new Error("timeout"))},timeout)})])}},{key:"init",value:function init(services){var options=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.services=services;this.options=options}},{key:"read",value:function read(language,namespace,callback){var loadPath=this.options.loadPath;if(language===this.options.fallback){callback(null,fallbackResources[language][namespace])}else if(languages.includes(language)){var url=this.services.interpolator.interpolate(loadPath,{lng:language,ns:namespace});this.loadUrl(url,callback)}else{callback("Not found",false)}}},{key:"loadUrl",value:function loadUrl(url,callback){this.fetchWithTimeout(url).then(function(response){var ok=response.ok;if(!ok){throw new Error("failed loading ".concat(url))}return response.json()},function(){throw new Error("failed loading ".concat(url))}).then(function(data){return callback(null,data)}).catch(callback)}}]);return FetchResources}();FetchResources.type="backend";var translator=function translator(key,values){console.debug("p5.js translator called before translations were loaded");_i18next.default.t(key,values)};exports.translator=translator;var initialize=function initialize(){var i18init=_i18next.default.use(_i18nextBrowserLanguagedetector.default).use(FetchResources).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:false,interpolation:{escapeValue:false},detection:{checkWhitelist:false,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:true,resources:fallbackResources}).then(function(translateFn){exports.translator=translator=translateFn},function(e){return console.debug("Translations failed to load (".concat(e,")"))});return i18init};exports.initialize=initialize;var availableTranslatorLanguages=function availableTranslatorLanguages(){return _i18next.default.languages};exports.availableTranslatorLanguages=availableTranslatorLanguages;var currentTranslatorLanguage=function currentTranslatorLanguage(language){return _i18next.default.language};exports.currentTranslatorLanguage=currentTranslatorLanguage;var setTranslatorLanguage=function setTranslatorLanguage(language){return _i18next.default.changeLanguage(language||undefined,function(e){return console.debug("Translations failed to load (".concat(e,")"))})};exports.setTranslatorLanguage=setTranslatorLanguage},{"../../translations":346,"../../translations/dev":undefined,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.join":177,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.promise":196,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.includes":203,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.split":209,"core-js/modules/web.dom-collections.iterator":247,i18next:257,"i18next-browser-languagedetector":254}],286:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")};_main.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")};_main.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")};_main.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")};var _default=_main.default;exports.default=_default},{"./main":287}],287:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.get-own-property-names");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.for-each");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;_dereq_("./shim");var constants=_interopRequireWildcard(_dereq_("./constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor}var p5=function(){function p5(sketch,node,sync){var _this=this;_classCallCheck(this,p5);this._setupDone=false;this._pixelDensity=Math.ceil(window.devicePixelRatio)||1;this._userNode=node;this._curElement=null;this._elements=[];this._glAttributes=null;this._requestAnimId=0;this._preloadCount=0;this._isGlobal=false;this._loop=true;this._initializeInstanceVariables();this._defaultCanvasSize={width:100,height:100};this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null};this._millisStart=-1;this._lcg_random_state=null;this._gaussian_previous=false;this._events.wheel=null;this._loadingScreenId="p5_loading";this._registeredMethods={};var methods=Object.getOwnPropertyNames(p5.prototype._registeredMethods);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=methods[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var prop=_step.value;this._registeredMethods[prop]=p5.prototype._registeredMethods[prop].slice()}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(window.DeviceOrientationEvent){this._events.deviceorientation=null}if(window.DeviceMotionEvent&&!window._isNodeWebkit){this._events.devicemotion=null}this._start=function(){if(_this._userNode){if(typeof _this._userNode==="string"){_this._userNode=document.getElementById(_this._userNode)}}var context=_this._isGlobal?window:_this;if(context.preload){var loadingScreen=document.getElementById(_this._loadingScreenId);if(!loadingScreen){loadingScreen=document.createElement("div");loadingScreen.innerHTML="Loading...";loadingScreen.style.position="absolute";loadingScreen.id=_this._loadingScreenId;var _node=_this._userNode||document.body;_node.appendChild(loadingScreen)}var _methods=_this._preloadMethods;for(var method in _methods){_methods[method]=_methods[method]||p5;var obj=_methods[method];if(obj===p5.prototype||obj===p5){if(_this._isGlobal){window[method]=_this._wrapPreload(_this,method)}obj=_this}_this._registeredPreloadMethods[method]=obj[method];obj[method]=_this._wrapPreload(obj,method)}context.preload();_this._runIfPreloadsAreDone()}else{_this._setup();_this._draw()}};this._runIfPreloadsAreDone=function(){var context=this._isGlobal?window:this;if(context._preloadCount===0){var loadingScreen=document.getElementById(context._loadingScreenId);if(loadingScreen){loadingScreen.parentNode.removeChild(loadingScreen)}if(!this._setupDone){this._lastFrameTime=window.performance.now();context._setup();context._draw()}}};this._decrementPreload=function(){var context=this._isGlobal?window:this;if(typeof context.preload==="function"){context._setProperty("_preloadCount",context._preloadCount-1);context._runIfPreloadsAreDone()}};this._wrapPreload=function(obj,fnName){var _this2=this;return function(){_this2._incrementPreload();for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}return _this2._registeredPreloadMethods[fnName].apply(obj,args)}};this._incrementPreload=function(){var context=this._isGlobal?window:this;context._setProperty("_preloadCount",context._preloadCount+1)};this._setup=function(){_this.createCanvas(_this._defaultCanvasSize.width,_this._defaultCanvasSize.height,"p2d");var context=_this._isGlobal?window:_this;if(typeof context.preload==="function"){for(var f in _this._preloadMethods){context[f]=_this._preloadMethods[f][f];if(context[f]&&_this){context[f]=context[f].bind(_this)}}}_this._millisStart=window.performance.now();if(typeof context.setup==="function"){context.setup()}var canvases=document.getElementsByTagName("canvas");var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=canvases[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var k=_step2.value;if(k.dataset.hidden==="true"){k.style.visibility="";delete k.dataset.hidden}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}_this._lastFrameTime=window.performance.now();_this._setupDone=true;if(_this._accessibleOutputs.grid||_this._accessibleOutputs.text){_this._updateAccsOutput()}};this._draw=function(){var now=window.performance.now();var time_since_last=now-_this._lastFrameTime;var target_time_between_frames=1e3/_this._targetFrameRate;var epsilon=5;if(!_this._loop||time_since_last>=target_time_between_frames-epsilon){_this.redraw();_this._frameRate=1e3/(now-_this._lastFrameTime);_this.deltaTime=now-_this._lastFrameTime;_this._setProperty("deltaTime",_this.deltaTime);_this._lastFrameTime=now;if(typeof _this._updateMouseCoords!=="undefined"){_this._updateMouseCoords();_this._setProperty("movedX",0);_this._setProperty("movedY",0)}}if(_this._loop){_this._requestAnimId=window.requestAnimationFrame(_this._draw)}};this._setProperty=function(prop,value){_this[prop]=value;if(_this._isGlobal){window[prop]=value}};this.remove=function(){var loadingScreen=document.getElementById(_this._loadingScreenId);if(loadingScreen){loadingScreen.parentNode.removeChild(loadingScreen);_this._incrementPreload()}if(_this._curElement){_this._loop=false;if(_this._requestAnimId){window.cancelAnimationFrame(_this._requestAnimId)}for(var ev in _this._events){window.removeEventListener(ev,_this._events[ev])}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=_this._elements[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var e=_step3.value;if(e.elt&&e.elt.parentNode){e.elt.parentNode.removeChild(e.elt)}for(var elt_ev in e._events){e.elt.removeEventListener(elt_ev,e._events[elt_ev])}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}var self=_this;_this._registeredMethods.remove.forEach(function(f){if(typeof f!=="undefined"){f.call(self)}})}if(_this._isGlobal){for(var p in p5.prototype){try{delete window[p]}catch(x){window[p]=undefined}}for(var p2 in _this){if(_this.hasOwnProperty(p2)){try{delete window[p2]}catch(x){window[p2]=undefined}}}p5.instance=null}};this._registeredMethods.init.forEach(function(f){if(typeof f!=="undefined"){f.call(this)}},this);this._setupPromisePreloads();var friendlyBindGlobal=this._createFriendlyGlobalFunctionBinder();if(!sketch){this._isGlobal=true;p5.instance=this;for(var p in p5.prototype){if(typeof p5.prototype[p]==="function"){var ev=p.substring(2);if(!this._events.hasOwnProperty(ev)){if(Math.hasOwnProperty(p)&&Math[p]===p5.prototype[p]){friendlyBindGlobal(p,p5.prototype[p])}else{friendlyBindGlobal(p,p5.prototype[p].bind(this))}}}else{friendlyBindGlobal(p,p5.prototype[p])}}for(var p2 in this){if(this.hasOwnProperty(p2)){friendlyBindGlobal(p2,this[p2])}}}else{sketch(this);p5._checkForUserDefinedFunctions(this)}for(var e in this._events){var f=this["_on".concat(e)];if(f){var m=f.bind(this);window.addEventListener(e,m,{passive:false});this._events[e]=m}}var focusHandler=function focusHandler(){_this._setProperty("focused",true)};var blurHandler=function blurHandler(){_this._setProperty("focused",false)};window.addEventListener("focus",focusHandler);window.addEventListener("blur",blurHandler);this.registerMethod("remove",function(){window.removeEventListener("focus",focusHandler);window.removeEventListener("blur",blurHandler)});if(document.readyState==="complete"){this._start()}else{window.addEventListener("load",this._start.bind(this),false)}}_createClass(p5,[{key:"_initializeInstanceVariables",value:function _initializeInstanceVariables(){this._accessibleOutputs={text:false,grid:false,textLabel:false,gridLabel:false};this._styles=[];this._bezierDetail=20;this._curveDetail=20;this._colorMode=constants.RGB;this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]};this._downKeys={}}},{key:"registerPreloadMethod",value:function registerPreloadMethod(fnString,obj){if(!p5.prototype._preloadMethods.hasOwnProperty(fnString)){p5.prototype._preloadMethods[fnString]=obj}}},{key:"registerMethod",value:function registerMethod(name,m){var target=this||p5.prototype;if(!target._registeredMethods.hasOwnProperty(name)){target._registeredMethods[name]=[]}target._registeredMethods[name].push(m)}},{key:"_createFriendlyGlobalFunctionBinder",value:function _createFriendlyGlobalFunctionBinder(){var options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var globalObject=options.globalObject||window;var log=options.log||console.log.bind(console);var propsToForciblyOverwrite={print:true};return function(prop,value){if(!p5.disableFriendlyErrors&&typeof IS_MINIFIED==="undefined"&&typeof value==="function"&&!(prop in p5.prototype._preloadMethods)){try{if(prop in globalObject&&!(prop in propsToForciblyOverwrite)){throw new Error('global "'.concat(prop,'" already exists'))}Object.defineProperty(globalObject,prop,{configurable:true,enumerable:true,get:function get(){return value},set:function set(newValue){Object.defineProperty(globalObject,prop,{configurable:true,enumerable:true,value:newValue,writable:true});log('You just changed the value of "'.concat(prop,"\", which was a p5 function. This could cause problems later if you're not careful."))}})}catch(e){var message='p5 had problems creating the global function "'.concat(prop,'", possibly because your code is already using that name as a variable. You may want to rename your variable to something else.');p5._friendlyError(message,prop);globalObject[prop]=value}}else{globalObject[prop]=value}}}}]);return p5}();p5.instance=null;p5.disableFriendlyErrors=false;for(var k in constants){p5.prototype[k]=constants[k]}p5.VERSION=constants.VERSION;p5.prototype._preloadMethods={loadJSON:p5.prototype,loadImage:p5.prototype,loadStrings:p5.prototype,loadXML:p5.prototype,loadBytes:p5.prototype,loadTable:p5.prototype,loadFont:p5.prototype,loadModel:p5.prototype,loadShader:p5.prototype};p5.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]};p5.prototype._registeredPreloadMethods={};var _default=p5;exports.default=_default},{"./constants":275,"./shim":298,"core-js/modules/es.array.for-each":172,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.get-own-property-names":192,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.for-each":246,"core-js/modules/web.dom-collections.iterator":247}],288:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Element=function(elt,pInst){this.elt=elt;this._pInst=this._pixelsState=pInst;this._events={};this.width=this.elt.offsetWidth;this.height=this.elt.offsetHeight};_main.default.Element.prototype.parent=function(p){if(typeof p==="undefined"){return this.elt.parentNode}if(typeof p==="string"){if(p[0]==="#"){p=p.substring(1)}p=document.getElementById(p)}else if(p instanceof _main.default.Element){p=p.elt}p.appendChild(this.elt);return this};_main.default.Element.prototype.id=function(id){if(typeof id==="undefined"){return this.elt.id}this.elt.id=id;this.width=this.elt.offsetWidth;this.height=this.elt.offsetHeight;return this};_main.default.Element.prototype.class=function(c){if(typeof c==="undefined"){return this.elt.className}this.elt.className=c;return this};_main.default.Element.prototype.mousePressed=function(fxn){var eventPrependedFxn=function eventPrependedFxn(event){this._pInst._setProperty("mouseIsPressed",true);this._pInst._setMouseButton(event);return fxn.call(this)};_main.default.Element._adjustListener("mousedown",eventPrependedFxn,this);return this};_main.default.Element.prototype.doubleClicked=function(fxn){_main.default.Element._adjustListener("dblclick",fxn,this);return this};_main.default.Element.prototype.mouseWheel=function(fxn){_main.default.Element._adjustListener("wheel",fxn,this);return this};_main.default.Element.prototype.mouseReleased=function(fxn){_main.default.Element._adjustListener("mouseup",fxn,this);return this};_main.default.Element.prototype.mouseClicked=function(fxn){_main.default.Element._adjustListener("click",fxn,this);return this};_main.default.Element.prototype.mouseMoved=function(fxn){_main.default.Element._adjustListener("mousemove",fxn,this);return this};_main.default.Element.prototype.mouseOver=function(fxn){_main.default.Element._adjustListener("mouseover",fxn,this);return this};_main.default.Element.prototype.mouseOut=function(fxn){_main.default.Element._adjustListener("mouseout",fxn,this);return this};_main.default.Element.prototype.touchStarted=function(fxn){_main.default.Element._adjustListener("touchstart",fxn,this);return this};_main.default.Element.prototype.touchMoved=function(fxn){_main.default.Element._adjustListener("touchmove",fxn,this);return this};_main.default.Element.prototype.touchEnded=function(fxn){_main.default.Element._adjustListener("touchend",fxn,this);return this};_main.default.Element.prototype.dragOver=function(fxn){_main.default.Element._adjustListener("dragover",fxn,this);return this};_main.default.Element.prototype.dragLeave=function(fxn){_main.default.Element._adjustListener("dragleave",fxn,this);return this};_main.default.Element._adjustListener=function(ev,fxn,ctx){if(fxn===false){_main.default.Element._detachListener(ev,ctx)}else{_main.default.Element._attachListener(ev,fxn,ctx)}return this};_main.default.Element._attachListener=function(ev,fxn,ctx){if(ctx._events[ev]){_main.default.Element._detachListener(ev,ctx)}var f=fxn.bind(ctx);ctx.elt.addEventListener(ev,f,false);ctx._events[ev]=f};_main.default.Element._detachListener=function(ev,ctx){var f=ctx._events[ev];ctx.elt.removeEventListener(ev,f,false);ctx._events[ev]=null};_main.default.Element.prototype._setProperty=function(prop,value){this[prop]=value};var _default=_main.default.Element;exports.default=_default},{"./main":287}],289:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.splice");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));var constants=_interopRequireWildcard(_dereq_("./constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Graphics=function(w,h,renderer,pInst){var r=renderer||constants.P2D;this.canvas=document.createElement("canvas");var node=pInst._userNode||document.body;node.appendChild(this.canvas);_main.default.Element.call(this,this.canvas,pInst);for(var p in _main.default.prototype){if(!this[p]){if(typeof _main.default.prototype[p]==="function"){this[p]=_main.default.prototype[p].bind(this)}else{this[p]=_main.default.prototype[p]}}}_main.default.prototype._initializeInstanceVariables.apply(this);this.width=w;this.height=h;this._pixelDensity=pInst._pixelDensity;if(r===constants.WEBGL){this._renderer=new _main.default.RendererGL(this.canvas,this,false)}else{this._renderer=new _main.default.Renderer2D(this.canvas,this,false)}pInst._elements.push(this);Object.defineProperty(this,"deltaTime",{get:function get(){return this._pInst.deltaTime}});this._renderer.resize(w,h);this._renderer._applyDefaults();return this};_main.default.Graphics.prototype=Object.create(_main.default.Element.prototype);_main.default.Graphics.prototype.reset=function(){this._renderer.resetMatrix();if(this._renderer.isP3D){this._renderer._update()}};_main.default.Graphics.prototype.remove=function(){if(this.elt.parentNode){this.elt.parentNode.removeChild(this.elt)}var idx=this._pInst._elements.indexOf(this);if(idx!==-1){this._pInst._elements.splice(idx,1)}for(var elt_ev in this._events){this.elt.removeEventListener(elt_ev,this._events[elt_ev])}};var _default=_main.default.Graphics;exports.default=_default},{"./constants":275,"./main":287,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.splice":182}],290:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.number.constructor");_dereq_("core-js/modules/es.object.assign");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.string.trim");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_main.default.Renderer=function(elt,pInst,isMainCanvas){_main.default.Element.call(this,elt,pInst);this.canvas=elt;this._pixelsState=pInst;if(isMainCanvas){this._isMainCanvas=true;this._pInst._setProperty("_curElement",this);this._pInst._setProperty("canvas",this.canvas);this._pInst._setProperty("width",this.width);this._pInst._setProperty("height",this.height)}else{this.canvas.style.display="none";this._styles=[]}this._textSize=12;this._textLeading=15;this._textFont="sans-serif";this._textStyle=constants.NORMAL;this._textAscent=null;this._textDescent=null;this._textAlign=constants.LEFT;this._textBaseline=constants.BASELINE;this._textWrap=constants.WORD;this._rectMode=constants.CORNER;this._ellipseMode=constants.CENTER;this._curveTightness=0;this._imageMode=constants.CORNER;this._tint=null;this._doStroke=true;this._doFill=true;this._strokeSet=false;this._fillSet=false;this._leadingSet=false};_main.default.Renderer.prototype=Object.create(_main.default.Element.prototype);_main.default.Renderer.prototype.push=function(){return{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}};_main.default.Renderer.prototype.pop=function(style){if(style.properties){Object.assign(this,style.properties)}};_main.default.Renderer.prototype.resize=function(w,h){this.width=w;this.height=h;this.elt.width=w*this._pInst._pixelDensity;this.elt.height=h*this._pInst._pixelDensity;this.elt.style.width="".concat(w,"px");this.elt.style.height="".concat(h,"px");if(this._isMainCanvas){this._pInst._setProperty("width",this.width);this._pInst._setProperty("height",this.height)}};_main.default.Renderer.prototype.get=function(x,y,w,h){var pixelsState=this._pixelsState;var pd=pixelsState._pixelDensity;var canvas=this.canvas;if(typeof x==="undefined"&&typeof y==="undefined"){x=y=0;w=pixelsState.width;h=pixelsState.height}else{x*=pd;y*=pd;if(typeof w==="undefined"&&typeof h==="undefined"){if(x<0||y<0||x>=canvas.width||y>=canvas.height){return[0,0,0,0]}return this._getPixel(x,y)}}var region=new _main.default.Image(w,h);region.canvas.getContext("2d").drawImage(canvas,x,y,w*pd,h*pd,0,0,w,h);return region};_main.default.Renderer.prototype.textLeading=function(l){if(typeof l==="number"){this._setProperty("_leadingSet",true);this._setProperty("_textLeading",l);return this._pInst}return this._textLeading};_main.default.Renderer.prototype.textSize=function(s){if(typeof s==="number"){this._setProperty("_textSize",s);if(!this._leadingSet){this._setProperty("_textLeading",s*constants._DEFAULT_LEADMULT)}return this._applyTextProperties()}return this._textSize};_main.default.Renderer.prototype.textStyle=function(s){if(s){if(s===constants.NORMAL||s===constants.ITALIC||s===constants.BOLD||s===constants.BOLDITALIC){this._setProperty("_textStyle",s)}return this._applyTextProperties()}return this._textStyle};_main.default.Renderer.prototype.textAscent=function(){if(this._textAscent===null){this._updateTextMetrics()}return this._textAscent};_main.default.Renderer.prototype.textDescent=function(){if(this._textDescent===null){this._updateTextMetrics()}return this._textDescent};_main.default.Renderer.prototype.textAlign=function(h,v){if(typeof h!=="undefined"){this._setProperty("_textAlign",h);if(typeof v!=="undefined"){this._setProperty("_textBaseline",v)}return this._applyTextProperties()}else{return{horizontal:this._textAlign,vertical:this._textBaseline}}};_main.default.Renderer.prototype.textWrap=function(wrapStyle){this._setProperty("_textWrap",wrapStyle);return this._textWrap};_main.default.Renderer.prototype.text=function(str,x,y,maxWidth,maxHeight){var p=this._pInst;var textWrapStyle=this._textWrap;var lines;var line;var testLine;var testWidth;var words;var chars;var shiftedY;var finalMaxHeight=Number.MAX_VALUE;if(!(this._doFill||this._doStroke)){return}if(typeof str==="undefined"){return}else if(typeof str!=="string"){str=str.toString()}str=str.replace(/(\t)/g,"  ");lines=str.split("\n");if(typeof maxWidth!=="undefined"){if(this._rectMode===constants.CENTER){x-=maxWidth/2}switch(this._textAlign){case constants.CENTER:x+=maxWidth/2;break;case constants.RIGHT:x+=maxWidth;break}var baselineHacked=false;if(typeof maxHeight!=="undefined"){if(this._rectMode===constants.CENTER){y-=maxHeight/2}switch(this._textBaseline){case constants.BOTTOM:shiftedY=y+maxHeight;y=Math.max(shiftedY,y);break;case constants.CENTER:shiftedY=y+maxHeight/2;y=Math.max(shiftedY,y);break;case constants.BASELINE:baselineHacked=true;this._textBaseline=constants.TOP;break}finalMaxHeight=y+maxHeight-p.textAscent()}if(textWrapStyle===constants.WORD){var nlines=[];for(var lineIndex=0;lineIndex<lines.length;lineIndex++){line="";words=lines[lineIndex].split(" ");for(var wordIndex=0;wordIndex<words.length;wordIndex++){testLine="".concat(line+words[wordIndex])+" ";testWidth=this.textWidth(testLine);if(testWidth>maxWidth&&line.length>0){nlines.push(line);line="".concat(words[wordIndex])+" "}else{line=testLine}}nlines.push(line)}var offset=0;var vAlign=p.textAlign().vertical;if(vAlign===constants.CENTER){offset=(nlines.length-1)*p.textLeading()/2}else if(vAlign===constants.BOTTOM){offset=(nlines.length-1)*p.textLeading()}for(var _lineIndex=0;_lineIndex<lines.length;_lineIndex++){line="";words=lines[_lineIndex].split(" ");for(var _wordIndex=0;_wordIndex<words.length;_wordIndex++){testLine="".concat(line+words[_wordIndex])+" ";testWidth=this.textWidth(testLine);if(testWidth>maxWidth&&line.length>0){this._renderText(p,line.trim(),x,y-offset,finalMaxHeight);line="".concat(words[_wordIndex])+" ";y+=p.textLeading()}else{line=testLine}}this._renderText(p,line.trim(),x,y-offset,finalMaxHeight);y+=p.textLeading();if(baselineHacked){this._textBaseline=constants.BASELINE}}}else{var _nlines=[];for(var _lineIndex2=0;_lineIndex2<lines.length;_lineIndex2++){line="";chars=lines[_lineIndex2].split("");for(var charIndex=0;charIndex<chars.length;charIndex++){testLine="".concat(line+chars[charIndex]);testWidth=this.textWidth(testLine);if(testWidth<=maxWidth){line+=chars[charIndex]}else if(testWidth>maxWidth&&line.length>0){_nlines.push(line);line="".concat(chars[charIndex])}}}_nlines.push(line);var _offset=0;var _vAlign=p.textAlign().vertical;if(_vAlign===constants.CENTER){_offset=(_nlines.length-1)*p.textLeading()/2}else if(_vAlign===constants.BOTTOM){_offset=(_nlines.length-1)*p.textLeading()}for(var _lineIndex3=0;_lineIndex3<lines.length;_lineIndex3++){line="";chars=lines[_lineIndex3].split("");for(var _charIndex=0;_charIndex<chars.length;_charIndex++){testLine="".concat(line+chars[_charIndex]);testWidth=this.textWidth(testLine);if(testWidth<=maxWidth){line+=chars[_charIndex]}else if(testWidth>maxWidth&&line.length>0){this._renderText(p,line.trim(),x,y-_offset,finalMaxHeight);y+=p.textLeading();line="".concat(chars[_charIndex])}}}this._renderText(p,line.trim(),x,y-_offset,finalMaxHeight);y+=p.textLeading();if(baselineHacked){this._textBaseline=constants.BASELINE}}}else{var _offset2=0;var _vAlign2=p.textAlign().vertical;if(_vAlign2===constants.CENTER){_offset2=(lines.length-1)*p.textLeading()/2}else if(_vAlign2===constants.BOTTOM){_offset2=(lines.length-1)*p.textLeading()}for(var i=0;i<lines.length;i++){this._renderText(p,lines[i],x,y-_offset2,finalMaxHeight);y+=p.textLeading()}}return p};_main.default.Renderer.prototype._applyDefaults=function(){return this};_main.default.Renderer.prototype._isOpenType=function(){var f=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._textFont;return _typeof(f)==="object"&&f.font&&f.font.supported};_main.default.Renderer.prototype._updateTextMetrics=function(){if(this._isOpenType()){this._setProperty("_textAscent",this._textFont._textAscent());this._setProperty("_textDescent",this._textFont._textDescent());return this}var text=document.createElement("span");text.style.fontFamily=this._textFont;text.style.fontSize="".concat(this._textSize,"px");text.innerHTML="ABCjgq|";var block=document.createElement("div");block.style.display="inline-block";block.style.width="1px";block.style.height="0px";var container=document.createElement("div");container.appendChild(text);container.appendChild(block);container.style.height="0px";container.style.overflow="hidden";document.body.appendChild(container);block.style.verticalAlign="baseline";var blockOffset=calculateOffset(block);var textOffset=calculateOffset(text);var ascent=blockOffset[1]-textOffset[1];block.style.verticalAlign="bottom";blockOffset=calculateOffset(block);textOffset=calculateOffset(text);var height=blockOffset[1]-textOffset[1];var descent=height-ascent;document.body.removeChild(container);this._setProperty("_textAscent",ascent);this._setProperty("_textDescent",descent);return this};function calculateOffset(object){var currentLeft=0,currentTop=0;if(object.offsetParent){do{currentLeft+=object.offsetLeft;currentTop+=object.offsetTop}while(object=object.offsetParent)}else{currentLeft+=object.offsetLeft;currentTop+=object.offsetTop}return[currentLeft,currentTop]}var _default=_main.default.Renderer;exports.default=_default},{"../core/constants":275,"./main":287,"core-js/modules/es.array.iterator":176,"core-js/modules/es.number.constructor":188,"core-js/modules/es.object.assign":191,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.split":209,"core-js/modules/es.string.trim":211,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],291:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.fill");_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.number.to-fixed");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));var constants=_interopRequireWildcard(_dereq_("./constants"));var _filters=_interopRequireDefault(_dereq_("../image/filters"));_dereq_("./p5.Renderer");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var styleEmpty="rgba(0,0,0,0)";_main.default.Renderer2D=function(elt,pInst,isMainCanvas){_main.default.Renderer.call(this,elt,pInst,isMainCanvas);this.drawingContext=this.canvas.getContext("2d");this._pInst._setProperty("drawingContext",this.drawingContext);return this};_main.default.Renderer2D.prototype=Object.create(_main.default.Renderer.prototype);_main.default.Renderer2D.prototype._applyDefaults=function(){this._cachedFillStyle=this._cachedStrokeStyle=undefined;this._cachedBlendMode=constants.BLEND;this._setFill(constants._DEFAULT_FILL);this._setStroke(constants._DEFAULT_STROKE);this.drawingContext.lineCap=constants.ROUND;this.drawingContext.font="normal 12px sans-serif"};_main.default.Renderer2D.prototype.resize=function(w,h){_main.default.Renderer.prototype.resize.call(this,w,h);this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)};_main.default.Renderer2D.prototype.background=function(){this.drawingContext.save();this.resetMatrix();if((arguments.length<=0?undefined:arguments[0])instanceof _main.default.Image){this._pInst.image(arguments.length<=0?undefined:arguments[0],0,0,this.width,this.height)}else{var _this$_pInst;var curFill=this._getFill();var color=(_this$_pInst=this._pInst).color.apply(_this$_pInst,arguments);if(this._pInst._addAccsOutput()){this._pInst._accsBackground(color.levels)}var newFill=color.toString();this._setFill(newFill);if(this._isErasing){this.blendMode(this._cachedBlendMode)}this.drawingContext.fillRect(0,0,this.width,this.height);this._setFill(curFill);if(this._isErasing){this._pInst.erase()}}this.drawingContext.restore()};_main.default.Renderer2D.prototype.clear=function(){this.drawingContext.save();this.resetMatrix();this.drawingContext.clearRect(0,0,this.width,this.height);this.drawingContext.restore()};_main.default.Renderer2D.prototype.fill=function(){var _this$_pInst2;var color=(_this$_pInst2=this._pInst).color.apply(_this$_pInst2,arguments);this._setFill(color.toString());if(this._pInst._addAccsOutput()){this._pInst._accsCanvasColors("fill",color.levels)}};_main.default.Renderer2D.prototype.stroke=function(){var _this$_pInst3;var color=(_this$_pInst3=this._pInst).color.apply(_this$_pInst3,arguments);this._setStroke(color.toString());if(this._pInst._addAccsOutput()){this._pInst._accsCanvasColors("stroke",color.levels)}};_main.default.Renderer2D.prototype.erase=function(opacityFill,opacityStroke){if(!this._isErasing){this._cachedFillStyle=this.drawingContext.fillStyle;var newFill=this._pInst.color(255,opacityFill).toString();this.drawingContext.fillStyle=newFill;this._cachedStrokeStyle=this.drawingContext.strokeStyle;var newStroke=this._pInst.color(255,opacityStroke).toString();this.drawingContext.strokeStyle=newStroke;var tempBlendMode=this._cachedBlendMode;this.blendMode(constants.REMOVE);this._cachedBlendMode=tempBlendMode;this._isErasing=true}};_main.default.Renderer2D.prototype.noErase=function(){if(this._isErasing){this.drawingContext.fillStyle=this._cachedFillStyle;this.drawingContext.strokeStyle=this._cachedStrokeStyle;this.blendMode(this._cachedBlendMode);this._isErasing=false}};_main.default.Renderer2D.prototype.image=function(img,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight){var cnv;if(img.gifProperties){img._animateGif(this._pInst)}try{if(this._tint){if(_main.default.MediaElement&&img instanceof _main.default.MediaElement){img.loadPixels()}if(img.canvas){cnv=this._getTintedImageCanvas(img)}}if(!cnv){cnv=img.canvas||img.elt}var s=1;if(img.width&&img.width>0){s=cnv.width/img.width}if(this._isErasing){this.blendMode(this._cachedBlendMode)}this.drawingContext.drawImage(cnv,s*sx,s*sy,s*sWidth,s*sHeight,dx,dy,dWidth,dHeight);if(this._isErasing){this._pInst.erase()}}catch(e){if(e.name!=="NS_ERROR_NOT_AVAILABLE"){throw e}}};_main.default.Renderer2D.prototype._getTintedImageCanvas=function(img){if(!img.canvas){return img}var pixels=_filters.default._toPixels(img.canvas);var tmpCanvas=document.createElement("canvas");tmpCanvas.width=img.canvas.width;tmpCanvas.height=img.canvas.height;var tmpCtx=tmpCanvas.getContext("2d");var id=tmpCtx.createImageData(img.canvas.width,img.canvas.height);var newPixels=id.data;for(var i=0;i<pixels.length;i+=4){var r=pixels[i];var g=pixels[i+1];var b=pixels[i+2];var a=pixels[i+3];newPixels[i]=r*this._tint[0]/255;newPixels[i+1]=g*this._tint[1]/255;newPixels[i+2]=b*this._tint[2]/255;newPixels[i+3]=a*this._tint[3]/255}tmpCtx.putImageData(id,0,0);return tmpCanvas};_main.default.Renderer2D.prototype.blendMode=function(mode){if(mode===constants.SUBTRACT){console.warn("blendMode(SUBTRACT) only works in WEBGL mode.")}else if(mode===constants.BLEND||mode===constants.REMOVE||mode===constants.DARKEST||mode===constants.LIGHTEST||mode===constants.DIFFERENCE||mode===constants.MULTIPLY||mode===constants.EXCLUSION||mode===constants.SCREEN||mode===constants.REPLACE||mode===constants.OVERLAY||mode===constants.HARD_LIGHT||mode===constants.SOFT_LIGHT||mode===constants.DODGE||mode===constants.BURN||mode===constants.ADD){this._cachedBlendMode=mode;this.drawingContext.globalCompositeOperation=mode}else{throw new Error("Mode ".concat(mode," not recognized."))}};_main.default.Renderer2D.prototype.blend=function(){var currBlend=this.drawingContext.globalCompositeOperation;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}var blendMode=args[args.length-1];var copyArgs=Array.prototype.slice.call(args,0,args.length-1);this.drawingContext.globalCompositeOperation=blendMode;_main.default.prototype.copy.apply(this,copyArgs);this.drawingContext.globalCompositeOperation=currBlend};_main.default.Renderer2D.prototype._getPixel=function(x,y){var imageData,index;imageData=this.drawingContext.getImageData(x,y,1,1).data;index=0;return[imageData[index+0],imageData[index+1],imageData[index+2],imageData[index+3]]};_main.default.Renderer2D.prototype.loadPixels=function(){var pixelsState=this._pixelsState;var pd=pixelsState._pixelDensity;var w=this.width*pd;var h=this.height*pd;var imageData=this.drawingContext.getImageData(0,0,w,h);pixelsState._setProperty("imageData",imageData);pixelsState._setProperty("pixels",imageData.data)};_main.default.Renderer2D.prototype.set=function(x,y,imgOrCol){x=Math.floor(x);y=Math.floor(y);var pixelsState=this._pixelsState;if(imgOrCol instanceof _main.default.Image){this.drawingContext.save();this.drawingContext.setTransform(1,0,0,1,0,0);this.drawingContext.scale(pixelsState._pixelDensity,pixelsState._pixelDensity);this.drawingContext.clearRect(x,y,imgOrCol.width,imgOrCol.height);this.drawingContext.drawImage(imgOrCol.canvas,x,y);this.drawingContext.restore()}else{var r=0,g=0,b=0,a=0;var idx=4*(y*pixelsState._pixelDensity*(this.width*pixelsState._pixelDensity)+x*pixelsState._pixelDensity);if(!pixelsState.imageData){pixelsState.loadPixels.call(pixelsState)}if(typeof imgOrCol==="number"){if(idx<pixelsState.pixels.length){r=imgOrCol;g=imgOrCol;b=imgOrCol;a=255}}else if(imgOrCol instanceof Array){if(imgOrCol.length<4){throw new Error("pixel array must be of the form [R, G, B, A]")}if(idx<pixelsState.pixels.length){r=imgOrCol[0];g=imgOrCol[1];b=imgOrCol[2];a=imgOrCol[3]}}else if(imgOrCol instanceof _main.default.Color){if(idx<pixelsState.pixels.length){r=imgOrCol.levels[0];g=imgOrCol.levels[1];b=imgOrCol.levels[2];a=imgOrCol.levels[3]}}for(var i=0;i<pixelsState._pixelDensity;i++){for(var j=0;j<pixelsState._pixelDensity;j++){idx=4*((y*pixelsState._pixelDensity+j)*this.width*pixelsState._pixelDensity+(x*pixelsState._pixelDensity+i));pixelsState.pixels[idx]=r;pixelsState.pixels[idx+1]=g;pixelsState.pixels[idx+2]=b;pixelsState.pixels[idx+3]=a}}}};_main.default.Renderer2D.prototype.updatePixels=function(x,y,w,h){var pixelsState=this._pixelsState;var pd=pixelsState._pixelDensity;if(x===undefined&&y===undefined&&w===undefined&&h===undefined){x=0;y=0;w=this.width;h=this.height}x*=pd;y*=pd;w*=pd;h*=pd;if(this.gifProperties){this.gifProperties.frames[this.gifProperties.displayIndex].image=pixelsState.imageData}this.drawingContext.putImageData(pixelsState.imageData,x,y,0,0,w,h)};_main.default.Renderer2D.prototype._acuteArcToBezier=function _acuteArcToBezier(start,size){var alpha=size/2,cos_alpha=Math.cos(alpha),sin_alpha=Math.sin(alpha),cot_alpha=1/Math.tan(alpha),phi=start+alpha,cos_phi=Math.cos(phi),sin_phi=Math.sin(phi),lambda=(4-cos_alpha)/3,mu=sin_alpha+(cos_alpha-lambda)*cot_alpha;return{ax:Math.cos(start).toFixed(7),ay:Math.sin(start).toFixed(7),bx:(lambda*cos_phi+mu*sin_phi).toFixed(7),by:(lambda*sin_phi-mu*cos_phi).toFixed(7),cx:(lambda*cos_phi-mu*sin_phi).toFixed(7),cy:(lambda*sin_phi+mu*cos_phi).toFixed(7),dx:Math.cos(start+size).toFixed(7),dy:Math.sin(start+size).toFixed(7)}};_main.default.Renderer2D.prototype.arc=function(x,y,w,h,start,stop,mode){var ctx=this.drawingContext;var rx=w/2;var ry=h/2;var epsilon=1e-5;var arcToDraw=0;var curves=[];x+=rx;y+=ry;while(stop-start>=epsilon){arcToDraw=Math.min(stop-start,constants.HALF_PI);curves.push(this._acuteArcToBezier(start,arcToDraw));start+=arcToDraw}if(this._doFill){ctx.beginPath();curves.forEach(function(curve,index){if(index===0){ctx.moveTo(x+curve.ax*rx,y+curve.ay*ry)}ctx.bezierCurveTo(x+curve.bx*rx,y+curve.by*ry,x+curve.cx*rx,y+curve.cy*ry,x+curve.dx*rx,y+curve.dy*ry)});if(mode===constants.PIE||mode==null){ctx.lineTo(x,y)}ctx.closePath();ctx.fill()}if(this._doStroke){ctx.beginPath();curves.forEach(function(curve,index){if(index===0){ctx.moveTo(x+curve.ax*rx,y+curve.ay*ry)}ctx.bezierCurveTo(x+curve.bx*rx,y+curve.by*ry,x+curve.cx*rx,y+curve.cy*ry,x+curve.dx*rx,y+curve.dy*ry)});if(mode===constants.PIE){ctx.lineTo(x,y);ctx.closePath()}else if(mode===constants.CHORD){ctx.closePath()}ctx.stroke()}return this};_main.default.Renderer2D.prototype.ellipse=function(args){var ctx=this.drawingContext;var doFill=this._doFill,doStroke=this._doStroke;var x=parseFloat(args[0]),y=parseFloat(args[1]),w=parseFloat(args[2]),h=parseFloat(args[3]);if(doFill&&!doStroke){if(this._getFill()===styleEmpty){return this}}else if(!doFill&&doStroke){if(this._getStroke()===styleEmpty){return this}}var kappa=.5522847498,ox=w/2*kappa,oy=h/2*kappa,xe=x+w,ye=y+h,xm=x+w/2,ym=y+h/2;ctx.beginPath();ctx.moveTo(x,ym);ctx.bezierCurveTo(x,ym-oy,xm-ox,y,xm,y);ctx.bezierCurveTo(xm+ox,y,xe,ym-oy,xe,ym);ctx.bezierCurveTo(xe,ym+oy,xm+ox,ye,xm,ye);ctx.bezierCurveTo(xm-ox,ye,x,ym+oy,x,ym);if(doFill){ctx.fill()}if(doStroke){ctx.stroke()}};_main.default.Renderer2D.prototype.line=function(x1,y1,x2,y2){var ctx=this.drawingContext;if(!this._doStroke){return this}else if(this._getStroke()===styleEmpty){return this}ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.stroke();return this};_main.default.Renderer2D.prototype.point=function(x,y){var ctx=this.drawingContext;if(!this._doStroke){return this}else if(this._getStroke()===styleEmpty){return this}var s=this._getStroke();var f=this._getFill();this._setFill(s);ctx.beginPath();ctx.arc(x,y,ctx.lineWidth/2,0,constants.TWO_PI,false);ctx.fill();this._setFill(f)};_main.default.Renderer2D.prototype.quad=function(x1,y1,x2,y2,x3,y3,x4,y4){var ctx=this.drawingContext;var doFill=this._doFill,doStroke=this._doStroke;if(doFill&&!doStroke){if(this._getFill()===styleEmpty){return this}}else if(!doFill&&doStroke){if(this._getStroke()===styleEmpty){return this}}ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.lineTo(x3,y3);ctx.lineTo(x4,y4);ctx.closePath();if(doFill){ctx.fill()}if(doStroke){ctx.stroke()}return this};_main.default.Renderer2D.prototype.rect=function(args){var x=args[0];var y=args[1];var w=args[2];var h=args[3];var tl=args[4];var tr=args[5];var br=args[6];var bl=args[7];var ctx=this.drawingContext;var doFill=this._doFill,doStroke=this._doStroke;if(doFill&&!doStroke){if(this._getFill()===styleEmpty){return this}}else if(!doFill&&doStroke){if(this._getStroke()===styleEmpty){return this}}ctx.beginPath();if(typeof tl==="undefined"){ctx.rect(x,y,w,h)}else{if(typeof tr==="undefined"){tr=tl}if(typeof br==="undefined"){br=tr}if(typeof bl==="undefined"){bl=br}var absW=Math.abs(w);var absH=Math.abs(h);var hw=absW/2;var hh=absH/2;if(absW<2*tl){tl=hw}if(absH<2*tl){tl=hh}if(absW<2*tr){tr=hw}if(absH<2*tr){tr=hh}if(absW<2*br){br=hw}if(absH<2*br){br=hh}if(absW<2*bl){bl=hw}if(absH<2*bl){bl=hh}ctx.beginPath();ctx.moveTo(x+tl,y);ctx.arcTo(x+w,y,x+w,y+h,tr);ctx.arcTo(x+w,y+h,x,y+h,br);ctx.arcTo(x,y+h,x,y,bl);ctx.arcTo(x,y,x+w,y,tl);ctx.closePath()}if(this._doFill){ctx.fill()}if(this._doStroke){ctx.stroke()}return this};_main.default.Renderer2D.prototype.triangle=function(args){var ctx=this.drawingContext;var doFill=this._doFill,doStroke=this._doStroke;var x1=args[0],y1=args[1];var x2=args[2],y2=args[3];var x3=args[4],y3=args[5];if(doFill&&!doStroke){if(this._getFill()===styleEmpty){return this}}else if(!doFill&&doStroke){if(this._getStroke()===styleEmpty){return this}}ctx.beginPath();ctx.moveTo(x1,y1);ctx.lineTo(x2,y2);ctx.lineTo(x3,y3);ctx.closePath();if(doFill){ctx.fill()}if(doStroke){ctx.stroke()}};_main.default.Renderer2D.prototype.endShape=function(mode,vertices,isCurve,isBezier,isQuadratic,isContour,shapeKind){if(vertices.length===0){return this}if(!this._doStroke&&!this._doFill){return this}var closeShape=mode===constants.CLOSE;var v;if(closeShape&&!isContour){vertices.push(vertices[0])}var i,j;var numVerts=vertices.length;if(isCurve&&(shapeKind===constants.POLYGON||shapeKind===null)){if(numVerts>3){var b=[],s=1-this._curveTightness;this.drawingContext.beginPath();this.drawingContext.moveTo(vertices[1][0],vertices[1][1]);for(i=1;i+2<numVerts;i++){v=vertices[i];b[0]=[v[0],v[1]];b[1]=[v[0]+(s*vertices[i+1][0]-s*vertices[i-1][0])/6,v[1]+(s*vertices[i+1][1]-s*vertices[i-1][1])/6];b[2]=[vertices[i+1][0]+(s*vertices[i][0]-s*vertices[i+2][0])/6,vertices[i+1][1]+(s*vertices[i][1]-s*vertices[i+2][1])/6];b[3]=[vertices[i+1][0],vertices[i+1][1]];this.drawingContext.bezierCurveTo(b[1][0],b[1][1],b[2][0],b[2][1],b[3][0],b[3][1])}if(closeShape){this.drawingContext.lineTo(vertices[i+1][0],vertices[i+1][1])}this._doFillStrokeClose(closeShape)}}else if(isBezier&&(shapeKind===constants.POLYGON||shapeKind===null)){this.drawingContext.beginPath();for(i=0;i<numVerts;i++){if(vertices[i].isVert){if(vertices[i].moveTo){this.drawingContext.moveTo(vertices[i][0],vertices[i][1])}else{this.drawingContext.lineTo(vertices[i][0],vertices[i][1])}}else{this.drawingContext.bezierCurveTo(vertices[i][0],vertices[i][1],vertices[i][2],vertices[i][3],vertices[i][4],vertices[i][5])}}this._doFillStrokeClose(closeShape)}else if(isQuadratic&&(shapeKind===constants.POLYGON||shapeKind===null)){this.drawingContext.beginPath();for(i=0;i<numVerts;i++){if(vertices[i].isVert){if(vertices[i].moveTo){this.drawingContext.moveTo(vertices[i][0],vertices[i][1])}else{this.drawingContext.lineTo(vertices[i][0],vertices[i][1])}}else{this.drawingContext.quadraticCurveTo(vertices[i][0],vertices[i][1],vertices[i][2],vertices[i][3])}}this._doFillStrokeClose(closeShape)}else{if(shapeKind===constants.POINTS){for(i=0;i<numVerts;i++){v=vertices[i];if(this._doStroke){this._pInst.stroke(v[6])}this._pInst.point(v[0],v[1])}}else if(shapeKind===constants.LINES){for(i=0;i+1<numVerts;i+=2){v=vertices[i];if(this._doStroke){this._pInst.stroke(vertices[i+1][6])}this._pInst.line(v[0],v[1],vertices[i+1][0],vertices[i+1][1])}}else if(shapeKind===constants.TRIANGLES){for(i=0;i+2<numVerts;i+=3){v=vertices[i];this.drawingContext.beginPath();this.drawingContext.moveTo(v[0],v[1]);this.drawingContext.lineTo(vertices[i+1][0],vertices[i+1][1]);this.drawingContext.lineTo(vertices[i+2][0],vertices[i+2][1]);this.drawingContext.closePath();if(this._doFill){this._pInst.fill(vertices[i+2][5]);this.drawingContext.fill()}if(this._doStroke){this._pInst.stroke(vertices[i+2][6]);this.drawingContext.stroke()}}}else if(shapeKind===constants.TRIANGLE_STRIP){for(i=0;i+1<numVerts;i++){v=vertices[i];this.drawingContext.beginPath();this.drawingContext.moveTo(vertices[i+1][0],vertices[i+1][1]);this.drawingContext.lineTo(v[0],v[1]);if(this._doStroke){this._pInst.stroke(vertices[i+1][6])}if(this._doFill){this._pInst.fill(vertices[i+1][5])}if(i+2<numVerts){this.drawingContext.lineTo(vertices[i+2][0],vertices[i+2][1]);if(this._doStroke){this._pInst.stroke(vertices[i+2][6])}if(this._doFill){this._pInst.fill(vertices[i+2][5])}}this._doFillStrokeClose(closeShape)}}else if(shapeKind===constants.TRIANGLE_FAN){if(numVerts>2){this.drawingContext.beginPath();for(i=2;i<numVerts;i++){v=vertices[i];this.drawingContext.moveTo(vertices[0][0],vertices[0][1]);this.drawingContext.lineTo(vertices[i-1][0],vertices[i-1][1]);this.drawingContext.lineTo(v[0],v[1]);this.drawingContext.lineTo(vertices[0][0],vertices[0][1]);if(i<numVerts-1){if(this._doFill&&v[5]!==vertices[i+1][5]||this._doStroke&&v[6]!==vertices[i+1][6]){if(this._doFill){this._pInst.fill(v[5]);this.drawingContext.fill();this._pInst.fill(vertices[i+1][5])}if(this._doStroke){this._pInst.stroke(v[6]);this.drawingContext.stroke();this._pInst.stroke(vertices[i+1][6])}this.drawingContext.closePath();this.drawingContext.beginPath()}}}this._doFillStrokeClose(closeShape)}}else if(shapeKind===constants.QUADS){for(i=0;i+3<numVerts;i+=4){v=vertices[i];this.drawingContext.beginPath();this.drawingContext.moveTo(v[0],v[1]);for(j=1;j<4;j++){this.drawingContext.lineTo(vertices[i+j][0],vertices[i+j][1])}this.drawingContext.lineTo(v[0],v[1]);if(this._doFill){this._pInst.fill(vertices[i+3][5])}if(this._doStroke){this._pInst.stroke(vertices[i+3][6])}this._doFillStrokeClose(closeShape)}}else if(shapeKind===constants.QUAD_STRIP){if(numVerts>3){for(i=0;i+1<numVerts;i+=2){v=vertices[i];this.drawingContext.beginPath();if(i+3<numVerts){this.drawingContext.moveTo(vertices[i+2][0],vertices[i+2][1]);this.drawingContext.lineTo(v[0],v[1]);this.drawingContext.lineTo(vertices[i+1][0],vertices[i+1][1]);this.drawingContext.lineTo(vertices[i+3][0],vertices[i+3][1]);if(this._doFill){this._pInst.fill(vertices[i+3][5])}if(this._doStroke){this._pInst.stroke(vertices[i+3][6])}}else{this.drawingContext.moveTo(v[0],v[1]);this.drawingContext.lineTo(vertices[i+1][0],vertices[i+1][1])}this._doFillStrokeClose(closeShape)}}}else{this.drawingContext.beginPath();this.drawingContext.moveTo(vertices[0][0],vertices[0][1]);for(i=1;i<numVerts;i++){v=vertices[i];if(v.isVert){if(v.moveTo){this.drawingContext.moveTo(v[0],v[1])}else{this.drawingContext.lineTo(v[0],v[1])}}}this._doFillStrokeClose(closeShape)}}isCurve=false;isBezier=false;isQuadratic=false;isContour=false;if(closeShape){vertices.pop()}return this};_main.default.Renderer2D.prototype.strokeCap=function(cap){if(cap===constants.ROUND||cap===constants.SQUARE||cap===constants.PROJECT){this.drawingContext.lineCap=cap}return this};_main.default.Renderer2D.prototype.strokeJoin=function(join){if(join===constants.ROUND||join===constants.BEVEL||join===constants.MITER){this.drawingContext.lineJoin=join}return this};_main.default.Renderer2D.prototype.strokeWeight=function(w){if(typeof w==="undefined"||w===0){this.drawingContext.lineWidth=1e-4}else{this.drawingContext.lineWidth=w}return this};_main.default.Renderer2D.prototype._getFill=function(){if(!this._cachedFillStyle){this._cachedFillStyle=this.drawingContext.fillStyle}return this._cachedFillStyle};_main.default.Renderer2D.prototype._setFill=function(fillStyle){if(fillStyle!==this._cachedFillStyle){this.drawingContext.fillStyle=fillStyle;this._cachedFillStyle=fillStyle}};_main.default.Renderer2D.prototype._getStroke=function(){if(!this._cachedStrokeStyle){this._cachedStrokeStyle=this.drawingContext.strokeStyle}return this._cachedStrokeStyle};_main.default.Renderer2D.prototype._setStroke=function(strokeStyle){if(strokeStyle!==this._cachedStrokeStyle){this.drawingContext.strokeStyle=strokeStyle;this._cachedStrokeStyle=strokeStyle}};_main.default.Renderer2D.prototype.bezier=function(x1,y1,x2,y2,x3,y3,x4,y4){this._pInst.beginShape();this._pInst.vertex(x1,y1);this._pInst.bezierVertex(x2,y2,x3,y3,x4,y4);this._pInst.endShape();return this};_main.default.Renderer2D.prototype.curve=function(x1,y1,x2,y2,x3,y3,x4,y4){this._pInst.beginShape();this._pInst.curveVertex(x1,y1);this._pInst.curveVertex(x2,y2);this._pInst.curveVertex(x3,y3);this._pInst.curveVertex(x4,y4);this._pInst.endShape();return this};_main.default.Renderer2D.prototype._doFillStrokeClose=function(closeShape){if(closeShape){this.drawingContext.closePath()}if(this._doFill){this.drawingContext.fill()}if(this._doStroke){this.drawingContext.stroke()}};_main.default.Renderer2D.prototype.applyMatrix=function(a,b,c,d,e,f){this.drawingContext.transform(a,b,c,d,e,f)};_main.default.Renderer2D.prototype.resetMatrix=function(){this.drawingContext.setTransform(1,0,0,1,0,0);this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);return this};_main.default.Renderer2D.prototype.rotate=function(rad){this.drawingContext.rotate(rad)};_main.default.Renderer2D.prototype.scale=function(x,y){this.drawingContext.scale(x,y);return this};_main.default.Renderer2D.prototype.translate=function(x,y){if(x instanceof _main.default.Vector){y=x.y;x=x.x}this.drawingContext.translate(x,y);return this};_main.default.Renderer2D.prototype.text=function(str,x,y,maxWidth,maxHeight){var baselineHacked;if(typeof maxWidth!=="undefined"){if(this.drawingContext.textBaseline===constants.BASELINE){baselineHacked=true;this.drawingContext.textBaseline=constants.TOP}}var p=_main.default.Renderer.prototype.text.apply(this,arguments);if(baselineHacked){this.drawingContext.textBaseline=constants.BASELINE}return p};_main.default.Renderer2D.prototype._renderText=function(p,line,x,y,maxY){if(y>=maxY){return}p.push();if(!this._isOpenType()){if(this._doStroke&&this._strokeSet){this.drawingContext.strokeText(line,x,y)}if(this._doFill){if(!this._fillSet){this._setFill(constants._DEFAULT_TEXT_FILL)}this.drawingContext.fillText(line,x,y)}}else{this._textFont._renderPath(line,x,y,{renderer:this})}p.pop();return p};_main.default.Renderer2D.prototype.textWidth=function(s){if(this._isOpenType()){return this._textFont._textWidth(s,this._textSize)}return this.drawingContext.measureText(s).width};_main.default.Renderer2D.prototype._applyTextProperties=function(){var font;var p=this._pInst;this._setProperty("_textAscent",null);this._setProperty("_textDescent",null);font=this._textFont;if(this._isOpenType()){font=this._textFont.font.familyName;this._setProperty("_textStyle",this._textFont.font.styleName)}this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(font||"sans-serif");this.drawingContext.textAlign=this._textAlign;if(this._textBaseline===constants.CENTER){this.drawingContext.textBaseline=constants._CTX_MIDDLE}else{this.drawingContext.textBaseline=this._textBaseline}return p};_main.default.Renderer2D.prototype.push=function(){this.drawingContext.save();return _main.default.Renderer.prototype.push.apply(this)};_main.default.Renderer2D.prototype.pop=function(style){this.drawingContext.restore();this._cachedFillStyle=this.drawingContext.fillStyle;this._cachedStrokeStyle=this.drawingContext.strokeStyle;_main.default.Renderer.prototype.pop.call(this,style)};var _default=_main.default.Renderer2D;exports.default=_default},{"../image/filters":308,"./constants":275,"./main":287,"./p5.Renderer":290,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.fill":169,"core-js/modules/es.array.for-each":172,"core-js/modules/es.array.slice":180,"core-js/modules/es.function.name":184,"core-js/modules/es.number.to-fixed":190,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200}],292:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.assign");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.promise");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.iterator");var _main=_interopRequireDefault(_dereq_("./main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype._promisePreloads=[];_main.default.prototype.registerPromisePreload=function(setup){_main.default.prototype._promisePreloads.push(setup)};var initialSetupRan=false;_main.default.prototype._setupPromisePreloads=function(){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this._promisePreloads[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var preloadSetup=_step.value;var thisValue=this;var method=preloadSetup.method,addCallbacks=preloadSetup.addCallbacks,legacyPreloadSetup=preloadSetup.legacyPreloadSetup;var target=preloadSetup.target||this;var sourceFunction=target[method].bind(target);if(target===_main.default.prototype){if(initialSetupRan){continue}thisValue=null;sourceFunction=target[method]}target[method]=this._wrapPromisePreload(thisValue,sourceFunction,addCallbacks);if(legacyPreloadSetup){var legacyMethod=legacyPreloadSetup.method;target[legacyMethod]=this._legacyPreloadGenerator(thisValue,legacyPreloadSetup,target[method])}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}initialSetupRan=true};_main.default.prototype._wrapPromisePreload=function(thisValue,fn,addCallbacks){var replacementFunction=function replacementFunction(){var _this=this;this._incrementPreload();var callback=null;var errorCallback=null;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}if(addCallbacks){for(var i=args.length-1;i>=0&&!errorCallback;i--){if(typeof args[i]!=="function"){break}errorCallback=callback;callback=args.pop()}}var promise=Promise.resolve(fn.apply(this,args));if(callback){promise.then(callback)}if(errorCallback){promise.catch(errorCallback)}promise.then(function(){return _this._decrementPreload()});return promise};if(thisValue){replacementFunction=replacementFunction.bind(thisValue)}return replacementFunction};var objectCreator=function objectCreator(){return{}};_main.default.prototype._legacyPreloadGenerator=function(thisValue,legacyPreloadSetup,fn){var baseValueGenerator=legacyPreloadSetup.createBaseObject||objectCreator;var returnedFunction=function returnedFunction(){var _this2=this;this._incrementPreload();var returnValue=baseValueGenerator.apply(this,arguments);fn.apply(this,arguments).then(function(data){Object.assign(returnValue,data);_this2._decrementPreload()});return returnValue};if(thisValue){returnedFunction=returnedFunction.bind(thisValue)}return returnedFunction}},{"./main":287,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.assign":191,"core-js/modules/es.object.to-string":195,"core-js/modules/es.promise":196,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],293:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));var constants=_interopRequireWildcard(_dereq_("./constants"));_dereq_("./p5.Graphics");_dereq_("./p5.Renderer2D");_dereq_("../webgl/p5.RendererGL");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}var defaultId="defaultCanvas0";var defaultClass="p5Canvas";_main.default.prototype.createCanvas=function(w,h,renderer){_main.default._validateParameters("createCanvas",arguments);var r=renderer||constants.P2D;var c;if(r===constants.WEBGL){c=document.getElementById(defaultId);if(c){c.parentNode.removeChild(c);var thisRenderer=this._renderer;this._elements=this._elements.filter(function(e){return e!==thisRenderer})}c=document.createElement("canvas");c.id=defaultId;c.classList.add(defaultClass)}else{if(!this._defaultGraphicsCreated){c=document.createElement("canvas");var i=0;while(document.getElementById("defaultCanvas".concat(i))){i++}defaultId="defaultCanvas".concat(i);c.id=defaultId;c.classList.add(defaultClass)}else{c=this.canvas}}if(!this._setupDone){c.dataset.hidden=true;c.style.visibility="hidden"}if(this._userNode){this._userNode.appendChild(c)}else{if(document.getElementsByTagName("body").length===0){var m=document.createElement("body");document.body.appendChild(m)}document.getElementsByTagName("body")[0].appendChild(c)}if(r===constants.WEBGL){this._setProperty("_renderer",new _main.default.RendererGL(c,this,true));this._elements.push(this._renderer)}else{if(!this._defaultGraphicsCreated){this._setProperty("_renderer",new _main.default.Renderer2D(c,this,true));this._defaultGraphicsCreated=true;this._elements.push(this._renderer)}}this._renderer.resize(w,h);this._renderer._applyDefaults();return this._renderer};_main.default.prototype.resizeCanvas=function(w,h,noRedraw){_main.default._validateParameters("resizeCanvas",arguments);if(this._renderer){var props={};for(var key in this.drawingContext){var val=this.drawingContext[key];if(_typeof(val)!=="object"&&typeof val!=="function"){props[key]=val}}this._renderer.resize(w,h);this.width=w;this.height=h;for(var savedKey in props){try{this.drawingContext[savedKey]=props[savedKey]}catch(err){}}if(!noRedraw){this.redraw()}}if(this._addAccsOutput()){this._updateAccsOutput()}};_main.default.prototype.noCanvas=function(){if(this.canvas){this.canvas.parentNode.removeChild(this.canvas)}};_main.default.prototype.createGraphics=function(w,h,renderer){_main.default._validateParameters("createGraphics",arguments);return new _main.default.Graphics(w,h,renderer,this)};_main.default.prototype.blendMode=function(mode){_main.default._validateParameters("blendMode",arguments);if(mode===constants.NORMAL){console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead.");mode=constants.BLEND}this._renderer.blendMode(mode)};var _default=_main.default;exports.default=_default},{"../webgl/p5.RendererGL":341,"./constants":275,"./main":287,"./p5.Graphics":289,"./p5.Renderer2D":291,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],294:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.slice");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var constants=_interopRequireWildcard(_dereq_("../constants"));var _helpers=_interopRequireDefault(_dereq_("../helpers"));_dereq_("../friendly_errors/fes_core");_dereq_("../friendly_errors/file_errors");_dereq_("../friendly_errors/validate_params");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype._normalizeArcAngles=function(start,stop,width,height,correctForScaling){var epsilon=1e-5;var separation;start=start-constants.TWO_PI*Math.floor(start/constants.TWO_PI);stop=stop-constants.TWO_PI*Math.floor(stop/constants.TWO_PI);separation=Math.min(Math.abs(start-stop),constants.TWO_PI-Math.abs(start-stop));if(correctForScaling){if(start<=constants.HALF_PI){start=Math.atan(width/height*Math.tan(start))}else if(start>constants.HALF_PI&&start<=3*constants.HALF_PI){start=Math.atan(width/height*Math.tan(start))+constants.PI}else{start=Math.atan(width/height*Math.tan(start))+constants.TWO_PI}if(stop<=constants.HALF_PI){stop=Math.atan(width/height*Math.tan(stop))}else if(stop>constants.HALF_PI&&stop<=3*constants.HALF_PI){stop=Math.atan(width/height*Math.tan(stop))+constants.PI}else{stop=Math.atan(width/height*Math.tan(stop))+constants.TWO_PI}}if(start>stop){stop+=constants.TWO_PI}return{start:start,stop:stop,correspondToSamePoint:separation<epsilon}};_main.default.prototype.arc=function(x,y,w,h,start,stop,mode,detail){_main.default._validateParameters("arc",arguments);if(!this._renderer._doStroke&&!this._renderer._doFill){return this}if(start===stop){return this}start=this._toRadians(start);stop=this._toRadians(stop);w=Math.abs(w);h=Math.abs(h);var vals=_helpers.default.modeAdjust(x,y,w,h,this._renderer._ellipseMode);var angles=this._normalizeArcAngles(start,stop,vals.w,vals.h,true);if(angles.correspondToSamePoint){this._renderer.ellipse([vals.x,vals.y,vals.w,vals.h,detail])}else{this._renderer.arc(vals.x,vals.y,vals.w,vals.h,angles.start,angles.stop,mode,detail);if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("arc",[vals.x,vals.y,vals.w,vals.h,angles.start,angles.stop,mode])}}return this};_main.default.prototype.ellipse=function(x,y,w,h,detailX){_main.default._validateParameters("ellipse",arguments);return this._renderEllipse.apply(this,arguments)};_main.default.prototype.circle=function(){_main.default._validateParameters("circle",arguments);var args=Array.prototype.slice.call(arguments,0,2);args.push(arguments[2]);args.push(arguments[2]);return this._renderEllipse.apply(this,args)};_main.default.prototype._renderEllipse=function(x,y,w,h,detailX){if(!this._renderer._doStroke&&!this._renderer._doFill){return this}if(w<0){w=Math.abs(w)}if(typeof h==="undefined"){h=w}else if(h<0){h=Math.abs(h)}var vals=_helpers.default.modeAdjust(x,y,w,h,this._renderer._ellipseMode);this._renderer.ellipse([vals.x,vals.y,vals.w,vals.h,detailX]);if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("ellipse",[vals.x,vals.y,vals.w,vals.h])}return this};_main.default.prototype.line=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("line",args);if(this._renderer._doStroke){var _this$_renderer;(_this$_renderer=this._renderer).line.apply(_this$_renderer,args)}if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("line",args)}return this};_main.default.prototype.point=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("point",args);if(this._renderer._doStroke){if(args.length===1&&args[0]instanceof _main.default.Vector){this._renderer.point.call(this._renderer,args[0].x,args[0].y,args[0].z)}else{var _this$_renderer2;(_this$_renderer2=this._renderer).point.apply(_this$_renderer2,args);if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("point",args)}}}return this};_main.default.prototype.quad=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}_main.default._validateParameters("quad",args);if(this._renderer._doStroke||this._renderer._doFill){if(this._renderer.isP3D&&args.length<=12){this._renderer.quad.call(this._renderer,args[0],args[1],0,args[2],args[3],0,args[4],args[5],0,args[6],args[7],0,args[8],args[9])}else{var _this$_renderer3;(_this$_renderer3=this._renderer).quad.apply(_this$_renderer3,args);if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("quadrilateral",args)}}}return this};_main.default.prototype.rect=function(){_main.default._validateParameters("rect",arguments);return this._renderRect.apply(this,arguments)};_main.default.prototype.square=function(x,y,s,tl,tr,br,bl){_main.default._validateParameters("square",arguments);return this._renderRect.call(this,x,y,s,s,tl,tr,br,bl)};_main.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){if(arguments.length===3){arguments[3]=arguments[2]}var vals=_helpers.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode);var args=[vals.x,vals.y,vals.w,vals.h];for(var i=4;i<arguments.length;i++){args[i]=arguments[i]}this._renderer.rect(args);if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("rectangle",[vals.x,vals.y,vals.w,vals.h])}}return this};_main.default.prototype.triangle=function(){for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}_main.default._validateParameters("triangle",args);if(this._renderer._doStroke||this._renderer._doFill){this._renderer.triangle(args)}if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._accsOutput("triangle",args)}return this};var _default=_main.default;exports.default=_default},{"../constants":275,"../friendly_errors/fes_core":278,"../friendly_errors/file_errors":279,"../friendly_errors/validate_params":282,"../helpers":283,"../main":287,"core-js/modules/es.array.slice":180}],295:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var constants=_interopRequireWildcard(_dereq_("../constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.ellipseMode=function(m){_main.default._validateParameters("ellipseMode",arguments);if(m===constants.CORNER||m===constants.CORNERS||m===constants.RADIUS||m===constants.CENTER){this._renderer._ellipseMode=m}return this};_main.default.prototype.noSmooth=function(){this.setAttributes("antialias",false);if(!this._renderer.isP3D){if("imageSmoothingEnabled"in this.drawingContext){this.drawingContext.imageSmoothingEnabled=false}}return this};_main.default.prototype.rectMode=function(m){_main.default._validateParameters("rectMode",arguments);if(m===constants.CORNER||m===constants.CORNERS||m===constants.RADIUS||m===constants.CENTER){this._renderer._rectMode=m}return this};_main.default.prototype.smooth=function(){this.setAttributes("antialias",true);if(!this._renderer.isP3D){if("imageSmoothingEnabled"in this.drawingContext){this.drawingContext.imageSmoothingEnabled=true}}return this};_main.default.prototype.strokeCap=function(cap){_main.default._validateParameters("strokeCap",arguments);if(cap===constants.ROUND||cap===constants.SQUARE||cap===constants.PROJECT){this._renderer.strokeCap(cap)}return this};_main.default.prototype.strokeJoin=function(join){_main.default._validateParameters("strokeJoin",arguments);if(join===constants.ROUND||join===constants.BEVEL||join===constants.MITER){this._renderer.strokeJoin(join)}return this};_main.default.prototype.strokeWeight=function(w){_main.default._validateParameters("strokeWeight",arguments);this._renderer.strokeWeight(w);return this};var _default=_main.default;exports.default=_default},{"../constants":275,"../main":287}],296:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));_dereq_("../friendly_errors/fes_core");_dereq_("../friendly_errors/file_errors");_dereq_("../friendly_errors/validate_params");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.bezier=function(){var _this$_renderer;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("bezier",args);if(!this._renderer._doStroke&&!this._renderer._doFill){return this}(_this$_renderer=this._renderer).bezier.apply(_this$_renderer,args);return this};_main.default.prototype.bezierDetail=function(d){_main.default._validateParameters("bezierDetail",arguments);this._bezierDetail=d;return this};_main.default.prototype.bezierPoint=function(a,b,c,d,t){_main.default._validateParameters("bezierPoint",arguments);var adjustedT=1-t;return Math.pow(adjustedT,3)*a+3*Math.pow(adjustedT,2)*t*b+3*adjustedT*Math.pow(t,2)*c+Math.pow(t,3)*d};_main.default.prototype.bezierTangent=function(a,b,c,d,t){_main.default._validateParameters("bezierTangent",arguments);var adjustedT=1-t;return 3*d*Math.pow(t,2)-3*c*Math.pow(t,2)+6*c*adjustedT*t-6*b*adjustedT*t+3*b*Math.pow(adjustedT,2)-3*a*Math.pow(adjustedT,2)};_main.default.prototype.curve=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("curve",args);if(this._renderer._doStroke){var _this$_renderer2;(_this$_renderer2=this._renderer).curve.apply(_this$_renderer2,args)}return this};_main.default.prototype.curveDetail=function(d){_main.default._validateParameters("curveDetail",arguments);if(d<3){this._curveDetail=3}else{this._curveDetail=d}return this};_main.default.prototype.curveTightness=function(t){_main.default._validateParameters("curveTightness",arguments);this._renderer._curveTightness=t;return this};_main.default.prototype.curvePoint=function(a,b,c,d,t){_main.default._validateParameters("curvePoint",arguments);var t3=t*t*t,t2=t*t,f1=-.5*t3+t2-.5*t,f2=1.5*t3-2.5*t2+1,f3=-1.5*t3+2*t2+.5*t,f4=.5*t3-.5*t2;return a*f1+b*f2+c*f3+d*f4};_main.default.prototype.curveTangent=function(a,b,c,d,t){_main.default._validateParameters("curveTangent",arguments);var t2=t*t,f1=-3*t2/2+2*t-.5,f2=9*t2/2-5*t,f3=-9*t2/2+4*t+.5,f4=3*t2/2-t;return a*f1+b*f2+c*f3+d*f4};var _default=_main.default;exports.default=_default},{"../friendly_errors/fes_core":278,"../friendly_errors/file_errors":279,"../friendly_errors/validate_params":282,"../main":287}],297:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.slice");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../main"));var constants=_interopRequireWildcard(_dereq_("../constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var shapeKind=null;var vertices=[];var contourVertices=[];var isBezier=false;var isCurve=false;var isQuadratic=false;var isContour=false;var isFirstContour=true;_main.default.prototype.beginContour=function(){contourVertices=[];isContour=true;return this};_main.default.prototype.beginShape=function(kind){_main.default._validateParameters("beginShape",arguments);if(this._renderer.isP3D){var _this$_renderer;(_this$_renderer=this._renderer).beginShape.apply(_this$_renderer,arguments)}else{if(kind===constants.POINTS||kind===constants.LINES||kind===constants.TRIANGLES||kind===constants.TRIANGLE_FAN||kind===constants.TRIANGLE_STRIP||kind===constants.QUADS||kind===constants.QUAD_STRIP){shapeKind=kind}else{shapeKind=null}vertices=[];contourVertices=[]}return this};_main.default.prototype.bezierVertex=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("bezierVertex",args);if(this._renderer.isP3D){var _this$_renderer2;(_this$_renderer2=this._renderer).bezierVertex.apply(_this$_renderer2,args)}else{if(vertices.length===0){_main.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex")}else{isBezier=true;var vert=[];for(var i=0;i<args.length;i++){vert[i]=args[i]}vert.isVert=false;if(isContour){contourVertices.push(vert)}else{vertices.push(vert)}}}return this};_main.default.prototype.curveVertex=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("curveVertex",args);if(this._renderer.isP3D){var _this$_renderer3;(_this$_renderer3=this._renderer).curveVertex.apply(_this$_renderer3,args)}else{isCurve=true;this.vertex(args[0],args[1])}return this};_main.default.prototype.endContour=function(){var vert=contourVertices[0].slice();vert.isVert=contourVertices[0].isVert;vert.moveTo=false;contourVertices.push(vert);if(isFirstContour){vertices.push(vertices[0]);isFirstContour=false}for(var i=0;i<contourVertices.length;i++){vertices.push(contourVertices[i])}return this};_main.default.prototype.endShape=function(mode){_main.default._validateParameters("endShape",arguments);if(this._renderer.isP3D){this._renderer.endShape(mode,isCurve,isBezier,isQuadratic,isContour,shapeKind)}else{if(vertices.length===0){return this}if(!this._renderer._doStroke&&!this._renderer._doFill){return this}var closeShape=mode===constants.CLOSE;if(closeShape&&!isContour){vertices.push(vertices[0])}this._renderer.endShape(mode,vertices,isCurve,isBezier,isQuadratic,isContour,shapeKind);isCurve=false;isBezier=false;isQuadratic=false;isContour=false;isFirstContour=true;if(closeShape){vertices.pop()}}return this};_main.default.prototype.quadraticVertex=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}_main.default._validateParameters("quadraticVertex",args);if(this._renderer.isP3D){var _this$_renderer4;(_this$_renderer4=this._renderer).quadraticVertex.apply(_this$_renderer4,args)}else{if(this._contourInited){var pt={};pt.x=args[0];pt.y=args[1];pt.x3=args[2];pt.y3=args[3];pt.type=constants.QUADRATIC;this._contourVertices.push(pt);return this}if(vertices.length>0){isQuadratic=true;var vert=[];for(var i=0;i<args.length;i++){vert[i]=args[i]}vert.isVert=false;if(isContour){contourVertices.push(vert)}else{vertices.push(vert)}}else{_main.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}}return this};_main.default.prototype.vertex=function(x,y,moveTo,u,v){if(this._renderer.isP3D){var _this$_renderer5;(_this$_renderer5=this._renderer).vertex.apply(_this$_renderer5,arguments)}else{var vert=[];vert.isVert=true;vert[0]=x;vert[1]=y;vert[2]=0;vert[3]=0;vert[4]=0;vert[5]=this._renderer._getFill();vert[6]=this._renderer._getStroke();if(moveTo){vert.moveTo=moveTo}if(isContour){if(contourVertices.length===0){vert.moveTo=true}contourVertices.push(vert)}else{vertices.push(vert)}}return this};_main.default.prototype.normal=function(x,y,z){var _this$_renderer6;this._assert3d("normal");_main.default._validateParameters("normal",arguments);(_this$_renderer6=this._renderer).normal.apply(_this$_renderer6,arguments);return this};var _default=_main.default;exports.default=_default},{"../constants":275,"../main":287,"core-js/modules/es.array.slice":180}],298:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.assign");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.typed-array.uint8-clamped-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}console.log("ggggg",window);window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback,element){window.setTimeout(callback,1e3/60)}}();(function(){if(typeof Uint8ClampedArray!=="undefined"&&!Uint8ClampedArray.prototype.slice){Object.defineProperty(Uint8ClampedArray.prototype,"slice",{value:Array.prototype.slice,writable:true,configurable:true,enumerable:false})}})();(function(){if(!Object.assign){var keys=Object.keys;var defineProperty=Object.defineProperty;var canBeObject=function canBeObject(obj){return typeof obj!=="undefined"&&obj!==null};var hasSymbols=typeof Symbol==="function"&&_typeof(Symbol())==="symbol";var propIsEnumerable=Object.prototype.propertyIsEnumerable;var isEnumerableOn=function isEnumerableOn(obj){return function isEnumerable(prop){return propIsEnumerable.call(obj,prop)}};var assignShim=function assign(target,source1){if(!canBeObject(target)){throw new TypeError("target must be an object")}var objTarget=Object(target);var s,source,i,props;for(s=1;s<arguments.length;++s){source=Object(arguments[s]);props=keys(source);if(hasSymbols&&Object.getOwnPropertySymbols){props.push.apply(props,Object.getOwnPropertySymbols(source).filter(isEnumerableOn(source)))}for(i=0;i<props.length;++i){objTarget[props[i]]=source[props[i]]}}return objTarget};defineProperty(Object,"assign",{value:assignShim,configurable:true,enumerable:false,writable:true})}})()},{"core-js/modules/es.array.filter":170,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.assign":191,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint8-clamped-array":245,"core-js/modules/web.dom-collections.iterator":247}],299:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.object.assign");_dereq_("core-js/modules/web.dom-collections.for-each");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.noLoop=function(){this._loop=false};_main.default.prototype.loop=function(){if(!this._loop){this._loop=true;if(this._setupDone){this._draw()}}};_main.default.prototype.isLooping=function(){return this._loop};_main.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})};_main.default.prototype.pop=function(){var style=this._styles.pop();if(style){this._renderer.pop(style.renderer);Object.assign(this,style.props)}else{console.warn("pop() was called without matching push()")}};_main.default.prototype.redraw=function(n){if(this._inUserDraw||!this._setupDone){return}var numberOfRedraws=parseInt(n);if(isNaN(numberOfRedraws)||numberOfRedraws<1){numberOfRedraws=1}var context=this._isGlobal?window:this;if(typeof context.draw==="function"){if(typeof context.setup==="undefined"){context.scale(context._pixelDensity,context._pixelDensity)}var callMethod=function callMethod(f){f.call(context)};for(var idxRedraw=0;idxRedraw<numberOfRedraws;idxRedraw++){context.resetMatrix();if(this._accessibleOutputs.grid||this._accessibleOutputs.text){this._updateAccsOutput()}if(context._renderer.isP3D){context._renderer._update()}context._setProperty("frameCount",context.frameCount+1);context._registeredMethods.pre.forEach(callMethod);this._inUserDraw=true;try{context.draw()}finally{this._inUserDraw=false}context._registeredMethods.post.forEach(callMethod)}}};var _default=_main.default;exports.default=_default},{"./main":287,"core-js/modules/es.array.for-each":172,"core-js/modules/es.object.assign":191,"core-js/modules/web.dom-collections.for-each":246}],300:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.from");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.get-prototype-of");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("./main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}_main.default.prototype.applyMatrix=function(){var isTypedArray=arguments[0]instanceof Object.getPrototypeOf(Uint8Array);if(Array.isArray(arguments[0])||isTypedArray){var _this$_renderer;(_this$_renderer=this._renderer).applyMatrix.apply(_this$_renderer,_toConsumableArray(arguments[0]))}else{var _this$_renderer2;(_this$_renderer2=this._renderer).applyMatrix.apply(_this$_renderer2,arguments)}return this};_main.default.prototype.resetMatrix=function(){this._renderer.resetMatrix();return this};_main.default.prototype.rotate=function(angle,axis){_main.default._validateParameters("rotate",arguments);this._renderer.rotate(this._toRadians(angle),axis);return this};_main.default.prototype.rotateX=function(angle){this._assert3d("rotateX");_main.default._validateParameters("rotateX",arguments);this._renderer.rotateX(this._toRadians(angle));return this};_main.default.prototype.rotateY=function(angle){this._assert3d("rotateY");_main.default._validateParameters("rotateY",arguments);this._renderer.rotateY(this._toRadians(angle));return this};_main.default.prototype.rotateZ=function(angle){this._assert3d("rotateZ");_main.default._validateParameters("rotateZ",arguments);this._renderer.rotateZ(this._toRadians(angle));return this};_main.default.prototype.scale=function(x,y,z){_main.default._validateParameters("scale",arguments);if(x instanceof _main.default.Vector){var v=x;x=v.x;y=v.y;z=v.z}else if(x instanceof Array){var rg=x;x=rg[0];y=rg[1];z=rg[2]||1}if(isNaN(y)){y=z=x}else if(isNaN(z)){z=1}this._renderer.scale.call(this._renderer,x,y,z);return this};_main.default.prototype.shearX=function(angle){_main.default._validateParameters("shearX",arguments);var rad=this._toRadians(angle);this._renderer.applyMatrix(1,0,Math.tan(rad),1,0,0);return this};_main.default.prototype.shearY=function(angle){_main.default._validateParameters("shearY",arguments);var rad=this._toRadians(angle);this._renderer.applyMatrix(1,Math.tan(rad),0,1,0,0);return this};_main.default.prototype.translate=function(x,y,z){_main.default._validateParameters("translate",arguments);if(this._renderer.isP3D){this._renderer.translate(x,y,z)}else{this._renderer.translate(x,y)}return this};var _default=_main.default;exports.default=_default},{"./main":287,"core-js/modules/es.array.from":173,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.get-prototype-of":193,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint8-array":244,"core-js/modules/web.dom-collections.iterator":247}],301:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.from");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.ends-with");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.iterator");var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_main.default.prototype.storeItem=function(key,value){if(typeof key!=="string"){console.log("The argument that you passed to storeItem() - ".concat(key," is not a string."))}if(key.endsWith("p5TypeID")){console.log("The argument that you passed to storeItem() - ".concat(key," must not end with 'p5TypeID'."))}if(typeof value==="undefined"){console.log("You cannot store undefined variables using storeItem().")}var type=_typeof(value);switch(type){case"number":case"boolean":value=value.toString();break;case"object":if(value instanceof _main.default.Color){type="p5.Color"}else if(value instanceof _main.default.Vector){type="p5.Vector";var coord=[value.x,value.y,value.z];value=coord}value=JSON.stringify(value);break;case"string":default:break}localStorage.setItem(key,value);var typeKey="".concat(key,"p5TypeID");localStorage.setItem(typeKey,type)};_main.default.prototype.getItem=function(key){var value=localStorage.getItem(key);var type=localStorage.getItem("".concat(key,"p5TypeID"));if(typeof type==="undefined"){console.log("Unable to determine type of item stored under ".concat(key,"in local storage. Did you save the item with something other than setItem()?"))}else if(value!==null){switch(type){case"number":value=parseFloat(value);break;case"boolean":value=value==="true";break;case"object":value=JSON.parse(value);break;case"p5.Color":value=JSON.parse(value);value=this.color.apply(this,_toConsumableArray(value.levels));break;case"p5.Vector":value=JSON.parse(value);value=this.createVector.apply(this,_toConsumableArray(value));break;case"string":default:break}}return value};_main.default.prototype.clearStorage=function(){localStorage.clear()};_main.default.prototype.removeItem=function(key){if(typeof key!=="string"){console.log("The argument that you passed to removeItem() - ".concat(key," is not a string."))}localStorage.removeItem(key);localStorage.removeItem("".concat(key,"p5TypeID"))}},{"../core/main":287,"core-js/modules/es.array.from":173,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.ends-with":202,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],302:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.string.sub");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.createStringDict=function(key,value){_main.default._validateParameters("createStringDict",arguments);return new _main.default.StringDict(key,value)};_main.default.prototype.createNumberDict=function(key,value){_main.default._validateParameters("createNumberDict",arguments);return new _main.default.NumberDict(key,value)};_main.default.TypedDict=function(key,value){if(key instanceof Object){this.data=key}else{this.data={};this.data[key]=value}return this};_main.default.TypedDict.prototype.size=function(){return Object.keys(this.data).length};_main.default.TypedDict.prototype.hasKey=function(key){return this.data.hasOwnProperty(key)};_main.default.TypedDict.prototype.get=function(key){if(this.data.hasOwnProperty(key)){return this.data[key]}else{console.log("".concat(key," does not exist in this Dictionary"))}};_main.default.TypedDict.prototype.set=function(key,value){if(this._validate(value)){this.data[key]=value}else{console.log("Those values dont work for this dictionary type.")}};_main.default.TypedDict.prototype._addObj=function(obj){for(var key in obj){this.set(key,obj[key])}};_main.default.TypedDict.prototype.create=function(key,value){if(key instanceof Object&&typeof value==="undefined"){this._addObj(key)}else if(typeof key!=="undefined"){this.set(key,value)}else{console.log("In order to create a new Dictionary entry you must pass "+"an object or a key, value pair")}};_main.default.TypedDict.prototype.clear=function(){this.data={}};_main.default.TypedDict.prototype.remove=function(key){if(this.data.hasOwnProperty(key)){delete this.data[key]}else{throw new Error("".concat(key," does not exist in this Dictionary"))}};_main.default.TypedDict.prototype.print=function(){for(var item in this.data){console.log("key:".concat(item," value:").concat(this.data[item]))}};_main.default.TypedDict.prototype.saveTable=function(filename){var output="";for(var key in this.data){output+="".concat(key,",").concat(this.data[key],"\n")}var blob=new Blob([output],{type:"text/csv"});_main.default.prototype.downloadFile(blob,filename||"mycsv","csv")};_main.default.TypedDict.prototype.saveJSON=function(filename,opt){_main.default.prototype.saveJSON(this.data,filename,opt)};_main.default.TypedDict.prototype._validate=function(value){return true};_main.default.StringDict=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default.TypedDict.apply(this,args)};_main.default.StringDict.prototype=Object.create(_main.default.TypedDict.prototype);_main.default.StringDict.prototype._validate=function(value){return typeof value==="string"};_main.default.NumberDict=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default.TypedDict.apply(this,args)};_main.default.NumberDict.prototype=Object.create(_main.default.TypedDict.prototype);_main.default.NumberDict.prototype._validate=function(value){return typeof value==="number"};_main.default.NumberDict.prototype.add=function(key,amount){if(this.data.hasOwnProperty(key)){this.data[key]+=amount}else{console.log("The key - ".concat(key," does not exist in this dictionary."))}};_main.default.NumberDict.prototype.sub=function(key,amount){this.add(key,-amount)};_main.default.NumberDict.prototype.mult=function(key,amount){if(this.data.hasOwnProperty(key)){this.data[key]*=amount}else{console.log("The key - ".concat(key," does not exist in this dictionary."))}};_main.default.NumberDict.prototype.div=function(key,amount){if(this.data.hasOwnProperty(key)){this.data[key]/=amount}else{console.log("The key - ".concat(key," does not exist in this dictionary."))}};_main.default.NumberDict.prototype._valueTest=function(flip){if(Object.keys(this.data).length===0){throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict")}else if(Object.keys(this.data).length===1){return this.data[Object.keys(this.data)[0]]}else{var result=this.data[Object.keys(this.data)[0]];for(var key in this.data){if(this.data[key]*flip<result*flip){result=this.data[key]}}return result}};_main.default.NumberDict.prototype.minValue=function(){return this._valueTest(1)};_main.default.NumberDict.prototype.maxValue=function(){return this._valueTest(-1)};_main.default.NumberDict.prototype._keyTest=function(flip){if(Object.keys(this.data).length===0){throw new Error("Unable to use minValue on an empty NumberDict")}else if(Object.keys(this.data).length===1){return Object.keys(this.data)[0]}else{var result=Object.keys(this.data)[0];for(var i=1;i<Object.keys(this.data).length;i++){if(Object.keys(this.data)[i]*flip<result*flip){result=Object.keys(this.data)[i]}}return result}};_main.default.NumberDict.prototype.minKey=function(){return this._keyTest(1)};_main.default.NumberDict.prototype.maxKey=function(){return this._keyTest(-1)};var _default=_main.default.TypedDict;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.object.keys":194,"core-js/modules/es.string.sub":210}],303:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.every");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.for-each");_dereq_("core-js/modules/es.array.from");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.promise");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.string.trim");_dereq_("core-js/modules/web.dom-collections.for-each");_dereq_("core-js/modules/web.dom-collections.iterator");_dereq_("core-js/modules/web.url");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_main.default.prototype.select=function(e,p){_main.default._validateParameters("select",arguments);var container=this._getContainer(p);var res=container.querySelector(e);if(res){return this._wrapElement(res)}else{return null}};_main.default.prototype.selectAll=function(e,p){_main.default._validateParameters("selectAll",arguments);var arr=[];var container=this._getContainer(p);var res=container.querySelectorAll(e);if(res){for(var j=0;j<res.length;j++){var obj=this._wrapElement(res[j]);arr.push(obj)}}return arr};_main.default.prototype._getContainer=function(p){var container=document;if(typeof p==="string"){container=document.querySelector(p)||document}else if(p instanceof _main.default.Element){container=p.elt}else if(p instanceof HTMLElement){container=p}return container};_main.default.prototype._wrapElement=function(elt){var children=Array.prototype.slice.call(elt.children);if(elt.tagName==="INPUT"&&elt.type==="checkbox"){var converted=new _main.default.Element(elt,this);converted.checked=function(){if(arguments.length===0){return this.elt.checked}else if(arguments[0]){this.elt.checked=true}else{this.elt.checked=false}return this};return converted}else if(elt.tagName==="VIDEO"||elt.tagName==="AUDIO"){return new _main.default.MediaElement(elt,this)}else if(elt.tagName==="SELECT"){return this.createSelect(new _main.default.Element(elt,this))}else if(children.length>0&&children.every(function(c){return c.tagName==="INPUT"||c.tagName==="LABEL"})){return this.createRadio(new _main.default.Element(elt,this))}else{return new _main.default.Element(elt,this)}};_main.default.prototype.removeElements=function(e){_main.default._validateParameters("removeElements",arguments);var isNotCanvasElement=function isNotCanvasElement(el){return!(el.elt instanceof HTMLCanvasElement)};var removeableElements=this._elements.filter(isNotCanvasElement);removeableElements.map(function(el){return el.remove()})};_main.default.Element.prototype.changed=function(fxn){_main.default.Element._adjustListener("change",fxn,this);return this};_main.default.Element.prototype.input=function(fxn){_main.default.Element._adjustListener("input",fxn,this);return this};function addElement(elt,pInst,media){var node=pInst._userNode?pInst._userNode:document.body;node.appendChild(elt);var c=media?new _main.default.MediaElement(elt,pInst):new _main.default.Element(elt,pInst);pInst._elements.push(c);return c}_main.default.prototype.createDiv=function(){var html=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var elt=document.createElement("div");elt.innerHTML=html;return addElement(elt,this)};_main.default.prototype.createP=function(){var html=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var elt=document.createElement("p");elt.innerHTML=html;return addElement(elt,this)};_main.default.prototype.createSpan=function(){var html=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var elt=document.createElement("span");elt.innerHTML=html;return addElement(elt,this)};_main.default.prototype.createImg=function(){_main.default._validateParameters("createImg",arguments);var elt=document.createElement("img");var args=arguments;var self;if(args.length>1&&typeof args[1]==="string"){elt.alt=args[1]}if(args.length>2&&typeof args[2]==="string"){elt.crossOrigin=args[2]}elt.src=args[0];self=addElement(elt,this);elt.addEventListener("load",function(){self.width=elt.offsetWidth||elt.width;self.height=elt.offsetHeight||elt.height;var last=args[args.length-1];if(typeof last==="function")last(self)});return self};_main.default.prototype.createA=function(href,html,target){_main.default._validateParameters("createA",arguments);var elt=document.createElement("a");elt.href=href;elt.innerHTML=html;if(target)elt.target=target;return addElement(elt,this)};_main.default.prototype.createSlider=function(min,max,value,step){_main.default._validateParameters("createSlider",arguments);var elt=document.createElement("input");elt.type="range";elt.min=min;elt.max=max;if(step===0){elt.step=1e-18}else if(step){elt.step=step}if(typeof value==="number")elt.value=value;return addElement(elt,this)};_main.default.prototype.createButton=function(label,value){_main.default._validateParameters("createButton",arguments);var elt=document.createElement("button");elt.innerHTML=label;if(value)elt.value=value;return addElement(elt,this)};_main.default.prototype.createCheckbox=function(){_main.default._validateParameters("createCheckbox",arguments);var elt=document.createElement("div");var checkbox=document.createElement("input");checkbox.type="checkbox";var label=document.createElement("label");label.appendChild(checkbox);elt.appendChild(label);var self=addElement(elt,this);self.checked=function(){var cb=self.elt.firstElementChild.getElementsByTagName("input")[0];if(cb){if(arguments.length===0){return cb.checked}else if(arguments[0]){cb.checked=true}else{cb.checked=false}}return self};this.value=function(val){self.value=val;return this};if(arguments[0]){self.value(arguments[0]);var span=document.createElement("span");span.innerHTML=arguments[0];label.appendChild(span)}if(arguments[1]){checkbox.checked=true}return self};_main.default.prototype.createSelect=function(){_main.default._validateParameters("createSelect",arguments);var self;var arg=arguments[0];if(arg instanceof _main.default.Element&&arg.elt instanceof HTMLSelectElement){self=arg;this.elt=arg.elt}else if(arg instanceof HTMLSelectElement){self=addElement(arg,this);this.elt=arg}else{var elt=document.createElement("select");if(arg&&typeof arg==="boolean"){elt.setAttribute("multiple","true")}self=addElement(elt,this);this.elt=elt}self.option=function(name,value){var index;if(name===undefined){return}for(var i=0;i<this.elt.length;i+=1){if(this.elt[i].innerHTML===name){index=i;break}}if(index!==undefined){if(value===false){this.elt.remove(index)}else{this.elt[index].value=value}}else{var opt=document.createElement("option");opt.innerHTML=name;opt.value=value===undefined?name:value;this.elt.appendChild(opt);this._pInst._elements.push(opt)}};self.selected=function(value){if(value!==undefined){for(var i=0;i<this.elt.length;i+=1){if(this.elt[i].value.toString()===value.toString()){this.elt.selectedIndex=i}}return this}else{if(this.elt.getAttribute("multiple")){var arr=[];var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.elt.selectedOptions[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var selectedOption=_step.value;arr.push(selectedOption.value)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return arr}else{return this.elt.value}}};self.disable=function(value){if(typeof value==="string"){for(var i=0;i<this.elt.length;i++){if(this.elt[i].value.toString()===value){this.elt[i].disabled=true;this.elt[i].selected=false}}}else{this.elt.disabled=true}return this};return self};_main.default.prototype.createRadio=function(){var radioElement;var name;var arg0=arguments[0];if(arg0 instanceof HTMLDivElement||arg0 instanceof HTMLSpanElement){radioElement=arg0;if(typeof arguments[1]==="string")name=arguments[1]}else{if(typeof arg0==="string")name=arg0;radioElement=document.createElement("div")}this.elt=radioElement;var self=addElement(radioElement,this);self._name=name||"radioOption";var isRadioInput=function isRadioInput(el){return el instanceof HTMLInputElement&&el.type==="radio"};var isLabelElement=function isLabelElement(el){return el instanceof HTMLLabelElement};var isSpanElement=function isSpanElement(el){return el instanceof HTMLSpanElement};self._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(el){return isRadioInput(el)||isLabelElement(el)&&isRadioInput(el.firstElementChild)}).map(function(el){return isRadioInput(el)?el:el.firstElementChild})};self.option=function(value,label){var optionEl;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=self._getOptionsArray()[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var option=_step2.value;if(option.value===value){optionEl=option;break}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}if(optionEl===undefined){optionEl=document.createElement("input");optionEl.setAttribute("type","radio");optionEl.setAttribute("value",value)}optionEl.setAttribute("name",self._name);var labelElement;if(!isLabelElement(optionEl.parentElement)){labelElement=document.createElement("label");labelElement.insertAdjacentElement("afterbegin",optionEl)}else{labelElement=optionEl.parentElement}var spanElement;if(!isSpanElement(labelElement.lastElementChild)){spanElement=document.createElement("span");optionEl.insertAdjacentElement("afterend",spanElement)}else{spanElement=labelElement.lastElementChild}spanElement.innerHTML=label===undefined?value:label;this.elt.appendChild(labelElement);return optionEl};self.remove=function(value){var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=self._getOptionsArray()[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var optionEl=_step3.value;if(optionEl.value===value){if(isLabelElement(optionEl.parentElement)){optionEl.parentElement.remove()}else{optionEl.remove()}return}}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}};self.value=function(){var result="";var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=self._getOptionsArray()[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var option=_step4.value;if(option.checked){result=option.value;break}}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return!=null){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}return result};self.selected=function(value){var result=null;if(value===undefined){var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=self._getOptionsArray()[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var option=_step5.value;if(option.checked){result=option;break}}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return!=null){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}}else{var _iteratorNormalCompletion6=true;var _didIteratorError6=false;var _iteratorError6=undefined;try{for(var _iterator6=self._getOptionsArray()[Symbol.iterator](),_step6;!(_iteratorNormalCompletion6=(_step6=_iterator6.next()).done);_iteratorNormalCompletion6=true){var _option=_step6.value;if(_option.value===value){_option.setAttribute("checked",true);result=_option}}}catch(err){_didIteratorError6=true;_iteratorError6=err}finally{try{if(!_iteratorNormalCompletion6&&_iterator6.return!=null){_iterator6.return()}}finally{if(_didIteratorError6){throw _iteratorError6}}}}return result};self.disable=function(){var shouldDisable=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var _iteratorNormalCompletion7=true;var _didIteratorError7=false;var _iteratorError7=undefined;try{for(var _iterator7=self._getOptionsArray()[Symbol.iterator](),_step7;!(_iteratorNormalCompletion7=(_step7=_iterator7.next()).done);_iteratorNormalCompletion7=true){var radioInput=_step7.value;radioInput.setAttribute("disabled",shouldDisable)}}catch(err){_didIteratorError7=true;_iteratorError7=err}finally{try{if(!_iteratorNormalCompletion7&&_iterator7.return!=null){_iterator7.return()}}finally{if(_didIteratorError7){throw _iteratorError7}}}};return self};_main.default.prototype.createColorPicker=function(value){_main.default._validateParameters("createColorPicker",arguments);var elt=document.createElement("input");var self;elt.type="color";if(value){if(value instanceof _main.default.Color){elt.value=value.toString("#rrggbb")}else{_main.default.prototype._colorMode="rgb";_main.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]};elt.value=_main.default.prototype.color(value).toString("#rrggbb")}}else{elt.value="#000000"}self=addElement(elt,this);self.color=function(){if(value){if(value.mode){_main.default.prototype._colorMode=value.mode}if(value.maxes){_main.default.prototype._colorMaxes=value.maxes}}return _main.default.prototype.color(this.elt.value)};return self};_main.default.prototype.createInput=function(){var value=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var type=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"text";_main.default._validateParameters("createInput",arguments);var elt=document.createElement("input");elt.setAttribute("value",value);elt.setAttribute("type",type);return addElement(elt,this)};_main.default.prototype.createFileInput=function(callback){var multiple=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;_main.default._validateParameters("createFileInput",arguments);var handleFileSelect=function handleFileSelect(event){var _iteratorNormalCompletion8=true;var _didIteratorError8=false;var _iteratorError8=undefined;try{for(var _iterator8=event.target.files[Symbol.iterator](),_step8;!(_iteratorNormalCompletion8=(_step8=_iterator8.next()).done);_iteratorNormalCompletion8=true){var file=_step8.value;_main.default.File._load(file,callback)}}catch(err){_didIteratorError8=true;_iteratorError8=err}finally{try{if(!_iteratorNormalCompletion8&&_iterator8.return!=null){_iterator8.return()}}finally{if(_didIteratorError8){throw _iteratorError8}}}};if(!(window.File&&window.FileReader&&window.FileList&&window.Blob)){console.log("The File APIs are not fully supported in this browser. Cannot create element.");return}var fileInput=document.createElement("input");fileInput.setAttribute("type","file");if(multiple)fileInput.setAttribute("multiple",true);fileInput.addEventListener("change",handleFileSelect,false);return addElement(fileInput,this)};function createMedia(pInst,type,src,callback){var elt=document.createElement(type);src=src||"";if(typeof src==="string"){src=[src]}var _iteratorNormalCompletion9=true;var _didIteratorError9=false;var _iteratorError9=undefined;try{for(var _iterator9=src[Symbol.iterator](),_step9;!(_iteratorNormalCompletion9=(_step9=_iterator9.next()).done);_iteratorNormalCompletion9=true){var mediaSource=_step9.value;var sourceEl=document.createElement("source");sourceEl.setAttribute("src",mediaSource);elt.appendChild(sourceEl)}}catch(err){_didIteratorError9=true;_iteratorError9=err}finally{try{if(!_iteratorNormalCompletion9&&_iterator9.return!=null){_iterator9.return()}}finally{if(_didIteratorError9){throw _iteratorError9}}}if(typeof callback==="function"){var callbackHandler=function callbackHandler(){callback();elt.removeEventListener("canplaythrough",callbackHandler)};elt.addEventListener("canplaythrough",callbackHandler)}var mediaEl=addElement(elt,pInst,true);mediaEl.loadedmetadata=false;elt.addEventListener("loadedmetadata",function(){mediaEl.width=elt.videoWidth;mediaEl.height=elt.videoHeight;if(mediaEl.elt.width===0)mediaEl.elt.width=elt.videoWidth;if(mediaEl.elt.height===0)mediaEl.elt.height=elt.videoHeight;if(mediaEl.presetPlaybackRate){mediaEl.elt.playbackRate=mediaEl.presetPlaybackRate;delete mediaEl.presetPlaybackRate}mediaEl.loadedmetadata=true});return mediaEl}_main.default.prototype.createVideo=function(src,callback){_main.default._validateParameters("createVideo",arguments);return createMedia(this,"video",src,callback)};_main.default.prototype.createAudio=function(src,callback){_main.default._validateParameters("createAudio",arguments);return createMedia(this,"audio",src,callback)};_main.default.prototype.VIDEO="video";_main.default.prototype.AUDIO="audio";if(navigator.mediaDevices===undefined){navigator.mediaDevices={}}if(navigator.mediaDevices.getUserMedia===undefined){navigator.mediaDevices.getUserMedia=function(constraints){var getUserMedia=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;if(!getUserMedia){return Promise.reject(new Error("getUserMedia is not implemented in this browser"))}return new Promise(function(resolve,reject){getUserMedia.call(navigator,constraints,resolve,reject)})}}_main.default.prototype.createCapture=function(){_main.default._validateParameters("createCapture",arguments);if(!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)){throw new DOMException("getUserMedia not supported in this browser")}var useVideo=true;var useAudio=true;var constraints;var callback;var _iteratorNormalCompletion10=true;var _didIteratorError10=false;var _iteratorError10=undefined;try{for(var _iterator10=arguments[Symbol.iterator](),_step10;!(_iteratorNormalCompletion10=(_step10=_iterator10.next()).done);_iteratorNormalCompletion10=true){var arg=_step10.value;if(arg===_main.default.prototype.VIDEO)useAudio=false;else if(arg===_main.default.prototype.AUDIO)useVideo=false;else if(_typeof(arg)==="object")constraints=arg;else if(typeof arg==="function")callback=arg}}catch(err){_didIteratorError10=true;_iteratorError10=err}finally{try{if(!_iteratorNormalCompletion10&&_iterator10.return!=null){_iterator10.return()}}finally{if(_didIteratorError10){throw _iteratorError10}}}if(!constraints)constraints={video:useVideo,audio:useAudio};var domElement=document.createElement("video");domElement.setAttribute("playsinline","");navigator.mediaDevices.getUserMedia(constraints).then(function(stream){try{if("srcObject"in domElement){domElement.srcObject=stream}else{domElement.src=window.URL.createObjectURL(stream)}}catch(err){domElement.src=stream}},console.log);var videoEl=addElement(domElement,this,true);videoEl.loadedmetadata=false;domElement.addEventListener("loadedmetadata",function(){domElement.play();if(domElement.width){videoEl.width=domElement.width;videoEl.height=domElement.height}else{videoEl.width=videoEl.elt.width=domElement.videoWidth;videoEl.height=videoEl.elt.height=domElement.videoHeight}videoEl.loadedmetadata=true;if(callback)callback(domElement.srcObject)});return videoEl};_main.default.prototype.createElement=function(tag,content){_main.default._validateParameters("createElement",arguments);var elt=document.createElement(tag);if(typeof content!=="undefined"){elt.innerHTML=content}return addElement(elt,this)};_main.default.Element.prototype.addClass=function(c){if(this.elt.className){if(!this.hasClass(c)){this.elt.className=this.elt.className+" "+c}}else{this.elt.className=c}return this};_main.default.Element.prototype.removeClass=function(c){this.elt.classList.remove(c);return this};_main.default.Element.prototype.hasClass=function(c){return this.elt.classList.contains(c)};_main.default.Element.prototype.toggleClass=function(c){if(this.elt.classList.contains(c)){this.elt.classList.remove(c)}else{this.elt.classList.add(c)}return this};_main.default.Element.prototype.child=function(childNode){if(typeof childNode==="undefined"){return this.elt.childNodes}if(typeof childNode==="string"){if(childNode[0]==="#"){childNode=childNode.substring(1)}childNode=document.getElementById(childNode)}else if(childNode instanceof _main.default.Element){childNode=childNode.elt}if(childNode instanceof HTMLElement){this.elt.appendChild(childNode)}return this};_main.default.Element.prototype.center=function(align){var style=this.elt.style.display;var hidden=this.elt.style.display==="none";var parentHidden=this.parent().style.display==="none";var pos={x:this.elt.offsetLeft,y:this.elt.offsetTop};if(hidden)this.show();if(parentHidden)this.parent().show();this.elt.style.display="block";this.position(0,0);var wOffset=Math.abs(this.parent().offsetWidth-this.elt.offsetWidth);var hOffset=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);if(align==="both"||align===undefined){this.position(wOffset/2+this.parent().offsetLeft,hOffset/2+this.parent().offsetTop)}else if(align==="horizontal"){this.position(wOffset/2+this.parent().offsetLeft,pos.y)}else if(align==="vertical"){this.position(pos.x,hOffset/2+this.parent().offsetTop)}this.style("display",style);if(hidden)this.hide();if(parentHidden)this.parent().hide();return this};_main.default.Element.prototype.html=function(){if(arguments.length===0){return this.elt.innerHTML}else if(arguments[1]){this.elt.insertAdjacentHTML("beforeend",arguments[0]);return this}else{this.elt.innerHTML=arguments[0];return this}};_main.default.Element.prototype.position=function(){if(arguments.length===0){return{x:this.elt.offsetLeft,y:this.elt.offsetTop}}else{var positionType="absolute";if(arguments[2]==="static"||arguments[2]==="fixed"||arguments[2]==="relative"||arguments[2]==="sticky"||arguments[2]==="initial"||arguments[2]==="inherit"){positionType=arguments[2]}this.elt.style.position=positionType;this.elt.style.left=arguments[0]+"px";this.elt.style.top=arguments[1]+"px";this.x=arguments[0];this.y=arguments[1];return this}};_main.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var transform="";if(this.elt.style.transform){transform=this.elt.style.transform.replace(/translate3d\(.*\)/g,"");transform=transform.replace(/translate[X-Z]?\(.*\)/g,"")}if(arguments.length===2){this.elt.style.transform="translate("+arguments[0]+"px, "+arguments[1]+"px)"}else if(arguments.length>2){this.elt.style.transform="translate3d("+arguments[0]+"px,"+arguments[1]+"px,"+arguments[2]+"px)";if(arguments.length===3){this.elt.parentElement.style.perspective="1000px"}else{this.elt.parentElement.style.perspective=arguments[3]+"px"}}this.elt.style.transform+=transform;return this};_main.default.Element.prototype._rotate=function(){var transform="";if(this.elt.style.transform){transform=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"");transform=transform.replace(/rotate[X-Z]?\(.*\)/g,"")}if(arguments.length===1){this.elt.style.transform="rotate("+arguments[0]+"deg)"}else if(arguments.length===2){this.elt.style.transform="rotate("+arguments[0]+"deg, "+arguments[1]+"deg)"}else if(arguments.length===3){this.elt.style.transform="rotateX("+arguments[0]+"deg)";this.elt.style.transform+="rotateY("+arguments[1]+"deg)";this.elt.style.transform+="rotateZ("+arguments[2]+"deg)"}this.elt.style.transform+=transform;return this};_main.default.Element.prototype.style=function(prop,val){var self=this;if(val instanceof _main.default.Color){val="rgba("+val.levels[0]+","+val.levels[1]+","+val.levels[2]+","+val.levels[3]/255+")"}if(typeof val==="undefined"){if(prop.indexOf(":")===-1){var styles=window.getComputedStyle(self.elt);var style;if(typeof styles.getPropertyValue=="function"){style=styles.getPropertyValue(prop)}else{style=styles[prop]}return style}else{var attrs=prop.split(";");for(var i=0;i<attrs.length;i++){var parts=attrs[i].split(":");if(parts[0]&&parts[1]){this.elt.style[parts[0].trim()]=parts[1].trim()}}}}else{this.elt.style[prop]=val;if(prop==="width"||prop==="height"||prop==="left"||prop==="top"){var _styles=window.getComputedStyle(self.elt);var styleVal;if(typeof _styles.getPropertyValue=="function"){styleVal=_styles.getPropertyValue(prop)}else{styleVal=_styles[prop]}var numVal=styleVal.replace(/\D+/g,"");this[prop]=parseInt(numVal,10)}}return this};_main.default.Element.prototype.attribute=function(attr,value){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio")){if(typeof value==="undefined"){return this.elt.firstChild.getAttribute(attr)}else{for(var i=0;i<this.elt.childNodes.length;i++){this.elt.childNodes[i].setAttribute(attr,value)}}}else if(typeof value==="undefined"){return this.elt.getAttribute(attr)}else{this.elt.setAttribute(attr,value);return this}};_main.default.Element.prototype.removeAttribute=function(attr){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio")){for(var i=0;i<this.elt.childNodes.length;i++){this.elt.childNodes[i].removeAttribute(attr)}}this.elt.removeAttribute(attr);return this};_main.default.Element.prototype.value=function(){if(arguments.length>0){this.elt.value=arguments[0];return this}else{if(this.elt.type==="range"){return parseFloat(this.elt.value)}else return this.elt.value}};_main.default.Element.prototype.show=function(){this.elt.style.display="block";return this};_main.default.Element.prototype.hide=function(){this.elt.style.display="none";return this};_main.default.Element.prototype.size=function(w,h){if(arguments.length===0){return{width:this.elt.offsetWidth,height:this.elt.offsetHeight}}else{var aW=w;var aH=h;var AUTO=_main.default.prototype.AUTO;if(aW!==AUTO||aH!==AUTO){if(aW===AUTO){aW=h*this.width/this.height}else if(aH===AUTO){aH=w*this.height/this.width}if(this.elt instanceof HTMLCanvasElement){var j={};var k=this.elt.getContext("2d");var prop;for(prop in k){j[prop]=k[prop]}this.elt.setAttribute("width",aW*this._pInst._pixelDensity);this.elt.setAttribute("height",aH*this._pInst._pixelDensity);this.elt.style.width=aW+"px";this.elt.style.height=aH+"px";this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity);for(prop in j){this.elt.getContext("2d")[prop]=j[prop]}}else{this.elt.style.width=aW+"px";this.elt.style.height=aH+"px";this.elt.width=aW;this.elt.height=aH}this.width=this.elt.offsetWidth;this.height=this.elt.offsetHeight;if(this._pInst&&this._pInst._curElement){if(this._pInst._curElement.elt===this.elt){this._pInst._setProperty("width",this.elt.offsetWidth);this._pInst._setProperty("height",this.elt.offsetHeight)}}}return this}};_main.default.Element.prototype.remove=function(){if(this instanceof _main.default.MediaElement){this.stop();var sources=this.elt.srcObject;if(sources!==null){var tracks=sources.getTracks();tracks.forEach(function(track){track.stop()})}}var index=this._pInst._elements.indexOf(this);if(index!==-1){this._pInst._elements.splice(index,1)}for(var ev in this._events){this.elt.removeEventListener(ev,this._events[ev])}if(this.elt&&this.elt.parentNode){this.elt.parentNode.removeChild(this.elt)}};_main.default.Element.prototype.drop=function(callback,fxn){if(window.File&&window.FileReader&&window.FileList&&window.Blob){if(!this._dragDisabled){this._dragDisabled=true;var preventDefault=function preventDefault(evt){evt.preventDefault()};this.elt.addEventListener("dragover",preventDefault);this.elt.addEventListener("dragleave",preventDefault)}_main.default.Element._attachListener("drop",function(evt){evt.preventDefault();if(typeof fxn==="function"){fxn.call(this,evt)}var files=evt.dataTransfer.files;for(var i=0;i<files.length;i++){var f=files[i];_main.default.File._load(f,callback)}},this)}else{console.log("The File APIs are not fully supported in this browser.")}return this};_main.default.MediaElement=function(elt,pInst){_main.default.Element.call(this,elt,pInst);var self=this;this.elt.crossOrigin="anonymous";this._prevTime=0;this._cueIDCounter=0;this._cues=[];this._pixelsState=this;this._pixelDensity=1;this._modified=false;Object.defineProperty(self,"src",{get:function get(){var firstChildSrc=self.elt.children[0].src;var srcVal=self.elt.src===window.location.href?"":self.elt.src;var ret=firstChildSrc===window.location.href?srcVal:firstChildSrc;return ret},set:function set(newValue){for(var i=0;i<self.elt.children.length;i++){self.elt.removeChild(self.elt.children[i])}var source=document.createElement("source");source.src=newValue;elt.appendChild(source);self.elt.src=newValue;self.modified=true}});self._onended=function(){};self.elt.onended=function(){self._onended(self)}};_main.default.MediaElement.prototype=Object.create(_main.default.Element.prototype);_main.default.MediaElement.prototype.play=function(){var _this=this;if(this.elt.currentTime===this.elt.duration){this.elt.currentTime=0}var promise;if(this.elt.readyState>1){promise=this.elt.play()}else{this.elt.load();promise=this.elt.play()}if(promise&&promise.catch){promise.catch(function(e){if(e.name==="NotAllowedError"){_main.default._friendlyAutoplayError(_this.src)}else{console.error("Media play method encountered an unexpected error",e)}})}return this};_main.default.MediaElement.prototype.stop=function(){this.elt.pause();this.elt.currentTime=0;return this};_main.default.MediaElement.prototype.pause=function(){this.elt.pause();return this};_main.default.MediaElement.prototype.loop=function(){this.elt.setAttribute("loop",true);this.play();return this};_main.default.MediaElement.prototype.noLoop=function(){this.elt.removeAttribute("loop");return this};_main.default.MediaElement.prototype._setupAutoplayFailDetection=function(){var _this2=this;var timeout=setTimeout(function(){return _main.default._friendlyAutoplayError(_this2.src)},500);this.elt.addEventListener("play",function(){return clearTimeout(timeout)},{passive:true,once:true})};_main.default.MediaElement.prototype.autoplay=function(val){var _this3=this;var oldVal=this.elt.getAttribute("autoplay");this.elt.setAttribute("autoplay",val);if(val&&!oldVal){var setupAutoplayFailDetection=function setupAutoplayFailDetection(){return _this3._setupAutoplayFailDetection()};if(this.elt.readyState===4){setupAutoplayFailDetection()}else{this.elt.addEventListener("canplay",setupAutoplayFailDetection,{passive:true,once:true})}}return this};_main.default.MediaElement.prototype.volume=function(val){if(typeof val==="undefined"){return this.elt.volume}else{this.elt.volume=val}};_main.default.MediaElement.prototype.speed=function(val){if(typeof val==="undefined"){return this.presetPlaybackRate||this.elt.playbackRate}else{if(this.loadedmetadata){this.elt.playbackRate=val}else{this.presetPlaybackRate=val}}};_main.default.MediaElement.prototype.time=function(val){if(typeof val==="undefined"){return this.elt.currentTime}else{this.elt.currentTime=val;return this}};_main.default.MediaElement.prototype.duration=function(){return this.elt.duration};_main.default.MediaElement.prototype.pixels=[];_main.default.MediaElement.prototype._ensureCanvas=function(){if(!this.canvas){this.canvas=document.createElement("canvas");this.drawingContext=this.canvas.getContext("2d");this.setModified(true)}if(this.loadedmetadata){if(this.canvas.width!==this.elt.width){this.canvas.width=this.elt.width;this.canvas.height=this.elt.height;this.width=this.canvas.width;this.height=this.canvas.height}this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height);this.setModified(true)}};_main.default.MediaElement.prototype.loadPixels=function(){this._ensureCanvas();return _main.default.Renderer2D.prototype.loadPixels.apply(this,arguments)};_main.default.MediaElement.prototype.updatePixels=function(x,y,w,h){if(this.loadedmetadata){this._ensureCanvas();_main.default.Renderer2D.prototype.updatePixels.call(this,x,y,w,h)}this.setModified(true);return this};_main.default.MediaElement.prototype.get=function(){this._ensureCanvas();return _main.default.Renderer2D.prototype.get.apply(this,arguments)};_main.default.MediaElement.prototype._getPixel=function(){this.loadPixels();return _main.default.Renderer2D.prototype._getPixel.apply(this,arguments)};_main.default.MediaElement.prototype.set=function(x,y,imgOrCol){if(this.loadedmetadata){this._ensureCanvas();_main.default.Renderer2D.prototype.set.call(this,x,y,imgOrCol);this.setModified(true)}};_main.default.MediaElement.prototype.copy=function(){this._ensureCanvas();_main.default.prototype.copy.apply(this,arguments)};_main.default.MediaElement.prototype.mask=function(){this.loadPixels();this.setModified(true);_main.default.Image.prototype.mask.apply(this,arguments)};_main.default.MediaElement.prototype.isModified=function(){return this._modified};_main.default.MediaElement.prototype.setModified=function(value){this._modified=value};_main.default.MediaElement.prototype.onended=function(callback){this._onended=callback;return this};_main.default.MediaElement.prototype.connect=function(obj){var audioContext,mainOutput;if(typeof _main.default.prototype.getAudioContext==="function"){audioContext=_main.default.prototype.getAudioContext();mainOutput=_main.default.soundOut.input}else{try{audioContext=obj.context;mainOutput=audioContext.destination}catch(e){throw"connect() is meant to be used with Web Audio API or p5.sound.js"}}if(!this.audioSourceNode){this.audioSourceNode=audioContext.createMediaElementSource(this.elt);this.audioSourceNode.connect(mainOutput)}if(obj){if(obj.input){this.audioSourceNode.connect(obj.input)}else{this.audioSourceNode.connect(obj)}}else{this.audioSourceNode.connect(mainOutput)}};_main.default.MediaElement.prototype.disconnect=function(){if(this.audioSourceNode){this.audioSourceNode.disconnect()}else{throw"nothing to disconnect"}};_main.default.MediaElement.prototype.showControls=function(){this.elt.style["text-align"]="inherit";this.elt.controls=true};_main.default.MediaElement.prototype.hideControls=function(){this.elt.controls=false};var Cue=function Cue(callback,time,id,val){this.callback=callback;this.time=time;this.id=id;this.val=val};_main.default.MediaElement.prototype.addCue=function(time,callback,val){var id=this._cueIDCounter++;var cue=new Cue(callback,time,id,val);this._cues.push(cue);if(!this.elt.ontimeupdate){this.elt.ontimeupdate=this._onTimeUpdate.bind(this)}return id};_main.default.MediaElement.prototype.removeCue=function(id){for(var i=0;i<this._cues.length;i++){if(this._cues[i].id===id){console.log(id);this._cues.splice(i,1)}}if(this._cues.length===0){this.elt.ontimeupdate=null}};_main.default.MediaElement.prototype.clearCues=function(){this._cues=[];this.elt.ontimeupdate=null};_main.default.MediaElement.prototype._onTimeUpdate=function(){var playbackTime=this.time();for(var i=0;i<this._cues.length;i++){var callbackTime=this._cues[i].time;var val=this._cues[i].val;if(this._prevTime<callbackTime&&callbackTime<=playbackTime){this._cues[i].callback(val)}}this._prevTime=playbackTime};_main.default.File=function(file,pInst){this.file=file;this._pInst=pInst;var typeList=file.type.split("/");this.type=typeList[0];this.subtype=typeList[1];this.name=file.name;this.size=file.size;this.data=undefined};_main.default.File._createLoader=function(theFile,callback){var reader=new FileReader;reader.onload=function(e){var p5file=new _main.default.File(theFile);if(p5file.file.type==="application/json"){p5file.data=JSON.parse(e.target.result)}else if(p5file.file.type==="text/xml"){var parser=new DOMParser;var xml=parser.parseFromString(e.target.result,"text/xml");p5file.data=new _main.default.XML(xml.documentElement)}else{p5file.data=e.target.result}callback(p5file)};return reader};_main.default.File._load=function(f,callback){if(/^text\//.test(f.type)||f.type==="application/json"){_main.default.File._createLoader(f,callback).readAsText(f)}else if(!/^(video|audio)\//.test(f.type)){_main.default.File._createLoader(f,callback).readAsDataURL(f)}else{var file=new _main.default.File(f);file.data=URL.createObjectURL(f);callback(file)}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.every":168,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.for-each":172,"core-js/modules/es.array.from":173,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.splice":182,"core-js/modules/es.function.name":184,"core-js/modules/es.object.to-string":195,"core-js/modules/es.promise":196,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.split":209,"core-js/modules/es.string.trim":211,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.for-each":246,"core-js/modules/web.dom-collections.iterator":247,"core-js/modules/web.url":249}],304:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.deviceOrientation=window.innerWidth/window.innerHeight>1?"landscape":"portrait";_main.default.prototype.accelerationX=0;_main.default.prototype.accelerationY=0;_main.default.prototype.accelerationZ=0;_main.default.prototype.pAccelerationX=0;_main.default.prototype.pAccelerationY=0;_main.default.prototype.pAccelerationZ=0;_main.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX);this._setProperty("pAccelerationY",this.accelerationY);this._setProperty("pAccelerationZ",this.accelerationZ)};_main.default.prototype.rotationX=0;_main.default.prototype.rotationY=0;_main.default.prototype.rotationZ=0;_main.default.prototype.pRotationX=0;_main.default.prototype.pRotationY=0;_main.default.prototype.pRotationZ=0;var startAngleX=0;var startAngleY=0;var startAngleZ=0;var rotateDirectionX="clockwise";var rotateDirectionY="clockwise";var rotateDirectionZ="clockwise";_main.default.prototype.pRotateDirectionX=undefined;_main.default.prototype.pRotateDirectionY=undefined;_main.default.prototype.pRotateDirectionZ=undefined;_main.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX);this._setProperty("pRotationY",this.rotationY);this._setProperty("pRotationZ",this.rotationZ)};_main.default.prototype.turnAxis=undefined;var move_threshold=.5;var shake_threshold=30;_main.default.prototype.setMoveThreshold=function(val){_main.default._validateParameters("setMoveThreshold",arguments);move_threshold=val};_main.default.prototype.setShakeThreshold=function(val){_main.default._validateParameters("setShakeThreshold",arguments);shake_threshold=val};_main.default.prototype._ondeviceorientation=function(e){this._updatePRotations();if(this._angleMode===constants.radians){e.beta=e.beta*(_PI/180);e.gamma=e.gamma*(_PI/180);e.alpha=e.alpha*(_PI/180)}this._setProperty("rotationX",e.beta);this._setProperty("rotationY",e.gamma);this._setProperty("rotationZ",e.alpha);this._handleMotion()};_main.default.prototype._ondevicemotion=function(e){this._updatePAccelerations();this._setProperty("accelerationX",e.acceleration.x*2);this._setProperty("accelerationY",e.acceleration.y*2);this._setProperty("accelerationZ",e.acceleration.z*2);this._handleMotion()};_main.default.prototype._handleMotion=function(){if(window.orientation===90||window.orientation===-90){this._setProperty("deviceOrientation","landscape")}else if(window.orientation===0){this._setProperty("deviceOrientation","portrait")}else if(window.orientation===undefined){this._setProperty("deviceOrientation","undefined")}var context=this._isGlobal?window:this;if(typeof context.deviceMoved==="function"){if(Math.abs(this.accelerationX-this.pAccelerationX)>move_threshold||Math.abs(this.accelerationY-this.pAccelerationY)>move_threshold||Math.abs(this.accelerationZ-this.pAccelerationZ)>move_threshold){context.deviceMoved()}}if(typeof context.deviceTurned==="function"){var wRX=this.rotationX+180;var wPRX=this.pRotationX+180;var wSAX=startAngleX+180;if(wRX-wPRX>0&&wRX-wPRX<270||wRX-wPRX<-270){rotateDirectionX="clockwise"}else if(wRX-wPRX<0||wRX-wPRX>270){rotateDirectionX="counter-clockwise"}if(rotateDirectionX!==this.pRotateDirectionX){wSAX=wRX}if(Math.abs(wRX-wSAX)>90&&Math.abs(wRX-wSAX)<270){wSAX=wRX;this._setProperty("turnAxis","X");context.deviceTurned()}this.pRotateDirectionX=rotateDirectionX;startAngleX=wSAX-180;var wRY=this.rotationY+180;var wPRY=this.pRotationY+180;var wSAY=startAngleY+180;if(wRY-wPRY>0&&wRY-wPRY<270||wRY-wPRY<-270){rotateDirectionY="clockwise"}else if(wRY-wPRY<0||wRY-this.pRotationY>270){rotateDirectionY="counter-clockwise"}if(rotateDirectionY!==this.pRotateDirectionY){wSAY=wRY}if(Math.abs(wRY-wSAY)>90&&Math.abs(wRY-wSAY)<270){wSAY=wRY;this._setProperty("turnAxis","Y");context.deviceTurned()}this.pRotateDirectionY=rotateDirectionY;startAngleY=wSAY-180;if(this.rotationZ-this.pRotationZ>0&&this.rotationZ-this.pRotationZ<270||this.rotationZ-this.pRotationZ<-270){rotateDirectionZ="clockwise"}else if(this.rotationZ-this.pRotationZ<0||this.rotationZ-this.pRotationZ>270){rotateDirectionZ="counter-clockwise"}if(rotateDirectionZ!==this.pRotateDirectionZ){startAngleZ=this.rotationZ}if(Math.abs(this.rotationZ-startAngleZ)>90&&Math.abs(this.rotationZ-startAngleZ)<270){startAngleZ=this.rotationZ;this._setProperty("turnAxis","Z");context.deviceTurned()}this.pRotateDirectionZ=rotateDirectionZ;this._setProperty("turnAxis",undefined)}if(typeof context.deviceShaken==="function"){var accelerationChangeX;var accelerationChangeY;if(this.pAccelerationX!==null){accelerationChangeX=Math.abs(this.accelerationX-this.pAccelerationX);accelerationChangeY=Math.abs(this.accelerationY-this.pAccelerationY)}if(accelerationChangeX+accelerationChangeY>shake_threshold){context.deviceShaken()}}};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287}],305:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.isKeyPressed=false;_main.default.prototype.keyIsPressed=false;_main.default.prototype.key="";_main.default.prototype.keyCode=0;_main.default.prototype._onkeydown=function(e){if(this._downKeys[e.which]){return}this._setProperty("isKeyPressed",true);this._setProperty("keyIsPressed",true);this._setProperty("keyCode",e.which);this._downKeys[e.which]=true;this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);var context=this._isGlobal?window:this;if(typeof context.keyPressed==="function"&&!e.charCode){var executeDefault=context.keyPressed(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._onkeyup=function(e){this._downKeys[e.which]=false;if(!this._areDownKeys()){this._setProperty("isKeyPressed",false);this._setProperty("keyIsPressed",false)}this._setProperty("_lastKeyCodeTyped",null);this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);this._setProperty("keyCode",e.which);var context=this._isGlobal?window:this;if(typeof context.keyReleased==="function"){var executeDefault=context.keyReleased(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._onkeypress=function(e){if(e.which===this._lastKeyCodeTyped){return}this._setProperty("_lastKeyCodeTyped",e.which);this._setProperty("key",e.key||String.fromCharCode(e.which)||e.which);var context=this._isGlobal?window:this;if(typeof context.keyTyped==="function"){var executeDefault=context.keyTyped(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._onblur=function(e){this._downKeys={}};_main.default.prototype.keyIsDown=function(code){_main.default._validateParameters("keyIsDown",arguments);return this._downKeys[code]||false};_main.default.prototype._areDownKeys=function(){for(var key in this._downKeys){if(this._downKeys.hasOwnProperty(key)&&this._downKeys[key]===true){return true}}return false};var _default=_main.default;exports.default=_default},{"../core/main":287}],306:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.string.includes");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.movedX=0;_main.default.prototype.movedY=0;_main.default.prototype._hasMouseInteracted=false;_main.default.prototype.mouseX=0;_main.default.prototype.mouseY=0;_main.default.prototype.pmouseX=0;_main.default.prototype.pmouseY=0;_main.default.prototype.winMouseX=0;_main.default.prototype.winMouseY=0;_main.default.prototype.pwinMouseX=0;_main.default.prototype.pwinMouseY=0;_main.default.prototype.mouseButton=0;_main.default.prototype.mouseIsPressed=false;_main.default.prototype._updateNextMouseCoords=function(e){if(this._curElement!==null&&(!e.touches||e.touches.length>0)){var mousePos=getMousePos(this._curElement.elt,this.width,this.height,e);this._setProperty("movedX",e.movementX);this._setProperty("movedY",e.movementY);this._setProperty("mouseX",mousePos.x);this._setProperty("mouseY",mousePos.y);this._setProperty("winMouseX",mousePos.winX);this._setProperty("winMouseY",mousePos.winY)}if(!this._hasMouseInteracted){this._updateMouseCoords();this._setProperty("_hasMouseInteracted",true)}};_main.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX);this._setProperty("pmouseY",this.mouseY);this._setProperty("pwinMouseX",this.winMouseX);this._setProperty("pwinMouseY",this.winMouseY);this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)};function getMousePos(canvas,w,h,evt){if(evt&&!evt.clientX){if(evt.touches){evt=evt.touches[0]}else if(evt.changedTouches){evt=evt.changedTouches[0]}}var rect=canvas.getBoundingClientRect();var sx=canvas.scrollWidth/w||1;var sy=canvas.scrollHeight/h||1;return{x:(evt.clientX-rect.left)/sx,y:(evt.clientY-rect.top)/sy,winX:evt.clientX,winY:evt.clientY,id:evt.identifier}}_main.default.prototype._setMouseButton=function(e){if(e.button===1){this._setProperty("mouseButton",constants.CENTER)}else if(e.button===2){this._setProperty("mouseButton",constants.RIGHT)}else{this._setProperty("mouseButton",constants.LEFT)}};_main.default.prototype._onmousemove=function(e){var context=this._isGlobal?window:this;var executeDefault;this._updateNextMouseCoords(e);if(!this.mouseIsPressed){if(typeof context.mouseMoved==="function"){executeDefault=context.mouseMoved(e);if(executeDefault===false){e.preventDefault()}}}else{if(typeof context.mouseDragged==="function"){executeDefault=context.mouseDragged(e);if(executeDefault===false){e.preventDefault()}}else if(typeof context.touchMoved==="function"){executeDefault=context.touchMoved(e);if(executeDefault===false){e.preventDefault()}}}};_main.default.prototype._onmousedown=function(e){var context=this._isGlobal?window:this;var executeDefault;this._setProperty("mouseIsPressed",true);this._setMouseButton(e);this._updateNextMouseCoords(e);if(typeof context.mousePressed==="function"){executeDefault=context.mousePressed(e);if(executeDefault===false){e.preventDefault()}}else if(navigator.userAgent.toLowerCase().includes("safari")&&typeof context.touchStarted==="function"){executeDefault=context.touchStarted(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._onmouseup=function(e){var context=this._isGlobal?window:this;var executeDefault;this._setProperty("mouseIsPressed",false);if(typeof context.mouseReleased==="function"){executeDefault=context.mouseReleased(e);if(executeDefault===false){e.preventDefault()}}else if(typeof context.touchEnded==="function"){executeDefault=context.touchEnded(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._ondragend=_main.default.prototype._onmouseup;_main.default.prototype._ondragover=_main.default.prototype._onmousemove;_main.default.prototype._onclick=function(e){var context=this._isGlobal?window:this;if(typeof context.mouseClicked==="function"){var executeDefault=context.mouseClicked(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._ondblclick=function(e){var context=this._isGlobal?window:this;if(typeof context.doubleClicked==="function"){var executeDefault=context.doubleClicked(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._mouseWheelDeltaY=0;_main.default.prototype._pmouseWheelDeltaY=0;_main.default.prototype._onwheel=function(e){var context=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",e.deltaY);if(typeof context.mouseWheel==="function"){e.delta=e.deltaY;var executeDefault=context.mouseWheel(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype.requestPointerLock=function(){var canvas=this._curElement.elt;canvas.requestPointerLock=canvas.requestPointerLock||canvas.mozRequestPointerLock;if(!canvas.requestPointerLock){console.log("requestPointerLock is not implemented in this browser");return false}canvas.requestPointerLock();return true};_main.default.prototype.exitPointerLock=function(){document.exitPointerLock()};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287,"core-js/modules/es.array.includes":174,"core-js/modules/es.string.includes":203}],307:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.string.includes");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.touches=[];_main.default.prototype._updateTouchCoords=function(e){if(this._curElement!==null){var touches=[];for(var i=0;i<e.touches.length;i++){touches[i]=getTouchInfo(this._curElement.elt,this.width,this.height,e,i)}this._setProperty("touches",touches)}};function getTouchInfo(canvas,w,h,e){var i=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var rect=canvas.getBoundingClientRect();var sx=canvas.scrollWidth/w||1;var sy=canvas.scrollHeight/h||1;var touch=e.touches[i]||e.changedTouches[i];return{x:(touch.clientX-rect.left)/sx,y:(touch.clientY-rect.top)/sy,winX:touch.clientX,winY:touch.clientY,id:touch.identifier}}_main.default.prototype._ontouchstart=function(e){var context=this._isGlobal?window:this;var executeDefault;this._setProperty("mouseIsPressed",true);this._updateTouchCoords(e);this._updateNextMouseCoords(e);this._updateMouseCoords();if(typeof context.touchStarted==="function"){executeDefault=context.touchStarted(e);if(executeDefault===false){e.preventDefault()}}else if(navigator.userAgent.toLowerCase().includes("safari")&&typeof context.mousePressed==="function"){executeDefault=context.mousePressed(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._ontouchmove=function(e){var context=this._isGlobal?window:this;var executeDefault;this._updateTouchCoords(e);this._updateNextMouseCoords(e);if(typeof context.touchMoved==="function"){executeDefault=context.touchMoved(e);if(executeDefault===false){e.preventDefault()}}else if(typeof context.mouseDragged==="function"){executeDefault=context.mouseDragged(e);if(executeDefault===false){e.preventDefault()}}};_main.default.prototype._ontouchend=function(e){this._setProperty("mouseIsPressed",false);this._updateTouchCoords(e);this._updateNextMouseCoords(e);var context=this._isGlobal?window:this;var executeDefault;if(typeof context.touchEnded==="function"){executeDefault=context.touchEnded(e);if(executeDefault===false){e.preventDefault()}}else if(typeof context.mouseReleased==="function"){executeDefault=context.mouseReleased(e);if(executeDefault===false){e.preventDefault()}}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.includes":174,"core-js/modules/es.string.includes":203}],308:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.typed-array.int32-array");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var Filters={};Filters._toPixels=function(canvas){if(canvas instanceof ImageData){return canvas.data}else{if(canvas.getContext("2d")){return canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height).data}else if(canvas.getContext("webgl")){var gl=canvas.getContext("webgl");var len=gl.drawingBufferWidth*gl.drawingBufferHeight*4;var data=new Uint8Array(len);gl.readPixels(0,0,canvas.width,canvas.height,gl.RGBA,gl.UNSIGNED_BYTE,data);return data}}};Filters._getARGB=function(data,i){var offset=i*4;return data[offset+3]<<24&4278190080|data[offset]<<16&16711680|data[offset+1]<<8&65280|data[offset+2]&255};Filters._setPixels=function(pixels,data){var offset=0;for(var i=0,al=pixels.length;i<al;i++){offset=i*4;pixels[offset+0]=(data[i]&16711680)>>>16;pixels[offset+1]=(data[i]&65280)>>>8;pixels[offset+2]=data[i]&255;pixels[offset+3]=(data[i]&4278190080)>>>24}};Filters._toImageData=function(canvas){if(canvas instanceof ImageData){return canvas}else{return canvas.getContext("2d").getImageData(0,0,canvas.width,canvas.height)}};Filters._createImageData=function(width,height){Filters._tmpCanvas=document.createElement("canvas");Filters._tmpCtx=Filters._tmpCanvas.getContext("2d");return this._tmpCtx.createImageData(width,height)};Filters.apply=function(canvas,func,filterParam){var pixelsState=canvas.getContext("2d");var imageData=pixelsState.getImageData(0,0,canvas.width,canvas.height);var newImageData=func(imageData,filterParam);if(newImageData instanceof ImageData){pixelsState.putImageData(newImageData,0,0,0,0,canvas.width,canvas.height)}else{pixelsState.putImageData(imageData,0,0,0,0,canvas.width,canvas.height)}};Filters.threshold=function(canvas,level){var pixels=Filters._toPixels(canvas);if(level===undefined){level=.5}var thresh=Math.floor(level*255);for(var i=0;i<pixels.length;i+=4){var r=pixels[i];var g=pixels[i+1];var b=pixels[i+2];var gray=.2126*r+.7152*g+.0722*b;var val=void 0;if(gray>=thresh){val=255}else{val=0}pixels[i]=pixels[i+1]=pixels[i+2]=val}};Filters.gray=function(canvas){var pixels=Filters._toPixels(canvas);for(var i=0;i<pixels.length;i+=4){var r=pixels[i];var g=pixels[i+1];var b=pixels[i+2];var gray=.2126*r+.7152*g+.0722*b;pixels[i]=pixels[i+1]=pixels[i+2]=gray}};Filters.opaque=function(canvas){var pixels=Filters._toPixels(canvas);for(var i=0;i<pixels.length;i+=4){pixels[i+3]=255}return pixels};Filters.invert=function(canvas){var pixels=Filters._toPixels(canvas);for(var i=0;i<pixels.length;i+=4){pixels[i]=255-pixels[i];pixels[i+1]=255-pixels[i+1];pixels[i+2]=255-pixels[i+2]}};Filters.posterize=function(canvas,level){var pixels=Filters._toPixels(canvas);if(level<2||level>255){throw new Error("Level must be greater than 2 and less than 255 for posterize")}var levels1=level-1;for(var i=0;i<pixels.length;i+=4){var rlevel=pixels[i];var glevel=pixels[i+1];var blevel=pixels[i+2];pixels[i]=(rlevel*level>>8)*255/levels1;pixels[i+1]=(glevel*level>>8)*255/levels1;pixels[i+2]=(blevel*level>>8)*255/levels1}};Filters.dilate=function(canvas){var pixels=Filters._toPixels(canvas);var currIdx=0;var maxIdx=pixels.length?pixels.length/4:0;var out=new Int32Array(maxIdx);var currRowIdx,maxRowIdx,colOrig,colOut,currLum;var idxRight,idxLeft,idxUp,idxDown;var colRight,colLeft,colUp,colDown;var lumRight,lumLeft,lumUp,lumDown;while(currIdx<maxIdx){currRowIdx=currIdx;maxRowIdx=currIdx+canvas.width;while(currIdx<maxRowIdx){colOrig=colOut=Filters._getARGB(pixels,currIdx);idxLeft=currIdx-1;idxRight=currIdx+1;idxUp=currIdx-canvas.width;idxDown=currIdx+canvas.width;if(idxLeft<currRowIdx){idxLeft=currIdx}if(idxRight>=maxRowIdx){idxRight=currIdx}if(idxUp<0){idxUp=0}if(idxDown>=maxIdx){idxDown=currIdx}colUp=Filters._getARGB(pixels,idxUp);colLeft=Filters._getARGB(pixels,idxLeft);colDown=Filters._getARGB(pixels,idxDown);colRight=Filters._getARGB(pixels,idxRight);currLum=77*(colOrig>>16&255)+151*(colOrig>>8&255)+28*(colOrig&255);lumLeft=77*(colLeft>>16&255)+151*(colLeft>>8&255)+28*(colLeft&255);lumRight=77*(colRight>>16&255)+151*(colRight>>8&255)+28*(colRight&255);lumUp=77*(colUp>>16&255)+151*(colUp>>8&255)+28*(colUp&255);lumDown=77*(colDown>>16&255)+151*(colDown>>8&255)+28*(colDown&255);if(lumLeft>currLum){colOut=colLeft;currLum=lumLeft}if(lumRight>currLum){colOut=colRight;currLum=lumRight}if(lumUp>currLum){colOut=colUp;currLum=lumUp}if(lumDown>currLum){colOut=colDown;currLum=lumDown}out[currIdx++]=colOut}}Filters._setPixels(pixels,out)};Filters.erode=function(canvas){var pixels=Filters._toPixels(canvas);var currIdx=0;var maxIdx=pixels.length?pixels.length/4:0;var out=new Int32Array(maxIdx);var currRowIdx,maxRowIdx,colOrig,colOut,currLum;var idxRight,idxLeft,idxUp,idxDown;var colRight,colLeft,colUp,colDown;var lumRight,lumLeft,lumUp,lumDown;while(currIdx<maxIdx){currRowIdx=currIdx;maxRowIdx=currIdx+canvas.width;while(currIdx<maxRowIdx){colOrig=colOut=Filters._getARGB(pixels,currIdx);idxLeft=currIdx-1;idxRight=currIdx+1;idxUp=currIdx-canvas.width;idxDown=currIdx+canvas.width;if(idxLeft<currRowIdx){idxLeft=currIdx}if(idxRight>=maxRowIdx){idxRight=currIdx}if(idxUp<0){idxUp=0}if(idxDown>=maxIdx){idxDown=currIdx}colUp=Filters._getARGB(pixels,idxUp);colLeft=Filters._getARGB(pixels,idxLeft);colDown=Filters._getARGB(pixels,idxDown);colRight=Filters._getARGB(pixels,idxRight);currLum=77*(colOrig>>16&255)+151*(colOrig>>8&255)+28*(colOrig&255);lumLeft=77*(colLeft>>16&255)+151*(colLeft>>8&255)+28*(colLeft&255);lumRight=77*(colRight>>16&255)+151*(colRight>>8&255)+28*(colRight&255);lumUp=77*(colUp>>16&255)+151*(colUp>>8&255)+28*(colUp&255);lumDown=77*(colDown>>16&255)+151*(colDown>>8&255)+28*(colDown&255);if(lumLeft<currLum){colOut=colLeft;currLum=lumLeft}if(lumRight<currLum){colOut=colRight;currLum=lumRight}if(lumUp<currLum){colOut=colUp;currLum=lumUp}if(lumDown<currLum){colOut=colDown;currLum=lumDown}out[currIdx++]=colOut}}Filters._setPixels(pixels,out)};var blurRadius;var blurKernelSize;var blurKernel;var blurMult;function buildBlurKernel(r){var radius=r*3.5|0;radius=radius<1?1:radius<248?radius:248;if(blurRadius!==radius){blurRadius=radius;blurKernelSize=1+blurRadius<<1;blurKernel=new Int32Array(blurKernelSize);blurMult=new Array(blurKernelSize);for(var l=0;l<blurKernelSize;l++){blurMult[l]=new Int32Array(256)}var bk,bki;var bm,bmi;for(var i=1,radiusi=radius-1;i<radius;i++){blurKernel[radius+i]=blurKernel[radiusi]=bki=radiusi*radiusi;bm=blurMult[radius+i];bmi=blurMult[radiusi--];for(var j=0;j<256;j++){bm[j]=bmi[j]=bki*j}}bk=blurKernel[radius]=radius*radius;bm=blurMult[radius];for(var k=0;k<256;k++){bm[k]=bk*k}}}function blurARGB(canvas,radius){var pixels=Filters._toPixels(canvas);var width=canvas.width;var height=canvas.height;var numPackedPixels=width*height;var argb=new Int32Array(numPackedPixels);for(var j=0;j<numPackedPixels;j++){argb[j]=Filters._getARGB(pixels,j)}var sum,cr,cg,cb,ca;var read,ri,ym,ymi,bk0;var a2=new Int32Array(numPackedPixels);var r2=new Int32Array(numPackedPixels);var g2=new Int32Array(numPackedPixels);var b2=new Int32Array(numPackedPixels);var yi=0;buildBlurKernel(radius);var x,y,i;var bm;for(y=0;y<height;y++){for(x=0;x<width;x++){cb=cg=cr=ca=sum=0;read=x-blurRadius;if(read<0){bk0=-read;read=0}else{if(read>=width){break}bk0=0}for(i=bk0;i<blurKernelSize;i++){if(read>=width){break}var c=argb[read+yi];bm=blurMult[i];ca+=bm[(c&-16777216)>>>24];cr+=bm[(c&16711680)>>16];cg+=bm[(c&65280)>>8];cb+=bm[c&255];sum+=blurKernel[i];read++}ri=yi+x;a2[ri]=ca/sum;r2[ri]=cr/sum;g2[ri]=cg/sum;b2[ri]=cb/sum}yi+=width}yi=0;ym=-blurRadius;ymi=ym*width;for(y=0;y<height;y++){for(x=0;x<width;x++){cb=cg=cr=ca=sum=0;if(ym<0){bk0=ri=-ym;read=x}else{if(ym>=height){break}bk0=0;ri=ym;read=x+ymi}for(i=bk0;i<blurKernelSize;i++){if(ri>=height){break}bm=blurMult[i];ca+=bm[a2[read]];cr+=bm[r2[read]];cg+=bm[g2[read]];cb+=bm[b2[read]];sum+=blurKernel[i];ri++;read+=width}argb[x+yi]=ca/sum<<24|cr/sum<<16|cg/sum<<8|cb/sum}yi+=width;ymi+=width;ym++}Filters._setPixels(pixels,argb)}Filters.blur=function(canvas,radius){blurARGB(canvas,radius)};var _default=Filters;exports.default=_default},{"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.int32-array":227,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint8-array":244}],309:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.from");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.set");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.uint32-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var _omggif=_interopRequireDefault(_dereq_("omggif"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}_main.default.prototype.createImage=function(width,height){_main.default._validateParameters("createImage",arguments);return new _main.default.Image(width,height)};_main.default.prototype.saveCanvas=function(){_main.default._validateParameters("saveCanvas",arguments);var args=[].slice.call(arguments);var htmlCanvas,filename,extension;if(arguments[0]instanceof HTMLCanvasElement){htmlCanvas=arguments[0];args.shift()}else if(arguments[0]instanceof _main.default.Element){htmlCanvas=arguments[0].elt;args.shift()}else{htmlCanvas=this._curElement&&this._curElement.elt}if(args.length>=1){filename=args[0]}if(args.length>=2){extension=args[1]}extension=extension||_main.default.prototype._checkFileExtension(filename,extension)[1]||"png";var mimeType;switch(extension){default:mimeType="image/png";break;case"jpeg":case"jpg":mimeType="image/jpeg";break}htmlCanvas.toBlob(function(blob){_main.default.prototype.downloadFile(blob,filename,extension)},mimeType)};_main.default.prototype.saveGif=function(pImg,filename){var props=pImg.gifProperties;var loopLimit=props.loopLimit;if(loopLimit===1){loopLimit=null}else if(loopLimit===null){loopLimit=0}var buffer=new Uint8Array(pImg.width*pImg.height*props.numFrames);var allFramesPixelColors=[];var paletteFreqsAndFrames={};for(var i=0;i<props.numFrames;i++){var paletteSet=new Set;var data=props.frames[i].image.data;var dataLength=data.length;var pixelColors=new Uint32Array(pImg.width*pImg.height);for(var j=0,k=0;j<dataLength;j+=4,k++){var r=data[j+0];var g=data[j+1];var b=data[j+2];var color=r<<16|g<<8|b<<0;paletteSet.add(color);pixelColors[k]=color}var paletteStr=_toConsumableArray(paletteSet).sort().toString();if(paletteFreqsAndFrames[paletteStr]===undefined){paletteFreqsAndFrames[paletteStr]={freq:1,frames:[i]}}else{paletteFreqsAndFrames[paletteStr].freq+=1;paletteFreqsAndFrames[paletteStr].frames.push(i)}allFramesPixelColors.push(pixelColors)}var framesUsingGlobalPalette=[];var palettesSortedByFreq=Object.keys(paletteFreqsAndFrames).sort(function(a,b){return paletteFreqsAndFrames[b].freq-paletteFreqsAndFrames[a].freq});var globalPalette=palettesSortedByFreq[0].split(",").map(function(a){return parseInt(a)});framesUsingGlobalPalette=framesUsingGlobalPalette.concat(paletteFreqsAndFrames[globalPalette].frames);var globalPaletteSet=new Set(globalPalette);for(var _i=1;_i<palettesSortedByFreq.length;_i++){var palette=palettesSortedByFreq[_i].split(",").map(function(a){return parseInt(a)});var difference=palette.filter(function(x){return!globalPaletteSet.has(x)});if(globalPalette.length+difference.length<=256){for(var _j=0;_j<difference.length;_j++){globalPalette.push(difference[_j]);globalPaletteSet.add(difference[_j])}framesUsingGlobalPalette=framesUsingGlobalPalette.concat(paletteFreqsAndFrames[palettesSortedByFreq[_i]].frames)}}framesUsingGlobalPalette=new Set(framesUsingGlobalPalette);var globalIndicesLookup={};for(var _i2=0;_i2<globalPalette.length;_i2++){if(!globalIndicesLookup[globalPalette[_i2]]){globalIndicesLookup[globalPalette[_i2]]=_i2}}var powof2=1;while(powof2<globalPalette.length){powof2<<=1}globalPalette.length=powof2;var opts={loop:loopLimit,palette:new Uint32Array(globalPalette)};var gifWriter=new _omggif.default.GifWriter(buffer,pImg.width,pImg.height,opts);var previousFrame={};var _loop=function _loop(_i3){var localPaletteRequired=!framesUsingGlobalPalette.has(_i3);var palette=localPaletteRequired?[]:globalPalette;var pixelPaletteIndex=new Uint8Array(pImg.width*pImg.height);var colorIndicesLookup={};var cannotBeTransparent=new Set;for(var _k=0;_k<allFramesPixelColors[_i3].length;_k++){var _color=allFramesPixelColors[_i3][_k];if(localPaletteRequired){if(colorIndicesLookup[_color]===undefined){colorIndicesLookup[_color]=palette.length;palette.push(_color)}pixelPaletteIndex[_k]=colorIndicesLookup[_color]}else{pixelPaletteIndex[_k]=globalIndicesLookup[_color]}if(_i3>0){if(allFramesPixelColors[_i3-1][_k]!==_color){cannotBeTransparent.add(_color)}}}var frameOpts={};var canBeTransparent=palette.filter(function(a){return!cannotBeTransparent.has(a)});if(canBeTransparent.length>0){var transparent=canBeTransparent[0];var transparentIndex=localPaletteRequired?colorIndicesLookup[transparent]:globalIndicesLookup[transparent];if(_i3>0){for(var _k2=0;_k2<allFramesPixelColors[_i3].length;_k2++){if(allFramesPixelColors[_i3-1][_k2]===allFramesPixelColors[_i3][_k2]){pixelPaletteIndex[_k2]=transparentIndex}}frameOpts.transparent=transparentIndex;previousFrame.frameOpts.disposal=1}}frameOpts.delay=props.frames[_i3].delay/10;if(localPaletteRequired){var _powof=1;while(_powof<palette.length){_powof<<=1}palette.length=_powof;frameOpts.palette=new Uint32Array(palette)}if(_i3>0){gifWriter.addFrame(0,0,pImg.width,pImg.height,previousFrame.pixelPaletteIndex,previousFrame.frameOpts)}previousFrame={pixelPaletteIndex:pixelPaletteIndex,frameOpts:frameOpts}};for(var _i3=0;_i3<props.numFrames;_i3++){_loop(_i3)}previousFrame.frameOpts.disposal=1;gifWriter.addFrame(0,0,pImg.width,pImg.height,previousFrame.pixelPaletteIndex,previousFrame.frameOpts);var extension="gif";var blob=new Blob([buffer.slice(0,gifWriter.end())],{type:"image/gif"});_main.default.prototype.downloadFile(blob,filename,extension)};_main.default.prototype.saveFrames=function(fName,ext,_duration,_fps,callback){_main.default._validateParameters("saveFrames",arguments);var duration=_duration||3;duration=_main.default.prototype.constrain(duration,0,15);duration=duration*1e3;var fps=_fps||15;fps=_main.default.prototype.constrain(fps,0,22);var count=0;var makeFrame=_main.default.prototype._makeFrame;var cnv=this._curElement.elt;var frames=[];var frameFactory=setInterval(function(){frames.push(makeFrame(fName+count,ext,cnv));count++},1e3/fps);setTimeout(function(){clearInterval(frameFactory);if(callback){callback(frames)}else{var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=frames[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var f=_step.value;_main.default.prototype.downloadFile(f.imageData,f.filename,f.ext)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}frames=[]},duration+.01)};_main.default.prototype._makeFrame=function(filename,extension,_cnv){var cnv;if(this){cnv=this._curElement.elt}else{cnv=_cnv}var mimeType;if(!extension){extension="png";mimeType="image/png"}else{switch(extension.toLowerCase()){case"png":mimeType="image/png";break;case"jpeg":mimeType="image/jpeg";break;case"jpg":mimeType="image/jpeg";break;default:mimeType="image/png";break}}var downloadMime="image/octet-stream";var imageData=cnv.toDataURL(mimeType);imageData=imageData.replace(mimeType,downloadMime);var thisFrame={};thisFrame.imageData=imageData;thisFrame.filename=filename;thisFrame.ext=extension;return thisFrame};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.from":173,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.set":201,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.split":209,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint32-array":243,"core-js/modules/es.typed-array.uint8-array":244,"core-js/modules/web.dom-collections.iterator":247,omggif:260}],310:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.promise");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.uint8-clamped-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var _filters=_interopRequireDefault(_dereq_("./filters"));var _helpers=_interopRequireDefault(_dereq_("../core/helpers"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));var _omggif=_interopRequireDefault(_dereq_("omggif"));_dereq_("../core/friendly_errors/validate_params");_dereq_("../core/friendly_errors/file_errors");_dereq_("../core/friendly_errors/fes_core");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.loadImage=function(path,successCallback,failureCallback){_main.default._validateParameters("loadImage",arguments);var pImg=new _main.default.Image(1,1,this);var self=this;var req=new Request(path,{method:"GET",mode:"cors"});fetch(path,req).then(function(response){var contentType=response.headers.get("content-type");if(contentType===null){console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset.")}if(contentType&&contentType.includes("image/gif")){response.arrayBuffer().then(function(arrayBuffer){if(arrayBuffer){var byteArray=new Uint8Array(arrayBuffer);_createGif(byteArray,pImg,successCallback,failureCallback,function(pImg){self._decrementPreload()}.bind(self))}},function(e){if(typeof failureCallback==="function"){failureCallback(e)}else{console.error(e)}})}else{var img=new Image;img.onload=function(){pImg.width=pImg.canvas.width=img.width;pImg.height=pImg.canvas.height=img.height;pImg.drawingContext.drawImage(img,0,0);pImg.modified=true;if(typeof successCallback==="function"){successCallback(pImg)}self._decrementPreload()};img.onerror=function(e){_main.default._friendlyFileLoadError(0,img.src);if(typeof failureCallback==="function"){failureCallback(e)}else{console.error(e)}};if(path.indexOf("data:image/")!==0){img.crossOrigin="Anonymous"}img.src=path}pImg.modified=true}).catch(function(e){_main.default._friendlyFileLoadError(0,path);if(typeof failureCallback==="function"){failureCallback(e)}else{console.error(e)}});return pImg};function _createGif(arrayBuffer,pImg,successCallback,failureCallback,finishCallback){var gifReader=new _omggif.default.GifReader(arrayBuffer);pImg.width=pImg.canvas.width=gifReader.width;pImg.height=pImg.canvas.height=gifReader.height;var frames=[];var numFrames=gifReader.numFrames();var framePixels=new Uint8ClampedArray(pImg.width*pImg.height*4);if(numFrames>1){var loadGIFFrameIntoImage=function loadGIFFrameIntoImage(frameNum,gifReader){try{gifReader.decodeAndBlitFrameRGBA(frameNum,framePixels)}catch(e){_main.default._friendlyFileLoadError(8,pImg.src);if(typeof failureCallback==="function"){failureCallback(e)}else{console.error(e)}}};for(var j=0;j<numFrames;j++){var frameInfo=gifReader.frameInfo(j);var prevFrameData=pImg.drawingContext.getImageData(0,0,pImg.width,pImg.height);framePixels=prevFrameData.data.slice();loadGIFFrameIntoImage(j,gifReader);var imageData=new ImageData(framePixels,pImg.width,pImg.height);pImg.drawingContext.putImageData(imageData,0,0);var frameDelay=frameInfo.delay;if(frameDelay===0){frameDelay=10}frames.push({image:pImg.drawingContext.getImageData(0,0,pImg.width,pImg.height),delay:frameDelay*10});if(frameInfo.disposal===2){pImg.drawingContext.clearRect(frameInfo.x,frameInfo.y,frameInfo.width,frameInfo.height)}else if(frameInfo.disposal===3){pImg.drawingContext.putImageData(prevFrameData,0,0,frameInfo.x,frameInfo.y,frameInfo.width,frameInfo.height)}}var loopLimit=gifReader.loopCount();if(loopLimit===null){loopLimit=1}else if(loopLimit===0){loopLimit=null}pImg.drawingContext.putImageData(frames[0].image,0,0);pImg.gifProperties={displayIndex:0,loopLimit:loopLimit,loopCount:0,frames:frames,numFrames:numFrames,playing:true,timeDisplayed:0,lastChangeTime:0}}if(typeof successCallback==="function"){successCallback(pImg)}finishCallback()}function _sAssign(sVal,iVal){if(sVal>0&&sVal<iVal){return sVal}else{return iVal}}_main.default.prototype.image=function(img,dx,dy,dWidth,dHeight,sx,sy,sWidth,sHeight){_main.default._validateParameters("image",arguments);var defW=img.width;var defH=img.height;if(img.elt&&img.elt.videoWidth&&!img.canvas){defW=img.elt.videoWidth;defH=img.elt.videoHeight}var _dx=dx;var _dy=dy;var _dw=dWidth||defW;var _dh=dHeight||defH;var _sx=sx||0;var _sy=sy||0;var _sw=sWidth||defW;var _sh=sHeight||defH;_sw=_sAssign(_sw,defW);_sh=_sAssign(_sh,defH);var pd=1;if(img.elt&&!img.canvas&&img.elt.style.width){if(img.elt.videoWidth&&!dWidth){pd=img.elt.videoWidth}else{pd=img.elt.width}pd/=parseInt(img.elt.style.width,10)}_sx*=pd;_sy*=pd;_sh*=pd;_sw*=pd;var vals=_helpers.default.modeAdjust(_dx,_dy,_dw,_dh,this._renderer._imageMode);this._renderer.image(img,_sx,_sy,_sw,_sh,vals.x,vals.y,vals.w,vals.h)};_main.default.prototype.tint=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("tint",args);var c=this.color.apply(this,args);this._renderer._tint=c.levels};_main.default.prototype.noTint=function(){this._renderer._tint=null};_main.default.prototype._getTintedImageCanvas=function(img){if(!img.canvas){return img}var pixels=_filters.default._toPixels(img.canvas);var tmpCanvas=document.createElement("canvas");tmpCanvas.width=img.canvas.width;tmpCanvas.height=img.canvas.height;var tmpCtx=tmpCanvas.getContext("2d");var id=tmpCtx.createImageData(img.canvas.width,img.canvas.height);var newPixels=id.data;for(var i=0;i<pixels.length;i+=4){var r=pixels[i];var g=pixels[i+1];var b=pixels[i+2];var a=pixels[i+3];newPixels[i]=r*this._renderer._tint[0]/255;newPixels[i+1]=g*this._renderer._tint[1]/255;newPixels[i+2]=b*this._renderer._tint[2]/255;newPixels[i+3]=a*this._renderer._tint[3]/255}tmpCtx.putImageData(id,0,0);return tmpCanvas};_main.default.prototype.imageMode=function(m){_main.default._validateParameters("imageMode",arguments);if(m===constants.CORNER||m===constants.CORNERS||m===constants.CENTER){this._renderer._imageMode=m}};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/friendly_errors/fes_core":278,"../core/friendly_errors/file_errors":279,"../core/friendly_errors/validate_params":282,"../core/helpers":283,"../core/main":287,"./filters":308,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.to-string":195,"core-js/modules/es.promise":196,"core-js/modules/es.string.includes":203,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint8-array":244,"core-js/modules/es.typed-array.uint8-clamped-array":245,omggif:260}],311:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var _filters=_interopRequireDefault(_dereq_("./filters"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Image=function(width,height){this.width=width;this.height=height;this.canvas=document.createElement("canvas");this.canvas.width=this.width;this.canvas.height=this.height;this.drawingContext=this.canvas.getContext("2d");this._pixelsState=this;this._pixelDensity=1;this.gifProperties=null;this._modified=false;this.pixels=[]};_main.default.Image.prototype._animateGif=function(pInst){var props=this.gifProperties;var curTime=pInst._lastFrameTime;if(props.lastChangeTime===0){props.lastChangeTime=curTime}if(props.playing){props.timeDisplayed=curTime-props.lastChangeTime;var curDelay=props.frames[props.displayIndex].delay;if(props.timeDisplayed>=curDelay){var skips=Math.floor(props.timeDisplayed/curDelay);props.timeDisplayed=0;props.lastChangeTime=curTime;props.displayIndex+=skips;props.loopCount=Math.floor(props.displayIndex/props.numFrames);if(props.loopLimit!==null&&props.loopCount>=props.loopLimit){props.playing=false}else{var ind=props.displayIndex%props.numFrames;this.drawingContext.putImageData(props.frames[ind].image,0,0);props.displayIndex=ind;this.setModified(true)}}}};_main.default.Image.prototype._setProperty=function(prop,value){this[prop]=value;this.setModified(true)};_main.default.Image.prototype.loadPixels=function(){_main.default.Renderer2D.prototype.loadPixels.call(this);this.setModified(true)};_main.default.Image.prototype.updatePixels=function(x,y,w,h){_main.default.Renderer2D.prototype.updatePixels.call(this,x,y,w,h);this.setModified(true)};_main.default.Image.prototype.get=function(x,y,w,h){_main.default._validateParameters("p5.Image.get",arguments);return _main.default.Renderer2D.prototype.get.apply(this,arguments)};_main.default.Image.prototype._getPixel=_main.default.Renderer2D.prototype._getPixel;_main.default.Image.prototype.set=function(x,y,imgOrCol){_main.default.Renderer2D.prototype.set.call(this,x,y,imgOrCol);this.setModified(true)};_main.default.Image.prototype.resize=function(width,height){if(width===0&&height===0){width=this.canvas.width;height=this.canvas.height}else if(width===0){width=this.canvas.width*height/this.canvas.height}else if(height===0){height=this.canvas.height*width/this.canvas.width}width=Math.floor(width);height=Math.floor(height);var tempCanvas=document.createElement("canvas");tempCanvas.width=width;tempCanvas.height=height;if(this.gifProperties){var props=this.gifProperties;var nearestNeighbor=function nearestNeighbor(src,dst){var pos=0;for(var y=0;y<dst.height;y++){for(var x=0;x<dst.width;x++){var srcX=Math.floor(x*src.width/dst.width);var srcY=Math.floor(y*src.height/dst.height);var srcPos=(srcY*src.width+srcX)*4;dst.data[pos++]=src.data[srcPos++];dst.data[pos++]=src.data[srcPos++];dst.data[pos++]=src.data[srcPos++];dst.data[pos++]=src.data[srcPos++]}}};for(var i=0;i<props.numFrames;i++){var resizedImageData=this.drawingContext.createImageData(width,height);nearestNeighbor(props.frames[i].image,resizedImageData);props.frames[i].image=resizedImageData}}tempCanvas.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,tempCanvas.width,tempCanvas.height);this.canvas.width=this.width=width;this.canvas.height=this.height=height;this.drawingContext.drawImage(tempCanvas,0,0,width,height,0,0,width,height);if(this.pixels.length>0){this.loadPixels()}this.setModified(true)};_main.default.Image.prototype.copy=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default.prototype.copy.apply(this,args)};_main.default.Image.prototype.mask=function(p5Image){if(p5Image===undefined){p5Image=this}var currBlend=this.drawingContext.globalCompositeOperation;var scaleFactor=1;if(p5Image instanceof _main.default.Renderer){scaleFactor=p5Image._pInst._pixelDensity}var copyArgs=[p5Image,0,0,scaleFactor*p5Image.width,scaleFactor*p5Image.height,0,0,this.width,this.height];this.drawingContext.globalCompositeOperation="destination-in";_main.default.Image.prototype.copy.apply(this,copyArgs);this.drawingContext.globalCompositeOperation=currBlend;this.setModified(true)};_main.default.Image.prototype.filter=function(operation,value){_filters.default.apply(this.canvas,_filters.default[operation],value);this.setModified(true)};_main.default.Image.prototype.blend=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("p5.Image.blend",arguments);_main.default.prototype.blend.apply(this,args);this.setModified(true)};_main.default.Image.prototype.setModified=function(val){this._modified=val};_main.default.Image.prototype.isModified=function(){return this._modified};_main.default.Image.prototype.save=function(filename,extension){if(this.gifProperties){_main.default.prototype.saveGif(this,filename)}else{_main.default.prototype.saveCanvas(this.canvas,filename,extension)}};_main.default.Image.prototype.reset=function(){if(this.gifProperties){var props=this.gifProperties;props.playing=true;props.timeSinceStart=0;props.timeDisplayed=0;props.lastChangeTime=0;props.loopCount=0;props.displayIndex=0;this.drawingContext.putImageData(props.frames[0].image,0,0)}};_main.default.Image.prototype.getCurrentFrame=function(){if(this.gifProperties){var props=this.gifProperties;return props.displayIndex%props.numFrames}};_main.default.Image.prototype.setFrame=function(index){if(this.gifProperties){var props=this.gifProperties;if(index<props.numFrames&&index>=0){props.timeDisplayed=0;props.lastChangeTime=0;props.displayIndex=index;this.drawingContext.putImageData(props.frames[index].image,0,0)}else{console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero.")}}};_main.default.Image.prototype.numFrames=function(){if(this.gifProperties){return this.gifProperties.numFrames}};_main.default.Image.prototype.play=function(){if(this.gifProperties){this.gifProperties.playing=true}};_main.default.Image.prototype.pause=function(){if(this.gifProperties){this.gifProperties.playing=false}};_main.default.Image.prototype.delay=function(d,index){if(this.gifProperties){var props=this.gifProperties;if(index<props.numFrames&&index>=0){props.frames[index].delay=d}else{var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=props.frames[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var frame=_step.value;frame.delay=d}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}}};var _default=_main.default.Image;exports.default=_default},{"../core/main":287,"./filters":308,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],312:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.filter");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var _filters=_interopRequireDefault(_dereq_("./filters"));_dereq_("../color/p5.Color");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.pixels=[];_main.default.prototype.blend=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("blend",args);if(this._renderer){var _this$_renderer;(_this$_renderer=this._renderer).blend.apply(_this$_renderer,args)}else{_main.default.Renderer2D.prototype.blend.apply(this,args)}};_main.default.prototype.copy=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("copy",args);var srcImage,sx,sy,sw,sh,dx,dy,dw,dh;if(args.length===9){srcImage=args[0];sx=args[1];sy=args[2];sw=args[3];sh=args[4];dx=args[5];dy=args[6];dw=args[7];dh=args[8]}else if(args.length===8){srcImage=this;sx=args[0];sy=args[1];sw=args[2];sh=args[3];dx=args[4];dy=args[5];dw=args[6];dh=args[7]}else{throw new Error("Signature not supported")}_main.default.prototype._copyHelper(this,srcImage,sx,sy,sw,sh,dx,dy,dw,dh)};_main.default.prototype._copyHelper=function(dstImage,srcImage,sx,sy,sw,sh,dx,dy,dw,dh){srcImage.loadPixels();var s=srcImage.canvas.width/srcImage.width;var sxMod=0;var syMod=0;if(srcImage._renderer&&srcImage._renderer.isP3D){sxMod=srcImage.width/2;syMod=srcImage.height/2}if(dstImage._renderer&&dstImage._renderer.isP3D){_main.default.RendererGL.prototype.image.call(dstImage._renderer,srcImage,sx+sxMod,sy+syMod,sw,sh,dx,dy,dw,dh)}else{dstImage.drawingContext.drawImage(srcImage.canvas,s*(sx+sxMod),s*(sy+syMod),s*sw,s*sh,dx,dy,dw,dh)}};_main.default.prototype.filter=function(operation,value){_main.default._validateParameters("filter",arguments);if(this.canvas!==undefined){_filters.default.apply(this.canvas,_filters.default[operation],value)}else{_filters.default.apply(this.elt,_filters.default[operation],value)}};_main.default.prototype.get=function(x,y,w,h){var _this$_renderer2;_main.default._validateParameters("get",arguments);return(_this$_renderer2=this._renderer).get.apply(_this$_renderer2,arguments)};_main.default.prototype.loadPixels=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}_main.default._validateParameters("loadPixels",args);this._renderer.loadPixels()};_main.default.prototype.set=function(x,y,imgOrCol){this._renderer.set(x,y,imgOrCol)};_main.default.prototype.updatePixels=function(x,y,w,h){_main.default._validateParameters("updatePixels",arguments);if(this.pixels.length===0){return}this._renderer.updatePixels(x,y,w,h)};var _default=_main.default;exports.default=_default},{"../color/p5.Color":273,"../core/main":287,"./filters":308,"core-js/modules/es.array.filter":170}],313:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.last-index-of");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.promise");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");_dereq_("core-js/modules/web.url");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));_dereq_("whatwg-fetch");_dereq_("es6-promise/auto");var _fetchJsonp=_interopRequireDefault(_dereq_("fetch-jsonp"));var _fileSaver=_interopRequireDefault(_dereq_("file-saver"));_dereq_("../core/friendly_errors/validate_params");_dereq_("../core/friendly_errors/file_errors");_dereq_("../core/friendly_errors/fes_core");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_main.default.prototype.loadJSON=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("loadJSON",args);var path=args[0];var callback;var errorCallback;var options;var ret={};var t="json";for(var i=1;i<args.length;i++){var arg=args[i];if(typeof arg==="string"){if(arg==="jsonp"||arg==="json"){t=arg}}else if(typeof arg==="function"){if(!callback){callback=arg}else{errorCallback=arg}}else if(_typeof(arg)==="object"&&(arg.hasOwnProperty("jsonpCallback")||arg.hasOwnProperty("jsonpCallbackFunction"))){t="jsonp";options=arg}}var self=this;this.httpDo(path,"GET",options,t,function(resp){for(var k in resp){ret[k]=resp[k]}if(typeof callback!=="undefined"){callback(resp)}self._decrementPreload()},function(err){_main.default._friendlyFileLoadError(5,path);if(errorCallback){errorCallback(err)}else{throw err}});return ret};_main.default.prototype.loadStrings=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("loadStrings",args);var ret=[];var callback,errorCallback;for(var i=1;i<args.length;i++){var arg=args[i];if(typeof arg==="function"){if(typeof callback==="undefined"){callback=arg}else if(typeof errorCallback==="undefined"){errorCallback=arg}}}var self=this;_main.default.prototype.httpDo.call(this,args[0],"GET","text",function(data){var lines=data.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/);var QUANTUM=32768;for(var _i=0,len=lines.length;_i<len;_i+=QUANTUM){Array.prototype.push.apply(ret,lines.slice(_i,Math.min(_i+QUANTUM,len)))}if(typeof callback!=="undefined"){callback(ret)}self._decrementPreload()},function(err){_main.default._friendlyFileLoadError(3,arguments[0]);if(errorCallback){errorCallback(err)}else{throw err}});return ret};_main.default.prototype.loadTable=function(path){var callback;var errorCallback;var options=[];var header=false;var ext=path.substring(path.lastIndexOf(".")+1,path.length);var sep;if(ext==="csv"){sep=","}else if(ext==="ssv"){sep=";"}else if(ext==="tsv"){sep="\t"}for(var i=1;i<arguments.length;i++){if(typeof arguments[i]==="function"){if(typeof callback==="undefined"){callback=arguments[i]}else if(typeof errorCallback==="undefined"){errorCallback=arguments[i]}}else if(typeof arguments[i]==="string"){options.push(arguments[i]);if(arguments[i]==="header"){header=true}if(arguments[i]==="csv"){sep=","}else if(arguments[i]==="ssv"){sep=";"}else if(arguments[i]==="tsv"){sep="\t"}}}var t=new _main.default.Table;var self=this;this.httpDo(path,"GET","table",function(resp){var state={};var PRE_TOKEN=0,MID_TOKEN=1,POST_TOKEN=2,POST_RECORD=4;var QUOTE='"',CR="\r",LF="\n";var records=[];var offset=0;var currentRecord=null;var currentChar;var tokenBegin=function tokenBegin(){state.currentState=PRE_TOKEN;state.token=""};var tokenEnd=function tokenEnd(){currentRecord.push(state.token);tokenBegin()};var recordBegin=function recordBegin(){state.escaped=false;currentRecord=[];tokenBegin()};var recordEnd=function recordEnd(){state.currentState=POST_RECORD;records.push(currentRecord);currentRecord=null};for(;;){currentChar=resp[offset++];if(currentChar==null){if(state.escaped){throw new Error("Unclosed quote in file.")}if(currentRecord){tokenEnd();recordEnd();break}}if(currentRecord===null){recordBegin()}if(state.currentState===PRE_TOKEN){if(currentChar===QUOTE){state.escaped=true;state.currentState=MID_TOKEN;continue}state.currentState=MID_TOKEN}if(state.currentState===MID_TOKEN&&state.escaped){if(currentChar===QUOTE){if(resp[offset]===QUOTE){state.token+=QUOTE;offset++}else{state.escaped=false;state.currentState=POST_TOKEN}}else if(currentChar===CR){continue}else{state.token+=currentChar}continue}if(currentChar===CR){if(resp[offset]===LF){offset++}tokenEnd();recordEnd()}else if(currentChar===LF){tokenEnd();recordEnd()}else if(currentChar===sep){tokenEnd()}else if(state.currentState===MID_TOKEN){state.token+=currentChar}}if(header){t.columns=records.shift()}else{for(var _i2=0;_i2<records[0].length;_i2++){t.columns[_i2]="null"}}var row;for(var _i3=0;_i3<records.length;_i3++){if(records[_i3].length===1){if(records[_i3][0]==="undefined"||records[_i3][0]===""){continue}}row=new _main.default.TableRow;row.arr=records[_i3];row.obj=makeObject(records[_i3],t.columns);t.addRow(row)}if(typeof callback==="function"){callback(t)}self._decrementPreload()},function(err){_main.default._friendlyFileLoadError(2,path);if(errorCallback){errorCallback(err)}else{console.error(err)}});return t};function makeObject(row,headers){var ret={};headers=headers||[];if(typeof headers==="undefined"){for(var j=0;j<row.length;j++){headers[j.toString()]=j}}for(var i=0;i<headers.length;i++){var key=headers[i];var val=row[i];ret[key]=val}return ret}_main.default.prototype.loadXML=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}var ret=new _main.default.XML;var callback,errorCallback;for(var i=1;i<args.length;i++){var arg=args[i];if(typeof arg==="function"){if(typeof callback==="undefined"){callback=arg}else if(typeof errorCallback==="undefined"){errorCallback=arg}}}var self=this;this.httpDo(args[0],"GET","xml",function(xml){for(var key in xml){ret[key]=xml[key]}if(typeof callback!=="undefined"){callback(ret)}self._decrementPreload()},function(err){_main.default._friendlyFileLoadError(1,arguments[0]);if(errorCallback){errorCallback(err)}else{throw err}});return ret};_main.default.prototype.loadBytes=function(file,callback,errorCallback){var ret={};var self=this;this.httpDo(file,"GET","arrayBuffer",function(arrayBuffer){ret.bytes=new Uint8Array(arrayBuffer);if(typeof callback==="function"){callback(ret)}self._decrementPreload()},function(err){_main.default._friendlyFileLoadError(6,file);if(errorCallback){errorCallback(err)}else{throw err}});return ret};_main.default.prototype.httpGet=function(){_main.default._validateParameters("httpGet",arguments);var args=Array.prototype.slice.call(arguments);args.splice(1,0,"GET");return _main.default.prototype.httpDo.apply(this,args)};_main.default.prototype.httpPost=function(){_main.default._validateParameters("httpPost",arguments);var args=Array.prototype.slice.call(arguments);args.splice(1,0,"POST");return _main.default.prototype.httpDo.apply(this,args)};_main.default.prototype.httpDo=function(){var type;var callback;var errorCallback;var request;var promise;var jsonpOptions={};var cbCount=0;var contentType="text/plain";for(var i=arguments.length-1;i>0;i--){if(typeof(i<0||arguments.length<=i?undefined:arguments[i])==="function"){cbCount++}else{break}}var argsCount=arguments.length-cbCount;var path=arguments.length<=0?undefined:arguments[0];if(argsCount===2&&typeof path==="string"&&_typeof(arguments.length<=1?undefined:arguments[1])==="object"){request=new Request(path,arguments.length<=1?undefined:arguments[1]);callback=arguments.length<=2?undefined:arguments[2];errorCallback=arguments.length<=3?undefined:arguments[3]}else{var method="GET";var data;for(var j=1;j<arguments.length;j++){var a=j<0||arguments.length<=j?undefined:arguments[j];if(typeof a==="string"){if(a==="GET"||a==="POST"||a==="PUT"||a==="DELETE"){method=a}else if(a==="json"||a==="jsonp"||a==="binary"||a==="arrayBuffer"||a==="xml"||a==="text"||a==="table"){type=a}else{data=a}}else if(typeof a==="number"){data=a.toString()}else if(_typeof(a)==="object"){if(a.hasOwnProperty("jsonpCallback")||a.hasOwnProperty("jsonpCallbackFunction")){for(var attr in a){jsonpOptions[attr]=a[attr]}}else if(a instanceof _main.default.XML){data=a.serialize();contentType="application/xml"}else{data=JSON.stringify(a);contentType="application/json"}}else if(typeof a==="function"){if(!callback){callback=a}else{errorCallback=a}}}var headers=method==="GET"?new Headers:new Headers({"Content-Type":contentType});request=new Request(path,{method:method,mode:"cors",body:data,headers:headers})}if(!type){if(path.includes("json")){type="json"}else if(path.includes("xml")){type="xml"}else{type="text"}}if(type==="jsonp"){promise=(0,_fetchJsonp.default)(path,jsonpOptions)}else{promise=fetch(request)}promise=promise.then(function(res){if(!res.ok){var err=new Error(res.body);err.status=res.status;err.ok=false;throw err}else{var fileSize=0;if(type!=="jsonp"){fileSize=res.headers.get("content-length")}if(fileSize&&fileSize>64e6){_main.default._friendlyFileLoadError(7,path)}switch(type){case"json":case"jsonp":return res.json();case"binary":return res.blob();case"arrayBuffer":return res.arrayBuffer();case"xml":return res.text().then(function(text){var parser=new DOMParser;var xml=parser.parseFromString(text,"text/xml");return new _main.default.XML(xml.documentElement)});default:return res.text()}}});promise.then(callback||function(){});promise.catch(errorCallback||console.error);return promise};window.URL=window.URL||window.webkitURL;_main.default.prototype._pWriters=[];_main.default.prototype.createWriter=function(name,extension){var newPW;for(var i in _main.default.prototype._pWriters){if(_main.default.prototype._pWriters[i].name===name){newPW=new _main.default.PrintWriter(name+this.millis(),extension);_main.default.prototype._pWriters.push(newPW);return newPW}}newPW=new _main.default.PrintWriter(name,extension);_main.default.prototype._pWriters.push(newPW);return newPW};_main.default.PrintWriter=function(filename,extension){var self=this;this.name=filename;this.content="";this.write=function(data){this.content+=data};this.print=function(data){this.content+="".concat(data,"\n")};this.clear=function(){this.content=""};this.close=function(){var arr=[];arr.push(this.content);_main.default.prototype.writeFile(arr,filename,extension);for(var i in _main.default.prototype._pWriters){if(_main.default.prototype._pWriters[i].name===this.name){_main.default.prototype._pWriters.splice(i,1)}}self.clear();self={}}};_main.default.prototype.save=function(object,_filename,_options){var args=arguments;var cnv=this._curElement?this._curElement.elt:this.elt;if(args.length===0){_main.default.prototype.saveCanvas(cnv);return}else if(args[0]instanceof _main.default.Renderer||args[0]instanceof _main.default.Graphics){_main.default.prototype.saveCanvas(args[0].elt,args[1],args[2]);return}else if(args.length===1&&typeof args[0]==="string"){_main.default.prototype.saveCanvas(cnv,args[0])}else{var extension=_checkFileExtension(args[1],args[2])[1];switch(extension){case"json":_main.default.prototype.saveJSON(args[0],args[1],args[2]);return;case"txt":_main.default.prototype.saveStrings(args[0],args[1],args[2]);return;default:if(args[0]instanceof Array){_main.default.prototype.saveStrings(args[0],args[1],args[2])}else if(args[0]instanceof _main.default.Table){_main.default.prototype.saveTable(args[0],args[1],args[2])}else if(args[0]instanceof _main.default.Image){_main.default.prototype.saveCanvas(args[0].canvas,args[1])}else if(args[0]instanceof _main.default.SoundFile){_main.default.prototype.saveSound(args[0],args[1],args[2],args[3])}}}};_main.default.prototype.saveJSON=function(json,filename,opt){_main.default._validateParameters("saveJSON",arguments);var stringify;if(opt){stringify=JSON.stringify(json)}else{stringify=JSON.stringify(json,undefined,2)}this.saveStrings(stringify.split("\n"),filename,"json")};_main.default.prototype.saveJSONObject=_main.default.prototype.saveJSON;_main.default.prototype.saveJSONArray=_main.default.prototype.saveJSON;_main.default.prototype.saveStrings=function(list,filename,extension,isCRLF){_main.default._validateParameters("saveStrings",arguments);var ext=extension||"txt";var pWriter=this.createWriter(filename,ext);for(var i=0;i<list.length;i++){isCRLF?pWriter.write(list[i]+"\r\n"):pWriter.write(list[i]+"\n")}pWriter.close();pWriter.clear()};function escapeHelper(content){return content.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}_main.default.prototype.saveTable=function(table,filename,options){_main.default._validateParameters("saveTable",arguments);var ext;if(options===undefined){ext=filename.substring(filename.lastIndexOf(".")+1,filename.length)}else{ext=options}var pWriter=this.createWriter(filename,ext);var header=table.columns;var sep=",";if(ext==="tsv"){sep="\t"}if(ext!=="html"){if(header[0]!=="0"){for(var h=0;h<header.length;h++){if(h<header.length-1){pWriter.write(header[h]+sep)}else{pWriter.write(header[h])}}pWriter.write("\n")}for(var i=0;i<table.rows.length;i++){var j=void 0;for(j=0;j<table.rows[i].arr.length;j++){if(j<table.rows[i].arr.length-1){if(ext==="csv"&&String(table.rows[i].arr[j]).includes(",")){pWriter.write('"'+table.rows[i].arr[j]+'"'+sep)}else{pWriter.write(table.rows[i].arr[j]+sep)}}else{if(ext==="csv"&&String(table.rows[i].arr[j]).includes(",")){pWriter.write('"'+table.rows[i].arr[j]+'"')}else{pWriter.write(table.rows[i].arr[j])}}}pWriter.write("\n")}}else{pWriter.print("<html>");pWriter.print("<head>");var str='  <meta http-equiv="content-type" content';str+='="text/html;charset=utf-8" />';pWriter.print(str);pWriter.print("</head>");pWriter.print("<body>");pWriter.print("  <table>");if(header[0]!=="0"){pWriter.print("    <tr>");for(var k=0;k<header.length;k++){var e=escapeHelper(header[k]);pWriter.print("      <td>".concat(e));pWriter.print("      </td>")}pWriter.print("    </tr>")}for(var row=0;row<table.rows.length;row++){pWriter.print("    <tr>");for(var col=0;col<table.columns.length;col++){var entry=table.rows[row].getString(col);var htmlEntry=escapeHelper(entry);pWriter.print("      <td>".concat(htmlEntry));pWriter.print("      </td>")}pWriter.print("    </tr>")}pWriter.print("  </table>");pWriter.print("</body>");pWriter.print("</html>")}pWriter.close();pWriter.clear()};_main.default.prototype.writeFile=function(dataToDownload,filename,extension){var type="application/octet-stream";if(_main.default.prototype._isSafari()){type="text/plain"}var blob=new Blob(dataToDownload,{type:type});_main.default.prototype.downloadFile(blob,filename,extension)};_main.default.prototype.downloadFile=function(data,fName,extension){var fx=_checkFileExtension(fName,extension);var filename=fx[0];if(data instanceof Blob){_fileSaver.default.saveAs(data,filename);return}var a=document.createElement("a");a.href=data;a.download=filename;a.onclick=function(e){destroyClickedElement(e);e.stopPropagation()};a.style.display="none";document.body.appendChild(a);if(_main.default.prototype._isSafari()){var aText="Hello, Safari user! To download this file...\n";aText+="1. Go to File --\x3e Save As.\n";aText+='2. Choose "Page Source" as the Format.\n';aText+='3. Name it with this extension: ."'.concat(fx[1],'"');alert(aText)}a.click()};function _checkFileExtension(filename,extension){if(!extension||extension===true||extension==="true"){extension=""}if(!filename){filename="untitled"}var ext="";if(filename&&filename.includes(".")){ext=filename.split(".").pop()}if(extension){if(ext!==extension){ext=extension;filename="".concat(filename,".").concat(ext)}}return[filename,ext]}_main.default.prototype._checkFileExtension=_checkFileExtension;_main.default.prototype._isSafari=function(){var x=Object.prototype.toString.call(window.HTMLElement);return x.indexOf("Constructor")>0};function destroyClickedElement(event){document.body.removeChild(event.target)}var _default=_main.default;exports.default=_default},{"../core/friendly_errors/fes_core":278,"../core/friendly_errors/file_errors":279,"../core/friendly_errors/validate_params":282,"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.last-index-of":178,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.splice":182,"core-js/modules/es.function.name":184,"core-js/modules/es.object.to-string":195,"core-js/modules/es.promise":196,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.includes":203,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.split":209,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint8-array":244,"core-js/modules/web.dom-collections.iterator":247,"core-js/modules/web.url":249,"es6-promise/auto":250,"fetch-jsonp":252,"file-saver":253,"whatwg-fetch":264}],314:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.regexp.constructor");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.match");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.trim");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Table=function(rows){this.columns=[];this.rows=[]};_main.default.Table.prototype.addRow=function(row){var r=row||new _main.default.TableRow;if(typeof r.arr==="undefined"||typeof r.obj==="undefined"){throw new Error("invalid TableRow: ".concat(r))}r.table=this;this.rows.push(r);return r};_main.default.Table.prototype.removeRow=function(id){this.rows[id].table=null;var chunk=this.rows.splice(id+1,this.rows.length);this.rows.pop();this.rows=this.rows.concat(chunk)};_main.default.Table.prototype.getRow=function(r){return this.rows[r]};_main.default.Table.prototype.getRows=function(){return this.rows};_main.default.Table.prototype.findRow=function(value,column){if(typeof column==="string"){for(var i=0;i<this.rows.length;i++){if(this.rows[i].obj[column]===value){return this.rows[i]}}}else{for(var j=0;j<this.rows.length;j++){if(this.rows[j].arr[column]===value){return this.rows[j]}}}return null};_main.default.Table.prototype.findRows=function(value,column){var ret=[];if(typeof column==="string"){for(var i=0;i<this.rows.length;i++){if(this.rows[i].obj[column]===value){ret.push(this.rows[i])}}}else{for(var j=0;j<this.rows.length;j++){if(this.rows[j].arr[column]===value){ret.push(this.rows[j])}}}return ret};_main.default.Table.prototype.matchRow=function(regexp,column){if(typeof column==="number"){for(var j=0;j<this.rows.length;j++){if(this.rows[j].arr[column].match(regexp)){return this.rows[j]}}}else{for(var i=0;i<this.rows.length;i++){if(this.rows[i].obj[column].match(regexp)){return this.rows[i]}}}return null};_main.default.Table.prototype.matchRows=function(regexp,column){var ret=[];if(typeof column==="number"){for(var j=0;j<this.rows.length;j++){if(this.rows[j].arr[column].match(regexp)){ret.push(this.rows[j])}}}else{for(var i=0;i<this.rows.length;i++){if(this.rows[i].obj[column].match(regexp)){ret.push(this.rows[i])}}}return ret};_main.default.Table.prototype.getColumn=function(value){var ret=[];if(typeof value==="string"){for(var i=0;i<this.rows.length;i++){ret.push(this.rows[i].obj[value])}}else{for(var j=0;j<this.rows.length;j++){ret.push(this.rows[j].arr[value])}}return ret};_main.default.Table.prototype.clearRows=function(){delete this.rows;this.rows=[]};_main.default.Table.prototype.addColumn=function(title){var t=title||null;this.columns.push(t)};_main.default.Table.prototype.getColumnCount=function(){return this.columns.length};_main.default.Table.prototype.getRowCount=function(){return this.rows.length};_main.default.Table.prototype.removeTokens=function(chars,column){var escape=function escape(s){return s.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};var charArray=[];for(var i=0;i<chars.length;i++){charArray.push(escape(chars.charAt(i)))}var regex=new RegExp(charArray.join("|"),"g");if(typeof column==="undefined"){for(var c=0;c<this.columns.length;c++){for(var d=0;d<this.rows.length;d++){var s=this.rows[d].arr[c];s=s.replace(regex,"");this.rows[d].arr[c]=s;this.rows[d].obj[this.columns[c]]=s}}}else if(typeof column==="string"){for(var j=0;j<this.rows.length;j++){var val=this.rows[j].obj[column];val=val.replace(regex,"");this.rows[j].obj[column]=val;var pos=this.columns.indexOf(column);this.rows[j].arr[pos]=val}}else{for(var k=0;k<this.rows.length;k++){var str=this.rows[k].arr[column];str=str.replace(regex,"");this.rows[k].arr[column]=str;this.rows[k].obj[this.columns[column]]=str}}};_main.default.Table.prototype.trim=function(column){var regex=new RegExp(" ","g");if(typeof column==="undefined"){for(var c=0;c<this.columns.length;c++){for(var d=0;d<this.rows.length;d++){var s=this.rows[d].arr[c];s=s.replace(regex,"");this.rows[d].arr[c]=s;this.rows[d].obj[this.columns[c]]=s}}}else if(typeof column==="string"){for(var j=0;j<this.rows.length;j++){var val=this.rows[j].obj[column];val=val.replace(regex,"");this.rows[j].obj[column]=val;var pos=this.columns.indexOf(column);this.rows[j].arr[pos]=val}}else{for(var k=0;k<this.rows.length;k++){var str=this.rows[k].arr[column];str=str.replace(regex,"");this.rows[k].arr[column]=str;this.rows[k].obj[this.columns[column]]=str}}};_main.default.Table.prototype.removeColumn=function(c){var cString;var cNumber;if(typeof c==="string"){cString=c;cNumber=this.columns.indexOf(c)}else{cNumber=c;cString=this.columns[c]}var chunk=this.columns.splice(cNumber+1,this.columns.length);this.columns.pop();this.columns=this.columns.concat(chunk);for(var i=0;i<this.rows.length;i++){var tempR=this.rows[i].arr;var chip=tempR.splice(cNumber+1,tempR.length);tempR.pop();this.rows[i].arr=tempR.concat(chip);delete this.rows[i].obj[cString]}};_main.default.Table.prototype.set=function(row,column,value){this.rows[row].set(column,value)};_main.default.Table.prototype.setNum=function(row,column,value){this.rows[row].setNum(column,value)};_main.default.Table.prototype.setString=function(row,column,value){this.rows[row].setString(column,value)};_main.default.Table.prototype.get=function(row,column){return this.rows[row].get(column)};_main.default.Table.prototype.getNum=function(row,column){return this.rows[row].getNum(column)};_main.default.Table.prototype.getString=function(row,column){return this.rows[row].getString(column)};_main.default.Table.prototype.getObject=function(headerColumn){var tableObject={};var obj,cPos,index;for(var i=0;i<this.rows.length;i++){obj=this.rows[i].obj;if(typeof headerColumn==="string"){cPos=this.columns.indexOf(headerColumn);if(cPos>=0){index=obj[headerColumn];tableObject[index]=obj}else{throw new Error('This table has no column named "'.concat(headerColumn,'"'))}}else{tableObject[i]=this.rows[i].obj}}return tableObject};_main.default.Table.prototype.getArray=function(){var tableArray=[];for(var i=0;i<this.rows.length;i++){tableArray.push(this.rows[i].arr)}return tableArray};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.join":177,"core-js/modules/es.array.splice":182,"core-js/modules/es.regexp.constructor":198,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.match":205,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.trim":211}],315:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.split");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.TableRow=function(str,separator){var arr=[];var obj={};if(str){separator=separator||",";arr=str.split(separator)}for(var i=0;i<arr.length;i++){var key=i;var val=arr[i];obj[key]=val}this.arr=arr;this.obj=obj;this.table=null};_main.default.TableRow.prototype.set=function(column,value){if(typeof column==="string"){var cPos=this.table.columns.indexOf(column);if(cPos>=0){this.obj[column]=value;this.arr[cPos]=value}else{throw new Error('This table has no column named "'.concat(column,'"'))}}else{if(column<this.table.columns.length){this.arr[column]=value;var cTitle=this.table.columns[column];this.obj[cTitle]=value}else{throw new Error("Column #".concat(column," is out of the range of this table"))}}};_main.default.TableRow.prototype.setNum=function(column,value){var floatVal=parseFloat(value);this.set(column,floatVal)};_main.default.TableRow.prototype.setString=function(column,value){var stringVal=value.toString();this.set(column,stringVal)};_main.default.TableRow.prototype.get=function(column){if(typeof column==="string"){return this.obj[column]}else{return this.arr[column]}};_main.default.TableRow.prototype.getNum=function(column){var ret;if(typeof column==="string"){ret=parseFloat(this.obj[column])}else{ret=parseFloat(this.arr[column])}if(ret.toString()==="NaN"){throw"Error: ".concat(this.obj[column]," is NaN (Not a Number)")}return ret};_main.default.TableRow.prototype.getString=function(column){if(typeof column==="string"){return this.obj[column].toString()}else{return this.arr[column].toString()}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.index-of":175,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.split":209}],316:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.number.constructor");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.XML=function(DOM){if(!DOM){var xmlDoc=document.implementation.createDocument(null,"doc");this.DOM=xmlDoc.createElement("root")}else{this.DOM=DOM}};_main.default.XML.prototype.getParent=function(){return new _main.default.XML(this.DOM.parentElement)};_main.default.XML.prototype.getName=function(){return this.DOM.tagName};_main.default.XML.prototype.setName=function(name){var content=this.DOM.innerHTML;var attributes=this.DOM.attributes;var xmlDoc=document.implementation.createDocument(null,"default");var newDOM=xmlDoc.createElement(name);newDOM.innerHTML=content;for(var i=0;i<attributes.length;i++){newDOM.setAttribute(attributes[i].nodeName,attributes.nodeValue)}this.DOM=newDOM};_main.default.XML.prototype.hasChildren=function(){return this.DOM.children.length>0};_main.default.XML.prototype.listChildren=function(){var arr=[];for(var i=0;i<this.DOM.childNodes.length;i++){arr.push(this.DOM.childNodes[i].nodeName)}return arr};_main.default.XML.prototype.getChildren=function(param){if(param){return elementsToP5XML(this.DOM.getElementsByTagName(param))}else{return elementsToP5XML(this.DOM.children)}};function elementsToP5XML(elements){var arr=[];for(var i=0;i<elements.length;i++){arr.push(new _main.default.XML(elements[i]))}return arr}_main.default.XML.prototype.getChild=function(param){if(typeof param==="string"){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.DOM.children[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var child=_step.value;if(child.tagName===param)return new _main.default.XML(child)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}else{return new _main.default.XML(this.DOM.children[param])}};_main.default.XML.prototype.addChild=function(node){if(node instanceof _main.default.XML){this.DOM.appendChild(node.DOM)}else{}};_main.default.XML.prototype.removeChild=function(param){var ind=-1;if(typeof param==="string"){for(var i=0;i<this.DOM.children.length;i++){if(this.DOM.children[i].tagName===param){ind=i;break}}}else{ind=param}if(ind!==-1){this.DOM.removeChild(this.DOM.children[ind])}};_main.default.XML.prototype.getAttributeCount=function(){return this.DOM.attributes.length};_main.default.XML.prototype.listAttributes=function(){var arr=[];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=this.DOM.attributes[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var attribute=_step2.value;arr.push(attribute.nodeName)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return arr};_main.default.XML.prototype.hasAttribute=function(name){var obj={};var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=this.DOM.attributes[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var attribute=_step3.value;obj[attribute.nodeName]=attribute.nodeValue}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}return obj[name]?true:false};_main.default.XML.prototype.getNum=function(name,defaultValue){var obj={};var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=this.DOM.attributes[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var attribute=_step4.value;obj[attribute.nodeName]=attribute.nodeValue}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return!=null){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}return Number(obj[name])||defaultValue||0};_main.default.XML.prototype.getString=function(name,defaultValue){var obj={};var _iteratorNormalCompletion5=true;var _didIteratorError5=false;var _iteratorError5=undefined;try{for(var _iterator5=this.DOM.attributes[Symbol.iterator](),_step5;!(_iteratorNormalCompletion5=(_step5=_iterator5.next()).done);_iteratorNormalCompletion5=true){var attribute=_step5.value;obj[attribute.nodeName]=attribute.nodeValue}}catch(err){_didIteratorError5=true;_iteratorError5=err}finally{try{if(!_iteratorNormalCompletion5&&_iterator5.return!=null){_iterator5.return()}}finally{if(_didIteratorError5){throw _iteratorError5}}}return obj[name]?String(obj[name]):defaultValue||null};_main.default.XML.prototype.setAttribute=function(name,value){this.DOM.setAttribute(name,value)};_main.default.XML.prototype.getContent=function(defaultValue){var str;str=this.DOM.textContent;str=str.replace(/\s\s+/g,",");return str||defaultValue||null};_main.default.XML.prototype.setContent=function(content){if(!this.DOM.children.length){this.DOM.textContent=content}};_main.default.XML.prototype.serialize=function(){var xmlSerializer=new XMLSerializer;return xmlSerializer.serializeToString(this.DOM)};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.iterator":176,"core-js/modules/es.number.constructor":188,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.replace":207,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],317:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.math.hypot");_dereq_("core-js/modules/es.number.constructor");_dereq_("core-js/modules/es.string.includes");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.abs=Math.abs;_main.default.prototype.ceil=Math.ceil;_main.default.prototype.constrain=function(n,low,high){_main.default._validateParameters("constrain",arguments);return Math.max(Math.min(n,high),low)};_main.default.prototype.dist=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("dist",args);if(args.length===4){return hypot(args[2]-args[0],args[3]-args[1])}else if(args.length===6){return hypot(args[3]-args[0],args[4]-args[1],args[5]-args[2])}};_main.default.prototype.exp=Math.exp;_main.default.prototype.floor=Math.floor;_main.default.prototype.lerp=function(start,stop,amt){_main.default._validateParameters("lerp",arguments);return amt*(stop-start)+start};_main.default.prototype.log=Math.log;_main.default.prototype.mag=function(x,y){_main.default._validateParameters("mag",arguments);return hypot(x,y)};_main.default.prototype.map=function(n,start1,stop1,start2,stop2,withinBounds){_main.default._validateParameters("map",arguments);var newval=(n-start1)/(stop1-start1)*(stop2-start2)+start2;if(!withinBounds){return newval}if(start2<stop2){return this.constrain(newval,start2,stop2)}else{return this.constrain(newval,stop2,start2)}};_main.default.prototype.max=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}if(args[0]instanceof Array){return Math.max.apply(null,args[0])}else{return Math.max.apply(null,args)}};_main.default.prototype.min=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}if(args[0]instanceof Array){return Math.min.apply(null,args[0])}else{return Math.min.apply(null,args)}};_main.default.prototype.norm=function(n,start,stop){_main.default._validateParameters("norm",arguments);return this.map(n,start,stop,0,1)};_main.default.prototype.pow=Math.pow;_main.default.prototype.round=function(n,decimals){if(!decimals){return Math.round(n)}var multiplier=Math.pow(10,decimals);return Math.round(n*multiplier)/multiplier};_main.default.prototype.sq=function(n){return n*n};_main.default.prototype.sqrt=Math.sqrt;function hypot(x,y,z){if(typeof Math.hypot==="function"){return Math.hypot.apply(null,arguments)}var length=arguments.length;var args=[];var max=0;for(var i=0;i<length;i++){var n=arguments[i];n=+n;if(n===Infinity||n===-Infinity){return Infinity}n=Math.abs(n);if(n>max){max=n}args[i]=n}if(max===0){max=1}var sum=0;var compensation=0;for(var j=0;j<length;j++){var m=args[j]/max;var summand=m*m-compensation;var preliminary=sum+summand;compensation=preliminary-sum-summand;sum=preliminary}return Math.sqrt(sum)*max}_main.default.prototype.fract=function(toConvert){_main.default._validateParameters("fract",arguments);var sign=0;var num=Number(toConvert);if(isNaN(num)||Math.abs(num)===Infinity){return num}else if(num<0){num=-num;sign=1}if(String(num).includes(".")&&!String(num).includes("e")){var toFract=String(num);toFract=Number("0"+toFract.slice(toFract.indexOf(".")));return Math.abs(sign-toFract)}else if(num<1){return Math.abs(sign-num)}else{return 0}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.math.hypot":186,"core-js/modules/es.number.constructor":188,"core-js/modules/es.string.includes":203}],318:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.reflect.construct");_dereq_("core-js/modules/es.regexp.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(e){return false}}function _construct(Parent,args,Class){if(isNativeReflectConstruct()){_construct=Reflect.construct}else{_construct=function _construct(Parent,args,Class){var a=[null];a.push.apply(a,args);var Constructor=Function.bind.apply(Parent,a);var instance=new Constructor;if(Class)_setPrototypeOf(instance,Class.prototype);return instance}}return _construct.apply(null,arguments)}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o};return _setPrototypeOf(o,p)}_main.default.prototype.createVector=function(x,y,z){if(this instanceof _main.default){return _construct(_main.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments)))}else{return new _main.default.Vector(x,y,z)}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.to-string":195,"core-js/modules/es.reflect.construct":197,"core-js/modules/es.regexp.to-string":200}],319:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var PERLIN_YWRAPB=4;var PERLIN_YWRAP=1<<PERLIN_YWRAPB;var PERLIN_ZWRAPB=8;var PERLIN_ZWRAP=1<<PERLIN_ZWRAPB;var PERLIN_SIZE=4095;var perlin_octaves=4;var perlin_amp_falloff=.5;var scaled_cosine=function scaled_cosine(i){return.5*(1-Math.cos(i*Math.PI))};var perlin;_main.default.prototype.noise=function(x){var y=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var z=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(perlin==null){perlin=new Array(PERLIN_SIZE+1);for(var i=0;i<PERLIN_SIZE+1;i++){perlin[i]=Math.random()}}if(x<0){x=-x}if(y<0){y=-y}if(z<0){z=-z}var xi=Math.floor(x),yi=Math.floor(y),zi=Math.floor(z);var xf=x-xi;var yf=y-yi;var zf=z-zi;var rxf,ryf;var r=0;var ampl=.5;var n1,n2,n3;for(var o=0;o<perlin_octaves;o++){var of=xi+(yi<<PERLIN_YWRAPB)+(zi<<PERLIN_ZWRAPB);rxf=scaled_cosine(xf);ryf=scaled_cosine(yf);n1=perlin[of&PERLIN_SIZE];n1+=rxf*(perlin[of+1&PERLIN_SIZE]-n1);n2=perlin[of+PERLIN_YWRAP&PERLIN_SIZE];n2+=rxf*(perlin[of+PERLIN_YWRAP+1&PERLIN_SIZE]-n2);n1+=ryf*(n2-n1);of+=PERLIN_ZWRAP;n2=perlin[of&PERLIN_SIZE];n2+=rxf*(perlin[of+1&PERLIN_SIZE]-n2);n3=perlin[of+PERLIN_YWRAP&PERLIN_SIZE];n3+=rxf*(perlin[of+PERLIN_YWRAP+1&PERLIN_SIZE]-n3);n2+=ryf*(n3-n2);n1+=scaled_cosine(zf)*(n2-n1);r+=n1*ampl;ampl*=perlin_amp_falloff;xi<<=1;xf*=2;yi<<=1;yf*=2;zi<<=1;zf*=2;if(xf>=1){xi++;xf--}if(yf>=1){yi++;yf--}if(zf>=1){zi++;zf--}}return r};_main.default.prototype.noiseDetail=function(lod,falloff){if(lod>0){perlin_octaves=lod}if(falloff>0){perlin_amp_falloff=falloff}};_main.default.prototype.noiseSeed=function(seed){var lcg=function(){var m=4294967296;var a=1664525;var c=1013904223;var seed,z;return{setSeed:function setSeed(val){z=seed=(val==null?Math.random()*m:val)>>>0},getSeed:function getSeed(){return seed},rand:function rand(){z=(a*z+c)%m;return z/m}}}();lcg.setSeed(seed);perlin=new Array(PERLIN_SIZE+1);for(var i=0;i<PERLIN_SIZE+1;i++){perlin[i]=lcg.rand()}};var _default=_main.default;exports.default=_default},{"../core/main":287}],320:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.every");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.some");_dereq_("core-js/modules/es.math.sign");_dereq_("core-js/modules/es.number.constructor");_dereq_("core-js/modules/es.number.is-finite");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.sub");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Vector=function Vector(){var x,y,z;if({}.toString.call(arguments[0])==="[object Function]"){this.isPInst=true;this._fromRadians=arguments[0];this._toRadians=arguments[1];x=arguments[2]||0;y=arguments[3]||0;z=arguments[4]||0}else{x=arguments[0]||0;y=arguments[1]||0;z=arguments[2]||0}this.x=x;this.y=y;this.z=z};_main.default.Vector.prototype.toString=function p5VectorToString(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")};_main.default.Vector.prototype.set=function set(x,y,z){if(x instanceof _main.default.Vector){this.x=x.x||0;this.y=x.y||0;this.z=x.z||0;return this}if(x instanceof Array){this.x=x[0]||0;this.y=x[1]||0;this.z=x[2]||0;return this}this.x=x||0;this.y=y||0;this.z=z||0;return this};_main.default.Vector.prototype.copy=function copy(){if(this.isPInst){return new _main.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z)}else{return new _main.default.Vector(this.x,this.y,this.z)}};_main.default.Vector.prototype.add=function add(x,y,z){if(x instanceof _main.default.Vector){this.x+=x.x||0;this.y+=x.y||0;this.z+=x.z||0;return this}if(x instanceof Array){this.x+=x[0]||0;this.y+=x[1]||0;this.z+=x[2]||0;return this}this.x+=x||0;this.y+=y||0;this.z+=z||0;return this};var calculateRemainder2D=function calculateRemainder2D(xComponent,yComponent){if(xComponent!==0){this.x=this.x%xComponent}if(yComponent!==0){this.y=this.y%yComponent}return this};var calculateRemainder3D=function calculateRemainder3D(xComponent,yComponent,zComponent){if(xComponent!==0){this.x=this.x%xComponent}if(yComponent!==0){this.y=this.y%yComponent}if(zComponent!==0){this.z=this.z%zComponent}return this};_main.default.Vector.prototype.rem=function rem(x,y,z){if(x instanceof _main.default.Vector){if(Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)){var xComponent=parseFloat(x.x);var yComponent=parseFloat(x.y);var zComponent=parseFloat(x.z);return calculateRemainder3D.call(this,xComponent,yComponent,zComponent)}}else if(x instanceof Array){if(x.every(function(element){return Number.isFinite(element)})){if(x.length===2){return calculateRemainder2D.call(this,x[0],x[1])}if(x.length===3){return calculateRemainder3D.call(this,x[0],x[1],x[2])}}}else if(arguments.length===1){if(Number.isFinite(arguments[0])&&arguments[0]!==0){this.x=this.x%arguments[0];this.y=this.y%arguments[0];this.z=this.z%arguments[0];return this}}else if(arguments.length===2){var vectorComponents=Array.prototype.slice.call(arguments);if(vectorComponents.every(function(element){return Number.isFinite(element)})){if(vectorComponents.length===2){return calculateRemainder2D.call(this,vectorComponents[0],vectorComponents[1])}}}else if(arguments.length===3){var _vectorComponents=Array.prototype.slice.call(arguments);if(_vectorComponents.every(function(element){return Number.isFinite(element)})){if(_vectorComponents.length===3){return calculateRemainder3D.call(this,_vectorComponents[0],_vectorComponents[1],_vectorComponents[2])}}}};_main.default.Vector.prototype.sub=function sub(x,y,z){if(x instanceof _main.default.Vector){this.x-=x.x||0;this.y-=x.y||0;this.z-=x.z||0;return this}if(x instanceof Array){this.x-=x[0]||0;this.y-=x[1]||0;this.z-=x[2]||0;return this}this.x-=x||0;this.y-=y||0;this.z-=z||0;return this};_main.default.Vector.prototype.mult=function mult(x,y,z){if(x instanceof _main.default.Vector){if(Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x==="number"&&typeof x.y==="number"&&typeof x.z==="number"){this.x*=x.x;this.y*=x.y;this.z*=x.z}else{console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers")}return this}if(x instanceof Array){if(x.every(function(element){return Number.isFinite(element)})&&x.every(function(element){return typeof element==="number"})){if(x.length===1){this.x*=x[0];this.y*=x[0];this.z*=x[0]}else if(x.length===2){this.x*=x[0];this.y*=x[1]}else if(x.length===3){this.x*=x[0];this.y*=x[1];this.z*=x[2]}}else{console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers")}return this}var vectorComponents=Array.prototype.slice.call(arguments);if(vectorComponents.every(function(element){return Number.isFinite(element)})&&vectorComponents.every(function(element){return typeof element==="number"})){if(arguments.length===1){this.x*=x;this.y*=x;this.z*=x}if(arguments.length===2){this.x*=x;this.y*=y}if(arguments.length===3){this.x*=x;this.y*=y;this.z*=z}}else{console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number")}return this};_main.default.Vector.prototype.div=function div(x,y,z){if(x instanceof _main.default.Vector){if(Number.isFinite(x.x)&&Number.isFinite(x.y)&&Number.isFinite(x.z)&&typeof x.x==="number"&&typeof x.y==="number"&&typeof x.z==="number"){if(x.x===0||x.y===0||x.z===0){console.warn("p5.Vector.prototype.div:","divide by 0");return this}this.x/=x.x;this.y/=x.y;this.z/=x.z}else{console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers")}return this}if(x instanceof Array){if(x.every(function(element){return Number.isFinite(element)})&&x.every(function(element){return typeof element==="number"})){if(x.some(function(element){return element===0})){console.warn("p5.Vector.prototype.div:","divide by 0");return this}if(x.length===1){this.x/=x[0];this.y/=x[0];this.z/=x[0]}else if(x.length===2){this.x/=x[0];this.y/=x[1]}else if(x.length===3){this.x/=x[0];this.y/=x[1];this.z/=x[2]}}else{console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers")}return this}var vectorComponents=Array.prototype.slice.call(arguments);if(vectorComponents.every(function(element){return Number.isFinite(element)})&&vectorComponents.every(function(element){return typeof element==="number"})){if(vectorComponents.some(function(element){return element===0})){console.warn("p5.Vector.prototype.div:","divide by 0");return this}if(arguments.length===1){this.x/=x;this.y/=x;this.z/=x}if(arguments.length===2){this.x/=x;this.y/=y}if(arguments.length===3){this.x/=x;this.y/=y;this.z/=z}}else{console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number")}return this};_main.default.Vector.prototype.mag=function mag(){return Math.sqrt(this.magSq())};_main.default.Vector.prototype.magSq=function magSq(){var x=this.x;var y=this.y;var z=this.z;return x*x+y*y+z*z};_main.default.Vector.prototype.dot=function dot(x,y,z){if(x instanceof _main.default.Vector){return this.dot(x.x,x.y,x.z)}return this.x*(x||0)+this.y*(y||0)+this.z*(z||0)};_main.default.Vector.prototype.cross=function cross(v){var x=this.y*v.z-this.z*v.y;var y=this.z*v.x-this.x*v.z;var z=this.x*v.y-this.y*v.x;if(this.isPInst){return new _main.default.Vector(this._fromRadians,this._toRadians,x,y,z)}else{return new _main.default.Vector(x,y,z)}};_main.default.Vector.prototype.dist=function dist(v){return v.copy().sub(this).mag()};_main.default.Vector.prototype.normalize=function normalize(){var len=this.mag();if(len!==0)this.mult(1/len);return this};_main.default.Vector.prototype.limit=function limit(max){var mSq=this.magSq();if(mSq>max*max){this.div(Math.sqrt(mSq)).mult(max)}return this};_main.default.Vector.prototype.setMag=function setMag(n){return this.normalize().mult(n)};_main.default.Vector.prototype.heading=function heading(){var h=Math.atan2(this.y,this.x);if(this.isPInst)return this._fromRadians(h);return h};_main.default.Vector.prototype.setHeading=function setHeading(a){var m=this.mag();this.x=m*Math.cos(a);this.y=m*Math.sin(a);return this};_main.default.Vector.prototype.rotate=function rotate(a){var newHeading=this.heading()+a;if(this.isPInst)newHeading=this._toRadians(newHeading);var mag=this.mag();this.x=Math.cos(newHeading)*mag;this.y=Math.sin(newHeading)*mag;return this};_main.default.Vector.prototype.angleBetween=function angleBetween(v){var dotmagmag=this.dot(v)/(this.mag()*v.mag());var angle;angle=Math.acos(Math.min(1,Math.max(-1,dotmagmag)));angle=angle*Math.sign(this.cross(v).z||1);if(this.isPInst){angle=this._fromRadians(angle)}return angle};_main.default.Vector.prototype.lerp=function lerp(x,y,z,amt){if(x instanceof _main.default.Vector){return this.lerp(x.x,x.y,x.z,y)}this.x+=(x-this.x)*amt||0;this.y+=(y-this.y)*amt||0;this.z+=(z-this.z)*amt||0;return this};_main.default.Vector.prototype.reflect=function reflect(surfaceNormal){surfaceNormal.normalize();return this.sub(surfaceNormal.mult(2*this.dot(surfaceNormal)))};_main.default.Vector.prototype.array=function array(){return[this.x||0,this.y||0,this.z||0]};_main.default.Vector.prototype.equals=function equals(x,y,z){var a,b,c;if(x instanceof _main.default.Vector){a=x.x||0;b=x.y||0;c=x.z||0}else if(x instanceof Array){a=x[0]||0;b=x[1]||0;c=x[2]||0}else{a=x||0;b=y||0;c=z||0}return this.x===a&&this.y===b&&this.z===c};_main.default.Vector.fromAngle=function fromAngle(angle,length){if(typeof length==="undefined"){length=1}return new _main.default.Vector(length*Math.cos(angle),length*Math.sin(angle),0)};_main.default.Vector.fromAngles=function(theta,phi,length){if(typeof length==="undefined"){length=1}var cosPhi=Math.cos(phi);var sinPhi=Math.sin(phi);var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);return new _main.default.Vector(length*sinTheta*sinPhi,-length*cosTheta,length*sinTheta*cosPhi)};_main.default.Vector.random2D=function random2D(){return this.fromAngle(Math.random()*constants.TWO_PI)};_main.default.Vector.random3D=function random3D(){var angle=Math.random()*constants.TWO_PI;var vz=Math.random()*2-1;var vzBase=Math.sqrt(1-vz*vz);var vx=vzBase*Math.cos(angle);var vy=vzBase*Math.sin(angle);return new _main.default.Vector(vx,vy,vz)};_main.default.Vector.add=function add(v1,v2,target){if(!target){target=v1.copy();if(arguments.length===3){_main.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")}}else{target.set(v1)}target.add(v2);return target};_main.default.Vector.rem=function rem(v1,v2){if(v1 instanceof _main.default.Vector&&v2 instanceof _main.default.Vector){var target=v1.copy();target.rem(v2);return target}};_main.default.Vector.sub=function sub(v1,v2,target){if(!target){target=v1.copy();if(arguments.length===3){_main.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")}}else{target.set(v1)}target.sub(v2);return target};_main.default.Vector.mult=function mult(v,n,target){if(!target){target=v.copy();if(arguments.length===3){_main.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")}}else{target.set(v)}target.mult(n);return target};_main.default.Vector.rotate=function rotate(v,a,target){if(arguments.length===2){target=v.copy()}else{if(!(target instanceof _main.default.Vector)){_main.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate")}target.set(v)}target.rotate(a);return target};_main.default.Vector.div=function div(v,n,target){if(!target){target=v.copy();if(arguments.length===3){_main.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")}}else{target.set(v)}target.div(n);return target};_main.default.Vector.dot=function dot(v1,v2){return v1.dot(v2)};_main.default.Vector.cross=function cross(v1,v2){return v1.cross(v2)};_main.default.Vector.dist=function dist(v1,v2){return v1.dist(v2)};_main.default.Vector.lerp=function lerp(v1,v2,amt,target){if(!target){target=v1.copy();if(arguments.length===4){_main.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")}}else{target.set(v1)}target.lerp(v2,amt);return target};_main.default.Vector.mag=function mag(vecT){var x=vecT.x,y=vecT.y,z=vecT.z;var magSq=x*x+y*y+z*z;return Math.sqrt(magSq)};_main.default.Vector.normalize=function normalize(v,target){if(arguments.length<2){target=v.copy()}else{if(!(target instanceof _main.default.Vector)){_main.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize")}target.set(v)}return target.normalize()};var _default=_main.default.Vector;exports.default=_default},{"../core/constants":275,"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.every":168,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.some":181,"core-js/modules/es.math.sign":187,"core-js/modules/es.number.constructor":188,"core-js/modules/es.number.is-finite":189,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.sub":210}],321:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var randomStateProp="_lcg_random_state";var m=4294967296;var a=1664525;var c=1013904223;var y2=0;_main.default.prototype._lcg=function(stateProperty){this[stateProperty]=(a*this[stateProperty]+c)%m;return this[stateProperty]/m};_main.default.prototype._lcgSetSeed=function(stateProperty,val){this[stateProperty]=(val==null?Math.random()*m:val)>>>0};_main.default.prototype.randomSeed=function(seed){this._lcgSetSeed(randomStateProp,seed);this._gaussian_previous=false};_main.default.prototype.random=function(min,max){_main.default._validateParameters("random",arguments);var rand;if(this[randomStateProp]!=null){rand=this._lcg(randomStateProp)}else{rand=Math.random()}if(typeof min==="undefined"){return rand}else if(typeof max==="undefined"){if(min instanceof Array){return min[Math.floor(rand*min.length)]}else{return rand*min}}else{if(min>max){var tmp=min;min=max;max=tmp}return rand*(max-min)+min}};_main.default.prototype.randomGaussian=function(mean){var sd=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var y1,x1,x2,w;if(this._gaussian_previous){y1=y2;this._gaussian_previous=false}else{do{x1=this.random(2)-1;x2=this.random(2)-1;w=x1*x1+x2*x2}while(w>=1);w=Math.sqrt(-2*Math.log(w)/w);y1=x1*w;y2=x2*w;this._gaussian_previous=true}var m=mean||0;return y1*sd+m};var _default=_main.default;exports.default=_default},{"../core/main":287}],322:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype._angleMode=constants.RADIANS;_main.default.prototype.acos=function(ratio){return this._fromRadians(Math.acos(ratio))};_main.default.prototype.asin=function(ratio){return this._fromRadians(Math.asin(ratio))};_main.default.prototype.atan=function(ratio){return this._fromRadians(Math.atan(ratio))};_main.default.prototype.atan2=function(y,x){return this._fromRadians(Math.atan2(y,x))};_main.default.prototype.cos=function(angle){return Math.cos(this._toRadians(angle))};_main.default.prototype.sin=function(angle){return Math.sin(this._toRadians(angle))};_main.default.prototype.tan=function(angle){return Math.tan(this._toRadians(angle))};_main.default.prototype.degrees=function(angle){return angle*constants.RAD_TO_DEG};_main.default.prototype.radians=function(angle){return angle*constants.DEG_TO_RAD};_main.default.prototype.angleMode=function(mode){if(mode===constants.DEGREES||mode===constants.RADIANS){this._angleMode=mode}};_main.default.prototype._toRadians=function(angle){if(this._angleMode===constants.DEGREES){return angle*constants.DEG_TO_RAD}return angle};_main.default.prototype._toDegrees=function(angle){if(this._angleMode===constants.RADIANS){return angle*constants.RAD_TO_DEG}return angle};_main.default.prototype._fromRadians=function(angle){if(this._angleMode===constants.DEGREES){return angle*constants.RAD_TO_DEG}return angle};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287}],323:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.textAlign=function(horizAlign,vertAlign){var _this$_renderer;_main.default._validateParameters("textAlign",arguments);return(_this$_renderer=this._renderer).textAlign.apply(_this$_renderer,arguments)};_main.default.prototype.textLeading=function(theLeading){var _this$_renderer2;_main.default._validateParameters("textLeading",arguments);return(_this$_renderer2=this._renderer).textLeading.apply(_this$_renderer2,arguments)};_main.default.prototype.textSize=function(theSize){var _this$_renderer3;_main.default._validateParameters("textSize",arguments);return(_this$_renderer3=this._renderer).textSize.apply(_this$_renderer3,arguments)};_main.default.prototype.textStyle=function(theStyle){var _this$_renderer4;_main.default._validateParameters("textStyle",arguments);return(_this$_renderer4=this._renderer).textStyle.apply(_this$_renderer4,arguments)};_main.default.prototype.textWidth=function(){var _this$_renderer5;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}args[0]+="";_main.default._validateParameters("textWidth",args);if(args[0].length===0){return 0}return(_this$_renderer5=this._renderer).textWidth.apply(_this$_renderer5,args)};_main.default.prototype.textAscent=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("textAscent",args);return this._renderer.textAscent()};_main.default.prototype.textDescent=function(){for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}_main.default._validateParameters("textDescent",args);return this._renderer.textDescent()};_main.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()};_main.default.prototype.textWrap=function(wrapStyle){if(wrapStyle!=="WORD"&&wrapStyle!=="CHAR"){throw"Error: textWrap accepts only WORD or CHAR"}return this._renderer.textWrap(wrapStyle)};var _default=_main.default;exports.default=_default},{"../core/main":287}],324:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.last-index-of");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.split");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));var opentype=_interopRequireWildcard(_dereq_("opentype.js"));_dereq_("../core/friendly_errors/validate_params");_dereq_("../core/friendly_errors/file_errors");_dereq_("../core/friendly_errors/fes_core");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.loadFont=function(path,onSuccess,onError){_main.default._validateParameters("loadFont",arguments);var p5Font=new _main.default.Font(this);var self=this;opentype.load(path,function(err,font){if(err){_main.default._friendlyFileLoadError(4,path);if(typeof onError!=="undefined"){return onError(err)}console.error(err,path);return}p5Font.font=font;if(typeof onSuccess!=="undefined"){onSuccess(p5Font)}self._decrementPreload();var validFontTypes=["ttf","otf","woff","woff2"];var fileNoPath=path.split("\\").pop().split("/").pop();var lastDotIdx=fileNoPath.lastIndexOf(".");var fontFamily;var newStyle;var fileExt=lastDotIdx<1?null:fileNoPath.substr(lastDotIdx+1);if(validFontTypes.includes(fileExt)){fontFamily=fileNoPath.substr(0,lastDotIdx);newStyle=document.createElement("style");newStyle.appendChild(document.createTextNode("\n@font-face {\nfont-family: ".concat(fontFamily,";\nsrc: url(").concat(path,");\n}\n")));document.head.appendChild(newStyle)}});return p5Font};_main.default.prototype.text=function(str,x,y,maxWidth,maxHeight){var _this$_renderer;_main.default._validateParameters("text",arguments);return!(this._renderer._doFill||this._renderer._doStroke)?this:(_this$_renderer=this._renderer).text.apply(_this$_renderer,arguments)};_main.default.prototype.textFont=function(theFont,theSize){_main.default._validateParameters("textFont",arguments);if(arguments.length){if(!theFont){throw new Error("null font passed to textFont")}this._renderer._setProperty("_textFont",theFont);if(theSize){this._renderer._setProperty("_textSize",theSize);if(!this._renderer._leadingSet){this._renderer._setProperty("_textLeading",theSize*constants._DEFAULT_LEADMULT)}}return this._renderer._applyTextProperties()}return this._renderer._textFont};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/friendly_errors/fes_core":278,"../core/friendly_errors/file_errors":279,"../core/friendly_errors/validate_params":282,"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.last-index-of":178,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.split":209,"opentype.js":261}],325:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.fill");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.number.to-fixed");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_main.default.Font=function(p){this.parent=p;this.cache={};this.font=undefined};_main.default.Font.prototype.textBounds=function(str){var x=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var y=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var fontSize=arguments.length>3?arguments[3]:undefined;var opts=arguments.length>4?arguments[4]:undefined;var p=opts&&opts.renderer&&opts.renderer._pInst||this.parent;var ctx=p._renderer.drawingContext;var alignment=ctx.textAlign||constants.LEFT;var baseline=ctx.textBaseline||constants.BASELINE;var cacheResults=false;var result;var key;fontSize=fontSize||p._renderer._textSize;if(cacheResults){key=cacheKey("textBounds",str,x,y,fontSize,alignment,baseline);result=this.cache[key]}if(!result){var minX=[];var minY;var maxX=[];var maxY;var pos;var xCoords=[];xCoords[0]=[];var yCoords=[];var scale=this._scale(fontSize);var lineHeight=p._renderer.textLeading();var lineCount=0;this.font.forEachGlyph(str,x,y,fontSize,opts,function(glyph,gX,gY,gFontSize){var gm=glyph.getMetrics();if(glyph.index===0||glyph.index===10){lineCount+=1;xCoords[lineCount]=[]}else{xCoords[lineCount].push(gX+gm.xMin*scale);xCoords[lineCount].push(gX+gm.xMax*scale);yCoords.push(gY+lineCount*lineHeight+-gm.yMin*scale);yCoords.push(gY+lineCount*lineHeight+-gm.yMax*scale)}});if(xCoords[lineCount].length>0){minX[lineCount]=Math.min.apply(null,xCoords[lineCount]);maxX[lineCount]=Math.max.apply(null,xCoords[lineCount])}var finalMaxX=0;for(var i=0;i<=lineCount;i++){minX[i]=Math.min.apply(null,xCoords[i]);maxX[i]=Math.max.apply(null,xCoords[i]);var lineLength=maxX[i]-minX[i];if(lineLength>finalMaxX){finalMaxX=lineLength}}var finalMinX=Math.min.apply(null,minX);minY=Math.min.apply(null,yCoords);maxY=Math.max.apply(null,yCoords);result={x:finalMinX,y:minY,h:maxY-minY,w:finalMaxX,advance:finalMinX-x};pos=this._handleAlignment(p._renderer,str,result.x,result.y,result.w+result.advance);result.x=pos.x;result.y=pos.y;if(cacheResults){this.cache[key]=result}}return result};_main.default.Font.prototype.textToPoints=function(txt,x,y,fontSize,options){var xoff=0;var result=[];var glyphs=this._getGlyphs(txt);function isSpace(i){return glyphs[i].name&&glyphs[i].name==="space"||txt.length===glyphs.length&&txt[i]===" "}fontSize=fontSize||this.parent._renderer._textSize;for(var i=0;i<glyphs.length;i++){if(!isSpace(i)){var gpath=glyphs[i].getPath(x,y,fontSize),paths=splitPaths(gpath.commands);for(var j=0;j<paths.length;j++){var pts=pathToPoints(paths[j],options);for(var k=0;k<pts.length;k++){pts[k].x+=xoff;result.push(pts[k])}}}xoff+=glyphs[i].advanceWidth*this._scale(fontSize)}return result};_main.default.Font.prototype._getGlyphs=function(str){return this.font.stringToGlyphs(str)};_main.default.Font.prototype._getPath=function(line,x,y,options){var p=options&&options.renderer&&options.renderer._pInst||this.parent,renderer=p._renderer,pos=this._handleAlignment(renderer,line,x,y);return this.font.getPath(line,pos.x,pos.y,renderer._textSize,options)};_main.default.Font.prototype._getPathData=function(line,x,y,options){var decimals=3;if(typeof line==="string"&&arguments.length>2){line=this._getPath(line,x,y,options)}else if(_typeof(x)==="object"){options=x}if(options&&typeof options.decimals==="number"){decimals=options.decimals}return line.toPathData(decimals)};_main.default.Font.prototype._getSVG=function(line,x,y,options){var decimals=3;if(typeof line==="string"&&arguments.length>2){line=this._getPath(line,x,y,options)}else if(_typeof(x)==="object"){options=x}if(options){if(typeof options.decimals==="number"){decimals=options.decimals}if(typeof options.strokeWidth==="number"){line.strokeWidth=options.strokeWidth}if(typeof options.fill!=="undefined"){line.fill=options.fill}if(typeof options.stroke!=="undefined"){line.stroke=options.stroke}}return line.toSVG(decimals)};_main.default.Font.prototype._renderPath=function(line,x,y,options){var pdata;var pg=options&&options.renderer||this.parent._renderer;var ctx=pg.drawingContext;if(_typeof(line)==="object"&&line.commands){pdata=line.commands}else{pdata=this._getPath(line,x,y,options).commands}ctx.beginPath();var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=pdata[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var cmd=_step.value;if(cmd.type==="M"){ctx.moveTo(cmd.x,cmd.y)}else if(cmd.type==="L"){ctx.lineTo(cmd.x,cmd.y)}else if(cmd.type==="C"){ctx.bezierCurveTo(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y)}else if(cmd.type==="Q"){ctx.quadraticCurveTo(cmd.x1,cmd.y1,cmd.x,cmd.y)}else if(cmd.type==="Z"){ctx.closePath()}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(pg._doStroke&&pg._strokeSet){ctx.stroke()}if(pg._doFill){if(!pg._fillSet){pg._setFill(constants._DEFAULT_TEXT_FILL)}ctx.fill()}return this};_main.default.Font.prototype._textWidth=function(str,fontSize){return this.font.getAdvanceWidth(str,fontSize)};_main.default.Font.prototype._textAscent=function(fontSize){return this.font.ascender*this._scale(fontSize)};_main.default.Font.prototype._textDescent=function(fontSize){return-this.font.descender*this._scale(fontSize)};_main.default.Font.prototype._scale=function(fontSize){return 1/this.font.unitsPerEm*(fontSize||this.parent._renderer._textSize)};_main.default.Font.prototype._handleAlignment=function(renderer,line,x,y,textWidth){var fontSize=renderer._textSize;if(typeof textWidth==="undefined"){textWidth=this._textWidth(line,fontSize)}switch(renderer._textAlign){case constants.CENTER:x-=textWidth/2;break;case constants.RIGHT:x-=textWidth;break}switch(renderer._textBaseline){case constants.TOP:y+=this._textAscent(fontSize);break;case constants.CENTER:y+=this._textAscent(fontSize)/2;break;case constants.BOTTOM:y-=this._textDescent(fontSize);break}return{x:x,y:y}};function pathToPoints(cmds,options){var opts=parseOpts(options,{sampleFactor:.1,simplifyThreshold:0});var len=pointAtLength(cmds,0,1),t=len/(len*opts.sampleFactor),pts=[];for(var i=0;i<len;i+=t){pts.push(pointAtLength(cmds,i))}if(opts.simplifyThreshold){simplify(pts,opts.simplifyThreshold)}return pts}function simplify(pts){var angle=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var num=0;for(var i=pts.length-1;pts.length>3&&i>=0;--i){if(collinear(at(pts,i-1),at(pts,i),at(pts,i+1),angle)){pts.splice(i%pts.length,1);num++}}return num}function splitPaths(cmds){var paths=[];var current;for(var i=0;i<cmds.length;i++){if(cmds[i].type==="M"){if(current){paths.push(current)}current=[]}current.push(cmdToArr(cmds[i]))}paths.push(current);return paths}function cmdToArr(cmd){var arr=[cmd.type];if(cmd.type==="M"||cmd.type==="L"){arr.push(cmd.x,cmd.y)}else if(cmd.type==="C"){arr.push(cmd.x1,cmd.y1,cmd.x2,cmd.y2,cmd.x,cmd.y)}else if(cmd.type==="Q"){arr.push(cmd.x1,cmd.y1,cmd.x,cmd.y)}return arr}function parseOpts(options,defaults){if(_typeof(options)!=="object"){options=defaults}else{for(var key in defaults){if(typeof options[key]==="undefined"){options[key]=defaults[key]}}}return options}function at(v,i){var s=v.length;return v[i<0?i%s+s:i%s]}function collinear(a,b,c,thresholdAngle){if(!thresholdAngle){return areaTriangle(a,b,c)===0}if(typeof collinear.tmpPoint1==="undefined"){collinear.tmpPoint1=[];collinear.tmpPoint2=[]}var ab=collinear.tmpPoint1,bc=collinear.tmpPoint2;ab.x=b.x-a.x;ab.y=b.y-a.y;bc.x=c.x-b.x;bc.y=c.y-b.y;var dot=ab.x*bc.x+ab.y*bc.y,magA=Math.sqrt(ab.x*ab.x+ab.y*ab.y),magB=Math.sqrt(bc.x*bc.x+bc.y*bc.y),angle=Math.acos(dot/(magA*magB));return angle<thresholdAngle}function areaTriangle(a,b,c){return(b[0]-a[0])*(c[1]-a[1])-(c[0]-a[0])*(b[1]-a[1])}function findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,t){var t1=1-t;var t13=Math.pow(t1,3);var t12=Math.pow(t1,2);var t2=t*t;var t3=t2*t;var x=t13*p1x+t12*3*t*c1x+t1*3*t*t*c2x+t3*p2x;var y=t13*p1y+t12*3*t*c1y+t1*3*t*t*c2y+t3*p2y;var mx=p1x+2*t*(c1x-p1x)+t2*(c2x-2*c1x+p1x);var my=p1y+2*t*(c1y-p1y)+t2*(c2y-2*c1y+p1y);var nx=c1x+2*t*(c2x-c1x)+t2*(p2x-2*c2x+c1x);var ny=c1y+2*t*(c2y-c1y)+t2*(p2y-2*c2y+c1y);var ax=t1*p1x+t*c1x;var ay=t1*p1y+t*c1y;var cx=t1*c2x+t*p2x;var cy=t1*c2y+t*p2y;var alpha=90-Math.atan2(mx-nx,my-ny)*180/Math.PI;if(mx>nx||my<ny){alpha+=180}return{x:x,y:y,m:{x:mx,y:my},n:{x:nx,y:ny},start:{x:ax,y:ay},end:{x:cx,y:cy},alpha:alpha}}function getPointAtSegmentLength(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length){return length==null?bezlen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y):findDotsAtSegment(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,getTatLen(p1x,p1y,c1x,c1y,c2x,c2y,p2x,p2y,length))}function pointAtLength(path,length,istotal){path=path2curve(path);var x;var y;var p;var l;var sp="";var subpaths={};var point;var len=0;for(var i=0,ii=path.length;i<ii;i++){p=path[i];if(p[0]==="M"){x=+p[1];y=+p[2]}else{l=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6]);if(len+l>length){if(!istotal){point=getPointAtSegmentLength(x,y,p[1],p[2],p[3],p[4],p[5],p[6],length-len);return{x:point.x,y:point.y,alpha:point.alpha}}}len+=l;x=+p[5];y=+p[6]}sp+=p.shift()+p}subpaths.end=sp;point=istotal?len:findDotsAtSegment(x,y,p[0],p[1],p[2],p[3],p[4],p[5],1);if(point.alpha){point={x:point.x,y:point.y,alpha:point.alpha}}return point}function pathToAbsolute(pathArray){var res=[],x=0,y=0,mx=0,my=0,start=0;if(!pathArray){return res}if(pathArray[0][0]==="M"){x=+pathArray[0][1];y=+pathArray[0][2];mx=x;my=y;start++;res[0]=["M",x,y]}var dots;var crz=pathArray.length===3&&pathArray[0][0]==="M"&&pathArray[1][0].toUpperCase()==="R"&&pathArray[2][0].toUpperCase()==="Z";for(var r,pa,i=start,ii=pathArray.length;i<ii;i++){res.push(r=[]);pa=pathArray[i];if(pa[0]!==String.prototype.toUpperCase.call(pa[0])){r[0]=String.prototype.toUpperCase.call(pa[0]);switch(r[0]){case"A":r[1]=pa[1];r[2]=pa[2];r[3]=pa[3];r[4]=pa[4];r[5]=pa[5];r[6]=+(pa[6]+x);r[7]=+(pa[7]+y);break;case"V":r[1]=+pa[1]+y;break;case"H":r[1]=+pa[1]+x;break;case"R":dots=[x,y].concat(pa.slice(1));for(var j=2,jj=dots.length;j<jj;j++){dots[j]=+dots[j]+x;dots[++j]=+dots[j]+y}res.pop();res=res.concat(catmullRom2bezier(dots,crz));break;case"M":mx=+pa[1]+x;my=+pa[2]+y;break;default:for(var _j=1,_jj=pa.length;_j<_jj;_j++){r[_j]=+pa[_j]+(_j%2?x:y)}}}else if(pa[0]==="R"){dots=[x,y].concat(pa.slice(1));res.pop();res=res.concat(catmullRom2bezier(dots,crz));r=["R"].concat(pa.slice(-2))}else{for(var k=0,kk=pa.length;k<kk;k++){r[k]=pa[k]}}switch(r[0]){case"Z":x=mx;y=my;break;case"H":x=r[1];break;case"V":y=r[1];break;case"M":mx=r[r.length-2];my=r[r.length-1];break;default:x=r[r.length-2];y=r[r.length-1]}}return res}function path2curve(path,path2){var p=pathToAbsolute(path),p2=path2&&pathToAbsolute(path2);var attrs={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var attrs2={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null};var pcoms1=[];var pcoms2=[];var ii;var processPath=function processPath(path,d,pcom){var nx;var ny;var tq={T:1,Q:1};if(!path){return["C",d.x,d.y,d.x,d.y,d.x,d.y]}if(!(path[0]in tq)){d.qx=d.qy=null}switch(path[0]){case"M":d.X=path[1];d.Y=path[2];break;case"A":path=["C"].concat(a2c.apply(0,[d.x,d.y].concat(path.slice(1))));break;case"S":if(pcom==="C"||pcom==="S"){nx=d.x*2-d.bx;ny=d.y*2-d.by}else{nx=d.x;ny=d.y}path=["C",nx,ny].concat(path.slice(1));break;case"T":if(pcom==="Q"||pcom==="T"){d.qx=d.x*2-d.qx;d.qy=d.y*2-d.qy}else{d.qx=d.x;d.qy=d.y}path=["C"].concat(q2c(d.x,d.y,d.qx,d.qy,path[1],path[2]));break;case"Q":d.qx=path[1];d.qy=path[2];path=["C"].concat(q2c(d.x,d.y,path[1],path[2],path[3],path[4]));break;case"L":path=["C"].concat(l2c(d.x,d.y,path[1],path[2]));break;case"H":path=["C"].concat(l2c(d.x,d.y,path[1],d.y));break;case"V":path=["C"].concat(l2c(d.x,d.y,d.x,path[1]));break;case"Z":path=["C"].concat(l2c(d.x,d.y,d.X,d.Y));break}return path},fixArc=function fixArc(pp,i){if(pp[i].length>7){pp[i].shift();var pi=pp[i];while(pi.length){pcoms1[i]="A";if(p2){pcoms2[i]="A"}pp.splice(i++,0,["C"].concat(pi.splice(0,6)))}pp.splice(i,1);ii=Math.max(p.length,p2&&p2.length||0)}},fixM=function fixM(path1,path2,a1,a2,i){if(path1&&path2&&path1[i][0]==="M"&&path2[i][0]!=="M"){path2.splice(i,0,["M",a2.x,a2.y]);a1.bx=0;a1.by=0;a1.x=path1[i][1];a1.y=path1[i][2];ii=Math.max(p.length,p2&&p2.length||0)}};var pfirst="";var pcom="";ii=Math.max(p.length,p2&&p2.length||0);for(var i=0;i<ii;i++){if(p[i]){pfirst=p[i][0]}if(pfirst!=="C"){pcoms1[i]=pfirst;if(i){pcom=pcoms1[i-1]}}p[i]=processPath(p[i],attrs,pcom);if(pcoms1[i]!=="A"&&pfirst==="C"){pcoms1[i]="C"}fixArc(p,i);if(p2){if(p2[i]){pfirst=p2[i][0]}if(pfirst!=="C"){pcoms2[i]=pfirst;if(i){pcom=pcoms2[i-1]}}p2[i]=processPath(p2[i],attrs2,pcom);if(pcoms2[i]!=="A"&&pfirst==="C"){pcoms2[i]="C"}fixArc(p2,i)}fixM(p,p2,attrs,attrs2,i);fixM(p2,p,attrs2,attrs,i);var seg=p[i],seg2=p2&&p2[i],seglen=seg.length,seg2len=p2&&seg2.length;attrs.x=seg[seglen-2];attrs.y=seg[seglen-1];attrs.bx=parseFloat(seg[seglen-4])||attrs.x;attrs.by=parseFloat(seg[seglen-3])||attrs.y;attrs2.bx=p2&&(parseFloat(seg2[seg2len-4])||attrs2.x);attrs2.by=p2&&(parseFloat(seg2[seg2len-3])||attrs2.y);attrs2.x=p2&&seg2[seg2len-2];attrs2.y=p2&&seg2[seg2len-1]}return p2?[p,p2]:p}function a2c(x1,y1,rx,ry,angle,lac,sweep_flag,x2,y2,recursive){var PI=Math.PI;var _120=PI*120/180;var f1;var f2;var cx;var cy;var rad=PI/180*(+angle||0);var res=[];var xy;var rotate=function rotate(x,y,rad){var X=x*Math.cos(rad)-y*Math.sin(rad),Y=x*Math.sin(rad)+y*Math.cos(rad);return{x:X,y:Y}};if(!recursive){xy=rotate(x1,y1,-rad);x1=xy.x;y1=xy.y;xy=rotate(x2,y2,-rad);x2=xy.x;y2=xy.y;var x=(x1-x2)/2;var y=(y1-y2)/2;var h=x*x/(rx*rx)+y*y/(ry*ry);if(h>1){h=Math.sqrt(h);rx=h*rx;ry=h*ry}var rx2=rx*rx,ry2=ry*ry;var k=(lac===sweep_flag?-1:1)*Math.sqrt(Math.abs((rx2*ry2-rx2*y*y-ry2*x*x)/(rx2*y*y+ry2*x*x)));cx=k*rx*y/ry+(x1+x2)/2;cy=k*-ry*x/rx+(y1+y2)/2;f1=Math.asin(((y1-cy)/ry).toFixed(9));f2=Math.asin(((y2-cy)/ry).toFixed(9));f1=x1<cx?PI-f1:f1;f2=x2<cx?PI-f2:f2;if(f1<0){f1=PI*2+f1}if(f2<0){f2=PI*2+f2}if(sweep_flag&&f1>f2){f1=f1-PI*2}if(!sweep_flag&&f2>f1){f2=f2-PI*2}}else{f1=recursive[0];f2=recursive[1];cx=recursive[2];cy=recursive[3]}var df=f2-f1;if(Math.abs(df)>_120){var f2old=f2,x2old=x2,y2old=y2;f2=f1+_120*(sweep_flag&&f2>f1?1:-1);x2=cx+rx*Math.cos(f2);y2=cy+ry*Math.sin(f2);res=a2c(x2,y2,rx,ry,angle,0,sweep_flag,x2old,y2old,[f2,f2old,cx,cy])}df=f2-f1;var c1=Math.cos(f1),s1=Math.sin(f1),c2=Math.cos(f2),s2=Math.sin(f2),t=Math.tan(df/4),hx=4/3*rx*t,hy=4/3*ry*t,m1=[x1,y1],m2=[x1+hx*s1,y1-hy*c1],m3=[x2+hx*s2,y2-hy*c2],m4=[x2,y2];m2[0]=2*m1[0]-m2[0];m2[1]=2*m1[1]-m2[1];if(recursive){return[m2,m3,m4].concat(res)}else{res=[m2,m3,m4].concat(res).join().split(",");var newres=[];for(var i=0,ii=res.length;i<ii;i++){newres[i]=i%2?rotate(res[i-1],res[i],rad).y:rotate(res[i],res[i+1],rad).x}return newres}}function catmullRom2bezier(crp,z){var d=[];for(var i=0,iLen=crp.length;iLen-2*!z>i;i+=2){var p=[{x:+crp[i-2],y:+crp[i-1]},{x:+crp[i],y:+crp[i+1]},{x:+crp[i+2],y:+crp[i+3]},{x:+crp[i+4],y:+crp[i+5]}];if(z){if(!i){p[0]={x:+crp[iLen-2],y:+crp[iLen-1]}}else if(iLen-4===i){p[3]={x:+crp[0],y:+crp[1]}}else if(iLen-2===i){p[2]={x:+crp[0],y:+crp[1]};p[3]={x:+crp[2],y:+crp[3]}}}else{if(iLen-4===i){p[3]=p[2]}else if(!i){p[0]={x:+crp[i],y:+crp[i+1]}}}d.push(["C",(-p[0].x+6*p[1].x+p[2].x)/6,(-p[0].y+6*p[1].y+p[2].y)/6,(p[1].x+6*p[2].x-p[3].x)/6,(p[1].y+6*p[2].y-p[3].y)/6,p[2].x,p[2].y])}return d}function l2c(x1,y1,x2,y2){return[x1,y1,x2,y2,x2,y2]}function q2c(x1,y1,ax,ay,x2,y2){var _13=1/3,_23=2/3;return[_13*x1+_23*ax,_13*y1+_23*ay,_13*x2+_23*ax,_13*y2+_23*ay,x2,y2]}function bezlen(x1,y1,x2,y2,x3,y3,x4,y4,z){if(z==null){z=1}z=z>1?1:z<0?0:z;var z2=z/2;var n=12;var Tvalues=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816];var sum=0;var Cvalues=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];for(var i=0;i<n;i++){var ct=z2*Tvalues[i]+z2,xbase=base3(ct,x1,x2,x3,x4),ybase=base3(ct,y1,y2,y3,y4),comb=xbase*xbase+ybase*ybase;sum+=Cvalues[i]*Math.sqrt(comb)}return z2*sum}function getTatLen(x1,y1,x2,y2,x3,y3,x4,y4,ll){if(ll<0||bezlen(x1,y1,x2,y2,x3,y3,x4,y4)<ll){return}var t=1;var step=t/2;var t2=t-step;var l;var e=.01;l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2);while(Math.abs(l-ll)>e){step/=2;t2+=(l<ll?1:-1)*step;l=bezlen(x1,y1,x2,y2,x3,y3,x4,y4,t2)}return t2}function base3(t,p1,p2,p3,p4){var t1=-3*p1+9*p2-9*p3+3*p4,t2=t*t1+6*p1-12*p2+6*p3;return t*t2-3*p1+3*p2}function cacheKey(){var hash="";for(var i=arguments.length-1;i>=0;--i){hash+="？".concat(i<0||arguments.length<=i?undefined:arguments[i])}return hash}var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.fill":169,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.join":177,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.splice":182,"core-js/modules/es.function.name":184,"core-js/modules/es.number.to-fixed":190,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.split":209,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],326:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.array-buffer.constructor");_dereq_("core-js/modules/es.object.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.append=function(array,value){array.push(value);return array};_main.default.prototype.arrayCopy=function(src,srcPosition,dst,dstPosition,length){var start;var end;if(typeof length!=="undefined"){end=Math.min(length,src.length);start=dstPosition;src=src.slice(srcPosition,end+srcPosition)}else{if(typeof dst!=="undefined"){end=dst;end=Math.min(end,src.length)}else{end=src.length}start=0;dst=srcPosition;src=src.slice(0,end)}Array.prototype.splice.apply(dst,[start,end].concat(src))};_main.default.prototype.concat=function(list0,list1){return list0.concat(list1)};_main.default.prototype.reverse=function(list){return list.reverse()};_main.default.prototype.shorten=function(list){list.pop();return list};_main.default.prototype.shuffle=function(arr,bool){var isView=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(arr);arr=bool||isView?arr:arr.slice();var rnd,tmp,idx=arr.length;while(idx>1){rnd=this.random(0,1)*idx|0;tmp=arr[--idx];arr[idx]=arr[rnd];arr[rnd]=tmp}return arr};_main.default.prototype.sort=function(list,count){var arr=count?list.slice(0,Math.min(count,list.length)):list;var rest=count?list.slice(Math.min(count,list.length)):[];if(typeof arr[0]==="string"){arr=arr.sort()}else{arr=arr.sort(function(a,b){return a-b})}return arr.concat(rest)};_main.default.prototype.splice=function(list,value,index){Array.prototype.splice.apply(list,[index,0].concat(value));return list};_main.default.prototype.subset=function(list,start,count){if(typeof count!=="undefined"){return list.slice(start,start+count)}else{return list.slice(start,list.length)}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array-buffer.constructor":166,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.splice":182,"core-js/modules/es.object.to-string":195}],327:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.number.constructor");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.repeat");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.float=function(str){if(str instanceof Array){return str.map(parseFloat)}return parseFloat(str)};_main.default.prototype.int=function(n){var radix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:10;if(n===Infinity||n==="Infinity"){return Infinity}else if(n===-Infinity||n==="-Infinity"){return-Infinity}else if(typeof n==="string"){return parseInt(n,radix)}else if(typeof n==="number"){return n|0}else if(typeof n==="boolean"){return n?1:0}else if(n instanceof Array){return n.map(function(n){return _main.default.prototype.int(n,radix)})}};_main.default.prototype.str=function(n){if(n instanceof Array){return n.map(_main.default.prototype.str)}else{return String(n)}};_main.default.prototype.boolean=function(n){if(typeof n==="number"){return n!==0}else if(typeof n==="string"){return n.toLowerCase()==="true"}else if(typeof n==="boolean"){return n}else if(n instanceof Array){return n.map(_main.default.prototype.boolean)}};_main.default.prototype.byte=function(n){var nn=_main.default.prototype.int(n,10);if(typeof nn==="number"){return(nn+128)%256-128}else if(nn instanceof Array){return nn.map(_main.default.prototype.byte)}};_main.default.prototype.char=function(n){if(typeof n==="number"&&!isNaN(n)){return String.fromCharCode(n)}else if(n instanceof Array){return n.map(_main.default.prototype.char)}else if(typeof n==="string"){return _main.default.prototype.char(parseInt(n,10))}};_main.default.prototype.unchar=function(n){if(typeof n==="string"&&n.length===1){return n.charCodeAt(0)}else if(n instanceof Array){return n.map(_main.default.prototype.unchar)}};_main.default.prototype.hex=function(n,digits){digits=digits===undefined||digits===null?digits=8:digits;if(n instanceof Array){return n.map(function(n){return _main.default.prototype.hex(n,digits)})}else if(n===Infinity||n===-Infinity){var c=n===Infinity?"F":"0";return c.repeat(digits)}else if(typeof n==="number"){if(n<0){n=4294967295+n+1}var hex=Number(n).toString(16).toUpperCase();while(hex.length<digits){hex="0".concat(hex)}if(hex.length>=digits){hex=hex.substring(hex.length-digits,hex.length)}return hex}};_main.default.prototype.unhex=function(n){if(n instanceof Array){return n.map(_main.default.prototype.unhex)}else{return parseInt("0x".concat(n),16)}};var _default=_main.default;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.map":179,"core-js/modules/es.number.constructor":188,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.repeat":206}],328:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.join");_dereq_("core-js/modules/es.array.map");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.constructor");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.match");_dereq_("core-js/modules/es.string.replace");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.string.trim");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));_dereq_("../core/friendly_errors/validate_params");_dereq_("../core/friendly_errors/file_errors");_dereq_("../core/friendly_errors/fes_core");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.join=function(list,separator){_main.default._validateParameters("join",arguments);return list.join(separator)};_main.default.prototype.match=function(str,reg){_main.default._validateParameters("match",arguments);return str.match(reg)};_main.default.prototype.matchAll=function(str,reg){_main.default._validateParameters("matchAll",arguments);var re=new RegExp(reg,"g");var match=re.exec(str);var matches=[];while(match!==null){matches.push(match);match=re.exec(str)}return matches};_main.default.prototype.nf=function(nums,left,right){_main.default._validateParameters("nf",arguments);if(nums instanceof Array){return nums.map(function(x){return doNf(x,left,right)})}else{var typeOfFirst=Object.prototype.toString.call(nums);if(typeOfFirst==="[object Arguments]"){if(nums.length===3){return this.nf(nums[0],nums[1],nums[2])}else if(nums.length===2){return this.nf(nums[0],nums[1])}else{return this.nf(nums[0])}}else{return doNf(nums,left,right)}}};function doNf(num,left,right){var neg=num<0;var n=neg?num.toString().substring(1):num.toString();var decimalInd=n.indexOf(".");var intPart=decimalInd!==-1?n.substring(0,decimalInd):n;var decPart=decimalInd!==-1?n.substring(decimalInd+1):"";var str=neg?"-":"";if(typeof right!=="undefined"){var decimal="";if(decimalInd!==-1||right-decPart.length>0){decimal="."}if(decPart.length>right){decPart=decPart.substring(0,right)}for(var i=0;i<left-intPart.length;i++){str+="0"}str+=intPart;str+=decimal;str+=decPart;for(var j=0;j<right-decPart.length;j++){str+="0"}return str}else{for(var k=0;k<Math.max(left-intPart.length,0);k++){str+="0"}str+=n;return str}}_main.default.prototype.nfc=function(num,right){_main.default._validateParameters("nfc",arguments);if(num instanceof Array){return num.map(function(x){return doNfc(x,right)})}else{return doNfc(num,right)}};function doNfc(num,right){num=num.toString();var dec=num.indexOf(".");var rem=dec!==-1?num.substring(dec):"";var n=dec!==-1?num.substring(0,dec):num;n=n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(right===0){rem=""}else if(typeof right!=="undefined"){if(right>rem.length){rem+=dec===-1?".":"";var len=right-rem.length+1;for(var i=0;i<len;i++){rem+="0"}}else{rem=rem.substring(0,right+1)}}return n+rem}_main.default.prototype.nfp=function(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("nfp",args);var nfRes=_main.default.prototype.nf.apply(this,args);if(nfRes instanceof Array){return nfRes.map(addNfp)}else{return addNfp(nfRes)}};function addNfp(num){return parseFloat(num)>0?"+".concat(num.toString()):num.toString()}_main.default.prototype.nfs=function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("nfs",args);var nfRes=_main.default.prototype.nf.apply(this,args);if(nfRes instanceof Array){return nfRes.map(addNfs)}else{return addNfs(nfRes)}};function addNfs(num){return parseFloat(num)>=0?" ".concat(num.toString()):num.toString()}_main.default.prototype.split=function(str,delim){_main.default._validateParameters("split",arguments);return str.split(delim)};_main.default.prototype.splitTokens=function(value,delims){_main.default._validateParameters("splitTokens",arguments);var d;if(typeof delims!=="undefined"){var str=delims;var sqc=/\]/g.exec(str);var sqo=/\[/g.exec(str);if(sqo&&sqc){str=str.slice(0,sqc.index)+str.slice(sqc.index+1);sqo=/\[/g.exec(str);str=str.slice(0,sqo.index)+str.slice(sqo.index+1);d=new RegExp("[\\[".concat(str,"\\]]"),"g")}else if(sqc){str=str.slice(0,sqc.index)+str.slice(sqc.index+1);d=new RegExp("[".concat(str,"\\]]"),"g")}else if(sqo){str=str.slice(0,sqo.index)+str.slice(sqo.index+1);d=new RegExp("[".concat(str,"\\[]"),"g")}else{d=new RegExp("[".concat(str,"]"),"g")}}else{d=/\s/g}return value.split(d).filter(function(n){return n})};_main.default.prototype.trim=function(str){_main.default._validateParameters("trim",arguments);if(str instanceof Array){return str.map(this.trim)}else{return str.trim()}};var _default=_main.default;exports.default=_default},{"../core/friendly_errors/fes_core":278,"../core/friendly_errors/file_errors":279,"../core/friendly_errors/validate_params":282,"../core/main":287,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.join":177,"core-js/modules/es.array.map":179,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.constructor":198,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.match":205,"core-js/modules/es.string.replace":207,"core-js/modules/es.string.split":209,"core-js/modules/es.string.trim":211}],329:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.day=function(){return(new Date).getDate()};_main.default.prototype.hour=function(){return(new Date).getHours()};_main.default.prototype.minute=function(){return(new Date).getMinutes()};_main.default.prototype.millis=function(){if(this._millisStart===-1){return 0}else{return window.performance.now()-this._millisStart}};_main.default.prototype.month=function(){return(new Date).getMonth()+1};_main.default.prototype.second=function(){return(new Date).getSeconds()};_main.default.prototype.year=function(){return(new Date).getFullYear()};var _default=_main.default;exports.default=_default},{"../core/main":287}],330:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.number.to-fixed");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));_dereq_("./p5.Geometry");var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.plane=function(width,height,detailX,detailY){this._assert3d("plane");_main.default._validateParameters("plane",arguments);if(typeof width==="undefined"){width=50}if(typeof height==="undefined"){height=width}if(typeof detailX==="undefined"){detailX=1}if(typeof detailY==="undefined"){detailY=1}var gId="plane|".concat(detailX,"|").concat(detailY);if(!this._renderer.geometryInHash(gId)){var _plane=function _plane(){var u,v,p;for(var i=0;i<=this.detailY;i++){v=i/this.detailY;for(var j=0;j<=this.detailX;j++){u=j/this.detailX;p=new _main.default.Vector(u-.5,v-.5,0);this.vertices.push(p);this.uvs.push(u,v)}}};var planeGeom=new _main.default.Geometry(detailX,detailY,_plane);planeGeom.computeFaces().computeNormals();if(detailX<=1&&detailY<=1){planeGeom._makeTriangleEdges()._edgesToVertices()}else if(this._renderer._doStroke){console.log("Cannot draw stroke on plane objects with more"+" than 1 detailX or 1 detailY")}this._renderer.createBuffers(gId,planeGeom)}this._renderer.drawBuffersScaled(gId,width,height,1);return this};_main.default.prototype.box=function(width,height,depth,detailX,detailY){this._assert3d("box");_main.default._validateParameters("box",arguments);if(typeof width==="undefined"){width=50}if(typeof height==="undefined"){height=width}if(typeof depth==="undefined"){depth=height}var perPixelLighting=this._renderer.attributes&&this._renderer.attributes.perPixelLighting;if(typeof detailX==="undefined"){detailX=perPixelLighting?1:4}if(typeof detailY==="undefined"){detailY=perPixelLighting?1:4}var gId="box|".concat(detailX,"|").concat(detailY);if(!this._renderer.geometryInHash(gId)){var _box=function _box(){var cubeIndices=[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]];this.strokeIndices=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]];for(var i=0;i<cubeIndices.length;i++){var cubeIndex=cubeIndices[i];var v=i*4;for(var j=0;j<4;j++){var d=cubeIndex[j];var octant=new _main.default.Vector(((d&1)*2-1)/2,((d&2)-1)/2,((d&4)/2-1)/2);this.vertices.push(octant);this.uvs.push(j&1,(j&2)/2)}this.faces.push([v,v+1,v+2]);this.faces.push([v+2,v+1,v+3])}};var boxGeom=new _main.default.Geometry(detailX,detailY,_box);boxGeom.computeNormals();if(detailX<=4&&detailY<=4){boxGeom._makeTriangleEdges()._edgesToVertices()}else if(this._renderer._doStroke){console.log("Cannot draw stroke on box objects with more"+" than 4 detailX or 4 detailY")}this._renderer.createBuffers(gId,boxGeom)}this._renderer.drawBuffersScaled(gId,width,height,depth);return this};_main.default.prototype.sphere=function(radius,detailX,detailY){this._assert3d("sphere");_main.default._validateParameters("sphere",arguments);if(typeof radius==="undefined"){radius=50}if(typeof detailX==="undefined"){detailX=24}if(typeof detailY==="undefined"){detailY=16}this.ellipsoid(radius,radius,radius,detailX,detailY);return this};var _truncatedCone=function _truncatedCone(bottomRadius,topRadius,height,detailX,detailY,bottomCap,topCap){bottomRadius=bottomRadius<=0?1:bottomRadius;topRadius=topRadius<0?0:topRadius;height=height<=0?bottomRadius:height;detailX=detailX<3?3:detailX;detailY=detailY<1?1:detailY;bottomCap=bottomCap===undefined?true:bottomCap;topCap=topCap===undefined?topRadius!==0:topCap;var start=bottomCap?-2:0;var end=detailY+(topCap?2:0);var slant=Math.atan2(bottomRadius-topRadius,height);var sinSlant=Math.sin(slant);var cosSlant=Math.cos(slant);var yy,ii,jj;for(yy=start;yy<=end;++yy){var v=yy/detailY;var y=height*v;var ringRadius=void 0;if(yy<0){y=0;v=0;ringRadius=bottomRadius}else if(yy>detailY){y=height;v=1;ringRadius=topRadius}else{ringRadius=bottomRadius+(topRadius-bottomRadius)*v}if(yy===-2||yy===detailY+2){ringRadius=0}y-=height/2;for(ii=0;ii<detailX;++ii){var u=ii/(detailX-1);var ur=2*Math.PI*u;var sur=Math.sin(ur);var cur=Math.cos(ur);this.vertices.push(new _main.default.Vector(sur*ringRadius,y,cur*ringRadius));var vertexNormal=void 0;if(yy<0){vertexNormal=new _main.default.Vector(0,-1,0)}else if(yy>detailY&&topRadius){vertexNormal=new _main.default.Vector(0,1,0)}else{vertexNormal=new _main.default.Vector(sur*cosSlant,sinSlant,cur*cosSlant)}this.vertexNormals.push(vertexNormal);this.uvs.push(u,v)}}var startIndex=0;if(bottomCap){for(jj=0;jj<detailX;++jj){var nextjj=(jj+1)%detailX;this.faces.push([startIndex+jj,startIndex+detailX+nextjj,startIndex+detailX+jj])}startIndex+=detailX*2}for(yy=0;yy<detailY;++yy){for(ii=0;ii<detailX;++ii){var nextii=(ii+1)%detailX;this.faces.push([startIndex+ii,startIndex+nextii,startIndex+detailX+nextii]);this.faces.push([startIndex+ii,startIndex+detailX+nextii,startIndex+detailX+ii])}startIndex+=detailX}if(topCap){startIndex+=detailX;for(ii=0;ii<detailX;++ii){this.faces.push([startIndex+ii,startIndex+(ii+1)%detailX,startIndex+detailX])}}};_main.default.prototype.cylinder=function(radius,height,detailX,detailY,bottomCap,topCap){this._assert3d("cylinder");_main.default._validateParameters("cylinder",arguments);if(typeof radius==="undefined"){radius=50}if(typeof height==="undefined"){height=radius}if(typeof detailX==="undefined"){detailX=24}if(typeof detailY==="undefined"){detailY=1}if(typeof topCap==="undefined"){topCap=true}if(typeof bottomCap==="undefined"){bottomCap=true}var gId="cylinder|".concat(detailX,"|").concat(detailY,"|").concat(bottomCap,"|").concat(topCap);if(!this._renderer.geometryInHash(gId)){var cylinderGeom=new _main.default.Geometry(detailX,detailY);_truncatedCone.call(cylinderGeom,1,1,1,detailX,detailY,bottomCap,topCap);if(detailX<=24&&detailY<=16){cylinderGeom._makeTriangleEdges()._edgesToVertices()}else if(this._renderer._doStroke){console.log("Cannot draw stroke on cylinder objects with more"+" than 24 detailX or 16 detailY")}this._renderer.createBuffers(gId,cylinderGeom)}this._renderer.drawBuffersScaled(gId,radius,height,radius);return this};_main.default.prototype.cone=function(radius,height,detailX,detailY,cap){this._assert3d("cone");_main.default._validateParameters("cone",arguments);if(typeof radius==="undefined"){radius=50}if(typeof height==="undefined"){height=radius}if(typeof detailX==="undefined"){detailX=24}if(typeof detailY==="undefined"){detailY=1}if(typeof cap==="undefined"){cap=true}var gId="cone|".concat(detailX,"|").concat(detailY,"|").concat(cap);if(!this._renderer.geometryInHash(gId)){var coneGeom=new _main.default.Geometry(detailX,detailY);_truncatedCone.call(coneGeom,1,0,1,detailX,detailY,cap,false);if(detailX<=24&&detailY<=16){coneGeom._makeTriangleEdges()._edgesToVertices()}else if(this._renderer._doStroke){console.log("Cannot draw stroke on cone objects with more"+" than 24 detailX or 16 detailY")}this._renderer.createBuffers(gId,coneGeom)}this._renderer.drawBuffersScaled(gId,radius,height,radius);return this};_main.default.prototype.ellipsoid=function(radiusX,radiusY,radiusZ,detailX,detailY){this._assert3d("ellipsoid");_main.default._validateParameters("ellipsoid",arguments);if(typeof radiusX==="undefined"){radiusX=50}if(typeof radiusY==="undefined"){radiusY=radiusX}if(typeof radiusZ==="undefined"){radiusZ=radiusX}if(typeof detailX==="undefined"){detailX=24}if(typeof detailY==="undefined"){detailY=16}var gId="ellipsoid|".concat(detailX,"|").concat(detailY);if(!this._renderer.geometryInHash(gId)){var _ellipsoid=function _ellipsoid(){for(var i=0;i<=this.detailY;i++){var v=i/this.detailY;var phi=Math.PI*v-Math.PI/2;var cosPhi=Math.cos(phi);var sinPhi=Math.sin(phi);for(var j=0;j<=this.detailX;j++){var u=j/this.detailX;var theta=2*Math.PI*u;var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);var p=new _main.default.Vector(cosPhi*sinTheta,sinPhi,cosPhi*cosTheta);this.vertices.push(p);this.vertexNormals.push(p);this.uvs.push(u,v)}}};var ellipsoidGeom=new _main.default.Geometry(detailX,detailY,_ellipsoid);ellipsoidGeom.computeFaces();if(detailX<=24&&detailY<=24){ellipsoidGeom._makeTriangleEdges()._edgesToVertices()}else if(this._renderer._doStroke){console.log("Cannot draw stroke on ellipsoids with more"+" than 24 detailX or 24 detailY")}this._renderer.createBuffers(gId,ellipsoidGeom)}this._renderer.drawBuffersScaled(gId,radiusX,radiusY,radiusZ);return this};_main.default.prototype.torus=function(radius,tubeRadius,detailX,detailY){this._assert3d("torus");_main.default._validateParameters("torus",arguments);if(typeof radius==="undefined"){radius=50}else if(!radius){return}if(typeof tubeRadius==="undefined"){tubeRadius=10}else if(!tubeRadius){return}if(typeof detailX==="undefined"){detailX=24}if(typeof detailY==="undefined"){detailY=16}var tubeRatio=(tubeRadius/radius).toPrecision(4);var gId="torus|".concat(tubeRatio,"|").concat(detailX,"|").concat(detailY);if(!this._renderer.geometryInHash(gId)){var _torus=function _torus(){for(var i=0;i<=this.detailY;i++){var v=i/this.detailY;var phi=2*Math.PI*v;var cosPhi=Math.cos(phi);var sinPhi=Math.sin(phi);var r=1+tubeRatio*cosPhi;for(var j=0;j<=this.detailX;j++){var u=j/this.detailX;var theta=2*Math.PI*u;var cosTheta=Math.cos(theta);var sinTheta=Math.sin(theta);var p=new _main.default.Vector(r*cosTheta,r*sinTheta,tubeRatio*sinPhi);var n=new _main.default.Vector(cosPhi*cosTheta,cosPhi*sinTheta,sinPhi);this.vertices.push(p);this.vertexNormals.push(n);this.uvs.push(u,v)}}};var torusGeom=new _main.default.Geometry(detailX,detailY,_torus);torusGeom.computeFaces();if(detailX<=24&&detailY<=16){torusGeom._makeTriangleEdges()._edgesToVertices()}else if(this._renderer._doStroke){console.log("Cannot draw strokes on torus object with more"+" than 24 detailX or 16 detailY")}this._renderer.createBuffers(gId,torusGeom)}this._renderer.drawBuffersScaled(gId,radius,radius,radius);return this};_main.default.RendererGL.prototype.point=function(x,y,z){if(typeof z==="undefined"){z=0}var _vertex=[];_vertex.push(new _main.default.Vector(x,y,z));this._drawPoints(_vertex,this.immediateMode.buffers.point);return this};_main.default.RendererGL.prototype.triangle=function(args){var x1=args[0],y1=args[1];var x2=args[2],y2=args[3];var x3=args[4],y3=args[5];var gId="tri";if(!this.geometryInHash(gId)){var _triangle=function _triangle(){var vertices=[];vertices.push(new _main.default.Vector(0,0,0));vertices.push(new _main.default.Vector(0,1,0));vertices.push(new _main.default.Vector(1,0,0));this.strokeIndices=[[0,1],[1,2],[2,0]];this.vertices=vertices;this.faces=[[0,1,2]];this.uvs=[0,0,0,1,1,1]};var triGeom=new _main.default.Geometry(1,1,_triangle);triGeom._makeTriangleEdges()._edgesToVertices();triGeom.computeNormals();this.createBuffers(gId,triGeom)}var uMVMatrix=this.uMVMatrix.copy();try{var mult=new _main.default.Matrix([x2-x1,y2-y1,0,0,x3-x1,y3-y1,0,0,0,0,1,0,x1,y1,0,1]).mult(this.uMVMatrix);this.uMVMatrix=mult;this.drawBuffers(gId)}finally{this.uMVMatrix=uMVMatrix}return this};_main.default.RendererGL.prototype.ellipse=function(args){this.arc(args[0],args[1],args[2],args[3],0,constants.TWO_PI,constants.OPEN,args[4])};_main.default.RendererGL.prototype.arc=function(args){var x=arguments[0];var y=arguments[1];var width=arguments[2];var height=arguments[3];var start=arguments[4];var stop=arguments[5];var mode=arguments[6];var detail=arguments[7]||25;var shape;var gId;if(Math.abs(stop-start)>=constants.TWO_PI){shape="ellipse";gId="".concat(shape,"|").concat(detail,"|")}else{shape="arc";gId="".concat(shape,"|").concat(start,"|").concat(stop,"|").concat(mode,"|").concat(detail,"|")}if(!this.geometryInHash(gId)){var _arc=function _arc(){this.strokeIndices=[];if(start.toFixed(10)!==stop.toFixed(10)){if(mode===constants.PIE||typeof mode==="undefined"){this.vertices.push(new _main.default.Vector(.5,.5,0));this.uvs.push([.5,.5])}for(var i=0;i<=detail;i++){var u=i/detail;var theta=(stop-start)*u+start;var _x=.5+Math.cos(theta)/2;var _y=.5+Math.sin(theta)/2;this.vertices.push(new _main.default.Vector(_x,_y,0));this.uvs.push([_x,_y]);if(i<detail-1){this.faces.push([0,i+1,i+2]);this.strokeIndices.push([i+1,i+2])}}switch(mode){case constants.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]);this.strokeIndices.push([0,1]);this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1]);this.strokeIndices.push([0,this.vertices.length-1]);break;case constants.CHORD:this.strokeIndices.push([0,1]);this.strokeIndices.push([0,this.vertices.length-1]);break;case constants.OPEN:this.strokeIndices.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]);this.strokeIndices.push([this.vertices.length-2,this.vertices.length-1])}}};var arcGeom=new _main.default.Geometry(detail,1,_arc);arcGeom.computeNormals();if(detail<=50){arcGeom._makeTriangleEdges()._edgesToVertices(arcGeom)}else if(this._doStroke){console.log("Cannot apply a stroke to an ".concat(shape," with more than 50 detail"))}this.createBuffers(gId,arcGeom)}var uMVMatrix=this.uMVMatrix.copy();try{this.uMVMatrix.translate([x,y,0]);this.uMVMatrix.scale(width,height,1);this.drawBuffers(gId)}finally{this.uMVMatrix=uMVMatrix}return this};_main.default.RendererGL.prototype.rect=function(args){var perPixelLighting=this._pInst._glAttributes.perPixelLighting;var x=args[0];var y=args[1];var width=args[2];var height=args[3];var detailX=args[4]||(perPixelLighting?1:24);var detailY=args[5]||(perPixelLighting?1:16);var gId="rect|".concat(detailX,"|").concat(detailY);if(!this.geometryInHash(gId)){var _rect=function _rect(){for(var i=0;i<=this.detailY;i++){var v=i/this.detailY;for(var j=0;j<=this.detailX;j++){var u=j/this.detailX;var p=new _main.default.Vector(u,v,0);this.vertices.push(p);this.uvs.push(u,v)}}if(detailX>0&&detailY>0){this.strokeIndices=[[0,detailX],[detailX,(detailX+1)*(detailY+1)-1],[(detailX+1)*(detailY+1)-1,(detailX+1)*detailY],[(detailX+1)*detailY,0]]}};var rectGeom=new _main.default.Geometry(detailX,detailY,_rect);rectGeom.computeFaces().computeNormals()._makeTriangleEdges()._edgesToVertices();this.createBuffers(gId,rectGeom)}var uMVMatrix=this.uMVMatrix.copy();try{this.uMVMatrix.translate([x,y,0]);this.uMVMatrix.scale(width,height,1);this.drawBuffers(gId)}finally{this.uMVMatrix=uMVMatrix}return this};_main.default.RendererGL.prototype.quad=function(x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4,detailX,detailY){if(typeof detailX==="undefined"){detailX=2}if(typeof detailY==="undefined"){detailY=2}var gId="quad|".concat(x1,"|").concat(y1,"|").concat(z1,"|").concat(x2,"|").concat(y2,"|").concat(z2,"|").concat(x3,"|").concat(y3,"|").concat(z3,"|").concat(x4,"|").concat(y4,"|").concat(z4,"|").concat(detailX,"|").concat(detailY);if(!this.geometryInHash(gId)){var quadGeom=new _main.default.Geometry(detailX,detailY,function(){var xRes=1/(this.detailX-1);var yRes=1/(this.detailY-1);for(var y=0;y<this.detailY;y++){for(var x=0;x<this.detailX;x++){var pctx=x*xRes;var pcty=y*yRes;var linePt0x=(1-pcty)*x1+pcty*x4;var linePt0y=(1-pcty)*y1+pcty*y4;var linePt0z=(1-pcty)*z1+pcty*z4;var linePt1x=(1-pcty)*x2+pcty*x3;var linePt1y=(1-pcty)*y2+pcty*y3;var linePt1z=(1-pcty)*z2+pcty*z3;var ptx=(1-pctx)*linePt0x+pctx*linePt1x;var pty=(1-pctx)*linePt0y+pctx*linePt1y;var ptz=(1-pctx)*linePt0z+pctx*linePt1z;this.vertices.push(new _main.default.Vector(ptx,pty,ptz));this.uvs.push([pctx,pcty])}}});quadGeom.faces=[];for(var y=0;y<detailY-1;y++){for(var x=0;x<detailX-1;x++){var pt0=x+y*detailX;var pt1=x+1+y*detailX;var pt2=x+1+(y+1)*detailX;var pt3=x+(y+1)*detailX;quadGeom.faces.push([pt0,pt1,pt2]);quadGeom.faces.push([pt0,pt2,pt3])}}quadGeom.computeNormals()._makeTriangleEdges()._edgesToVertices();this.createBuffers(gId,quadGeom)}this.drawBuffers(gId);return this};_main.default.RendererGL.prototype.bezier=function(x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4){if(arguments.length===8){y4=y3;x4=x3;y3=z2;x3=y2;y2=x2;x2=z1;z1=z2=z3=z4=0}var bezierDetail=this._pInst._bezierDetail||20;this.beginShape();for(var i=0;i<=bezierDetail;i++){var c1=Math.pow(1-i/bezierDetail,3);var c2=3*(i/bezierDetail)*Math.pow(1-i/bezierDetail,2);var c3=3*Math.pow(i/bezierDetail,2)*(1-i/bezierDetail);var c4=Math.pow(i/bezierDetail,3);this.vertex(x1*c1+x2*c2+x3*c3+x4*c4,y1*c1+y2*c2+y3*c3+y4*c4,z1*c1+z2*c2+z3*c3+z4*c4)}this.endShape();return this};_main.default.RendererGL.prototype.curve=function(x1,y1,z1,x2,y2,z2,x3,y3,z3,x4,y4,z4){if(arguments.length===8){x4=x3;y4=y3;x3=y2;y3=x2;x2=z1;y2=x2;z1=z2=z3=z4=0}var curveDetail=this._pInst._curveDetail;this.beginShape();for(var i=0;i<=curveDetail;i++){var c1=Math.pow(i/curveDetail,3)*.5;var c2=Math.pow(i/curveDetail,2)*.5;var c3=i/curveDetail*.5;var c4=.5;var vx=c1*(-x1+3*x2-3*x3+x4)+c2*(2*x1-5*x2+4*x3-x4)+c3*(-x1+x3)+c4*(2*x2);var vy=c1*(-y1+3*y2-3*y3+y4)+c2*(2*y1-5*y2+4*y3-y4)+c3*(-y1+y3)+c4*(2*y2);var vz=c1*(-z1+3*z2-3*z3+z4)+c2*(2*z1-5*z2+4*z3-z4)+c3*(-z1+z3)+c4*(2*z2);this.vertex(vx,vy,vz)}this.endShape();return this};_main.default.RendererGL.prototype.line=function(){if(arguments.length===6){this.beginShape(constants.LINES);this.vertex(arguments.length<=0?undefined:arguments[0],arguments.length<=1?undefined:arguments[1],arguments.length<=2?undefined:arguments[2]);this.vertex(arguments.length<=3?undefined:arguments[3],arguments.length<=4?undefined:arguments[4],arguments.length<=5?undefined:arguments[5]);this.endShape()}else if(arguments.length===4){this.beginShape(constants.LINES);this.vertex(arguments.length<=0?undefined:arguments[0],arguments.length<=1?undefined:arguments[1],0);this.vertex(arguments.length<=2?undefined:arguments[2],arguments.length<=3?undefined:arguments[3],0);this.endShape()}return this};_main.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0){throw Error("vertex() must be used once before calling bezierVertex()")}else{var w_x=[];var w_y=[];var w_z=[];var t,_x,_y,_z,i;var argLength=arguments.length;t=0;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;var step=1/this._lutBezierDetail;var start=0;var end=1;var j=0;while(start<1){t=parseFloat(start.toFixed(6));this._lookUpTableBezier[j]=this._bezierCoefficients(t);if(end.toFixed(6)===step.toFixed(6)){t=parseFloat(end.toFixed(6))+parseFloat(start.toFixed(6));++j;this._lookUpTableBezier[j]=this._bezierCoefficients(t);break}start+=step;end-=step;++j}}var LUTLength=this._lookUpTableBezier.length;if(argLength===6){this.isBezier=true;w_x=[this.immediateMode._bezierVertex[0],arguments.length<=0?undefined:arguments[0],arguments.length<=2?undefined:arguments[2],arguments.length<=4?undefined:arguments[4]];w_y=[this.immediateMode._bezierVertex[1],arguments.length<=1?undefined:arguments[1],arguments.length<=3?undefined:arguments[3],arguments.length<=5?undefined:arguments[5]];for(i=0;i<LUTLength;i++){_x=w_x[0]*this._lookUpTableBezier[i][0]+w_x[1]*this._lookUpTableBezier[i][1]+w_x[2]*this._lookUpTableBezier[i][2]+w_x[3]*this._lookUpTableBezier[i][3];_y=w_y[0]*this._lookUpTableBezier[i][0]+w_y[1]*this._lookUpTableBezier[i][1]+w_y[2]*this._lookUpTableBezier[i][2]+w_y[3]*this._lookUpTableBezier[i][3];this.vertex(_x,_y)}this.immediateMode._bezierVertex[0]=arguments.length<=4?undefined:arguments[4];this.immediateMode._bezierVertex[1]=arguments.length<=5?undefined:arguments[5]}else if(argLength===9){this.isBezier=true;w_x=[this.immediateMode._bezierVertex[0],arguments.length<=0?undefined:arguments[0],arguments.length<=3?undefined:arguments[3],arguments.length<=6?undefined:arguments[6]];w_y=[this.immediateMode._bezierVertex[1],arguments.length<=1?undefined:arguments[1],arguments.length<=4?undefined:arguments[4],arguments.length<=7?undefined:arguments[7]];w_z=[this.immediateMode._bezierVertex[2],arguments.length<=2?undefined:arguments[2],arguments.length<=5?undefined:arguments[5],arguments.length<=8?undefined:arguments[8]];for(i=0;i<LUTLength;i++){_x=w_x[0]*this._lookUpTableBezier[i][0]+w_x[1]*this._lookUpTableBezier[i][1]+w_x[2]*this._lookUpTableBezier[i][2]+w_x[3]*this._lookUpTableBezier[i][3];_y=w_y[0]*this._lookUpTableBezier[i][0]+w_y[1]*this._lookUpTableBezier[i][1]+w_y[2]*this._lookUpTableBezier[i][2]+w_y[3]*this._lookUpTableBezier[i][3];_z=w_z[0]*this._lookUpTableBezier[i][0]+w_z[1]*this._lookUpTableBezier[i][1]+w_z[2]*this._lookUpTableBezier[i][2]+w_z[3]*this._lookUpTableBezier[i][3];this.vertex(_x,_y,_z)}this.immediateMode._bezierVertex[0]=arguments.length<=6?undefined:arguments[6];this.immediateMode._bezierVertex[1]=arguments.length<=7?undefined:arguments[7];this.immediateMode._bezierVertex[2]=arguments.length<=8?undefined:arguments[8]}}};_main.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0){throw Error("vertex() must be used once before calling quadraticVertex()")}else{var w_x=[];var w_y=[];var w_z=[];var t,_x,_y,_z,i;var argLength=arguments.length;t=0;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[];this._lutQuadraticDetail=this._pInst._curveDetail;var step=1/this._lutQuadraticDetail;var start=0;var end=1;var j=0;while(start<1){t=parseFloat(start.toFixed(6));this._lookUpTableQuadratic[j]=this._quadraticCoefficients(t);if(end.toFixed(6)===step.toFixed(6)){t=parseFloat(end.toFixed(6))+parseFloat(start.toFixed(6));++j;this._lookUpTableQuadratic[j]=this._quadraticCoefficients(t);break}start+=step;end-=step;++j}}var LUTLength=this._lookUpTableQuadratic.length;if(argLength===4){this.isQuadratic=true;w_x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?undefined:arguments[0],arguments.length<=2?undefined:arguments[2]];w_y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?undefined:arguments[1],arguments.length<=3?undefined:arguments[3]];for(i=0;i<LUTLength;i++){_x=w_x[0]*this._lookUpTableQuadratic[i][0]+w_x[1]*this._lookUpTableQuadratic[i][1]+w_x[2]*this._lookUpTableQuadratic[i][2];_y=w_y[0]*this._lookUpTableQuadratic[i][0]+w_y[1]*this._lookUpTableQuadratic[i][1]+w_y[2]*this._lookUpTableQuadratic[i][2];this.vertex(_x,_y)}this.immediateMode._quadraticVertex[0]=arguments.length<=2?undefined:arguments[2];this.immediateMode._quadraticVertex[1]=arguments.length<=3?undefined:arguments[3]}else if(argLength===6){this.isQuadratic=true;w_x=[this.immediateMode._quadraticVertex[0],arguments.length<=0?undefined:arguments[0],arguments.length<=3?undefined:arguments[3]];w_y=[this.immediateMode._quadraticVertex[1],arguments.length<=1?undefined:arguments[1],arguments.length<=4?undefined:arguments[4]];w_z=[this.immediateMode._quadraticVertex[2],arguments.length<=2?undefined:arguments[2],arguments.length<=5?undefined:arguments[5]];for(i=0;i<LUTLength;i++){_x=w_x[0]*this._lookUpTableQuadratic[i][0]+w_x[1]*this._lookUpTableQuadratic[i][1]+w_x[2]*this._lookUpTableQuadratic[i][2];_y=w_y[0]*this._lookUpTableQuadratic[i][0]+w_y[1]*this._lookUpTableQuadratic[i][1]+w_y[2]*this._lookUpTableQuadratic[i][2];_z=w_z[0]*this._lookUpTableQuadratic[i][0]+w_z[1]*this._lookUpTableQuadratic[i][1]+w_z[2]*this._lookUpTableQuadratic[i][2];this.vertex(_x,_y,_z)}this.immediateMode._quadraticVertex[0]=arguments.length<=3?undefined:arguments[3];this.immediateMode._quadraticVertex[1]=arguments.length<=4?undefined:arguments[4];this.immediateMode._quadraticVertex[2]=arguments.length<=5?undefined:arguments[5]}}};_main.default.RendererGL.prototype.curveVertex=function(){var w_x=[];var w_y=[];var w_z=[];var t,_x,_y,_z,i;t=0;var argLength=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[];this._lutBezierDetail=this._pInst._curveDetail;var step=1/this._lutBezierDetail;var start=0;var end=1;var j=0;while(start<1){t=parseFloat(start.toFixed(6));this._lookUpTableBezier[j]=this._bezierCoefficients(t);if(end.toFixed(6)===step.toFixed(6)){t=parseFloat(end.toFixed(6))+parseFloat(start.toFixed(6));++j;this._lookUpTableBezier[j]=this._bezierCoefficients(t);break}start+=step;end-=step;++j}}var LUTLength=this._lookUpTableBezier.length;if(argLength===2){this.immediateMode._curveVertex.push(arguments.length<=0?undefined:arguments[0]);this.immediateMode._curveVertex.push(arguments.length<=1?undefined:arguments[1]);if(this.immediateMode._curveVertex.length===8){this.isCurve=true;w_x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]);w_y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]);for(i=0;i<LUTLength;i++){_x=w_x[0]*this._lookUpTableBezier[i][0]+w_x[1]*this._lookUpTableBezier[i][1]+w_x[2]*this._lookUpTableBezier[i][2]+w_x[3]*this._lookUpTableBezier[i][3];_y=w_y[0]*this._lookUpTableBezier[i][0]+w_y[1]*this._lookUpTableBezier[i][1]+w_y[2]*this._lookUpTableBezier[i][2]+w_y[3]*this._lookUpTableBezier[i][3];this.vertex(_x,_y)}for(i=0;i<argLength;i++){this.immediateMode._curveVertex.shift()}}}else if(argLength===3){this.immediateMode._curveVertex.push(arguments.length<=0?undefined:arguments[0]);this.immediateMode._curveVertex.push(arguments.length<=1?undefined:arguments[1]);this.immediateMode._curveVertex.push(arguments.length<=2?undefined:arguments[2]);if(this.immediateMode._curveVertex.length===12){this.isCurve=true;w_x=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]);w_y=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]);w_z=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]);for(i=0;i<LUTLength;i++){_x=w_x[0]*this._lookUpTableBezier[i][0]+w_x[1]*this._lookUpTableBezier[i][1]+w_x[2]*this._lookUpTableBezier[i][2]+w_x[3]*this._lookUpTableBezier[i][3];_y=w_y[0]*this._lookUpTableBezier[i][0]+w_y[1]*this._lookUpTableBezier[i][1]+w_y[2]*this._lookUpTableBezier[i][2]+w_y[3]*this._lookUpTableBezier[i][3];_z=w_z[0]*this._lookUpTableBezier[i][0]+w_z[1]*this._lookUpTableBezier[i][1]+w_z[2]*this._lookUpTableBezier[i][2]+w_z[3]*this._lookUpTableBezier[i][3];this.vertex(_x,_y,_z)}for(i=0;i<argLength;i++){this.immediateMode._curveVertex.shift()}}}};_main.default.RendererGL.prototype.image=function(img,sx,sy,sWidth,sHeight,dx,dy,dWidth,dHeight){if(this._isErasing){this.blendMode(this._cachedBlendMode)}this._pInst.push();this._pInst.noLights();this._pInst.texture(img);this._pInst.textureMode(constants.NORMAL);var u0=0;if(sx<=img.width){u0=sx/img.width}var u1=1;if(sx+sWidth<=img.width){u1=(sx+sWidth)/img.width}var v0=0;if(sy<=img.height){v0=sy/img.height}var v1=1;if(sy+sHeight<=img.height){v1=(sy+sHeight)/img.height}this.beginShape();this.vertex(dx,dy,0,u0,v0);this.vertex(dx+dWidth,dy,0,u1,v0);this.vertex(dx+dWidth,dy+dHeight,0,u1,v1);this.vertex(dx,dy+dHeight,0,u0,v1);this.endShape(constants.CLOSE);this._pInst.pop();if(this._isErasing){this.blendMode(constants.REMOVE)}};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287,"./p5.Geometry":336,"core-js/modules/es.array.concat":167,"core-js/modules/es.number.to-fixed":190}],331:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.orbitControl=function(sensitivityX,sensitivityY,sensitivityZ){this._assert3d("orbitControl");_main.default._validateParameters("orbitControl",arguments);var mouseInCanvas=this.mouseX<this.width&&this.mouseX>0&&this.mouseY<this.height&&this.mouseY>0;if(!mouseInCanvas)return;var cam=this._renderer._curCamera;if(typeof sensitivityX==="undefined"){sensitivityX=1}if(typeof sensitivityY==="undefined"){sensitivityY=sensitivityX}if(typeof sensitivityZ==="undefined"){sensitivityZ=.5}if(this.contextMenuDisabled!==true){this.canvas.oncontextmenu=function(){return false};this._setProperty("contextMenuDisabled",true)}if(this.wheelDefaultDisabled!==true){this.canvas.onwheel=function(){return false};this._setProperty("wheelDefaultDisabled",true)}var scaleFactor=this.height<this.width?this.height:this.width;if(this._mouseWheelDeltaY!==this._pmouseWheelDeltaY){if(this._mouseWheelDeltaY>0){this._renderer._curCamera._orbit(0,0,sensitivityZ*scaleFactor)}else{this._renderer._curCamera._orbit(0,0,-sensitivityZ*scaleFactor)}}if(this.mouseIsPressed){if(this.mouseButton===this.LEFT){var deltaTheta=-sensitivityX*(this.mouseX-this.pmouseX)/scaleFactor;var deltaPhi=sensitivityY*(this.mouseY-this.pmouseY)/scaleFactor;this._renderer._curCamera._orbit(deltaTheta,deltaPhi,0)}else if(this.mouseButton===this.RIGHT){var local=cam._getLocalAxes();var xmag=Math.sqrt(local.x[0]*local.x[0]+local.x[2]*local.x[2]);if(xmag!==0){local.x[0]/=xmag;local.x[2]/=xmag}var ymag=Math.sqrt(local.y[0]*local.y[0]+local.y[2]*local.y[2]);if(ymag!==0){local.y[0]/=ymag;local.y[2]/=ymag}var dx=-1*sensitivityX*(this.mouseX-this.pmouseX);var dz=-1*sensitivityY*(this.mouseY-this.pmouseY);cam.setPosition(cam.eyeX+dx*local.x[0]+dz*local.z[0],cam.eyeY,cam.eyeZ+dx*local.x[2]+dz*local.z[2])}}return this};_main.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("debugMode",args);for(var i=this._registeredMethods.post.length-1;i>=0;i--){if(this._registeredMethods.post[i].toString()===this._grid().toString()||this._registeredMethods.post[i].toString()===this._axesIcon().toString()){this._registeredMethods.post.splice(i,1)}}if(args[0]===constants.GRID){this.registerMethod("post",this._grid.call(this,args[1],args[2],args[3],args[4],args[5]))}else if(args[0]===constants.AXES){this.registerMethod("post",this._axesIcon.call(this,args[1],args[2],args[3],args[4]))}else{this.registerMethod("post",this._grid.call(this,args[0],args[1],args[2],args[3],args[4]));this.registerMethod("post",this._axesIcon.call(this,args[5],args[6],args[7],args[8]))}};_main.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var i=this._registeredMethods.post.length-1;i>=0;i--){if(this._registeredMethods.post[i].toString()===this._grid().toString()||this._registeredMethods.post[i].toString()===this._axesIcon().toString()){this._registeredMethods.post.splice(i,1)}}};_main.default.prototype._grid=function(size,numDivs,xOff,yOff,zOff){if(typeof size==="undefined"){size=this.width/2}if(typeof numDivs==="undefined"){numDivs=Math.round(size/30)<4?4:Math.round(size/30)}if(typeof xOff==="undefined"){xOff=0}if(typeof yOff==="undefined"){yOff=0}if(typeof zOff==="undefined"){zOff=0}var spacing=size/numDivs;var halfSize=size/2;return function(){this.push();this.stroke(this._renderer.curStrokeColor[0]*255,this._renderer.curStrokeColor[1]*255,this._renderer.curStrokeColor[2]*255);this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);for(var q=0;q<=numDivs;q++){this.beginShape(this.LINES);this.vertex(-halfSize+xOff,yOff,q*spacing-halfSize+zOff);this.vertex(+halfSize+xOff,yOff,q*spacing-halfSize+zOff);this.endShape()}for(var i=0;i<=numDivs;i++){this.beginShape(this.LINES);this.vertex(i*spacing-halfSize+xOff,yOff,-halfSize+zOff);this.vertex(i*spacing-halfSize+xOff,yOff,+halfSize+zOff);this.endShape()}this.pop()}};_main.default.prototype._axesIcon=function(size,xOff,yOff,zOff){if(typeof size==="undefined"){size=this.width/20>40?this.width/20:40}if(typeof xOff==="undefined"){xOff=-this.width/4}if(typeof yOff==="undefined"){yOff=xOff}if(typeof zOff==="undefined"){zOff=xOff}return function(){this.push();this._renderer.uMVMatrix.set(this._renderer._curCamera.cameraMatrix.mat4[0],this._renderer._curCamera.cameraMatrix.mat4[1],this._renderer._curCamera.cameraMatrix.mat4[2],this._renderer._curCamera.cameraMatrix.mat4[3],this._renderer._curCamera.cameraMatrix.mat4[4],this._renderer._curCamera.cameraMatrix.mat4[5],this._renderer._curCamera.cameraMatrix.mat4[6],this._renderer._curCamera.cameraMatrix.mat4[7],this._renderer._curCamera.cameraMatrix.mat4[8],this._renderer._curCamera.cameraMatrix.mat4[9],this._renderer._curCamera.cameraMatrix.mat4[10],this._renderer._curCamera.cameraMatrix.mat4[11],this._renderer._curCamera.cameraMatrix.mat4[12],this._renderer._curCamera.cameraMatrix.mat4[13],this._renderer._curCamera.cameraMatrix.mat4[14],this._renderer._curCamera.cameraMatrix.mat4[15]);this.strokeWeight(2);this.stroke(255,0,0);this.beginShape(this.LINES);this.vertex(xOff,yOff,zOff);this.vertex(xOff+size,yOff,zOff);this.endShape();this.stroke(0,255,0);this.beginShape(this.LINES);this.vertex(xOff,yOff,zOff);this.vertex(xOff,yOff+size,zOff);this.endShape();this.stroke(0,0,255);this.beginShape(this.LINES);this.vertex(xOff,yOff,zOff);this.vertex(xOff,yOff,zOff+size);this.endShape();this.pop()}};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287,"core-js/modules/es.array.splice":182,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200}],332:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.ambientLight=function(v1,v2,v3,a){this._assert3d("ambientLight");_main.default._validateParameters("ambientLight",arguments);var color=this.color.apply(this,arguments);this._renderer.ambientLightColors.push(color._array[0],color._array[1],color._array[2]);this._renderer._enableLighting=true;return this};_main.default.prototype.specularColor=function(v1,v2,v3){this._assert3d("specularColor");_main.default._validateParameters("specularColor",arguments);var color=this.color.apply(this,arguments);this._renderer.specularColors=[color._array[0],color._array[1],color._array[2]];return this};_main.default.prototype.directionalLight=function(v1,v2,v3,x,y,z){this._assert3d("directionalLight");_main.default._validateParameters("directionalLight",arguments);var color;if(v1 instanceof _main.default.Color){color=v1}else{color=this.color(v1,v2,v3)}var _x,_y,_z;var v=arguments[arguments.length-1];if(typeof v==="number"){_x=arguments[arguments.length-3];_y=arguments[arguments.length-2];_z=arguments[arguments.length-1]}else{_x=v.x;_y=v.y;_z=v.z}var l=Math.sqrt(_x*_x+_y*_y+_z*_z);this._renderer.directionalLightDirections.push(_x/l,_y/l,_z/l);this._renderer.directionalLightDiffuseColors.push(color._array[0],color._array[1],color._array[2]);Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors);this._renderer._enableLighting=true;return this};_main.default.prototype.pointLight=function(v1,v2,v3,x,y,z){this._assert3d("pointLight");_main.default._validateParameters("pointLight",arguments);var color;if(v1 instanceof _main.default.Color){color=v1}else{color=this.color(v1,v2,v3)}var _x,_y,_z;var v=arguments[arguments.length-1];if(typeof v==="number"){_x=arguments[arguments.length-3];_y=arguments[arguments.length-2];_z=arguments[arguments.length-1]}else{_x=v.x;_y=v.y;_z=v.z}this._renderer.pointLightPositions.push(_x,_y,_z);this._renderer.pointLightDiffuseColors.push(color._array[0],color._array[1],color._array[2]);Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors);this._renderer._enableLighting=true;return this};_main.default.prototype.lights=function(){this._assert3d("lights");if(this._colorMode===constants.RGB){this.ambientLight(128,128,128);this.directionalLight(128,128,128,0,0,-1)}else{var maxBright=this._colorMaxes[this._colorMode][2];this.ambientLight(0,0,maxBright);this.directionalLight(0,0,maxBright,0,0,-1)}return this};_main.default.prototype.lightFalloff=function(constantAttenuation,linearAttenuation,quadraticAttenuation){this._assert3d("lightFalloff");_main.default._validateParameters("lightFalloff",arguments);if(constantAttenuation<0){constantAttenuation=0;console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")}if(linearAttenuation<0){linearAttenuation=0;console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")}if(quadraticAttenuation<0){quadraticAttenuation=0;console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")}if(constantAttenuation===0&&linearAttenuation===0&&quadraticAttenuation===0){constantAttenuation=1;console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")}this._renderer.constantAttenuation=constantAttenuation;this._renderer.linearAttenuation=linearAttenuation;this._renderer.quadraticAttenuation=quadraticAttenuation;return this};_main.default.prototype.spotLight=function(v1,v2,v3,x,y,z,nx,ny,nz,angle,concentration){this._assert3d("spotLight");_main.default._validateParameters("spotLight",arguments);var color,position,direction;var length=arguments.length;switch(length){case 11:case 10:color=this.color(v1,v2,v3);position=new _main.default.Vector(x,y,z);direction=new _main.default.Vector(nx,ny,nz);break;case 9:if(v1 instanceof _main.default.Color){color=v1;position=new _main.default.Vector(v2,v3,x);direction=new _main.default.Vector(y,z,nx);angle=ny;concentration=nz}else if(x instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=x;direction=new _main.default.Vector(y,z,nx);angle=ny;concentration=nz}else if(nx instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=new _main.default.Vector(x,y,z);direction=nx;angle=ny;concentration=nz}else{color=this.color(v1,v2,v3);position=new _main.default.Vector(x,y,z);direction=new _main.default.Vector(nx,ny,nz)}break;case 8:if(v1 instanceof _main.default.Color){color=v1;position=new _main.default.Vector(v2,v3,x);direction=new _main.default.Vector(y,z,nx);angle=ny}else if(x instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=x;direction=new _main.default.Vector(y,z,nx);angle=ny}else{color=this.color(v1,v2,v3);position=new _main.default.Vector(x,y,z);direction=nx;angle=ny}break;case 7:if(v1 instanceof _main.default.Color&&v2 instanceof _main.default.Vector){color=v1;position=v2;direction=new _main.default.Vector(v3,x,y);angle=z;concentration=nx}else if(v1 instanceof _main.default.Color&&y instanceof _main.default.Vector){color=v1;position=new _main.default.Vector(v2,v3,x);direction=y;angle=z;concentration=nx}else if(x instanceof _main.default.Vector&&y instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=x;direction=y;angle=z;concentration=nx}else if(v1 instanceof _main.default.Color){color=v1;position=new _main.default.Vector(v2,v3,x);direction=new _main.default.Vector(y,z,nx)}else if(x instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=x;direction=new _main.default.Vector(y,z,nx)}else{color=this.color(v1,v2,v3);position=new _main.default.Vector(x,y,z);direction=nx}break;case 6:if(x instanceof _main.default.Vector&&y instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=x;direction=y;angle=z}else if(v1 instanceof _main.default.Color&&y instanceof _main.default.Vector){color=v1;position=new _main.default.Vector(v2,v3,x);direction=y;angle=z}else if(v1 instanceof _main.default.Color&&v2 instanceof _main.default.Vector){color=v1;position=v2;direction=new _main.default.Vector(v3,x,y);angle=z}break;case 5:if(v1 instanceof _main.default.Color&&v2 instanceof _main.default.Vector&&v3 instanceof _main.default.Vector){color=v1;position=v2;direction=v3;angle=x;concentration=y}else if(x instanceof _main.default.Vector&&y instanceof _main.default.Vector){color=this.color(v1,v2,v3);position=x;direction=y}else if(v1 instanceof _main.default.Color&&y instanceof _main.default.Vector){color=v1;position=new _main.default.Vector(v2,v3,x);direction=y}else if(v1 instanceof _main.default.Color&&v2 instanceof _main.default.Vector){color=v1;position=v2;direction=new _main.default.Vector(v3,x,y)}break;case 4:color=v1;position=v2;direction=v3;angle=x;break;case 3:color=v1;position=v2;direction=v3;break;default:console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(length<3?"few":"many"," arguments were provided"));return this}this._renderer.spotLightDiffuseColors.push(color._array[0],color._array[1],color._array[2]);Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors);this._renderer.spotLightPositions.push(position.x,position.y,position.z);direction.normalize();this._renderer.spotLightDirections.push(direction.x,direction.y,direction.z);if(angle===undefined){angle=Math.PI/3}if(concentration!==undefined&&concentration<1){concentration=1;console.warn("Value of concentration needs to be greater than 1. Setting it to 1")}else if(concentration===undefined){concentration=100}angle=this._renderer._pInst._toRadians(angle);this._renderer.spotLightAngle.push(Math.cos(angle));this._renderer.spotLightConc.push(concentration);this._renderer._enableLighting=true;return this};_main.default.prototype.noLights=function(){this._assert3d("noLights");_main.default._validateParameters("noLights",arguments);this._renderer._enableLighting=false;this._renderer.ambientLightColors.length=0;this._renderer.specularColors=[1,1,1];this._renderer.directionalLightDirections.length=0;this._renderer.directionalLightDiffuseColors.length=0;this._renderer.directionalLightSpecularColors.length=0;this._renderer.pointLightPositions.length=0;this._renderer.pointLightDiffuseColors.length=0;this._renderer.pointLightSpecularColors.length=0;this._renderer.spotLightPositions.length=0;this._renderer.spotLightDirections.length=0;this._renderer.spotLightDiffuseColors.length=0;this._renderer.spotLightSpecularColors.length=0;this._renderer.spotLightAngle.length=0;this._renderer.spotLightConc.length=0;this._renderer.constantAttenuation=1;this._renderer.linearAttenuation=0;this._renderer.quadraticAttenuation=0;this._renderer._useShininess=1;return this};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287}],333:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.array.splice");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.match");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.string.trim");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));_dereq_("./p5.Geometry");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.loadModel=function(path){_main.default._validateParameters("loadModel",arguments);var normalize;var successCallback;var failureCallback;var fileType=path.slice(-4);if(typeof arguments[1]==="boolean"){normalize=arguments[1];successCallback=arguments[2];failureCallback=arguments[3];if(typeof arguments[4]!=="undefined"){fileType=arguments[4]}}else{normalize=false;successCallback=arguments[1];failureCallback=arguments[2];if(typeof arguments[3]!=="undefined"){fileType=arguments[3]}}var model=new _main.default.Geometry;model.gid="".concat(path,"|").concat(normalize);var self=this;if(fileType.match(/\.stl$/i)){this.httpDo(path,"GET","arrayBuffer",function(arrayBuffer){parseSTL(model,arrayBuffer);if(normalize){model.normalize()}self._decrementPreload();if(typeof successCallback==="function"){successCallback(model)}},failureCallback)}else if(fileType.match(/\.obj$/i)){this.loadStrings(path,function(strings){parseObj(model,strings);if(normalize){model.normalize()}self._decrementPreload();if(typeof successCallback==="function"){successCallback(model)}},failureCallback)}else{_main.default._friendlyFileLoadError(3,path);if(failureCallback){failureCallback()}else{console.error("Sorry, the file type is invalid. Only OBJ and STL files are supported.")}}return model};function parseObj(model,lines){var loadedVerts={v:[],vt:[],vn:[]};var indexedVerts={};for(var line=0;line<lines.length;++line){var tokens=lines[line].trim().split(/\b\s+/);if(tokens.length>0){if(tokens[0]==="v"||tokens[0]==="vn"){var vertex=new _main.default.Vector(parseFloat(tokens[1]),parseFloat(tokens[2]),parseFloat(tokens[3]));loadedVerts[tokens[0]].push(vertex)}else if(tokens[0]==="vt"){var texVertex=[parseFloat(tokens[1]),1-parseFloat(tokens[2])];loadedVerts[tokens[0]].push(texVertex)}else if(tokens[0]==="f"){for(var tri=3;tri<tokens.length;++tri){var face=[];var vertexTokens=[1,tri-1,tri];for(var tokenInd=0;tokenInd<vertexTokens.length;++tokenInd){var vertString=tokens[vertexTokens[tokenInd]];var vertIndex=0;if(indexedVerts[vertString]!==undefined){vertIndex=indexedVerts[vertString]}else{var vertParts=vertString.split("/");for(var i=0;i<vertParts.length;i++){vertParts[i]=parseInt(vertParts[i])-1}vertIndex=indexedVerts[vertString]=model.vertices.length;model.vertices.push(loadedVerts.v[vertParts[0]].copy());if(loadedVerts.vt[vertParts[1]]){model.uvs.push(loadedVerts.vt[vertParts[1]].slice())}else{model.uvs.push([0,0])}if(loadedVerts.vn[vertParts[2]]){model.vertexNormals.push(loadedVerts.vn[vertParts[2]].copy())}}face.push(vertIndex)}if(face[0]!==face[1]&&face[0]!==face[2]&&face[1]!==face[2]){model.faces.push(face)}}}}}if(model.vertexNormals.length===0){model.computeNormals()}return model}function parseSTL(model,buffer){if(isBinary(buffer)){parseBinarySTL(model,buffer)}else{var reader=new DataView(buffer);if(!("TextDecoder"in window)){console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");return model}var decoder=new TextDecoder("utf-8");var lines=decoder.decode(reader);var lineArray=lines.split("\n");parseASCIISTL(model,lineArray)}return model}function isBinary(data){var reader=new DataView(data);var solid=[115,111,108,105,100];for(var off=0;off<5;off++){if(matchDataViewAt(solid,reader,off))return false}return true}function matchDataViewAt(query,reader,offset){for(var i=0,il=query.length;i<il;i++){if(query[i]!==reader.getUint8(offset+i,false))return false}return true}function parseBinarySTL(model,buffer){var reader=new DataView(buffer);var faces=reader.getUint32(80,true);var r,g,b,hasColors=false,colors;var defaultR,defaultG,defaultB;for(var index=0;index<80-10;index++){if(reader.getUint32(index,false)===1129270351&&reader.getUint8(index+4)===82&&reader.getUint8(index+5)===61){hasColors=true;colors=[];defaultR=reader.getUint8(index+6)/255;defaultG=reader.getUint8(index+7)/255;defaultB=reader.getUint8(index+8)/255}}var dataOffset=84;var faceLength=12*4+2;for(var face=0;face<faces;face++){var start=dataOffset+face*faceLength;var normalX=reader.getFloat32(start,true);var normalY=reader.getFloat32(start+4,true);var normalZ=reader.getFloat32(start+8,true);if(hasColors){var packedColor=reader.getUint16(start+48,true);if((packedColor&32768)===0){r=(packedColor&31)/31;g=(packedColor>>5&31)/31;b=(packedColor>>10&31)/31}else{r=defaultR;g=defaultG;b=defaultB}}var newNormal=new _main.default.Vector(normalX,normalY,normalZ);for(var i=1;i<=3;i++){var vertexstart=start+i*12;var newVertex=new _main.default.Vector(reader.getFloat32(vertexstart,true),reader.getFloat32(vertexstart+4,true),reader.getFloat32(vertexstart+8,true));model.vertices.push(newVertex);model.vertexNormals.push(newNormal);if(hasColors){colors.push(r,g,b)}}model.faces.push([3*face,3*face+1,3*face+2]);model.uvs.push([0,0],[0,0],[0,0])}if(hasColors){}return model}function parseASCIISTL(model,lines){var state="";var curVertexIndex=[];var newNormal,newVertex;for(var iterator=0;iterator<lines.length;++iterator){var line=lines[iterator].trim();var parts=line.split(" ");for(var partsiterator=0;partsiterator<parts.length;++partsiterator){if(parts[partsiterator]===""){parts.splice(partsiterator,1)}}if(parts.length===0){continue}switch(state){case"":if(parts[0]!=="solid"){console.error(line);console.error('Invalid state "'.concat(parts[0],'", should be "solid"'));return}else{state="solid"}break;case"solid":if(parts[0]!=="facet"||parts[1]!=="normal"){console.error(line);console.error('Invalid state "'.concat(parts[0],'", should be "facet normal"'));return}else{newNormal=new _main.default.Vector(parseFloat(parts[2]),parseFloat(parts[3]),parseFloat(parts[4]));model.vertexNormals.push(newNormal,newNormal,newNormal);state="facet normal"}break;case"facet normal":if(parts[0]!=="outer"||parts[1]!=="loop"){console.error(line);console.error('Invalid state "'.concat(parts[0],'", should be "outer loop"'));return}else{state="vertex"}break;case"vertex":if(parts[0]==="vertex"){newVertex=new _main.default.Vector(parseFloat(parts[1]),parseFloat(parts[2]),parseFloat(parts[3]));model.vertices.push(newVertex);model.uvs.push([0,0]);curVertexIndex.push(model.vertices.indexOf(newVertex))}else if(parts[0]==="endloop"){model.faces.push(curVertexIndex);curVertexIndex=[];state="endloop"}else{console.error(line);console.error('Invalid state "'.concat(parts[0],'", should be "vertex" or "endloop"'));return}break;case"endloop":if(parts[0]!=="endfacet"){console.error(line);console.error('Invalid state "'.concat(parts[0],'", should be "endfacet"'));return}else{state="endfacet"}break;case"endfacet":if(parts[0]==="endsolid"){}else if(parts[0]==="facet"&&parts[1]==="normal"){newNormal=new _main.default.Vector(parseFloat(parts[2]),parseFloat(parts[3]),parseFloat(parts[4]));model.vertexNormals.push(newNormal,newNormal,newNormal);state="facet normal"}else{console.error(line);console.error('Invalid state "'.concat(parts[0],'", should be "endsolid" or "facet normal"'));return}break;default:console.error('Invalid state "'.concat(state,'"'));break}}return model}_main.default.prototype.model=function(model){this._assert3d("model");_main.default._validateParameters("model",arguments);if(model.vertices.length>0){if(!this._renderer.geometryInHash(model.gid)){model._makeTriangleEdges()._edgesToVertices();this._renderer.createBuffers(model.gid,model)}this._renderer.drawBuffers(model.gid)}};var _default=_main.default;exports.default=_default},{"../core/main":287,"./p5.Geometry":336,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.slice":180,"core-js/modules/es.array.splice":182,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.match":205,"core-js/modules/es.string.split":209,"core-js/modules/es.string.trim":211}],334:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.join");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));_dereq_("./p5.Texture");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.loadShader=function(vertFilename,fragFilename,callback,errorCallback){_main.default._validateParameters("loadShader",arguments);if(!errorCallback){errorCallback=console.error}var loadedShader=new _main.default.Shader;var self=this;var loadedFrag=false;var loadedVert=false;var onLoad=function onLoad(){self._decrementPreload();if(callback){callback(loadedShader)}};this.loadStrings(vertFilename,function(result){loadedShader._vertSrc=result.join("\n");loadedVert=true;if(loadedFrag){onLoad()}},errorCallback);this.loadStrings(fragFilename,function(result){loadedShader._fragSrc=result.join("\n");loadedFrag=true;if(loadedVert){onLoad()}},errorCallback);return loadedShader};_main.default.prototype.createShader=function(vertSrc,fragSrc){this._assert3d("createShader");_main.default._validateParameters("createShader",arguments);return new _main.default.Shader(this._renderer,vertSrc,fragSrc)};_main.default.prototype.shader=function(s){this._assert3d("shader");_main.default._validateParameters("shader",arguments);if(s._renderer===undefined){s._renderer=this._renderer}s.init();if(s.isStrokeShader()){this._renderer.userStrokeShader=s}else{this._renderer.userFillShader=s;this._renderer._useNormalMaterial=false}return this};_main.default.prototype.resetShader=function(){this._renderer.userFillShader=this._renderer.userStrokeShader=null;return this};_main.default.prototype.texture=function(tex){this._assert3d("texture");_main.default._validateParameters("texture",arguments);if(tex.gifProperties){tex._animateGif(this)}this._renderer.drawMode=constants.TEXTURE;this._renderer._useSpecularMaterial=false;this._renderer._useEmissiveMaterial=false;this._renderer._useNormalMaterial=false;this._renderer._tex=tex;this._renderer._setProperty("_doFill",true);return this};_main.default.prototype.textureMode=function(mode){if(mode!==constants.IMAGE&&mode!==constants.NORMAL){console.warn("You tried to set ".concat(mode," textureMode only supports IMAGE & NORMAL "))}else{this._renderer.textureMode=mode}};_main.default.prototype.textureWrap=function(wrapX){var wrapY=arguments.length>1&&arguments[1]!==undefined?arguments[1]:wrapX;this._renderer.textureWrapX=wrapX;this._renderer.textureWrapY=wrapY;var textures=this._renderer.textures;for(var i=0;i<textures.length;i++){textures[i].setWrapMode(wrapX,wrapY)}};_main.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("normalMaterial",args);this._renderer.drawMode=constants.FILL;this._renderer._useSpecularMaterial=false;this._renderer._useEmissiveMaterial=false;this._renderer._useNormalMaterial=true;this._renderer.curFillColor=[1,1,1,1];this._renderer._setProperty("_doFill",true);this.noStroke();return this};_main.default.prototype.ambientMaterial=function(v1,v2,v3){this._assert3d("ambientMaterial");_main.default._validateParameters("ambientMaterial",arguments);var color=_main.default.prototype.color.apply(this,arguments);this._renderer.curFillColor=color._array;this._renderer._useSpecularMaterial=false;this._renderer._useEmissiveMaterial=false;this._renderer._useNormalMaterial=false;this._renderer._enableLighting=true;this._renderer._tex=null;this._renderer._setProperty("_doFill",true);return this};_main.default.prototype.emissiveMaterial=function(v1,v2,v3,a){this._assert3d("emissiveMaterial");_main.default._validateParameters("emissiveMaterial",arguments);var color=_main.default.prototype.color.apply(this,arguments);this._renderer.curFillColor=color._array;this._renderer._useSpecularMaterial=false;this._renderer._useEmissiveMaterial=true;this._renderer._useNormalMaterial=false;this._renderer._enableLighting=true;this._renderer._tex=null;return this};_main.default.prototype.specularMaterial=function(v1,v2,v3,alpha){this._assert3d("specularMaterial");_main.default._validateParameters("specularMaterial",arguments);var color=_main.default.prototype.color.apply(this,arguments);this._renderer.curFillColor=color._array;this._renderer._useSpecularMaterial=true;this._renderer._useEmissiveMaterial=false;this._renderer._useNormalMaterial=false;this._renderer._enableLighting=true;this._renderer._tex=null;return this};_main.default.prototype.shininess=function(shine){this._assert3d("shininess");_main.default._validateParameters("shininess",arguments);if(shine<1){shine=1}this._renderer._useShininess=shine;return this};_main.default.RendererGL.prototype._applyColorBlend=function(colors){var gl=this.GL;var isTexture=this.drawMode===constants.TEXTURE;var doBlend=isTexture||colors[colors.length-1]<1||this._isErasing;if(doBlend!==this._isBlending){if(doBlend||this.curBlendMode!==constants.BLEND&&this.curBlendMode!==constants.ADD){gl.enable(gl.BLEND)}else{gl.disable(gl.BLEND)}gl.depthMask(true);this._isBlending=doBlend}this._applyBlendMode();return colors};_main.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode===this.curBlendMode){return}var gl=this.GL;switch(this.curBlendMode){case constants.BLEND:case constants.ADD:gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA);break;case constants.REMOVE:gl.blendEquation(gl.FUNC_REVERSE_SUBTRACT);gl.blendFunc(gl.SRC_ALPHA,gl.DST_ALPHA);break;case constants.MULTIPLY:gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ZERO,gl.SRC_COLOR,gl.ONE,gl.ONE);break;case constants.SCREEN:gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR,gl.ONE,gl.ONE,gl.ONE);break;case constants.EXCLUSION:gl.blendEquationSeparate(gl.FUNC_ADD,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE_MINUS_DST_COLOR,gl.ONE_MINUS_SRC_COLOR,gl.ONE,gl.ONE);break;case constants.REPLACE:gl.blendEquation(gl.FUNC_ADD);gl.blendFunc(gl.ONE,gl.ZERO);break;case constants.SUBTRACT:gl.blendEquationSeparate(gl.FUNC_REVERSE_SUBTRACT,gl.FUNC_ADD);gl.blendFuncSeparate(gl.SRC_ALPHA,gl.ONE,gl.ONE,gl.ONE);break;case constants.DARKEST:if(this.blendExt){gl.blendEquationSeparate(this.blendExt.MIN_EXT,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE,gl.ONE,gl.ONE,gl.ONE)}else{console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.")}break;case constants.LIGHTEST:if(this.blendExt){gl.blendEquationSeparate(this.blendExt.MAX_EXT,gl.FUNC_ADD);gl.blendFuncSeparate(gl.ONE,gl.ONE,gl.ONE,gl.ONE)}else{console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.")}break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.");break}if(!this._isErasing){this._cachedBlendMode=this.curBlendMode}};var _default=_main.default;exports.default=_default},{"../core/constants":275,"../core/main":287,"./p5.Texture":343,"core-js/modules/es.array.join":177}],335:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.prototype.camera=function(){var _this$_renderer$_curC;this._assert3d("camera");for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key]}_main.default._validateParameters("camera",args);(_this$_renderer$_curC=this._renderer._curCamera).camera.apply(_this$_renderer$_curC,args);return this};_main.default.prototype.perspective=function(){var _this$_renderer$_curC2;this._assert3d("perspective");for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2]}_main.default._validateParameters("perspective",args);(_this$_renderer$_curC2=this._renderer._curCamera).perspective.apply(_this$_renderer$_curC2,args);return this};_main.default.prototype.ortho=function(){var _this$_renderer$_curC3;this._assert3d("ortho");for(var _len3=arguments.length,args=new Array(_len3),_key3=0;_key3<_len3;_key3++){args[_key3]=arguments[_key3]}_main.default._validateParameters("ortho",args);(_this$_renderer$_curC3=this._renderer._curCamera).ortho.apply(_this$_renderer$_curC3,args);return this};_main.default.prototype.frustum=function(){var _this$_renderer$_curC4;this._assert3d("frustum");for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4]}_main.default._validateParameters("frustum",args);(_this$_renderer$_curC4=this._renderer._curCamera).frustum.apply(_this$_renderer$_curC4,args);return this};_main.default.prototype.createCamera=function(){this._assert3d("createCamera");var _cam=new _main.default.Camera(this._renderer);_cam._computeCameraDefaultSettings();_cam._setDefaultCamera();this._renderer._curCamera=_cam;return _cam};_main.default.Camera=function(renderer){this._renderer=renderer;this.cameraType="default";this.cameraMatrix=new _main.default.Matrix;this.projMatrix=new _main.default.Matrix};_main.default.Camera.prototype.perspective=function(fovy,aspect,near,far){this.cameraType=arguments.length>0?"custom":"default";if(typeof fovy==="undefined"){fovy=this.defaultCameraFOV;this.cameraFOV=fovy}else{this.cameraFOV=this._renderer._pInst._toRadians(fovy)}if(typeof aspect==="undefined"){aspect=this.defaultAspectRatio}if(typeof near==="undefined"){near=this.defaultCameraNear}if(typeof far==="undefined"){far=this.defaultCameraFar}if(near<=1e-4){near=.01;console.log("Avoid perspective near plane values close to or below 0. "+"Setting value to 0.01.")}if(far<near){console.log("Perspective far plane value is less than near plane value. "+"Nothing will be shown.")}this.aspectRatio=aspect;this.cameraNear=near;this.cameraFar=far;this.projMatrix=_main.default.Matrix.identity();var f=1/Math.tan(this.cameraFOV/2);var nf=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(f/aspect,0,0,0,0,-f,0,0,0,0,(far+near)*nf,-1,0,0,2*far*near*nf,0);if(this._isActive()){this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}};_main.default.Camera.prototype.ortho=function(left,right,bottom,top,near,far){if(left===undefined)left=-this._renderer.width/2;if(right===undefined)right=+this._renderer.width/2;if(bottom===undefined)bottom=-this._renderer.height/2;if(top===undefined)top=+this._renderer.height/2;if(near===undefined)near=0;if(far===undefined)far=Math.max(this._renderer.width,this._renderer.height);var w=right-left;var h=top-bottom;var d=far-near;var x=+2/w;var y=+2/h;var z=-2/d;var tx=-(right+left)/w;var ty=-(top+bottom)/h;var tz=-(far+near)/d;this.projMatrix=_main.default.Matrix.identity();this.projMatrix.set(x,0,0,0,0,-y,0,0,0,0,z,0,tx,ty,tz,1);if(this._isActive()){this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}this.cameraType="custom"};_main.default.Camera.prototype.frustum=function(left,right,bottom,top,near,far){if(left===undefined)left=-this._renderer.width/2;if(right===undefined)right=+this._renderer.width/2;if(bottom===undefined)bottom=-this._renderer.height/2;if(top===undefined)top=+this._renderer.height/2;if(near===undefined)near=0;if(far===undefined)far=Math.max(this._renderer.width,this._renderer.height);var w=right-left;var h=top-bottom;var d=far-near;var x=+(2*near)/w;var y=+(2*near)/h;var z=-(2*far*near)/d;var tx=(right+left)/w;var ty=(top+bottom)/h;var tz=-(far+near)/d;this.projMatrix=_main.default.Matrix.identity();this.projMatrix.set(x,0,0,0,0,y,0,0,tx,ty,tz,-1,0,0,z,0);if(this._isActive()){this._renderer.uPMatrix.set(this.projMatrix.mat4[0],this.projMatrix.mat4[1],this.projMatrix.mat4[2],this.projMatrix.mat4[3],this.projMatrix.mat4[4],this.projMatrix.mat4[5],this.projMatrix.mat4[6],this.projMatrix.mat4[7],this.projMatrix.mat4[8],this.projMatrix.mat4[9],this.projMatrix.mat4[10],this.projMatrix.mat4[11],this.projMatrix.mat4[12],this.projMatrix.mat4[13],this.projMatrix.mat4[14],this.projMatrix.mat4[15])}this.cameraType="custom"};_main.default.Camera.prototype._rotateView=function(a,x,y,z){var centerX=this.centerX;var centerY=this.centerY;var centerZ=this.centerZ;centerX-=this.eyeX;centerY-=this.eyeY;centerZ-=this.eyeZ;var rotation=_main.default.Matrix.identity(this._renderer._pInst);rotation.rotate(this._renderer._pInst._toRadians(a),x,y,z);var rotatedCenter=[centerX*rotation.mat4[0]+centerY*rotation.mat4[4]+centerZ*rotation.mat4[8],centerX*rotation.mat4[1]+centerY*rotation.mat4[5]+centerZ*rotation.mat4[9],centerX*rotation.mat4[2]+centerY*rotation.mat4[6]+centerZ*rotation.mat4[10]];rotatedCenter[0]+=this.eyeX;rotatedCenter[1]+=this.eyeY;rotatedCenter[2]+=this.eyeZ;this.camera(this.eyeX,this.eyeY,this.eyeZ,rotatedCenter[0],rotatedCenter[1],rotatedCenter[2],this.upX,this.upY,this.upZ)};_main.default.Camera.prototype.pan=function(amount){var local=this._getLocalAxes();this._rotateView(amount,local.y[0],local.y[1],local.y[2])};_main.default.Camera.prototype.tilt=function(amount){var local=this._getLocalAxes();this._rotateView(amount,local.x[0],local.x[1],local.x[2])};_main.default.Camera.prototype.lookAt=function(x,y,z){this.camera(this.eyeX,this.eyeY,this.eyeZ,x,y,z,this.upX,this.upY,this.upZ)};_main.default.Camera.prototype.camera=function(eyeX,eyeY,eyeZ,centerX,centerY,centerZ,upX,upY,upZ){if(typeof eyeX==="undefined"){eyeX=this.defaultEyeX;eyeY=this.defaultEyeY;eyeZ=this.defaultEyeZ;centerX=eyeX;centerY=eyeY;centerZ=0;upX=0;upY=1;upZ=0}this.eyeX=eyeX;this.eyeY=eyeY;this.eyeZ=eyeZ;if(typeof centerX!=="undefined"){this.centerX=centerX;this.centerY=centerY;this.centerZ=centerZ}if(typeof upX!=="undefined"){this.upX=upX;this.upY=upY;this.upZ=upZ}var local=this._getLocalAxes();this.cameraMatrix.set(local.x[0],local.y[0],local.z[0],0,local.x[1],local.y[1],local.z[1],0,local.x[2],local.y[2],local.z[2],0,0,0,0,1);var tx=-eyeX;var ty=-eyeY;var tz=-eyeZ;this.cameraMatrix.translate([tx,ty,tz]);if(this._isActive()){this._renderer.uMVMatrix.set(this.cameraMatrix.mat4[0],this.cameraMatrix.mat4[1],this.cameraMatrix.mat4[2],this.cameraMatrix.mat4[3],this.cameraMatrix.mat4[4],this.cameraMatrix.mat4[5],this.cameraMatrix.mat4[6],this.cameraMatrix.mat4[7],this.cameraMatrix.mat4[8],this.cameraMatrix.mat4[9],this.cameraMatrix.mat4[10],this.cameraMatrix.mat4[11],this.cameraMatrix.mat4[12],this.cameraMatrix.mat4[13],this.cameraMatrix.mat4[14],this.cameraMatrix.mat4[15])}return this};_main.default.Camera.prototype.move=function(x,y,z){var local=this._getLocalAxes();var dx=[local.x[0]*x,local.x[1]*x,local.x[2]*x];var dy=[local.y[0]*y,local.y[1]*y,local.y[2]*y];var dz=[local.z[0]*z,local.z[1]*z,local.z[2]*z];this.camera(this.eyeX+dx[0]+dy[0]+dz[0],this.eyeY+dx[1]+dy[1]+dz[1],this.eyeZ+dx[2]+dy[2]+dz[2],this.centerX+dx[0]+dy[0]+dz[0],this.centerY+dx[1]+dy[1]+dz[1],this.centerZ+dx[2]+dy[2]+dz[2],0,1,0)};_main.default.Camera.prototype.setPosition=function(x,y,z){var diffX=x-this.eyeX;var diffY=y-this.eyeY;var diffZ=z-this.eyeZ;this.camera(x,y,z,this.centerX+diffX,this.centerY+diffY,this.centerZ+diffZ,0,1,0)};_main.default.Camera.prototype._computeCameraDefaultSettings=function(){this.defaultCameraFOV=60/180*Math.PI;this.defaultAspectRatio=this._renderer.width/this._renderer.height;this.defaultEyeX=0;this.defaultEyeY=0;this.defaultEyeZ=this._renderer.height/2/Math.tan(this.defaultCameraFOV/2);this.defaultCenterX=0;this.defaultCenterY=0;this.defaultCenterZ=0;this.defaultCameraNear=this.defaultEyeZ*.1;this.defaultCameraFar=this.defaultEyeZ*10};_main.default.Camera.prototype._setDefaultCamera=function(){this.cameraFOV=this.defaultCameraFOV;this.aspectRatio=this.defaultAspectRatio;this.eyeX=this.defaultEyeX;this.eyeY=this.defaultEyeY;this.eyeZ=this.defaultEyeZ;this.centerX=this.defaultCenterX;this.centerY=this.defaultCenterY;this.centerZ=this.defaultCenterZ;this.upX=0;this.upY=1;this.upZ=0;this.cameraNear=this.defaultCameraNear;this.cameraFar=this.defaultCameraFar;this.perspective();this.camera();this.cameraType="default"};_main.default.Camera.prototype._resize=function(){if(this.cameraType==="default"){this._computeCameraDefaultSettings();this._setDefaultCamera()}else{this.perspective(this.cameraFOV,this._renderer.width/this._renderer.height)}};_main.default.Camera.prototype.copy=function(){var _cam=new _main.default.Camera(this._renderer);_cam.cameraFOV=this.cameraFOV;_cam.aspectRatio=this.aspectRatio;_cam.eyeX=this.eyeX;_cam.eyeY=this.eyeY;_cam.eyeZ=this.eyeZ;_cam.centerX=this.centerX;_cam.centerY=this.centerY;_cam.centerZ=this.centerZ;_cam.cameraNear=this.cameraNear;_cam.cameraFar=this.cameraFar;_cam.cameraType=this.cameraType;_cam.cameraMatrix=this.cameraMatrix.copy();_cam.projMatrix=this.projMatrix.copy();return _cam};_main.default.Camera.prototype._getLocalAxes=function(){var z0=this.eyeX-this.centerX;var z1=this.eyeY-this.centerY;var z2=this.eyeZ-this.centerZ;var eyeDist=Math.sqrt(z0*z0+z1*z1+z2*z2);if(eyeDist!==0){z0/=eyeDist;z1/=eyeDist;z2/=eyeDist}var y0=this.upX;var y1=this.upY;var y2=this.upZ;var x0=y1*z2-y2*z1;var x1=-y0*z2+y2*z0;var x2=y0*z1-y1*z0;y0=z1*x2-z2*x1;y1=-z0*x2+z2*x0;y2=z0*x1-z1*x0;var xmag=Math.sqrt(x0*x0+x1*x1+x2*x2);if(xmag!==0){x0/=xmag;x1/=xmag;x2/=xmag}var ymag=Math.sqrt(y0*y0+y1*y1+y2*y2);if(ymag!==0){y0/=ymag;y1/=ymag;y2/=ymag}return{x:[x0,x1,x2],y:[y0,y1,y2],z:[z0,z1,z2]}};_main.default.Camera.prototype._orbit=function(dTheta,dPhi,dRadius){var diffX=this.eyeX-this.centerX;var diffY=this.eyeY-this.centerY;var diffZ=this.eyeZ-this.centerZ;var camRadius=Math.sqrt(diffX*diffX+diffY*diffY+diffZ*diffZ);var camTheta=Math.atan2(diffX,diffZ);var camPhi=Math.acos(Math.max(-1,Math.min(1,diffY/camRadius)));camTheta+=dTheta;camPhi+=dPhi;camRadius+=dRadius;if(camRadius<0){camRadius=.1}if(camPhi>Math.PI){camPhi=Math.PI}else if(camPhi<=0){camPhi=.001}var _x=Math.sin(camPhi)*camRadius*Math.sin(camTheta);var _y=Math.cos(camPhi)*camRadius;var _z=Math.sin(camPhi)*camRadius*Math.cos(camTheta);this.camera(_x+this.centerX,_y+this.centerY,_z+this.centerZ,this.centerX,this.centerY,this.centerZ,0,1,0)};_main.default.Camera.prototype._isActive=function(){return this===this._renderer._curCamera};_main.default.prototype.setCamera=function(cam){this._renderer._curCamera=cam;this._renderer.uPMatrix.set(cam.projMatrix.mat4[0],cam.projMatrix.mat4[1],cam.projMatrix.mat4[2],cam.projMatrix.mat4[3],cam.projMatrix.mat4[4],cam.projMatrix.mat4[5],cam.projMatrix.mat4[6],cam.projMatrix.mat4[7],cam.projMatrix.mat4[8],cam.projMatrix.mat4[9],cam.projMatrix.mat4[10],cam.projMatrix.mat4[11],cam.projMatrix.mat4[12],cam.projMatrix.mat4[13],cam.projMatrix.mat4[14],cam.projMatrix.mat4[15])};var _default=_main.default.Camera;exports.default=_default},{"../core/main":287}],336:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.string.sub");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Geometry=function(detailX,detailY,callback){this.vertices=[];this.lineVertices=[];this.lineNormals=[];this.vertexNormals=[];this.faces=[];this.uvs=[];this.edges=[];this.vertexColors=[];this.detailX=detailX!==undefined?detailX:1;this.detailY=detailY!==undefined?detailY:1;this.dirtyFlags={};if(callback instanceof Function){callback.call(this)}return this};_main.default.Geometry.prototype.reset=function(){this.lineVertices.length=0;this.lineNormals.length=0;this.vertices.length=0;this.edges.length=0;this.vertexColors.length=0;this.vertexNormals.length=0;this.uvs.length=0;this.dirtyFlags={}};_main.default.Geometry.prototype.computeFaces=function(){this.faces.length=0;var sliceCount=this.detailX+1;var a,b,c,d;for(var i=0;i<this.detailY;i++){for(var j=0;j<this.detailX;j++){a=i*sliceCount+j;b=i*sliceCount+j+1;c=(i+1)*sliceCount+j+1;d=(i+1)*sliceCount+j;this.faces.push([a,b,d]);this.faces.push([d,b,c])}}return this};_main.default.Geometry.prototype._getFaceNormal=function(faceId){var face=this.faces[faceId];var vA=this.vertices[face[0]];var vB=this.vertices[face[1]];var vC=this.vertices[face[2]];var ab=_main.default.Vector.sub(vB,vA);var ac=_main.default.Vector.sub(vC,vA);var n=_main.default.Vector.cross(ab,ac);var ln=_main.default.Vector.mag(n);var sinAlpha=ln/(_main.default.Vector.mag(ab)*_main.default.Vector.mag(ac));if(sinAlpha===0||isNaN(sinAlpha)){console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex");return n}if(sinAlpha>1)sinAlpha=1;return n.mult(Math.asin(sinAlpha)/ln)};_main.default.Geometry.prototype.computeNormals=function(){var vertexNormals=this.vertexNormals;var vertices=this.vertices;var faces=this.faces;var iv;vertexNormals.length=0;for(iv=0;iv<vertices.length;++iv){vertexNormals.push(new _main.default.Vector)}for(var f=0;f<faces.length;++f){var face=faces[f];var faceNormal=this._getFaceNormal(f);for(var fv=0;fv<3;++fv){var vertexIndex=face[fv];vertexNormals[vertexIndex].add(faceNormal)}}for(iv=0;iv<vertices.length;++iv){vertexNormals[iv].normalize()}return this};_main.default.Geometry.prototype.averageNormals=function(){for(var i=0;i<=this.detailY;i++){var offset=this.detailX+1;var temp=_main.default.Vector.add(this.vertexNormals[i*offset],this.vertexNormals[i*offset+this.detailX]);temp=_main.default.Vector.div(temp,2);this.vertexNormals[i*offset]=temp;this.vertexNormals[i*offset+this.detailX]=temp}return this};_main.default.Geometry.prototype.averagePoleNormals=function(){var sum=new _main.default.Vector(0,0,0);for(var i=0;i<this.detailX;i++){sum.add(this.vertexNormals[i])}sum=_main.default.Vector.div(sum,this.detailX);for(var _i=0;_i<this.detailX;_i++){this.vertexNormals[_i]=sum}sum=new _main.default.Vector(0,0,0);for(var _i2=this.vertices.length-1;_i2>this.vertices.length-1-this.detailX;_i2--){sum.add(this.vertexNormals[_i2])}sum=_main.default.Vector.div(sum,this.detailX);for(var _i3=this.vertices.length-1;_i3>this.vertices.length-1-this.detailX;_i3--){this.vertexNormals[_i3]=sum}return this};_main.default.Geometry.prototype._makeTriangleEdges=function(){this.edges.length=0;if(Array.isArray(this.strokeIndices)){for(var i=0,max=this.strokeIndices.length;i<max;i++){this.edges.push(this.strokeIndices[i])}}else{for(var j=0;j<this.faces.length;j++){this.edges.push([this.faces[j][0],this.faces[j][1]]);this.edges.push([this.faces[j][1],this.faces[j][2]]);this.edges.push([this.faces[j][2],this.faces[j][0]])}}return this};_main.default.Geometry.prototype._edgesToVertices=function(){this.lineVertices.length=0;this.lineNormals.length=0;for(var i=0;i<this.edges.length;i++){var begin=this.vertices[this.edges[i][0]];var end=this.vertices[this.edges[i][1]];var dir=end.copy().sub(begin).normalize();var a=begin.array();var b=begin.array();var c=end.array();var d=end.array();var dirAdd=dir.array();var dirSub=dir.array();dirAdd.push(1);dirSub.push(-1);this.lineNormals.push(dirAdd,dirSub,dirAdd,dirAdd,dirSub,dirSub);this.lineVertices.push(a,b,c,c,b,d)}return this};_main.default.Geometry.prototype.normalize=function(){if(this.vertices.length>0){var maxPosition=this.vertices[0].copy();var minPosition=this.vertices[0].copy();for(var i=0;i<this.vertices.length;i++){maxPosition.x=Math.max(maxPosition.x,this.vertices[i].x);minPosition.x=Math.min(minPosition.x,this.vertices[i].x);maxPosition.y=Math.max(maxPosition.y,this.vertices[i].y);minPosition.y=Math.min(minPosition.y,this.vertices[i].y);maxPosition.z=Math.max(maxPosition.z,this.vertices[i].z);minPosition.z=Math.min(minPosition.z,this.vertices[i].z)}var center=_main.default.Vector.lerp(maxPosition,minPosition,.5);var dist=_main.default.Vector.sub(maxPosition,minPosition);var longestDist=Math.max(Math.max(dist.x,dist.y),dist.z);var scale=200/longestDist;for(var _i4=0;_i4<this.vertices.length;_i4++){this.vertices[_i4].sub(center);this.vertices[_i4].mult(scale)}}return this};var _default=_main.default.Geometry;exports.default=_default},{"../core/main":287,"core-js/modules/es.string.sub":210}],337:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.typed-array.float32-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var GLMAT_ARRAY_TYPE=Array;var isMatrixArray=function isMatrixArray(x){return x instanceof Array};if(typeof Float32Array!=="undefined"){GLMAT_ARRAY_TYPE=Float32Array;isMatrixArray=function isMatrixArray(x){return x instanceof Array||x instanceof Float32Array}}_main.default.Matrix=function(){var args=new Array(arguments.length);for(var i=0;i<args.length;++i){args[i]=arguments[i]}if(args.length&&args[args.length-1]instanceof _main.default){this.p5=args[args.length-1]}if(args[0]==="mat3"){this.mat3=Array.isArray(args[1])?args[1]:new GLMAT_ARRAY_TYPE([1,0,0,0,1,0,0,0,1])}else{this.mat4=Array.isArray(args[0])?args[0]:new GLMAT_ARRAY_TYPE([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return this};_main.default.Matrix.prototype.set=function(inMatrix){if(inMatrix instanceof _main.default.Matrix){this.mat4=inMatrix.mat4;return this}else if(isMatrixArray(inMatrix)){this.mat4=inMatrix;return this}else if(arguments.length===16){this.mat4[0]=arguments[0];this.mat4[1]=arguments[1];this.mat4[2]=arguments[2];this.mat4[3]=arguments[3];this.mat4[4]=arguments[4];this.mat4[5]=arguments[5];this.mat4[6]=arguments[6];this.mat4[7]=arguments[7];this.mat4[8]=arguments[8];this.mat4[9]=arguments[9];this.mat4[10]=arguments[10];this.mat4[11]=arguments[11];this.mat4[12]=arguments[12];this.mat4[13]=arguments[13];this.mat4[14]=arguments[14];this.mat4[15]=arguments[15]}return this};_main.default.Matrix.prototype.get=function(){return new _main.default.Matrix(this.mat4,this.p5)};_main.default.Matrix.prototype.copy=function(){var copied=new _main.default.Matrix(this.p5);copied.mat4[0]=this.mat4[0];copied.mat4[1]=this.mat4[1];copied.mat4[2]=this.mat4[2];copied.mat4[3]=this.mat4[3];copied.mat4[4]=this.mat4[4];copied.mat4[5]=this.mat4[5];copied.mat4[6]=this.mat4[6];copied.mat4[7]=this.mat4[7];copied.mat4[8]=this.mat4[8];copied.mat4[9]=this.mat4[9];copied.mat4[10]=this.mat4[10];copied.mat4[11]=this.mat4[11];copied.mat4[12]=this.mat4[12];copied.mat4[13]=this.mat4[13];copied.mat4[14]=this.mat4[14];copied.mat4[15]=this.mat4[15];return copied};_main.default.Matrix.identity=function(pInst){return new _main.default.Matrix(pInst)};_main.default.Matrix.prototype.transpose=function(a){var a01,a02,a03,a12,a13,a23;if(a instanceof _main.default.Matrix){a01=a.mat4[1];a02=a.mat4[2];a03=a.mat4[3];a12=a.mat4[6];a13=a.mat4[7];a23=a.mat4[11];this.mat4[0]=a.mat4[0];this.mat4[1]=a.mat4[4];this.mat4[2]=a.mat4[8];this.mat4[3]=a.mat4[12];this.mat4[4]=a01;this.mat4[5]=a.mat4[5];this.mat4[6]=a.mat4[9];this.mat4[7]=a.mat4[13];this.mat4[8]=a02;this.mat4[9]=a12;this.mat4[10]=a.mat4[10];this.mat4[11]=a.mat4[14];this.mat4[12]=a03;this.mat4[13]=a13;this.mat4[14]=a23;this.mat4[15]=a.mat4[15]}else if(isMatrixArray(a)){a01=a[1];a02=a[2];a03=a[3];a12=a[6];a13=a[7];a23=a[11];this.mat4[0]=a[0];this.mat4[1]=a[4];this.mat4[2]=a[8];this.mat4[3]=a[12];this.mat4[4]=a01;this.mat4[5]=a[5];this.mat4[6]=a[9];this.mat4[7]=a[13];this.mat4[8]=a02;this.mat4[9]=a12;this.mat4[10]=a[10];this.mat4[11]=a[14];this.mat4[12]=a03;this.mat4[13]=a13;this.mat4[14]=a23;this.mat4[15]=a[15]}return this};_main.default.Matrix.prototype.invert=function(a){var a00,a01,a02,a03,a10,a11,a12,a13;var a20,a21,a22,a23,a30,a31,a32,a33;if(a instanceof _main.default.Matrix){a00=a.mat4[0];a01=a.mat4[1];a02=a.mat4[2];a03=a.mat4[3];a10=a.mat4[4];a11=a.mat4[5];a12=a.mat4[6];a13=a.mat4[7];a20=a.mat4[8];a21=a.mat4[9];a22=a.mat4[10];a23=a.mat4[11];a30=a.mat4[12];a31=a.mat4[13];a32=a.mat4[14];a33=a.mat4[15]}else if(isMatrixArray(a)){a00=a[0];a01=a[1];a02=a[2];a03=a[3];a10=a[4];a11=a[5];a12=a[6];a13=a[7];a20=a[8];a21=a[9];a22=a[10];a23=a[11];a30=a[12];a31=a[13];a32=a[14];a33=a[15]}var b00=a00*a11-a01*a10;var b01=a00*a12-a02*a10;var b02=a00*a13-a03*a10;var b03=a01*a12-a02*a11;var b04=a01*a13-a03*a11;var b05=a02*a13-a03*a12;var b06=a20*a31-a21*a30;var b07=a20*a32-a22*a30;var b08=a20*a33-a23*a30;var b09=a21*a32-a22*a31;var b10=a21*a33-a23*a31;var b11=a22*a33-a23*a32;var det=b00*b11-b01*b10+b02*b09+b03*b08-b04*b07+b05*b06;if(!det){return null}det=1/det;this.mat4[0]=(a11*b11-a12*b10+a13*b09)*det;this.mat4[1]=(a02*b10-a01*b11-a03*b09)*det;this.mat4[2]=(a31*b05-a32*b04+a33*b03)*det;this.mat4[3]=(a22*b04-a21*b05-a23*b03)*det;this.mat4[4]=(a12*b08-a10*b11-a13*b07)*det;this.mat4[5]=(a00*b11-a02*b08+a03*b07)*det;this.mat4[6]=(a32*b02-a30*b05-a33*b01)*det;this.mat4[7]=(a20*b05-a22*b02+a23*b01)*det;this.mat4[8]=(a10*b10-a11*b08+a13*b06)*det;this.mat4[9]=(a01*b08-a00*b10-a03*b06)*det;this.mat4[10]=(a30*b04-a31*b02+a33*b00)*det;this.mat4[11]=(a21*b02-a20*b04-a23*b00)*det;this.mat4[12]=(a11*b07-a10*b09-a12*b06)*det;this.mat4[13]=(a00*b09-a01*b07+a02*b06)*det;this.mat4[14]=(a31*b01-a30*b03-a32*b00)*det;this.mat4[15]=(a20*b03-a21*b01+a22*b00)*det;return this};_main.default.Matrix.prototype.invert3x3=function(){var a00=this.mat3[0];var a01=this.mat3[1];var a02=this.mat3[2];var a10=this.mat3[3];var a11=this.mat3[4];var a12=this.mat3[5];var a20=this.mat3[6];var a21=this.mat3[7];var a22=this.mat3[8];var b01=a22*a11-a12*a21;var b11=-a22*a10+a12*a20;var b21=a21*a10-a11*a20;var det=a00*b01+a01*b11+a02*b21;if(!det){return null}det=1/det;this.mat3[0]=b01*det;this.mat3[1]=(-a22*a01+a02*a21)*det;this.mat3[2]=(a12*a01-a02*a11)*det;this.mat3[3]=b11*det;this.mat3[4]=(a22*a00-a02*a20)*det;this.mat3[5]=(-a12*a00+a02*a10)*det;this.mat3[6]=b21*det;this.mat3[7]=(-a21*a00+a01*a20)*det;this.mat3[8]=(a11*a00-a01*a10)*det;return this};_main.default.Matrix.prototype.transpose3x3=function(mat3){var a01=mat3[1],a02=mat3[2],a12=mat3[5];this.mat3[1]=mat3[3];this.mat3[2]=mat3[6];this.mat3[3]=a01;this.mat3[5]=mat3[7];this.mat3[6]=a02;this.mat3[7]=a12;return this};_main.default.Matrix.prototype.inverseTranspose=function(matrix){if(this.mat3===undefined){console.error("sorry, this function only works with mat3")}else{this.mat3[0]=matrix.mat4[0];this.mat3[1]=matrix.mat4[1];this.mat3[2]=matrix.mat4[2];this.mat3[3]=matrix.mat4[4];this.mat3[4]=matrix.mat4[5];this.mat3[5]=matrix.mat4[6];this.mat3[6]=matrix.mat4[8];this.mat3[7]=matrix.mat4[9];this.mat3[8]=matrix.mat4[10]}var inverse=this.invert3x3();if(inverse){inverse.transpose3x3(this.mat3)}else{for(var i=0;i<9;i++){this.mat3[i]=0}}return this};_main.default.Matrix.prototype.determinant=function(){var d00=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],d01=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],d02=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],d03=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],d04=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],d05=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],d06=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],d07=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],d08=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],d09=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],d10=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13],d11=this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14];return d00*d11-d01*d10+d02*d09+d03*d08-d04*d07+d05*d06};_main.default.Matrix.prototype.mult=function(multMatrix){var _src;if(multMatrix===this||multMatrix===this.mat4){_src=this.copy().mat4}else if(multMatrix instanceof _main.default.Matrix){_src=multMatrix.mat4}else if(isMatrixArray(multMatrix)){_src=multMatrix}else if(arguments.length===16){_src=arguments}else{return}var b0=this.mat4[0],b1=this.mat4[1],b2=this.mat4[2],b3=this.mat4[3];this.mat4[0]=b0*_src[0]+b1*_src[4]+b2*_src[8]+b3*_src[12];this.mat4[1]=b0*_src[1]+b1*_src[5]+b2*_src[9]+b3*_src[13];this.mat4[2]=b0*_src[2]+b1*_src[6]+b2*_src[10]+b3*_src[14];this.mat4[3]=b0*_src[3]+b1*_src[7]+b2*_src[11]+b3*_src[15];b0=this.mat4[4];b1=this.mat4[5];b2=this.mat4[6];b3=this.mat4[7];this.mat4[4]=b0*_src[0]+b1*_src[4]+b2*_src[8]+b3*_src[12];this.mat4[5]=b0*_src[1]+b1*_src[5]+b2*_src[9]+b3*_src[13];this.mat4[6]=b0*_src[2]+b1*_src[6]+b2*_src[10]+b3*_src[14];this.mat4[7]=b0*_src[3]+b1*_src[7]+b2*_src[11]+b3*_src[15];b0=this.mat4[8];b1=this.mat4[9];b2=this.mat4[10];b3=this.mat4[11];this.mat4[8]=b0*_src[0]+b1*_src[4]+b2*_src[8]+b3*_src[12];this.mat4[9]=b0*_src[1]+b1*_src[5]+b2*_src[9]+b3*_src[13];this.mat4[10]=b0*_src[2]+b1*_src[6]+b2*_src[10]+b3*_src[14];this.mat4[11]=b0*_src[3]+b1*_src[7]+b2*_src[11]+b3*_src[15];b0=this.mat4[12];b1=this.mat4[13];b2=this.mat4[14];b3=this.mat4[15];this.mat4[12]=b0*_src[0]+b1*_src[4]+b2*_src[8]+b3*_src[12];this.mat4[13]=b0*_src[1]+b1*_src[5]+b2*_src[9]+b3*_src[13];this.mat4[14]=b0*_src[2]+b1*_src[6]+b2*_src[10]+b3*_src[14];this.mat4[15]=b0*_src[3]+b1*_src[7]+b2*_src[11]+b3*_src[15];return this};_main.default.Matrix.prototype.apply=function(multMatrix){var _src;if(multMatrix===this||multMatrix===this.mat4){_src=this.copy().mat4}else if(multMatrix instanceof _main.default.Matrix){_src=multMatrix.mat4}else if(isMatrixArray(multMatrix)){_src=multMatrix}else if(arguments.length===16){_src=arguments}else{return}var mat4=this.mat4;var m0=mat4[0];var m4=mat4[4];var m8=mat4[8];var m12=mat4[12];mat4[0]=_src[0]*m0+_src[1]*m4+_src[2]*m8+_src[3]*m12;mat4[4]=_src[4]*m0+_src[5]*m4+_src[6]*m8+_src[7]*m12;mat4[8]=_src[8]*m0+_src[9]*m4+_src[10]*m8+_src[11]*m12;mat4[12]=_src[12]*m0+_src[13]*m4+_src[14]*m8+_src[15]*m12;var m1=mat4[1];var m5=mat4[5];var m9=mat4[9];var m13=mat4[13];mat4[1]=_src[0]*m1+_src[1]*m5+_src[2]*m9+_src[3]*m13;mat4[5]=_src[4]*m1+_src[5]*m5+_src[6]*m9+_src[7]*m13;mat4[9]=_src[8]*m1+_src[9]*m5+_src[10]*m9+_src[11]*m13;mat4[13]=_src[12]*m1+_src[13]*m5+_src[14]*m9+_src[15]*m13;var m2=mat4[2];var m6=mat4[6];var m10=mat4[10];var m14=mat4[14];mat4[2]=_src[0]*m2+_src[1]*m6+_src[2]*m10+_src[3]*m14;mat4[6]=_src[4]*m2+_src[5]*m6+_src[6]*m10+_src[7]*m14;mat4[10]=_src[8]*m2+_src[9]*m6+_src[10]*m10+_src[11]*m14;mat4[14]=_src[12]*m2+_src[13]*m6+_src[14]*m10+_src[15]*m14;var m3=mat4[3];var m7=mat4[7];var m11=mat4[11];var m15=mat4[15];mat4[3]=_src[0]*m3+_src[1]*m7+_src[2]*m11+_src[3]*m15;mat4[7]=_src[4]*m3+_src[5]*m7+_src[6]*m11+_src[7]*m15;mat4[11]=_src[8]*m3+_src[9]*m7+_src[10]*m11+_src[11]*m15;mat4[15]=_src[12]*m3+_src[13]*m7+_src[14]*m11+_src[15]*m15;return this};_main.default.Matrix.prototype.scale=function(x,y,z){if(x instanceof _main.default.Vector){y=x.y;z=x.z;x=x.x}else if(x instanceof Array){y=x[1];z=x[2];x=x[0]}this.mat4[0]*=x;this.mat4[1]*=x;this.mat4[2]*=x;this.mat4[3]*=x;this.mat4[4]*=y;this.mat4[5]*=y;this.mat4[6]*=y;this.mat4[7]*=y;this.mat4[8]*=z;this.mat4[9]*=z;this.mat4[10]*=z;this.mat4[11]*=z;return this};_main.default.Matrix.prototype.rotate=function(a,x,y,z){if(x instanceof _main.default.Vector){y=x.y;z=x.z;x=x.x}else if(x instanceof Array){y=x[1];z=x[2];x=x[0]}var len=Math.sqrt(x*x+y*y+z*z);x*=1/len;y*=1/len;z*=1/len;var a00=this.mat4[0];var a01=this.mat4[1];var a02=this.mat4[2];var a03=this.mat4[3];var a10=this.mat4[4];var a11=this.mat4[5];var a12=this.mat4[6];var a13=this.mat4[7];var a20=this.mat4[8];var a21=this.mat4[9];var a22=this.mat4[10];var a23=this.mat4[11];var sA=Math.sin(a);var cA=Math.cos(a);var tA=1-cA;var b00=x*x*tA+cA;var b01=y*x*tA+z*sA;var b02=z*x*tA-y*sA;var b10=x*y*tA-z*sA;var b11=y*y*tA+cA;var b12=z*y*tA+x*sA;var b20=x*z*tA+y*sA;var b21=y*z*tA-x*sA;var b22=z*z*tA+cA;this.mat4[0]=a00*b00+a10*b01+a20*b02;this.mat4[1]=a01*b00+a11*b01+a21*b02;this.mat4[2]=a02*b00+a12*b01+a22*b02;this.mat4[3]=a03*b00+a13*b01+a23*b02;this.mat4[4]=a00*b10+a10*b11+a20*b12;this.mat4[5]=a01*b10+a11*b11+a21*b12;this.mat4[6]=a02*b10+a12*b11+a22*b12;this.mat4[7]=a03*b10+a13*b11+a23*b12;this.mat4[8]=a00*b20+a10*b21+a20*b22;this.mat4[9]=a01*b20+a11*b21+a21*b22;this.mat4[10]=a02*b20+a12*b21+a22*b22;this.mat4[11]=a03*b20+a13*b21+a23*b22;return this};_main.default.Matrix.prototype.translate=function(v){var x=v[0],y=v[1],z=v[2]||0;this.mat4[12]+=this.mat4[0]*x+this.mat4[4]*y+this.mat4[8]*z;this.mat4[13]+=this.mat4[1]*x+this.mat4[5]*y+this.mat4[9]*z;this.mat4[14]+=this.mat4[2]*x+this.mat4[6]*y+this.mat4[10]*z;this.mat4[15]+=this.mat4[3]*x+this.mat4[7]*y+this.mat4[11]*z};_main.default.Matrix.prototype.rotateX=function(a){this.rotate(a,1,0,0)};_main.default.Matrix.prototype.rotateY=function(a){this.rotate(a,0,1,0)};_main.default.Matrix.prototype.rotateZ=function(a){this.rotate(a,0,0,1)};_main.default.Matrix.prototype.perspective=function(fovy,aspect,near,far){var f=1/Math.tan(fovy/2),nf=1/(near-far);this.mat4[0]=f/aspect;this.mat4[1]=0;this.mat4[2]=0;this.mat4[3]=0;this.mat4[4]=0;this.mat4[5]=f;this.mat4[6]=0;this.mat4[7]=0;this.mat4[8]=0;this.mat4[9]=0;this.mat4[10]=(far+near)*nf;this.mat4[11]=-1;this.mat4[12]=0;this.mat4[13]=0;this.mat4[14]=2*far*near*nf;this.mat4[15]=0;return this};_main.default.Matrix.prototype.ortho=function(left,right,bottom,top,near,far){var lr=1/(left-right),bt=1/(bottom-top),nf=1/(near-far);this.mat4[0]=-2*lr;this.mat4[1]=0;this.mat4[2]=0;this.mat4[3]=0;this.mat4[4]=0;this.mat4[5]=-2*bt;this.mat4[6]=0;this.mat4[7]=0;this.mat4[8]=0;this.mat4[9]=0;this.mat4[10]=2*nf;this.mat4[11]=0;this.mat4[12]=(left+right)*lr;this.mat4[13]=(top+bottom)*bt;this.mat4[14]=(far+near)*nf;this.mat4[15]=1;return this};var _default=_main.default.Matrix;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.float32-array":221,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241}],338:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.array.map");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.RenderBuffer=function(size,src,dst,attr,renderer,map){this.size=size;this.src=src;this.dst=dst;this.attr=attr;this._renderer=renderer;this.map=map};_main.default.RenderBuffer.prototype._prepareBuffer=function(geometry,shader){var attributes=shader.attributes;var gl=this._renderer.GL;var model;if(geometry.model){model=geometry.model}else{model=geometry}var attr=attributes[this.attr];if(!attr){return}var buffer=geometry[this.dst];var src=model[this.src];if(src.length>0){var createBuffer=!buffer;if(createBuffer){geometry[this.dst]=buffer=gl.createBuffer()}gl.bindBuffer(gl.ARRAY_BUFFER,buffer);if(createBuffer||model.dirtyFlags[this.src]!==false){var map=this.map;var values=map?map(src):src;this._renderer._bindBuffer(buffer,gl.ARRAY_BUFFER,values);model.dirtyFlags[this.src]=false}shader.enableAttrib(attr,this.size)}};var _default=_main.default.RenderBuffer;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.map":179}],339:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.fill");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.typed-array.float32-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));_dereq_("./p5.RenderBuffer");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.RendererGL.prototype.beginShape=function(mode){this.immediateMode.shapeMode=mode!==undefined?mode:constants.TRIANGLE_FAN;this.immediateMode.geometry.reset();return this};_main.default.RendererGL.prototype.vertex=function(x,y){var z,u,v;z=u=v=0;if(arguments.length===3){z=arguments[2]}else if(arguments.length===4){u=arguments[2];v=arguments[3]}else if(arguments.length===5){z=arguments[2];u=arguments[3];v=arguments[4]}var vert=new _main.default.Vector(x,y,z);this.immediateMode.geometry.vertices.push(vert);this.immediateMode.geometry.vertexNormals.push(this._currentNormal);var vertexColor=this.curFillColor||[.5,.5,.5,1];this.immediateMode.geometry.vertexColors.push(vertexColor[0],vertexColor[1],vertexColor[2],vertexColor[3]);if(this.textureMode===constants.IMAGE){if(this._tex!==null){if(this._tex.width>0&&this._tex.height>0){u/=this._tex.width;v/=this._tex.height}}else if(this._tex===null&&arguments.length>=4){console.warn("You must first call texture() before using"+" vertex() with image based u and v coordinates")}}this.immediateMode.geometry.uvs.push(u,v);this.immediateMode._bezierVertex[0]=x;this.immediateMode._bezierVertex[1]=y;this.immediateMode._bezierVertex[2]=z;this.immediateMode._quadraticVertex[0]=x;this.immediateMode._quadraticVertex[1]=y;this.immediateMode._quadraticVertex[2]=z;return this};_main.default.RendererGL.prototype.normal=function(xorv,y,z){if(xorv instanceof _main.default.Vector){this._currentNormal=xorv}else{this._currentNormal=new _main.default.Vector(xorv,y,z)}return this};_main.default.RendererGL.prototype.endShape=function(mode,isCurve,isBezier,isQuadratic,isContour,shapeKind){if(this.immediateMode.shapeMode===constants.POINTS){this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point);return this}this._processVertices.apply(this,arguments);if(this._doFill){if(this.immediateMode.geometry.vertices.length>1){this._drawImmediateFill()}}if(this._doStroke){if(this.immediateMode.geometry.lineVertices.length>1){this._drawImmediateStroke()}}this.isBezier=false;this.isQuadratic=false;this.isCurve=false;this.immediateMode._bezierVertex.length=0;this.immediateMode._quadraticVertex.length=0;this.immediateMode._curveVertex.length=0;return this};_main.default.RendererGL.prototype._processVertices=function(mode){if(this.immediateMode.geometry.vertices.length===0)return;var calculateStroke=this._doStroke&&this.drawMode!==constants.TEXTURE;var shouldClose=mode===constants.CLOSE;if(calculateStroke){this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,shouldClose);this.immediateMode.geometry._edgesToVertices()}var convexShape=this.immediateMode.shapeMode===constants.TESS;var shouldTess=(this.isBezier||this.isQuadratic||this.isCurve||convexShape)&&this.immediateMode.shapeMode!==constants.LINES;if(shouldTess){this._tesselateShape()}};_main.default.RendererGL.prototype._calculateEdges=function(shapeMode,verts,shouldClose){var res=[];var i=0;switch(shapeMode){case constants.TRIANGLE_STRIP:for(i=0;i<verts.length-2;i++){res.push([i,i+1]);res.push([i,i+2])}res.push([i,i+1]);break;case constants.TRIANGLES:for(i=0;i<verts.length-2;i=i+3){res.push([i,i+1]);res.push([i+1,i+2]);res.push([i+2,i])}break;case constants.LINES:for(i=0;i<verts.length-1;i=i+2){res.push([i,i+1])}break;default:for(i=0;i<verts.length-1;i++){res.push([i,i+1])}break}if(shouldClose){res.push([verts.length-1,0])}return res};_main.default.RendererGL.prototype._tesselateShape=function(){this.immediateMode.shapeMode=constants.TRIANGLES;var contours=[new Float32Array(this._vToNArray(this.immediateMode.geometry.vertices))];var polyTriangles=this._triangulate(contours);this.immediateMode.geometry.vertices=[];for(var j=0,polyTriLength=polyTriangles.length;j<polyTriLength;j=j+3){this.vertex(polyTriangles[j],polyTriangles[j+1],polyTriangles[j+2])}};_main.default.RendererGL.prototype._drawImmediateFill=function(){var gl=this.GL;var shader=this._getImmediateFillShader();this._setFillUniforms(shader);var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.immediateMode.buffers.fill[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var buff=_step.value;buff._prepareBuffer(this.immediateMode.geometry,shader)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}if(this.immediateMode.shapeMode===constants.LINE_STRIP||this.immediateMode.shapeMode===constants.LINES){this.immediateMode.shapeMode=constants.TRIANGLE_FAN}this._applyColorBlend(this.curFillColor);gl.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);shader.unbindShader()};_main.default.RendererGL.prototype._drawImmediateStroke=function(){var gl=this.GL;var shader=this._getImmediateStrokeShader();this._setStrokeUniforms(shader);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=this.immediateMode.buffers.stroke[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var buff=_step2.value;buff._prepareBuffer(this.immediateMode.geometry,shader)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}this._applyColorBlend(this.curStrokeColor);gl.drawArrays(gl.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length);shader.unbindShader()};var _default=_main.default.RendererGL;exports.default=_default},{"../core/constants":275,"../core/main":287,"./p5.RenderBuffer":338,"core-js/modules/es.array.fill":169,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.float32-array":221,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/web.dom-collections.iterator":247}],340:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.fill");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.some");_dereq_("core-js/modules/es.object.keys");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.typed-array.float32-array");_dereq_("core-js/modules/es.typed-array.uint16-array");_dereq_("core-js/modules/es.typed-array.uint32-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));_dereq_("./p5.RendererGL");_dereq_("./p5.RenderBuffer");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var hashCount=0;_main.default.RendererGL.prototype._initBufferDefaults=function(gId){this._freeBuffers(gId);hashCount++;if(hashCount>1e3){var key=Object.keys(this.retainedMode.geometry)[0];delete this.retainedMode.geometry[key];hashCount--}return this.retainedMode.geometry[gId]={}};_main.default.RendererGL.prototype._freeBuffers=function(gId){var buffers=this.retainedMode.geometry[gId];if(!buffers){return}delete this.retainedMode.geometry[gId];hashCount--;var gl=this.GL;if(buffers.indexBuffer){gl.deleteBuffer(buffers.indexBuffer)}function freeBuffers(defs){var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=defs[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var def=_step.value;if(buffers[def.dst]){gl.deleteBuffer(buffers[def.dst]);buffers[def.dst]=null}}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}}freeBuffers(this.retainedMode.buffers.stroke);freeBuffers(this.retainedMode.buffers.fill)};_main.default.RendererGL.prototype.createBuffers=function(gId,model){var gl=this.GL;var buffers=this._initBufferDefaults(gId);buffers.model=model;var indexBuffer=buffers.indexBuffer;if(model.faces.length){if(!indexBuffer)indexBuffer=buffers.indexBuffer=gl.createBuffer();var vals=_main.default.RendererGL.prototype._flatten(model.faces);var hasVertexIndicesOverMaxUInt16=vals.some(function(v){return v>65535});var type=hasVertexIndicesOverMaxUInt16?Uint32Array:Uint16Array;this._bindBuffer(indexBuffer,gl.ELEMENT_ARRAY_BUFFER,vals,type);buffers.indexBufferType=hasVertexIndicesOverMaxUInt16?gl.UNSIGNED_INT:gl.UNSIGNED_SHORT;buffers.vertexCount=model.faces.length*3}else{if(indexBuffer){gl.deleteBuffer(indexBuffer);buffers.indexBuffer=null}buffers.vertexCount=model.vertices?model.vertices.length:0}buffers.lineVertexCount=model.lineVertices?model.lineVertices.length:0;return buffers};_main.default.RendererGL.prototype.drawBuffers=function(gId){var gl=this.GL;var geometry=this.retainedMode.geometry[gId];if(this._doStroke&&geometry.lineVertexCount>0){var strokeShader=this._getRetainedStrokeShader();this._setStrokeUniforms(strokeShader);var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=this.retainedMode.buffers.stroke[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var buff=_step2.value;buff._prepareBuffer(geometry,strokeShader)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}this._applyColorBlend(this.curStrokeColor);this._drawArrays(gl.TRIANGLES,gId);strokeShader.unbindShader()}if(this._doFill){var fillShader=this._getRetainedFillShader();this._setFillUniforms(fillShader);var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=this.retainedMode.buffers.fill[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var _buff=_step3.value;_buff._prepareBuffer(geometry,fillShader)}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}if(geometry.indexBuffer){this._bindBuffer(geometry.indexBuffer,gl.ELEMENT_ARRAY_BUFFER)}this._applyColorBlend(this.curFillColor);this._drawElements(gl.TRIANGLES,gId);fillShader.unbindShader()}return this};_main.default.RendererGL.prototype.drawBuffersScaled=function(gId,scaleX,scaleY,scaleZ){var uMVMatrix=this.uMVMatrix.copy();try{this.uMVMatrix.scale(scaleX,scaleY,scaleZ);this.drawBuffers(gId)}finally{this.uMVMatrix=uMVMatrix}};_main.default.RendererGL.prototype._drawArrays=function(drawMode,gId){this.GL.drawArrays(drawMode,0,this.retainedMode.geometry[gId].lineVertexCount);return this};_main.default.RendererGL.prototype._drawElements=function(drawMode,gId){var buffers=this.retainedMode.geometry[gId];var gl=this.GL;if(buffers.indexBuffer){if(buffers.indexBufferType===gl.UNSIGNED_INT){if(!gl.getExtension("OES_element_index_uint")){throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.")}}gl.drawElements(gl.TRIANGLES,buffers.vertexCount,buffers.indexBufferType,0)}else{gl.drawArrays(drawMode||gl.TRIANGLES,0,buffers.vertexCount)}};_main.default.RendererGL.prototype._drawPoints=function(vertices,vertexBuffer){var gl=this.GL;var pointShader=this._getImmediatePointShader();this._setPointUniforms(pointShader);this._bindBuffer(vertexBuffer,gl.ARRAY_BUFFER,this._vToNArray(vertices),Float32Array,gl.STATIC_DRAW);pointShader.enableAttrib(pointShader.attributes.aPosition,3);gl.drawArrays(gl.Points,0,vertices.length);pointShader.unbindShader()};var _default=_main.default.RendererGL;exports.default=_default},{"../core/main":287,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":169,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.some":181,"core-js/modules/es.object.keys":194,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.float32-array":221,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint16-array":242,"core-js/modules/es.typed-array.uint32-array":243,"core-js/modules/web.dom-collections.iterator":247}],341:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.concat");_dereq_("core-js/modules/es.array.fill");_dereq_("core-js/modules/es.array.filter");_dereq_("core-js/modules/es.array.from");_dereq_("core-js/modules/es.array.includes");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.object.assign");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.to-string");_dereq_("core-js/modules/es.string.includes");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.typed-array.float32-array");_dereq_("core-js/modules/es.typed-array.float64-array");_dereq_("core-js/modules/es.typed-array.int16-array");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.uint16-array");_dereq_("core-js/modules/es.typed-array.uint32-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));var _libtess=_interopRequireDefault(_dereq_("libtess"));_dereq_("./p5.Shader");_dereq_("./p5.Camera");_dereq_("../core/p5.Renderer");_dereq_("./p5.Matrix");var _path=_dereq_("path");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){return _arrayWithoutHoles(arr)||_iterableToArray(arr)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(iter){if(Symbol.iterator in Object(iter)||Object.prototype.toString.call(iter)==="[object Arguments]")return Array.from(iter)}function _arrayWithoutHoles(arr){if(Array.isArray(arr)){for(var i=0,arr2=new Array(arr.length);i<arr.length;i++){arr2[i]=arr[i]}return arr2}}var lightingShader="precision highp float;\nprecision highp int;\n\nuniform mat4 uViewMatrix;\n\nuniform bool uUseLighting;\n\nuniform int uAmbientLightCount;\nuniform vec3 uAmbientColor[5];\n\nuniform int uDirectionalLightCount;\nuniform vec3 uLightingDirection[5];\nuniform vec3 uDirectionalDiffuseColors[5];\nuniform vec3 uDirectionalSpecularColors[5];\n\nuniform int uPointLightCount;\nuniform vec3 uPointLightLocation[5];\nuniform vec3 uPointLightDiffuseColors[5];\t\nuniform vec3 uPointLightSpecularColors[5];\n\nuniform int uSpotLightCount;\nuniform float uSpotLightAngle[5];\nuniform float uSpotLightConc[5];\nuniform vec3 uSpotLightDiffuseColors[5];\nuniform vec3 uSpotLightSpecularColors[5];\nuniform vec3 uSpotLightLocation[5];\nuniform vec3 uSpotLightDirection[5];\n\nuniform bool uSpecular;\nuniform float uShininess;\n\nuniform float uConstantAttenuation;\nuniform float uLinearAttenuation;\nuniform float uQuadraticAttenuation;\n\nconst float specularFactor = 2.0;\nconst float diffuseFactor = 0.73;\n\nstruct LightResult {\n  float specular;\n  float diffuse;\n};\n\nfloat _phongSpecular(\n  vec3 lightDirection,\n  vec3 viewDirection,\n  vec3 surfaceNormal,\n  float shininess) {\n\n  vec3 R = reflect(lightDirection, surfaceNormal);\n  return pow(max(0.0, dot(R, viewDirection)), shininess);\n}\n\nfloat _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {\n  return max(0.0, dot(-lightDirection, surfaceNormal));\n}\n\nLightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {\n\n  vec3 lightDir = normalize(lightVector);\n\n  //compute our diffuse & specular terms\n  LightResult lr;\n  if (uSpecular)\n    lr.specular = _phongSpecular(lightDir, viewDirection, normal, uShininess);\n  lr.diffuse = _lambertDiffuse(lightDir, normal);\n  return lr;\n}\n\nvoid totalLight(\n  vec3 modelPosition,\n  vec3 normal,\n  out vec3 totalDiffuse,\n  out vec3 totalSpecular\n) {\n\n  totalSpecular = vec3(0.0);\n\n  if (!uUseLighting) {\n    totalDiffuse = vec3(1.0);\n    return;\n  }\n\n  totalDiffuse = vec3(0.0);\n\n  vec3 viewDirection = normalize(-modelPosition);\n\n  for (int j = 0; j < 5; j++) {\n    if (j < uDirectionalLightCount) {\n      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;\n      vec3 lightColor = uDirectionalDiffuseColors[j];\n      vec3 specularColor = uDirectionalSpecularColors[j];\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if (j < uPointLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      //calculate attenuation\n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];\n      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];\n\n      LightResult result = _light(viewDirection, normal, lightVector);\n      totalDiffuse += result.diffuse * lightColor;\n      totalSpecular += result.specular * lightColor * specularColor;\n    }\n\n    if(j < uSpotLightCount) {\n      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;\n      vec3 lightVector = modelPosition - lightPosition;\n    \n      float lightDistance = length(lightVector);\n      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);\n\n      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;\n      float spotDot = dot(normalize(lightVector), normalize(lightDirection));\n      float spotFalloff;\n      if(spotDot < uSpotLightAngle[j]) {\n        spotFalloff = 0.0;\n      }\n      else {\n        spotFalloff = pow(spotDot, uSpotLightConc[j]);\n      }\n      lightFalloff *= spotFalloff;\n\n      vec3 lightColor = uSpotLightDiffuseColors[j];\n      vec3 specularColor = uSpotLightSpecularColors[j];\n     \n      LightResult result = _light(viewDirection, normal, lightVector);\n      \n      totalDiffuse += result.diffuse * lightColor * lightFalloff;\n      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;\n    }\n  }\n\n  totalDiffuse *= diffuseFactor;\n  totalSpecular *= specularFactor;\n}\n";var defaultShaders={immediateVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uResolution;\nuniform float uPointSize;\n\nvarying vec4 vColor;\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n  gl_PointSize = uPointSize;\n}\n",vertexColorVert:"attribute vec3 aPosition;\nattribute vec4 aVertexColor;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvarying vec4 vColor;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vColor = aVertexColor;\n}\n",vertexColorFrag:"precision mediump float;\nvarying vec4 vColor;\nvoid main(void) {\n  gl_FragColor = vColor;\n}",normalVert:"attribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying vec3 vVertexNormal;\nvarying highp vec2 vVertTexCoord;\n\nvoid main(void) {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));\n  vVertTexCoord = aTexCoord;\n}\n",normalFrag:"precision mediump float;\nvarying vec3 vVertexNormal;\nvoid main(void) {\n  gl_FragColor = vec4(vVertexNormal, 1.0);\n}",basicFrag:"precision mediump float;\nuniform vec4 uMaterialColor;\nvoid main(void) {\n  gl_FragColor = uMaterialColor;\n}",lightVert:lightingShader+"// include lighting.glgl\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n  gl_Position = uProjectionMatrix * viewModelPosition;\n\n  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);\n  vVertTexCoord = aTexCoord;\n\n  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);\n\n  for (int i = 0; i < 8; i++) {\n    if (i < uAmbientLightCount) {\n      vDiffuseColor += uAmbientColor[i];\n    }\n  }\n}\n",lightTextureFrag:"precision highp float;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying highp vec2 vVertTexCoord;\nvarying vec3 vDiffuseColor;\nvarying vec3 vSpecularColor;\n\nvoid main(void) {\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vVertTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * vDiffuseColor + vSpecularColor;\n  }\n}",phongVert:"precision highp float;\nprecision highp int;\n\nattribute vec3 aPosition;\nattribute vec3 aNormal;\nattribute vec2 aTexCoord;\n\nuniform vec3 uAmbientColor[5];\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform mat3 uNormalMatrix;\nuniform int uAmbientLightCount;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);\n\n  // Pass varyings to fragment shader\n  vViewPosition = viewModelPosition.xyz;\n  gl_Position = uProjectionMatrix * viewModelPosition;  \n\n  vNormal = uNormalMatrix * aNormal;\n  vTexCoord = aTexCoord;\n\n  // TODO: this should be a uniform\n  vAmbientColor = vec3(0.0);\n  for (int i = 0; i < 5; i++) {\n    if (i < uAmbientLightCount) {\n      vAmbientColor += uAmbientColor[i];\n    }\n  }\n}\n",phongFrag:lightingShader+"// include lighting.glsl\nprecision highp float;\nprecision highp int;\n\nuniform vec4 uMaterialColor;\nuniform vec4 uTint;\nuniform sampler2D uSampler;\nuniform bool isTexture;\nuniform bool uEmissive;\n\nvarying vec3 vNormal;\nvarying vec2 vTexCoord;\nvarying vec3 vViewPosition;\nvarying vec3 vAmbientColor;\n\nvoid main(void) {\n\n  vec3 diffuse;\n  vec3 specular;\n  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);\n\n  if(uEmissive && !isTexture) {\n    gl_FragColor = uMaterialColor;\n  }\n  else {\n    gl_FragColor = isTexture ? texture2D(uSampler, vTexCoord) * (uTint / vec4(255, 255, 255, 255)) : uMaterialColor;\n    gl_FragColor.rgb = gl_FragColor.rgb * (diffuse + vAmbientColor) + specular;\n  }\n}",fontVert:"precision mediump float;\n\nattribute vec3 aPosition;\nattribute vec2 aTexCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nuniform vec4 uGlyphRect;\nuniform float uGlyphOffset;\n\nvarying vec2 vTexCoord;\nvarying float w;\n\nvoid main() {\n  vec4 positionVec4 = vec4(aPosition, 1.0);\n\n  // scale by the size of the glyph's rectangle\n  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;\n\n  // move to the corner of the glyph\n  positionVec4.xy += uGlyphRect.xy;\n\n  // move to the letter's line offset\n  positionVec4.x += uGlyphOffset;\n  \n  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n  vTexCoord = aTexCoord;\n  w = gl_Position.w;\n}\n",fontFrag:"#extension GL_OES_standard_derivatives : enable\nprecision mediump float;\n\n#if 0\n  // simulate integer math using floats\n\t#define int float\n\t#define ivec2 vec2\n\t#define INT(x) float(x)\n\n\tint ifloor(float v) { return floor(v); }\n\tivec2 ifloor(vec2 v) { return floor(v); }\n\n#else\n  // use native integer math\n\tprecision highp int;\n\t#define INT(x) x\n\n\tint ifloor(float v) { return int(v); }\n\tint ifloor(int v) { return v; }\n\tivec2 ifloor(vec2 v) { return ivec2(v); }\n\n#endif\n\nuniform sampler2D uSamplerStrokes;\nuniform sampler2D uSamplerRowStrokes;\nuniform sampler2D uSamplerRows;\nuniform sampler2D uSamplerColStrokes;\nuniform sampler2D uSamplerCols;\n\nuniform ivec2 uStrokeImageSize;\nuniform ivec2 uCellsImageSize;\nuniform ivec2 uGridImageSize;\n\nuniform ivec2 uGridOffset;\nuniform ivec2 uGridSize;\nuniform vec4 uMaterialColor;\n\nvarying vec2 vTexCoord;\n\n// some helper functions\nint round(float v) { return ifloor(v + 0.5); }\nivec2 round(vec2 v) { return ifloor(v + 0.5); }\nfloat saturate(float v) { return clamp(v, 0.0, 1.0); }\nvec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }\n\nint mul(float v1, int v2) {\n  return ifloor(v1 * float(v2));\n}\n\nivec2 mul(vec2 v1, ivec2 v2) {\n  return ifloor(v1 * vec2(v2) + 0.5);\n}\n\n// unpack a 16-bit integer from a float vec2\nint getInt16(vec2 v) {\n  ivec2 iv = round(v * 255.0);\n  return iv.x * INT(128) + iv.y;\n}\n\nvec2 pixelScale;\nvec2 coverage = vec2(0.0);\nvec2 weight = vec2(0.5);\nconst float minDistance = 1.0/8192.0;\nconst float hardness = 1.05; // amount of antialias\n\n// the maximum number of curves in a glyph\nconst int N = INT(250);\n\n// retrieves an indexed pixel from a sampler\nvec4 getTexel(sampler2D sampler, int pos, ivec2 size) {\n  int width = size.x;\n  int y = ifloor(pos / width);\n  int x = pos - y * width;  // pos % width\n\n  return texture2D(sampler, (vec2(x, y) + 0.5) / vec2(size));\n}\n\nvoid calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {\n\n  // get the coefficients of the quadratic in t\n  vec2 a = p0 - p1 * 2.0 + p2;\n  vec2 b = p0 - p1;\n  vec2 c = p0 - vTexCoord;\n\n  // found out which values of 't' it crosses the axes\n  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));\n  vec2 t1 = ((b - surd) / a).yx;\n  vec2 t2 = ((b + surd) / a).yx;\n\n  // approximate straight lines to avoid rounding errors\n  if (abs(a.y) < 0.001)\n    t1.x = t2.x = c.y / (2.0 * b.y);\n\n  if (abs(a.x) < 0.001)\n    t1.y = t2.y = c.x / (2.0 * b.x);\n\n  // plug into quadratic formula to find the corrdinates of the crossings\n  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;\n  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;\n}\n\nvoid coverageX(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  // determine on which side of the x-axis the points lie\n  bool y0 = p0.y > vTexCoord.y;\n  bool y1 = p1.y > vTexCoord.y;\n  bool y2 = p2.y > vTexCoord.y;\n\n  // could web be under the curve (after t1)?\n  if (y1 ? !y2 : y0) {\n    // add the coverage for t1\n    coverage.x += saturate(C1.x + 0.5);\n    // calculate the anti-aliasing for t1\n    weight.x = min(weight.x, abs(C1.x));\n  }\n\n  // are we outside the curve (after t2)?\n  if (y1 ? !y0 : y2) {\n    // subtract the coverage for t2\n    coverage.x -= saturate(C2.x + 0.5);\n    // calculate the anti-aliasing for t2\n    weight.x = min(weight.x, abs(C2.x));\n  }\n}\n\n// this is essentially the same as coverageX, but with the axes swapped\nvoid coverageY(vec2 p0, vec2 p1, vec2 p2) {\n\n  vec2 C1, C2;\n  calulateCrossings(p0, p1, p2, C1, C2);\n\n  bool x0 = p0.x > vTexCoord.x;\n  bool x1 = p1.x > vTexCoord.x;\n  bool x2 = p2.x > vTexCoord.x;\n\n  if (x1 ? !x2 : x0) {\n    coverage.y -= saturate(C1.y + 0.5);\n    weight.y = min(weight.y, abs(C1.y));\n  }\n\n  if (x1 ? !x0 : x2) {\n    coverage.y += saturate(C2.y + 0.5);\n    weight.y = min(weight.y, abs(C2.y));\n  }\n}\n\nvoid main() {\n\n  // calculate the pixel scale based on screen-coordinates\n  pixelScale = hardness / fwidth(vTexCoord);\n\n  // which grid cell is this pixel in?\n  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));\n\n  // intersect curves in this row\n  {\n    // the index into the row info bitmap\n    int rowIndex = gridCoord.y + uGridOffset.y;\n    // fetch the info texel\n    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);\n    // unpack the rowInfo\n    int rowStrokeIndex = getInt16(rowInfo.xy);\n    int rowStrokeCount = getInt16(rowInfo.zw);\n\n    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {\n      if (iRowStroke >= rowStrokeCount)\n        break;\n\n      // each stroke is made up of 3 points: the start and control point\n      // and the start of the next curve.\n      // fetch the indices of this pair of strokes:\n      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);\n\n      // unpack the stroke index\n      int strokePos = getInt16(strokeIndices.xy);\n\n      // fetch the two strokes\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n\n      // calculate the coverage\n      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  // intersect curves in this column\n  {\n    int colIndex = gridCoord.x + uGridOffset.x;\n    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);\n    int colStrokeIndex = getInt16(colInfo.xy);\n    int colStrokeCount = getInt16(colInfo.zw);\n    \n    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {\n      if (iColStroke >= colStrokeCount)\n        break;\n\n      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);\n\n      int strokePos = getInt16(strokeIndices.xy);\n      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);\n      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);\n      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);\n    }\n  }\n\n  weight = saturate(1.0 - weight * 2.0);\n  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.\n  float antialias = abs(dot(coverage, weight) / distance);\n  float cover = min(abs(coverage.x), abs(coverage.y));\n  gl_FragColor = uMaterialColor;\n  gl_FragColor.a *= saturate(max(antialias, cover));\n}",lineVert:"/*\n  Part of the Processing project - http://processing.org\n  Copyright (c) 2012-15 The Processing Foundation\n  Copyright (c) 2004-12 Ben Fry and Casey Reas\n  Copyright (c) 2001-04 Massachusetts Institute of Technology\n  This library is free software; you can redistribute it and/or\n  modify it under the terms of the GNU Lesser General Public\n  License as published by the Free Software Foundation, version 2.1.\n  This library is distributed in the hope that it will be useful,\n  but WITHOUT ANY WARRANTY; without even the implied warranty of\n  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n  Lesser General Public License for more details.\n  You should have received a copy of the GNU Lesser General\n  Public License along with this library; if not, write to the\n  Free Software Foundation, Inc., 59 Temple Place, Suite 330,\n  Boston, MA  02111-1307  USA\n*/\n\n#define PROCESSING_LINE_SHADER\n\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nuniform float uStrokeWeight;\n\nuniform vec4 uViewport;\nuniform int uPerspective;\n\nattribute vec4 aPosition;\nattribute vec4 aDirection;\n  \nvoid main() {\n  // using a scale <1 moves the lines towards the camera\n  // in order to prevent popping effects due to half of\n  // the line disappearing behind the geometry faces.\n  vec3 scale = vec3(0.9995);\n\n  vec4 posp = uModelViewMatrix * aPosition;\n  vec4 posq = uModelViewMatrix * (aPosition + vec4(aDirection.xyz, 0));\n\n  // Moving vertices slightly toward the camera\n  // to avoid depth-fighting with the fill triangles.\n  // Discussed here:\n  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  \n  posp.xyz = posp.xyz * scale;\n  posq.xyz = posq.xyz * scale;\n\n  vec4 p = uProjectionMatrix * posp;\n  vec4 q = uProjectionMatrix * posq;\n\n  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])\n  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw\n\n  // prevent division by W by transforming the tangent formula (div by 0 causes\n  // the line to disappear, see https://github.com/processing/processing/issues/5183)\n  // t = screen_q - screen_p\n  //\n  // tangent is normalized and we don't care which aDirection it points to (+-)\n  // t = +- normalize( screen_q - screen_p )\n  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )\n  //\n  // extract common factor, <1,1> - <1,1> cancels out\n  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )\n  //\n  // convert to common divisor\n  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )\n  //\n  // remove the common scalar divisor/factor, not needed due to normalize and +-\n  // (keep uViewport - can't remove because it has different components for x and y\n  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)\n  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )\n\n  vec2 tangent = normalize((q.xy*p.w - p.xy*q.w) * uViewport.zw);\n\n  // flip tangent to normal (it's already normalized)\n  vec2 normal = vec2(-tangent.y, tangent.x);\n\n  float thickness = aDirection.w * uStrokeWeight;\n  vec2 offset = normal * thickness / 2.0;\n\n  vec2 curPerspScale;\n\n  if(uPerspective == 1) {\n    // Perspective ---\n    // convert from world to clip by multiplying with projection scaling factor\n    // to get the right thickness (see https://github.com/processing/processing/issues/5182)\n    // invert Y, projections in Processing invert Y\n    curPerspScale = (uProjectionMatrix * vec4(1, -1, 0, 0)).xy;\n  } else {\n    // No Perspective ---\n    // multiply by W (to cancel out division by W later in the pipeline) and\n    // convert from screen to clip (derived from clip to screen above)\n    curPerspScale = p.w / (0.5 * uViewport.zw);\n  }\n\n  gl_Position.xy = p.xy + offset.xy * curPerspScale;\n  gl_Position.zw = p.zw;\n}\n",lineFrag:"precision mediump float;\nprecision mediump int;\n\nuniform vec4 uMaterialColor;\n\nvoid main() {\n  gl_FragColor = uMaterialColor;\n}",pointVert:"attribute vec3 aPosition;\nuniform float uPointSize;\nvarying float vStrokeWeight;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvoid main() {\n\tvec4 positionVec4 =  vec4(aPosition, 1.0);\n\tgl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;\n\tgl_PointSize = uPointSize;\n\tvStrokeWeight = uPointSize;\n}",pointFrag:"precision mediump float;\nprecision mediump int;\nuniform vec4 uMaterialColor;\nvarying float vStrokeWeight;\n\nvoid main(){\n\tfloat mask = 0.0;\n\n\t// make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)\n    // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant\n\n\tmask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));\n\n\t// if strokeWeight is 1 or less lets just draw a square\n\t// this prevents weird artifacting from carving circles when our points are really small\n\t// if strokeWeight is larger than 1, we just use it as is\n\n\tmask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));\n\n\t// throw away the borders of the mask\n    // otherwise we get weird alpha blending issues\n\n\tif(mask > 0.98){\n      discard;\n  \t}\n\n  \tgl_FragColor = vec4(uMaterialColor.rgb * (1.0 - mask), uMaterialColor.a) ;\n}"};_main.default.RendererGL=function(elt,pInst,isMainCanvas,attr){_main.default.Renderer.call(this,elt,pInst,isMainCanvas);this._setAttributeDefaults(pInst);this._initContext();this.isP3D=true;this.GL=this.drawingContext;this._pInst._setProperty("drawingContext",this.drawingContext);this._isErasing=false;this._enableLighting=false;this.ambientLightColors=[];this.specularColors=[1,1,1];this.directionalLightDirections=[];this.directionalLightDiffuseColors=[];this.directionalLightSpecularColors=[];this.pointLightPositions=[];this.pointLightDiffuseColors=[];this.pointLightSpecularColors=[];this.spotLightPositions=[];this.spotLightDirections=[];this.spotLightDiffuseColors=[];this.spotLightSpecularColors=[];this.spotLightAngle=[];this.spotLightConc=[];this.drawMode=constants.FILL;this.curFillColor=this._cachedFillStyle=[1,1,1,1];this.curStrokeColor=this._cachedStrokeStyle=[0,0,0,1];this.curBlendMode=constants.BLEND;this._cachedBlendMode=undefined;this.blendExt=this.GL.getExtension("EXT_blend_minmax");this._isBlending=false;this._useSpecularMaterial=false;this._useEmissiveMaterial=false;this._useNormalMaterial=false;this._useShininess=1;this._tint=[255,255,255,255];this.constantAttenuation=1;this.linearAttenuation=0;this.quadraticAttenuation=0;this.uMVMatrix=new _main.default.Matrix;this.uPMatrix=new _main.default.Matrix;this.uNMatrix=new _main.default.Matrix("mat3");this._currentNormal=new _main.default.Vector(0,0,1);this._curCamera=new _main.default.Camera(this);this._curCamera._computeCameraDefaultSettings();this._curCamera._setDefaultCamera();this._defaultLightShader=undefined;this._defaultImmediateModeShader=undefined;this._defaultNormalShader=undefined;this._defaultColorShader=undefined;this._defaultPointShader=undefined;this.userFillShader=undefined;this.userStrokeShader=undefined;this.userPointShader=undefined;this.retainedMode={geometry:{},buffers:{stroke:[new _main.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new _main.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],fill:[new _main.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new _main.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new _main.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new _main.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new _main.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],text:[new _main.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new _main.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)]}};this.immediateMode={geometry:new _main.default.Geometry,shapeMode:constants.TRIANGLE_FAN,_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new _main.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",this,this._vToNArray),new _main.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",this,this._vToNArray),new _main.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",this),new _main.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",this),new _main.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",this,this._flatten)],stroke:[new _main.default.RenderBuffer(3,"lineVertices","lineVertexBuffer","aPosition",this,this._flatten),new _main.default.RenderBuffer(4,"lineNormals","lineNormalBuffer","aDirection",this,this._flatten)],point:this.GL.createBuffer()}};this.pointSize=5;this.curStrokeWeight=1;this.textures=[];this.textureMode=constants.IMAGE;this.textureWrapX=constants.CLAMP;this.textureWrapY=constants.CLAMP;this._tex=null;this._curveTightness=6;this._lookUpTableBezier=[];this._lookUpTableQuadratic=[];this._lutBezierDetail=0;this._lutQuadraticDetail=0;this._tessy=this._initTessy();this.fontInfos={};this._curShader=undefined;return this};_main.default.RendererGL.prototype=Object.create(_main.default.Renderer.prototype);_main.default.RendererGL.prototype._setAttributeDefaults=function(pInst){var applyAA=navigator.userAgent.toLowerCase().includes("safari");var defaults={alpha:false,depth:true,stencil:true,antialias:applyAA,premultipliedAlpha:false,preserveDrawingBuffer:true,perPixelLighting:true};if(pInst._glAttributes===null){pInst._glAttributes=defaults}else{pInst._glAttributes=Object.assign(defaults,pInst._glAttributes)}return};_main.default.RendererGL.prototype._initContext=function(){try{this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes);if(this.drawingContext===null){throw new Error("Error creating webgl context")}else{var gl=this.drawingContext;gl.enable(gl.DEPTH_TEST);gl.depthFunc(gl.LEQUAL);gl.viewport(0,0,gl.drawingBufferWidth,gl.drawingBufferHeight);this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}}catch(er){throw er}};_main.default.RendererGL.prototype._resetContext=function(options,callback){var w=this.width;var h=this.height;var defaultId=this.canvas.id;var isPGraphics=this._pInst instanceof _main.default.Graphics;if(isPGraphics){var pg=this._pInst;pg.canvas.parentNode.removeChild(pg.canvas);pg.canvas=document.createElement("canvas");var node=pg._pInst._userNode||document.body;node.appendChild(pg.canvas);_main.default.Element.call(pg,pg.canvas,pg._pInst);pg.width=w;pg.height=h}else{var c=this.canvas;if(c){c.parentNode.removeChild(c)}c=document.createElement("canvas");c.id=defaultId;if(this._pInst._userNode){this._pInst._userNode.appendChild(c)}else{document.body.appendChild(c)}this._pInst.canvas=c}var renderer=new _main.default.RendererGL(this._pInst.canvas,this._pInst,!isPGraphics);this._pInst._setProperty("_renderer",renderer);renderer.resize(w,h);renderer._applyDefaults();if(!isPGraphics){this._pInst._elements.push(renderer)}if(typeof callback==="function"){setTimeout(function(){callback.apply(window._renderer,options)},0)}};_main.default.prototype.setAttributes=function(key,value){if(typeof this._glAttributes==="undefined"){console.log("You are trying to use setAttributes on a p5.Graphics object "+"that does not use a WEBGL renderer.");return}var unchanged=true;if(typeof value!=="undefined"){if(this._glAttributes===null){this._glAttributes={}}if(this._glAttributes[key]!==value){this._glAttributes[key]=value;unchanged=false}}else if(key instanceof Object){if(this._glAttributes!==key){this._glAttributes=key;unchanged=false}}if(!this._renderer.isP3D||unchanged){return}if(!this._setupDone){for(var x in this._renderer.retainedMode.geometry){if(this._renderer.retainedMode.geometry.hasOwnProperty(x)){console.error("Sorry, Could not set the attributes, you need to call setAttributes() "+"before calling the other drawing methods in setup()");return}}}this.push();this._renderer._resetContext();this.pop();if(this._renderer._curCamera){this._renderer._curCamera._renderer=this._renderer}};_main.default.RendererGL.prototype._update=function(){this.uMVMatrix.set(this._curCamera.cameraMatrix.mat4[0],this._curCamera.cameraMatrix.mat4[1],this._curCamera.cameraMatrix.mat4[2],this._curCamera.cameraMatrix.mat4[3],this._curCamera.cameraMatrix.mat4[4],this._curCamera.cameraMatrix.mat4[5],this._curCamera.cameraMatrix.mat4[6],this._curCamera.cameraMatrix.mat4[7],this._curCamera.cameraMatrix.mat4[8],this._curCamera.cameraMatrix.mat4[9],this._curCamera.cameraMatrix.mat4[10],this._curCamera.cameraMatrix.mat4[11],this._curCamera.cameraMatrix.mat4[12],this._curCamera.cameraMatrix.mat4[13],this._curCamera.cameraMatrix.mat4[14],this._curCamera.cameraMatrix.mat4[15]);this.ambientLightColors.length=0;this.specularColors=[1,1,1];this.directionalLightDirections.length=0;this.directionalLightDiffuseColors.length=0;this.directionalLightSpecularColors.length=0;this.pointLightPositions.length=0;this.pointLightDiffuseColors.length=0;this.pointLightSpecularColors.length=0;this.spotLightPositions.length=0;this.spotLightDirections.length=0;this.spotLightDiffuseColors.length=0;this.spotLightSpecularColors.length=0;this.spotLightAngle.length=0;this.spotLightConc.length=0;this._enableLighting=false;this._tint=[255,255,255,255];this.GL.clear(this.GL.DEPTH_BUFFER_BIT)};_main.default.RendererGL.prototype.background=function(){var _this$_pInst;var _col=(_this$_pInst=this._pInst).color.apply(_this$_pInst,arguments);var _r=_col.levels[0]/255;var _g=_col.levels[1]/255;var _b=_col.levels[2]/255;var _a=_col.levels[3]/255;this.GL.clearColor(_r,_g,_b,_a);this.GL.clear(this.GL.COLOR_BUFFER_BIT)};_main.default.RendererGL.prototype.fill=function(v1,v2,v3,a){var color=_main.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=color._array;this.drawMode=constants.FILL;this._useNormalMaterial=false;this._tex=null};_main.default.RendererGL.prototype.stroke=function(r,g,b,a){arguments[3]=255;var color=_main.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=color._array};_main.default.RendererGL.prototype.strokeCap=function(cap){console.error("Sorry, strokeCap() is not yet implemented in WEBGL mode")};_main.default.RendererGL.prototype.strokeJoin=function(join){console.error("Sorry, strokeJoin() is not yet implemented in WEBGL mode")};_main.default.RendererGL.prototype.filter=function(filterType){console.error("filter() does not work in WEBGL mode")};_main.default.RendererGL.prototype.blendMode=function(mode){if(mode===constants.DARKEST||mode===constants.LIGHTEST||mode===constants.ADD||mode===constants.BLEND||mode===constants.SUBTRACT||mode===constants.SCREEN||mode===constants.EXCLUSION||mode===constants.REPLACE||mode===constants.MULTIPLY||mode===constants.REMOVE)this.curBlendMode=mode;else if(mode===constants.BURN||mode===constants.OVERLAY||mode===constants.HARD_LIGHT||mode===constants.SOFT_LIGHT||mode===constants.DODGE){console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}};_main.default.RendererGL.prototype.erase=function(opacityFill,opacityStroke){if(!this._isErasing){this._applyBlendMode(constants.REMOVE);this._isErasing=true;this._cachedFillStyle=this.curFillColor.slice();this.curFillColor=[1,1,1,opacityFill/255];this._cachedStrokeStyle=this.curStrokeColor.slice();this.curStrokeColor=[1,1,1,opacityStroke/255]}};_main.default.RendererGL.prototype.noErase=function(){if(this._isErasing){this._isErasing=false;this.curFillColor=this._cachedFillStyle.slice();this.curStrokeColor=this._cachedStrokeStyle.slice();this.blendMode(this._cachedBlendMode)}};_main.default.RendererGL.prototype.strokeWeight=function(w){if(this.curStrokeWeight!==w){this.pointSize=w;this.curStrokeWeight=w}};_main.default.RendererGL.prototype._getPixel=function(x,y){var imageData,index;imageData=new Uint8Array(4);this.drawingContext.readPixels(x,y,1,1,this.drawingContext.RGBA,this.drawingContext.UNSIGNED_BYTE,imageData);index=0;return[imageData[index+0],imageData[index+1],imageData[index+2],imageData[index+3]]};_main.default.RendererGL.prototype.loadPixels=function(){var pixelsState=this._pixelsState;if(this._pInst._glAttributes.preserveDrawingBuffer!==true){console.log("loadPixels only works in WebGL when preserveDrawingBuffer "+"is true.");return}var pixels=pixelsState.pixels;var len=this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4;if(!(pixels instanceof Uint8Array)||pixels.length!==len){pixels=new Uint8Array(len);this._pixelsState._setProperty("pixels",pixels)}var pd=this._pInst._pixelDensity;this.GL.readPixels(0,0,this.width*pd,this.height*pd,this.GL.RGBA,this.GL.UNSIGNED_BYTE,pixels)};_main.default.RendererGL.prototype.geometryInHash=function(gId){return this.retainedMode.geometry[gId]!==undefined};_main.default.RendererGL.prototype.resize=function(w,h){_main.default.Renderer.prototype.resize.call(this,w,h);this.GL.viewport(0,0,this.GL.drawingBufferWidth,this.GL.drawingBufferHeight);this._viewport=this.GL.getParameter(this.GL.VIEWPORT);this._curCamera._resize();var pixelsState=this._pixelsState;if(typeof pixelsState.pixels!=="undefined"){pixelsState._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4))}};_main.default.RendererGL.prototype.clear=function(){var _r=(arguments.length<=0?undefined:arguments[0])||0;var _g=(arguments.length<=1?undefined:arguments[1])||0;var _b=(arguments.length<=2?undefined:arguments[2])||0;var _a=(arguments.length<=3?undefined:arguments[3])||0;this.GL.clearColor(_r,_g,_b,_a);this.GL.clearDepth(1);this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)};_main.default.RendererGL.prototype.applyMatrix=function(a,b,c,d,e,f){if(arguments.length===16){_main.default.Matrix.prototype.apply.apply(this.uMVMatrix,arguments)}else{this.uMVMatrix.apply([a,b,0,0,c,d,0,0,0,0,1,0,e,f,0,1])}};_main.default.RendererGL.prototype.translate=function(x,y,z){if(x instanceof _main.default.Vector){z=x.z;y=x.y;x=x.x}this.uMVMatrix.translate([x,y,z]);return this};_main.default.RendererGL.prototype.scale=function(x,y,z){this.uMVMatrix.scale(x,y,z);return this};_main.default.RendererGL.prototype.rotate=function(rad,axis){if(typeof axis==="undefined"){return this.rotateZ(rad)}_main.default.Matrix.prototype.rotate.apply(this.uMVMatrix,arguments);return this};_main.default.RendererGL.prototype.rotateX=function(rad){this.rotate(rad,1,0,0);return this};_main.default.RendererGL.prototype.rotateY=function(rad){this.rotate(rad,0,1,0);return this};_main.default.RendererGL.prototype.rotateZ=function(rad){this.rotate(rad,0,0,1);return this};_main.default.RendererGL.prototype.push=function(){var style=_main.default.Renderer.prototype.push.apply(this);var properties=style.properties;properties.uMVMatrix=this.uMVMatrix.copy();properties.uPMatrix=this.uPMatrix.copy();properties._curCamera=this._curCamera;this._curCamera=this._curCamera.copy();properties.ambientLightColors=this.ambientLightColors.slice();properties.specularColors=this.specularColors.slice();properties.directionalLightDirections=this.directionalLightDirections.slice();properties.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice();properties.directionalLightSpecularColors=this.directionalLightSpecularColors.slice();properties.pointLightPositions=this.pointLightPositions.slice();properties.pointLightDiffuseColors=this.pointLightDiffuseColors.slice();properties.pointLightSpecularColors=this.pointLightSpecularColors.slice();properties.spotLightPositions=this.spotLightPositions.slice();properties.spotLightDirections=this.spotLightDirections.slice();properties.spotLightDiffuseColors=this.spotLightDiffuseColors.slice();properties.spotLightSpecularColors=this.spotLightSpecularColors.slice();properties.spotLightAngle=this.spotLightAngle.slice();properties.spotLightConc=this.spotLightConc.slice();properties.userFillShader=this.userFillShader;properties.userStrokeShader=this.userStrokeShader;properties.userPointShader=this.userPointShader;properties.pointSize=this.pointSize;properties.curStrokeWeight=this.curStrokeWeight;properties.curStrokeColor=this.curStrokeColor;properties.curFillColor=this.curFillColor;properties._useSpecularMaterial=this._useSpecularMaterial;properties._useEmissiveMaterial=this._useEmissiveMaterial;properties._useShininess=this._useShininess;properties.constantAttenuation=this.constantAttenuation;properties.linearAttenuation=this.linearAttenuation;properties.quadraticAttenuation=this.quadraticAttenuation;properties._enableLighting=this._enableLighting;properties._useNormalMaterial=this._useNormalMaterial;properties._tex=this._tex;properties.drawMode=this.drawMode;properties._currentNormal=this._currentNormal;return style};_main.default.RendererGL.prototype.resetMatrix=function(){this.uMVMatrix=_main.default.Matrix.identity(this._pInst);return this};_main.default.RendererGL.prototype._getImmediateStrokeShader=function(){var stroke=this.userStrokeShader;if(!stroke||!stroke.isStrokeShader()){return this._getLineShader()}return stroke};_main.default.RendererGL.prototype._getRetainedStrokeShader=_main.default.RendererGL.prototype._getImmediateStrokeShader;_main.default.RendererGL.prototype._getImmediateFillShader=function(){var fill=this.userFillShader;if(this._useNormalMaterial){if(!fill||!fill.isNormalShader()){return this._getNormalShader()}}if(this._enableLighting){if(!fill||!fill.isLightShader()){return this._getLightShader()}}else if(this._tex){if(!fill||!fill.isTextureShader()){return this._getLightShader()}}else if(!fill){return this._getImmediateModeShader()}return fill};_main.default.RendererGL.prototype._getRetainedFillShader=function(){if(this._useNormalMaterial){return this._getNormalShader()}var fill=this.userFillShader;if(this._enableLighting){if(!fill||!fill.isLightShader()){return this._getLightShader()}}else if(this._tex){if(!fill||!fill.isTextureShader()){return this._getLightShader()}}else if(!fill){return this._getColorShader()}return fill};_main.default.RendererGL.prototype._getImmediatePointShader=function(){var point=this.userPointShader;if(!point||!point.isPointShader()){return this._getPointShader()}return point};_main.default.RendererGL.prototype._getRetainedLineShader=_main.default.RendererGL.prototype._getImmediateLineShader;_main.default.RendererGL.prototype._getLightShader=function(){if(!this._defaultLightShader){if(this._pInst._glAttributes.perPixelLighting){this._defaultLightShader=new _main.default.Shader(this,defaultShaders.phongVert,defaultShaders.phongFrag)}else{this._defaultLightShader=new _main.default.Shader(this,defaultShaders.lightVert,defaultShaders.lightTextureFrag)}}return this._defaultLightShader};_main.default.RendererGL.prototype._getImmediateModeShader=function(){if(!this._defaultImmediateModeShader){this._defaultImmediateModeShader=new _main.default.Shader(this,defaultShaders.immediateVert,defaultShaders.vertexColorFrag)}return this._defaultImmediateModeShader};_main.default.RendererGL.prototype._getNormalShader=function(){if(!this._defaultNormalShader){this._defaultNormalShader=new _main.default.Shader(this,defaultShaders.normalVert,defaultShaders.normalFrag)}return this._defaultNormalShader};_main.default.RendererGL.prototype._getColorShader=function(){if(!this._defaultColorShader){this._defaultColorShader=new _main.default.Shader(this,defaultShaders.normalVert,defaultShaders.basicFrag)}return this._defaultColorShader};_main.default.RendererGL.prototype._getPointShader=function(){if(!this._defaultPointShader){this._defaultPointShader=new _main.default.Shader(this,defaultShaders.pointVert,defaultShaders.pointFrag)}return this._defaultPointShader};_main.default.RendererGL.prototype._getLineShader=function(){if(!this._defaultLineShader){this._defaultLineShader=new _main.default.Shader(this,defaultShaders.lineVert,defaultShaders.lineFrag)}return this._defaultLineShader};_main.default.RendererGL.prototype._getFontShader=function(){if(!this._defaultFontShader){this.GL.getExtension("OES_standard_derivatives");this._defaultFontShader=new _main.default.Shader(this,defaultShaders.fontVert,defaultShaders.fontFrag)}return this._defaultFontShader};_main.default.RendererGL.prototype._getEmptyTexture=function(){if(!this._emptyTexture){var im=new _main.default.Image(1,1);im.set(0,0,255);this._emptyTexture=new _main.default.Texture(this,im)}return this._emptyTexture};_main.default.RendererGL.prototype.getTexture=function(img){var textures=this.textures;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=textures[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var texture=_step.value;if(texture.src===img)return texture}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}var tex=new _main.default.Texture(this,img);textures.push(tex);return tex};_main.default.RendererGL.prototype._setStrokeUniforms=function(strokeShader){strokeShader.bindShader();strokeShader.setUniform("uMaterialColor",this.curStrokeColor);strokeShader.setUniform("uStrokeWeight",this.curStrokeWeight)};_main.default.RendererGL.prototype._setFillUniforms=function(fillShader){fillShader.bindShader();fillShader.setUniform("uMaterialColor",this.curFillColor);fillShader.setUniform("isTexture",!!this._tex);if(this._tex){fillShader.setUniform("uSampler",this._tex)}fillShader.setUniform("uTint",this._tint);fillShader.setUniform("uSpecular",this._useSpecularMaterial);fillShader.setUniform("uEmissive",this._useEmissiveMaterial);fillShader.setUniform("uShininess",this._useShininess);fillShader.setUniform("uUseLighting",this._enableLighting);var pointLightCount=this.pointLightDiffuseColors.length/3;fillShader.setUniform("uPointLightCount",pointLightCount);fillShader.setUniform("uPointLightLocation",this.pointLightPositions);fillShader.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors);fillShader.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors);var directionalLightCount=this.directionalLightDiffuseColors.length/3;fillShader.setUniform("uDirectionalLightCount",directionalLightCount);fillShader.setUniform("uLightingDirection",this.directionalLightDirections);fillShader.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors);fillShader.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors);var ambientLightCount=this.ambientLightColors.length/3;fillShader.setUniform("uAmbientLightCount",ambientLightCount);fillShader.setUniform("uAmbientColor",this.ambientLightColors);var spotLightCount=this.spotLightDiffuseColors.length/3;fillShader.setUniform("uSpotLightCount",spotLightCount);fillShader.setUniform("uSpotLightAngle",this.spotLightAngle);fillShader.setUniform("uSpotLightConc",this.spotLightConc);fillShader.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors);fillShader.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors);fillShader.setUniform("uSpotLightLocation",this.spotLightPositions);fillShader.setUniform("uSpotLightDirection",this.spotLightDirections);fillShader.setUniform("uConstantAttenuation",this.constantAttenuation);fillShader.setUniform("uLinearAttenuation",this.linearAttenuation);fillShader.setUniform("uQuadraticAttenuation",this.quadraticAttenuation);fillShader.bindTextures()};_main.default.RendererGL.prototype._setPointUniforms=function(pointShader){pointShader.bindShader();pointShader.setUniform("uMaterialColor",this.curStrokeColor);pointShader.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)};_main.default.RendererGL.prototype._bindBuffer=function(buffer,target,values,type,usage){if(!target)target=this.GL.ARRAY_BUFFER;this.GL.bindBuffer(target,buffer);if(values!==undefined){var data=new(type||Float32Array)(values);this.GL.bufferData(target,data,usage||this.GL.STATIC_DRAW)}};_main.default.RendererGL.prototype._arraysEqual=function(a,b){var aLength=a.length;if(aLength!==b.length)return false;for(var i=0;i<aLength;i++){if(a[i]!==b[i])return false}return true};_main.default.RendererGL.prototype._isTypedArray=function(arr){var res=false;res=arr instanceof Float32Array;res=arr instanceof Float64Array;res=arr instanceof Int16Array;res=arr instanceof Uint16Array;res=arr instanceof Uint32Array;return res};_main.default.RendererGL.prototype._flatten=function(arr){if(arr.length===0){return[]}else if(arr.length>2e4){var _toString=Object.prototype.toString;var arrayTypeStr="[object Array]";var result=[];var nodes=arr.slice();var node;node=nodes.pop();do{if(_toString.call(node)===arrayTypeStr){nodes.push.apply(nodes,_toConsumableArray(node))}else{result.push(node)}}while(nodes.length&&(node=nodes.pop())!==undefined);result.reverse();return result}else{var _ref;return(_ref=[]).concat.apply(_ref,_toConsumableArray(arr))}};_main.default.RendererGL.prototype._vToNArray=function(arr){var ret=[];var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=arr[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var item=_step2.value;ret.push(item.x,item.y,item.z)}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}return ret};_main.default.prototype._assert3d=function(name){if(!this._renderer.isP3D)throw new Error("".concat(name,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))};_main.default.RendererGL.prototype._initTessy=function initTesselator(){function vertexCallback(data,polyVertArray){polyVertArray[polyVertArray.length]=data[0];polyVertArray[polyVertArray.length]=data[1];polyVertArray[polyVertArray.length]=data[2]}function begincallback(type){if(type!==_libtess.default.primitiveType.GL_TRIANGLES){console.log("expected TRIANGLES but got type: ".concat(type))}}function errorcallback(errno){console.log("error callback");console.log("error number: ".concat(errno))}function combinecallback(coords,data,weight){return[coords[0],coords[1],coords[2]]}function edgeCallback(flag){}var tessy=new _libtess.default.GluTesselator;tessy.gluTessCallback(_libtess.default.gluEnum.GLU_TESS_VERTEX_DATA,vertexCallback);tessy.gluTessCallback(_libtess.default.gluEnum.GLU_TESS_BEGIN,begincallback);tessy.gluTessCallback(_libtess.default.gluEnum.GLU_TESS_ERROR,errorcallback);tessy.gluTessCallback(_libtess.default.gluEnum.GLU_TESS_COMBINE,combinecallback);tessy.gluTessCallback(_libtess.default.gluEnum.GLU_TESS_EDGE_FLAG,edgeCallback);return tessy};_main.default.RendererGL.prototype._triangulate=function(contours){this._tessy.gluTessNormal(0,0,1);var triangleVerts=[];this._tessy.gluTessBeginPolygon(triangleVerts);for(var i=0;i<contours.length;i++){this._tessy.gluTessBeginContour();var contour=contours[i];for(var j=0;j<contour.length;j+=3){var coords=[contour[j],contour[j+1],contour[j+2]];this._tessy.gluTessVertex(coords,coords)}this._tessy.gluTessEndContour()}this._tessy.gluTessEndPolygon();return triangleVerts};_main.default.RendererGL.prototype._bezierCoefficients=function(t){var t2=t*t;var t3=t2*t;var mt=1-t;var mt2=mt*mt;var mt3=mt2*mt;return[mt3,3*mt2*t,3*mt*t2,t3]};_main.default.RendererGL.prototype._quadraticCoefficients=function(t){var t2=t*t;var mt=1-t;var mt2=mt*mt;return[mt2,2*mt*t,t2]};_main.default.RendererGL.prototype._bezierToCatmull=function(w){var p1=w[1];var p2=w[1]+(w[2]-w[0])/this._curveTightness;var p3=w[2]-(w[3]-w[1])/this._curveTightness;var p4=w[2];var p=[p1,p2,p3,p4];return p};var _default=_main.default.RendererGL;exports.default=_default},{"../core/constants":275,"../core/main":287,"../core/p5.Renderer":290,"./p5.Camera":335,"./p5.Matrix":337,"./p5.Shader":342,"core-js/modules/es.array.concat":167,"core-js/modules/es.array.fill":169,"core-js/modules/es.array.filter":170,"core-js/modules/es.array.from":173,"core-js/modules/es.array.includes":174,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.slice":180,"core-js/modules/es.object.assign":191,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.to-string":200,"core-js/modules/es.string.includes":203,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.float32-array":221,"core-js/modules/es.typed-array.float64-array":222,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.int16-array":226,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint16-array":242,"core-js/modules/es.typed-array.uint32-array":243,"core-js/modules/es.typed-array.uint8-array":244,"core-js/modules/web.dom-collections.iterator":247,libtess:259,path:262}],342:[function(_dereq_,module,exports){"use strict";_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.index-of");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.array.slice");_dereq_("core-js/modules/es.function.name");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/web.dom-collections.iterator");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Shader=function(renderer,vertSrc,fragSrc){this._renderer=renderer;this._vertSrc=vertSrc;this._fragSrc=fragSrc;this._vertShader=-1;this._fragShader=-1;this._glProgram=0;this._loadedAttributes=false;this.attributes={};this._loadedUniforms=false;this.uniforms={};this._bound=false;this.samplers=[]};_main.default.Shader.prototype.init=function(){if(this._glProgram===0){var gl=this._renderer.GL;this._vertShader=gl.createShader(gl.VERTEX_SHADER);gl.shaderSource(this._vertShader,this._vertSrc);gl.compileShader(this._vertShader);if(!gl.getShaderParameter(this._vertShader,gl.COMPILE_STATUS)){console.error("Yikes! An error occurred compiling the vertex shader:".concat(gl.getShaderInfoLog(this._vertShader)));return null}this._fragShader=gl.createShader(gl.FRAGMENT_SHADER);gl.shaderSource(this._fragShader,this._fragSrc);gl.compileShader(this._fragShader);if(!gl.getShaderParameter(this._fragShader,gl.COMPILE_STATUS)){console.error("Darn! An error occurred compiling the fragment shader:".concat(gl.getShaderInfoLog(this._fragShader)));return null}this._glProgram=gl.createProgram();gl.attachShader(this._glProgram,this._vertShader);gl.attachShader(this._glProgram,this._fragShader);gl.linkProgram(this._glProgram);if(!gl.getProgramParameter(this._glProgram,gl.LINK_STATUS)){console.error("Snap! Error linking shader program: ".concat(gl.getProgramInfoLog(this._glProgram)))}this._loadAttributes();this._loadUniforms()}return this};_main.default.Shader.prototype._loadAttributes=function(){if(this._loadedAttributes){return}this.attributes={};var gl=this._renderer.GL;var numAttributes=gl.getProgramParameter(this._glProgram,gl.ACTIVE_ATTRIBUTES);for(var i=0;i<numAttributes;++i){var attributeInfo=gl.getActiveAttrib(this._glProgram,i);var name=attributeInfo.name;var location=gl.getAttribLocation(this._glProgram,name);var attribute={};attribute.name=name;attribute.location=location;attribute.index=i;attribute.type=attributeInfo.type;attribute.size=attributeInfo.size;this.attributes[name]=attribute}this._loadedAttributes=true};_main.default.Shader.prototype._loadUniforms=function(){if(this._loadedUniforms){return}var gl=this._renderer.GL;var numUniforms=gl.getProgramParameter(this._glProgram,gl.ACTIVE_UNIFORMS);var samplerIndex=0;for(var i=0;i<numUniforms;++i){var uniformInfo=gl.getActiveUniform(this._glProgram,i);var uniform={};uniform.location=gl.getUniformLocation(this._glProgram,uniformInfo.name);uniform.size=uniformInfo.size;var uniformName=uniformInfo.name;if(uniformInfo.size>1){uniformName=uniformName.substring(0,uniformName.indexOf("[0]"))}uniform.name=uniformName;uniform.type=uniformInfo.type;uniform._cachedData=undefined;if(uniform.type===gl.SAMPLER_2D){uniform.samplerIndex=samplerIndex;samplerIndex++;this.samplers.push(uniform)}uniform.isArray=uniformInfo.size>1||uniform.type===gl.FLOAT_MAT3||uniform.type===gl.FLOAT_MAT4||uniform.type===gl.FLOAT_VEC2||uniform.type===gl.FLOAT_VEC3||uniform.type===gl.FLOAT_VEC4||uniform.type===gl.INT_VEC2||uniform.type===gl.INT_VEC4||uniform.type===gl.INT_VEC3;this.uniforms[uniformName]=uniform}this._loadedUniforms=true};_main.default.Shader.prototype.compile=function(){};_main.default.Shader.prototype.bindShader=function(){this.init();if(!this._bound){this.useProgram();this._bound=true;this._setMatrixUniforms();this.setUniform("uViewport",this._renderer._viewport)}};_main.default.Shader.prototype.unbindShader=function(){if(this._bound){this.unbindTextures();this._bound=false}return this};_main.default.Shader.prototype.bindTextures=function(){var gl=this._renderer.GL;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=this.samplers[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var uniform=_step.value;var tex=uniform.texture;if(tex===undefined){tex=this._renderer._getEmptyTexture()}gl.activeTexture(gl.TEXTURE0+uniform.samplerIndex);tex.bindTexture();tex.update();gl.uniform1i(uniform.location,uniform.samplerIndex)}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}};_main.default.Shader.prototype.updateTextures=function(){var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=this.samplers[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var uniform=_step2.value;var tex=uniform.texture;if(tex){tex.update()}}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}};_main.default.Shader.prototype.unbindTextures=function(){};_main.default.Shader.prototype._setMatrixUniforms=function(){var viewMatrix=this._renderer._curCamera.cameraMatrix;var projectionMatrix=this._renderer.uPMatrix;var modelViewMatrix=this._renderer.uMVMatrix;var modelViewProjectionMatrix=modelViewMatrix.copy();modelViewProjectionMatrix.mult(projectionMatrix);if(this.isStrokeShader()){if(this._renderer._curCamera.cameraType==="default"){this.setUniform("uPerspective",1)}else{this.setUniform("uPerspective",0)}}this.setUniform("uViewMatrix",viewMatrix.mat4);this.setUniform("uProjectionMatrix",projectionMatrix.mat4);this.setUniform("uModelViewMatrix",modelViewMatrix.mat4);this.setUniform("uModelViewProjectionMatrix",modelViewProjectionMatrix.mat4);if(this.uniforms.uNormalMatrix){this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix);this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)}};_main.default.Shader.prototype.useProgram=function(){var gl=this._renderer.GL;if(this._renderer._curShader!==this){gl.useProgram(this._glProgram);this._renderer._curShader=this}return this};_main.default.Shader.prototype.setUniform=function(uniformName,data){var uniform=this.uniforms[uniformName];if(!uniform){return}var gl=this._renderer.GL;if(uniform.isArray){if(uniform._cachedData&&this._renderer._arraysEqual(uniform._cachedData,data)){return}else{uniform._cachedData=data.slice(0)}}else if(uniform._cachedData&&uniform._cachedData===data){return}else{if(Array.isArray(data)){uniform._cachedData=data.slice(0)}else{uniform._cachedData=data}}var location=uniform.location;this.useProgram();switch(uniform.type){case gl.BOOL:if(data===true){gl.uniform1i(location,1)}else{gl.uniform1i(location,0)}break;case gl.INT:if(uniform.size>1){data.length&&gl.uniform1iv(location,data)}else{gl.uniform1i(location,data)}break;case gl.FLOAT:if(uniform.size>1){data.length&&gl.uniform1fv(location,data)}else{gl.uniform1f(location,data)}break;case gl.FLOAT_MAT3:gl.uniformMatrix3fv(location,false,data);break;case gl.FLOAT_MAT4:gl.uniformMatrix4fv(location,false,data);break;case gl.FLOAT_VEC2:if(uniform.size>1){data.length&&gl.uniform2fv(location,data)}else{gl.uniform2f(location,data[0],data[1])}break;case gl.FLOAT_VEC3:if(uniform.size>1){data.length&&gl.uniform3fv(location,data)}else{gl.uniform3f(location,data[0],data[1],data[2])}break;case gl.FLOAT_VEC4:if(uniform.size>1){data.length&&gl.uniform4fv(location,data)}else{gl.uniform4f(location,data[0],data[1],data[2],data[3])}break;case gl.INT_VEC2:if(uniform.size>1){data.length&&gl.uniform2iv(location,data)}else{gl.uniform2i(location,data[0],data[1])}break;case gl.INT_VEC3:if(uniform.size>1){data.length&&gl.uniform3iv(location,data)}else{gl.uniform3i(location,data[0],data[1],data[2])}break;case gl.INT_VEC4:if(uniform.size>1){data.length&&gl.uniform4iv(location,data)}else{gl.uniform4i(location,data[0],data[1],data[2],data[3])}break;case gl.SAMPLER_2D:gl.activeTexture(gl.TEXTURE0+uniform.samplerIndex);uniform.texture=data instanceof _main.default.Texture?data:this._renderer.getTexture(data);gl.uniform1i(location,uniform.samplerIndex);break}return this};_main.default.Shader.prototype.isLightShader=function(){return this.attributes.aNormal!==undefined||this.uniforms.uUseLighting!==undefined||this.uniforms.uAmbientLightCount!==undefined||this.uniforms.uDirectionalLightCount!==undefined||this.uniforms.uPointLightCount!==undefined||this.uniforms.uAmbientColor!==undefined||this.uniforms.uDirectionalDiffuseColors!==undefined||this.uniforms.uDirectionalSpecularColors!==undefined||this.uniforms.uPointLightLocation!==undefined||this.uniforms.uPointLightDiffuseColors!==undefined||this.uniforms.uPointLightSpecularColors!==undefined||this.uniforms.uLightingDirection!==undefined||this.uniforms.uSpecular!==undefined};_main.default.Shader.prototype.isNormalShader=function(){return this.attributes.aNormal!==undefined};_main.default.Shader.prototype.isTextureShader=function(){return this.samplers.length>0};_main.default.Shader.prototype.isColorShader=function(){return this.attributes.aVertexColor!==undefined||this.uniforms.uMaterialColor!==undefined};_main.default.Shader.prototype.isTexLightShader=function(){return this.isLightShader()&&this.isTextureShader()};_main.default.Shader.prototype.isStrokeShader=function(){return this.uniforms.uStrokeWeight!==undefined};_main.default.Shader.prototype.enableAttrib=function(attr,size,type,normalized,stride,offset){if(attr){if(typeof IS_MINIFIED==="undefined"&&this.attributes[attr.name]!==attr){console.warn('The attribute "'.concat(attr.name,'"passed to enableAttrib does not belong to this shader.'))}var loc=attr.location;if(loc!==-1){var gl=this._renderer.GL;if(!attr.enabled){gl.enableVertexAttribArray(loc);attr.enabled=true}this._renderer.GL.vertexAttribPointer(loc,size,type||gl.FLOAT,normalized||false,stride||0,offset||0)}}return this};var _default=_main.default.Shader;exports.default=_default},{"../core/main":287,"core-js/modules/es.array.index-of":175,"core-js/modules/es.array.iterator":176,"core-js/modules/es.array.slice":180,"core-js/modules/es.function.name":184,"core-js/modules/es.object.to-string":195,"core-js/modules/es.string.iterator":204,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],343:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.typed-array.uint8-array");_dereq_("core-js/modules/es.typed-array.copy-within");_dereq_("core-js/modules/es.typed-array.every");_dereq_("core-js/modules/es.typed-array.fill");_dereq_("core-js/modules/es.typed-array.filter");_dereq_("core-js/modules/es.typed-array.find");_dereq_("core-js/modules/es.typed-array.find-index");_dereq_("core-js/modules/es.typed-array.for-each");_dereq_("core-js/modules/es.typed-array.includes");_dereq_("core-js/modules/es.typed-array.index-of");_dereq_("core-js/modules/es.typed-array.iterator");_dereq_("core-js/modules/es.typed-array.join");_dereq_("core-js/modules/es.typed-array.last-index-of");_dereq_("core-js/modules/es.typed-array.map");_dereq_("core-js/modules/es.typed-array.reduce");_dereq_("core-js/modules/es.typed-array.reduce-right");_dereq_("core-js/modules/es.typed-array.reverse");_dereq_("core-js/modules/es.typed-array.set");_dereq_("core-js/modules/es.typed-array.slice");_dereq_("core-js/modules/es.typed-array.some");_dereq_("core-js/modules/es.typed-array.sort");_dereq_("core-js/modules/es.typed-array.subarray");_dereq_("core-js/modules/es.typed-array.to-locale-string");_dereq_("core-js/modules/es.typed-array.to-string");Object.defineProperty(exports,"__esModule",{value:true});exports.default=void 0;var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.Texture=function(renderer,obj,settings){this._renderer=renderer;var gl=this._renderer.GL;settings=settings||{};if(settings.dataType===gl.FLOAT){var ext=gl.getExtension("OES_texture_float");if(!ext){console.log("Oh no, your device doesn't support floating point textures!")}var linear=gl.getExtension("OES_texture_float_linear");if(!linear){console.log("Ack! Your device doesn't support linear filtering for floating point textures")}}this.src=obj;this.glTex=undefined;this.glTarget=gl.TEXTURE_2D;this.glFormat=settings.format||gl.RGBA;this.mipmaps=false;this.glMinFilter=settings.minFilter||gl.LINEAR;this.glMagFilter=settings.magFilter||gl.LINEAR;this.glWrapS=settings.wrapS||gl.CLAMP_TO_EDGE;this.glWrapT=settings.wrapT||gl.CLAMP_TO_EDGE;this.glDataType=settings.dataType||gl.UNSIGNED_BYTE;this.isSrcMediaElement=typeof _main.default.MediaElement!=="undefined"&&obj instanceof _main.default.MediaElement;this._videoPrevUpdateTime=0;this.isSrcHTMLElement=typeof _main.default.Element!=="undefined"&&obj instanceof _main.default.Element&&!(obj instanceof _main.default.Graphics);this.isSrcP5Image=obj instanceof _main.default.Image;this.isSrcP5Graphics=obj instanceof _main.default.Graphics;this.isImageData=typeof ImageData!=="undefined"&&obj instanceof ImageData;var textureData=this._getTextureDataFromSource();this.width=textureData.width;this.height=textureData.height;this.init(textureData);return this};_main.default.Texture.prototype._getTextureDataFromSource=function(){var textureData;if(this.isSrcP5Image){textureData=this.src.canvas}else if(this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcHTMLElement){textureData=this.src.elt}else if(this.isImageData){textureData=this.src}return textureData};_main.default.Texture.prototype.init=function(data){var gl=this._renderer.GL;this.glTex=gl.createTexture();this.glWrapS=this._renderer.textureWrapX;this.glWrapT=this._renderer.textureWrapY;this.setWrapMode(this.glWrapS,this.glWrapT);this.bindTexture();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this.glMagFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this.glMinFilter);if(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata){var tmpdata=new Uint8Array([1,1,1,1]);gl.texImage2D(this.glTarget,0,gl.RGBA,1,1,0,this.glFormat,this.glDataType,tmpdata)}else{gl.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,data)}};_main.default.Texture.prototype.update=function(){var data=this.src;if(data.width===0||data.height===0){return false}var textureData=this._getTextureDataFromSource();var updated=false;var gl=this._renderer.GL;if(textureData.width!==this.width||textureData.height!==this.height){updated=true;this.width=textureData.width;this.height=textureData.height;if(this.isSrcP5Image){data.setModified(false)}else if(this.isSrcMediaElement||this.isSrcHTMLElement){data.setModified(true)}}else if(this.isSrcP5Image){if(data.isModified()){updated=true;data.setModified(false)}}else if(this.isSrcMediaElement){if(data.isModified()){updated=true;data.setModified(false)}else if(data.loadedmetadata){if(this._videoPrevUpdateTime!==data.time()){this._videoPrevUpdateTime=data.time();updated=true}}}else if(this.isImageData){if(data._dirty){data._dirty=false;updated=true}}else{updated=true}if(updated){this.bindTexture();gl.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,textureData)}return updated};_main.default.Texture.prototype.bindTexture=function(){var gl=this._renderer.GL;gl.bindTexture(this.glTarget,this.glTex);return this};_main.default.Texture.prototype.unbindTexture=function(){var gl=this._renderer.GL;gl.bindTexture(this.glTarget,null)};_main.default.Texture.prototype.setInterpolation=function(downScale,upScale){var gl=this._renderer.GL;if(downScale===constants.NEAREST){this.glMinFilter=gl.NEAREST}else{this.glMinFilter=gl.LINEAR}if(upScale===constants.NEAREST){this.glMagFilter=gl.NEAREST}else{this.glMagFilter=gl.LINEAR}this.bindTexture();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,this.glMinFilter);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MAG_FILTER,this.glMagFilter);this.unbindTexture()};_main.default.Texture.prototype.setWrapMode=function(wrapX,wrapY){var gl=this._renderer.GL;var isPowerOfTwo=function isPowerOfTwo(x){return(x&x-1)===0};var widthPowerOfTwo=isPowerOfTwo(this.width);var heightPowerOfTwo=isPowerOfTwo(this.height);if(wrapX===constants.REPEAT){if(widthPowerOfTwo&&heightPowerOfTwo){this.glWrapS=gl.REPEAT}else{console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead");this.glWrapS=gl.CLAMP_TO_EDGE}}else if(wrapX===constants.MIRROR){if(widthPowerOfTwo&&heightPowerOfTwo){this.glWrapS=gl.MIRRORED_REPEAT}else{console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead");this.glWrapS=gl.CLAMP_TO_EDGE}}else{this.glWrapS=gl.CLAMP_TO_EDGE}if(wrapY===constants.REPEAT){if(widthPowerOfTwo&&heightPowerOfTwo){this.glWrapT=gl.REPEAT}else{console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead");this.glWrapT=gl.CLAMP_TO_EDGE}}else if(wrapY===constants.MIRROR){if(widthPowerOfTwo&&heightPowerOfTwo){this.glWrapT=gl.MIRRORED_REPEAT}else{console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead");this.glWrapT=gl.CLAMP_TO_EDGE}}else{this.glWrapT=gl.CLAMP_TO_EDGE}this.bindTexture();gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,this.glWrapS);gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,this.glWrapT);this.unbindTexture()};var _default=_main.default.Texture;exports.default=_default},{"../core/constants":275,"../core/main":287,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.typed-array.copy-within":215,"core-js/modules/es.typed-array.every":216,"core-js/modules/es.typed-array.fill":217,"core-js/modules/es.typed-array.filter":218,"core-js/modules/es.typed-array.find":220,"core-js/modules/es.typed-array.find-index":219,"core-js/modules/es.typed-array.for-each":223,"core-js/modules/es.typed-array.includes":224,"core-js/modules/es.typed-array.index-of":225,"core-js/modules/es.typed-array.iterator":228,"core-js/modules/es.typed-array.join":229,"core-js/modules/es.typed-array.last-index-of":230,"core-js/modules/es.typed-array.map":231,"core-js/modules/es.typed-array.reduce":233,"core-js/modules/es.typed-array.reduce-right":232,"core-js/modules/es.typed-array.reverse":234,"core-js/modules/es.typed-array.set":235,"core-js/modules/es.typed-array.slice":236,"core-js/modules/es.typed-array.some":237,"core-js/modules/es.typed-array.sort":238,"core-js/modules/es.typed-array.subarray":239,"core-js/modules/es.typed-array.to-locale-string":240,"core-js/modules/es.typed-array.to-string":241,"core-js/modules/es.typed-array.uint8-array":244}],344:[function(_dereq_,module,exports){"use strict";function _typeof(obj){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function _typeof(obj){return typeof obj}}else{_typeof=function _typeof(obj){return obj&&typeof Symbol==="function"&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj}}return _typeof(obj)}_dereq_("core-js/modules/es.symbol");_dereq_("core-js/modules/es.symbol.description");_dereq_("core-js/modules/es.symbol.iterator");_dereq_("core-js/modules/es.array.iterator");_dereq_("core-js/modules/es.object.to-string");_dereq_("core-js/modules/es.regexp.exec");_dereq_("core-js/modules/es.string.iterator");_dereq_("core-js/modules/es.string.split");_dereq_("core-js/modules/es.string.sub");_dereq_("core-js/modules/web.dom-collections.iterator");var _main=_interopRequireDefault(_dereq_("../core/main"));var constants=_interopRequireWildcard(_dereq_("../core/constants"));_dereq_("./p5.Shader");_dereq_("./p5.RendererGL.Retained");function _getRequireWildcardCache(){if(typeof WeakMap!=="function")return null;var cache=new WeakMap;_getRequireWildcardCache=function _getRequireWildcardCache(){return cache};return cache}function _interopRequireWildcard(obj){if(obj&&obj.__esModule){return obj}if(obj===null||_typeof(obj)!=="object"&&typeof obj!=="function"){return{default:obj}}var cache=_getRequireWildcardCache();if(cache&&cache.has(obj)){return cache.get(obj)}var newObj={};var hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;if(desc&&(desc.get||desc.set)){Object.defineProperty(newObj,key,desc)}else{newObj[key]=obj[key]}}}newObj.default=obj;if(cache){cache.set(obj,newObj)}return newObj}function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_main.default.RendererGL.prototype._applyTextProperties=function(){};_main.default.RendererGL.prototype.textWidth=function(s){if(this._isOpenType()){return this._textFont._textWidth(s,this._textSize)}return 0};var charGridWidth=9;var charGridHeight=charGridWidth;var strokeImageWidth=64;var strokeImageHeight=64;var gridImageWidth=64;var gridImageHeight=64;var cellImageWidth=64;var cellImageHeight=64;function ImageInfos(width,height){this.width=width;this.height=height;this.infos=[];this.findImage=function(space){var imageSize=this.width*this.height;if(space>imageSize)throw new Error("font is too complex to render in 3D");var imageInfo,imageData;for(var ii=this.infos.length-1;ii>=0;--ii){var imageInfoTest=this.infos[ii];if(imageInfoTest.index+space<imageSize){imageInfo=imageInfoTest;imageData=imageInfoTest.imageData;break}}if(!imageInfo){try{imageData=new ImageData(this.width,this.height)}catch(err){var canvas=document.getElementsByTagName("canvas")[0];var created=!canvas;if(!canvas){canvas=document.createElement("canvas");canvas.style.display="none";document.body.appendChild(canvas)}var ctx=canvas.getContext("2d");if(ctx){imageData=ctx.createImageData(this.width,this.height)}if(created){document.body.removeChild(canvas)}}imageInfo={index:0,imageData:imageData};this.infos.push(imageInfo)}var index=imageInfo.index;imageInfo.index+=space;imageData._dirty=true;return{imageData:imageData,index:index}}}function setPixel(imageInfo,r,g,b,a){var imageData=imageInfo.imageData;var pixels=imageData.data;var index=imageInfo.index++*4;pixels[index++]=r;pixels[index++]=g;pixels[index++]=b;pixels[index++]=a}var SQRT3=Math.sqrt(3);var FontInfo=function FontInfo(font){this.font=font;this.strokeImageInfos=new ImageInfos(strokeImageWidth,strokeImageHeight);this.colDimImageInfos=new ImageInfos(gridImageWidth,gridImageHeight);this.rowDimImageInfos=new ImageInfos(gridImageWidth,gridImageHeight);this.colCellImageInfos=new ImageInfos(cellImageWidth,cellImageHeight);this.rowCellImageInfos=new ImageInfos(cellImageWidth,cellImageHeight);this.glyphInfos={};this.getGlyphInfo=function(glyph){var gi=this.glyphInfos[glyph.index];if(gi)return gi;var bb=glyph.getBoundingBox();var xMin=bb.x1;var yMin=bb.y1;var gWidth=bb.x2-xMin;var gHeight=bb.y2-yMin;var cmds=glyph.path.commands;if(gWidth===0||gHeight===0||!cmds.length){return this.glyphInfos[glyph.index]={}}var i;var strokes=[];var rows=[];var cols=[];for(i=charGridWidth-1;i>=0;--i){cols.push([])}for(i=charGridHeight-1;i>=0;--i){rows.push([])}function push(xs,ys,v){var index=strokes.length;strokes.push(v);function minMax(rg,min,max){for(var _i=rg.length;_i-- >0;){var _v=rg[_i];if(min>_v)min=_v;if(max<_v)max=_v}return{min:min,max:max}}var mmX=minMax(xs,1,0);var ixMin=Math.max(Math.floor(mmX.min*charGridWidth),0);var ixMax=Math.min(Math.ceil(mmX.max*charGridWidth),charGridWidth);for(var iCol=ixMin;iCol<ixMax;++iCol){cols[iCol].push(index)}var mmY=minMax(ys,1,0);var iyMin=Math.max(Math.floor(mmY.min*charGridHeight),0);var iyMax=Math.min(Math.ceil(mmY.max*charGridHeight),charGridHeight);for(var iRow=iyMin;iRow<iyMax;++iRow){rows[iRow].push(index)}}function clamp(v,min,max){if(v<min)return min;if(v>max)return max;return v}function byte(v){return clamp(255*v,0,255)}function Cubic(p0,c0,c1,p1){this.p0=p0;this.c0=c0;this.c1=c1;this.p1=p1;this.toQuadratic=function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:((this.c0.x+this.c1.x)*3-(this.p0.x+this.p1.x))/4,cy:((this.c0.y+this.c1.y)*3-(this.p0.y+this.p1.y))/4}};this.quadError=function(){return _main.default.Vector.sub(_main.default.Vector.sub(this.p1,this.p0),_main.default.Vector.mult(_main.default.Vector.sub(this.c1,this.c0),3)).mag()/2};this.split=function(t){var m1=_main.default.Vector.lerp(this.p0,this.c0,t);var m2=_main.default.Vector.lerp(this.c0,this.c1,t);var mm1=_main.default.Vector.lerp(m1,m2,t);this.c1=_main.default.Vector.lerp(this.c1,this.p1,t);this.c0=_main.default.Vector.lerp(m2,this.c1,t);var pt=_main.default.Vector.lerp(mm1,this.c0,t);var part1=new Cubic(this.p0,m1,mm1,pt);this.p0=pt;return part1};this.splitInflections=function(){var a=_main.default.Vector.sub(this.c0,this.p0);var b=_main.default.Vector.sub(_main.default.Vector.sub(this.c1,this.c0),a);var c=_main.default.Vector.sub(_main.default.Vector.sub(_main.default.Vector.sub(this.p1,this.c1),a),_main.default.Vector.mult(b,2));var cubics=[];var A=b.x*c.y-b.y*c.x;if(A!==0){var B=a.x*c.y-a.y*c.x;var C=a.x*b.y-a.y*b.x;var disc=B*B-4*A*C;if(disc>=0){if(A<0){A=-A;B=-B;C=-C}var Q=Math.sqrt(disc);var t0=(-B-Q)/(2*A);var t1=(-B+Q)/(2*A);if(t0>0&&t0<1){cubics.push(this.split(t0));t1=1-(1-t1)/(1-t0)}if(t1>0&&t1<1){cubics.push(this.split(t1))}}}cubics.push(this);return cubics}}function cubicToQuadratics(x0,y0,cx0,cy0,cx1,cy1,x1,y1){var cubics=new Cubic(new _main.default.Vector(x0,y0),new _main.default.Vector(cx0,cy0),new _main.default.Vector(cx1,cy1),new _main.default.Vector(x1,y1)).splitInflections();var qs=[];var precision=30/SQRT3;var _iteratorNormalCompletion=true;var _didIteratorError=false;var _iteratorError=undefined;try{for(var _iterator=cubics[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=true){var cubic=_step.value;var tail=[];var t3=void 0;for(;;){t3=precision/cubic.quadError();if(t3>=.5*.5*.5){break}var t=Math.pow(t3,1/3);var start=cubic.split(t);var middle=cubic.split(1-t/(1-t));qs.push(start);tail.push(cubic);cubic=middle}if(t3<1){qs.push(cubic.split(.5))}qs.push(cubic);Array.prototype.push.apply(qs,tail.reverse())}}catch(err){_didIteratorError=true;_iteratorError=err}finally{try{if(!_iteratorNormalCompletion&&_iterator.return!=null){_iterator.return()}}finally{if(_didIteratorError){throw _iteratorError}}}return qs}function pushLine(x0,y0,x1,y1){var mx=(x0+x1)/2;var my=(y0+y1)/2;push([x0,x1],[y0,y1],{x:x0,y:y0,cx:mx,cy:my})}function samePoint(x0,y0,x1,y1){return Math.abs(x1-x0)<1e-5&&Math.abs(y1-y0)<1e-5}var x0,y0,xs,ys;var _iteratorNormalCompletion2=true;var _didIteratorError2=false;var _iteratorError2=undefined;try{for(var _iterator2=cmds[Symbol.iterator](),_step2;!(_iteratorNormalCompletion2=(_step2=_iterator2.next()).done);_iteratorNormalCompletion2=true){var cmd=_step2.value;var x1=(cmd.x-xMin)/gWidth;var y1=(cmd.y-yMin)/gHeight;if(samePoint(x0,y0,x1,y1))continue;switch(cmd.type){case"M":{xs=x1;ys=y1;break}case"L":{pushLine(x0,y0,x1,y1);break}case"Q":{var cx=(cmd.x1-xMin)/gWidth;var cy=(cmd.y1-yMin)/gHeight;push([x0,x1,cx],[y0,y1,cy],{x:x0,y:y0,cx:cx,cy:cy});break}case"Z":{if(!samePoint(x0,y0,xs,ys)){pushLine(x0,y0,xs,ys);strokes.push({x:xs,y:ys})}else{strokes.push({x:x0,y:y0})}break}case"C":{var cx1=(cmd.x1-xMin)/gWidth;var cy1=(cmd.y1-yMin)/gHeight;var cx2=(cmd.x2-xMin)/gWidth;var cy2=(cmd.y2-yMin)/gHeight;var qs=cubicToQuadratics(x0,y0,cx1,cy1,cx2,cy2,x1,y1);for(var iq=0;iq<qs.length;iq++){var q=qs[iq].toQuadratic();push([q.x,q.x1,q.cx],[q.y,q.y1,q.cy],q)}break}default:throw new Error("unknown command type: ".concat(cmd.type))}x0=x1;y0=y1}}catch(err){_didIteratorError2=true;_iteratorError2=err}finally{try{if(!_iteratorNormalCompletion2&&_iterator2.return!=null){_iterator2.return()}}finally{if(_didIteratorError2){throw _iteratorError2}}}var strokeCount=strokes.length;var strokeImageInfo=this.strokeImageInfos.findImage(strokeCount);var strokeOffset=strokeImageInfo.index;for(var il=0;il<strokeCount;++il){var s=strokes[il];setPixel(strokeImageInfo,byte(s.x),byte(s.y),byte(s.cx),byte(s.cy))}function layout(dim,dimImageInfos,cellImageInfos){var dimLength=dim.length;var dimImageInfo=dimImageInfos.findImage(dimLength);var dimOffset=dimImageInfo.index;var totalStrokes=0;for(var id=0;id<dimLength;++id){totalStrokes+=dim[id].length}var cellImageInfo=cellImageInfos.findImage(totalStrokes);for(var _i2=0;_i2<dimLength;++_i2){var strokeIndices=dim[_i2];var _strokeCount=strokeIndices.length;var cellLineIndex=cellImageInfo.index;setPixel(dimImageInfo,cellLineIndex>>7,cellLineIndex&127,_strokeCount>>7,_strokeCount&127);for(var iil=0;iil<_strokeCount;++iil){var strokeIndex=strokeIndices[iil]+strokeOffset;setPixel(cellImageInfo,strokeIndex>>7,strokeIndex&127,0,0)}}return{cellImageInfo:cellImageInfo,dimOffset:dimOffset,dimImageInfo:dimImageInfo}}gi=this.glyphInfos[glyph.index]={glyph:glyph,uGlyphRect:[bb.x1,-bb.y1,bb.x2,-bb.y2],strokeImageInfo:strokeImageInfo,strokes:strokes,colInfo:layout(cols,this.colDimImageInfos,this.colCellImageInfos),rowInfo:layout(rows,this.rowDimImageInfos,this.rowCellImageInfos)};gi.uGridOffset=[gi.colInfo.dimOffset,gi.rowInfo.dimOffset];return gi}};_main.default.RendererGL.prototype._renderText=function(p,line,x,y,maxY){if(!this._textFont||typeof this._textFont==="string"){console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.");return}if(y>=maxY||!this._doFill){return}if(!this._isOpenType()){console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return p}p.push();var doStroke=this._doStroke;var drawMode=this.drawMode;this._doStroke=false;this.drawMode=constants.TEXTURE;var font=this._textFont.font;var fontInfo=this._textFont._fontInfo;if(!fontInfo){fontInfo=this._textFont._fontInfo=new FontInfo(font)}var pos=this._textFont._handleAlignment(this,line,x,y);var fontSize=this._textSize;var scale=fontSize/font.unitsPerEm;this.translate(pos.x,pos.y,0);this.scale(scale,scale,1);var gl=this.GL;var initializeShader=!this._defaultFontShader;var sh=this._getFontShader();sh.init();sh.bindShader();if(initializeShader){sh.setUniform("uGridImageSize",[gridImageWidth,gridImageHeight]);sh.setUniform("uCellsImageSize",[cellImageWidth,cellImageHeight]);sh.setUniform("uStrokeImageSize",[strokeImageWidth,strokeImageHeight]);sh.setUniform("uGridSize",[charGridWidth,charGridHeight])}this._applyColorBlend(this.curFillColor);var g=this.retainedMode.geometry["glyph"];if(!g){var geom=this._textGeom=new _main.default.Geometry(1,1,function(){for(var i=0;i<=1;i++){for(var j=0;j<=1;j++){this.vertices.push(new _main.default.Vector(j,i,0));this.uvs.push(j,i)}}});geom.computeFaces().computeNormals();g=this.createBuffers("glyph",geom)}var _iteratorNormalCompletion3=true;var _didIteratorError3=false;var _iteratorError3=undefined;try{for(var _iterator3=this.retainedMode.buffers.text[Symbol.iterator](),_step3;!(_iteratorNormalCompletion3=(_step3=_iterator3.next()).done);_iteratorNormalCompletion3=true){var buff=_step3.value;buff._prepareBuffer(g,sh)}}catch(err){_didIteratorError3=true;_iteratorError3=err}finally{try{if(!_iteratorNormalCompletion3&&_iterator3.return!=null){_iterator3.return()}}finally{if(_didIteratorError3){throw _iteratorError3}}}this._bindBuffer(g.indexBuffer,gl.ELEMENT_ARRAY_BUFFER);sh.setUniform("uMaterialColor",this.curFillColor);try{var dx=0;var glyphPrev=null;var glyphs=font.stringToGlyphs(line);var _iteratorNormalCompletion4=true;var _didIteratorError4=false;var _iteratorError4=undefined;try{for(var _iterator4=glyphs[Symbol.iterator](),_step4;!(_iteratorNormalCompletion4=(_step4=_iterator4.next()).done);_iteratorNormalCompletion4=true){var glyph=_step4.value;if(glyphPrev)dx+=font.getKerningValue(glyphPrev,glyph);var gi=fontInfo.getGlyphInfo(glyph);if(gi.uGlyphRect){var rowInfo=gi.rowInfo;var colInfo=gi.colInfo;sh.setUniform("uSamplerStrokes",gi.strokeImageInfo.imageData);sh.setUniform("uSamplerRowStrokes",rowInfo.cellImageInfo.imageData);sh.setUniform("uSamplerRows",rowInfo.dimImageInfo.imageData);sh.setUniform("uSamplerColStrokes",colInfo.cellImageInfo.imageData);sh.setUniform("uSamplerCols",colInfo.dimImageInfo.imageData);sh.setUniform("uGridOffset",gi.uGridOffset);sh.setUniform("uGlyphRect",gi.uGlyphRect);sh.setUniform("uGlyphOffset",dx);sh.bindTextures();gl.drawElements(gl.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)}dx+=glyph.advanceWidth;glyphPrev=glyph}}catch(err){_didIteratorError4=true;_iteratorError4=err}finally{try{if(!_iteratorNormalCompletion4&&_iterator4.return!=null){_iterator4.return()}}finally{if(_didIteratorError4){throw _iteratorError4}}}}finally{sh.unbindShader();this._doStroke=doStroke;this.drawMode=drawMode;p.pop()}return p}},{"../core/constants":275,"../core/main":287,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":176,"core-js/modules/es.object.to-string":195,"core-js/modules/es.regexp.exec":199,"core-js/modules/es.string.iterator":204,"core-js/modules/es.string.split":209,"core-js/modules/es.string.sub":210,"core-js/modules/es.symbol":214,"core-js/modules/es.symbol.description":212,"core-js/modules/es.symbol.iterator":213,"core-js/modules/web.dom-collections.iterator":247}],345:[function(_dereq_,module,exports){module.exports={fes:{autoplay:"The media that tried to play (with '{{src}}') wasn't allowed to by this browser, most likely due to the browser's autoplay policy.\n\n+ More info: {{url}}",checkUserDefinedFns:"It seems that you may have accidentally written {{name}} instead of {{actualName}}. Please correct it if it's not intentional.",fileLoadError:{bytes:"It looks like there was a problem loading your file. {{suggestion}}",font:"It looks like there was a problem loading your font. {{suggestion}}",gif:"There was some trouble loading your GIF. Make sure that your GIF is using 87a or 89a encoding.",image:"It looks like there was a problem loading your image. {{suggestion}}",json:"It looks like there was a problem loading your JSON file. {{suggestion}}",large:"If your large file isn't fetched successfully, we recommend splitting the file into smaller segments and fetching those.",strings:"It looks like there was a problem loading your text file. {{suggestion}}",suggestion:"Try checking if the file path ({{filePath}}) is correct, hosting the file online, or running a local server.\n\n+ More info: {{url}}",table:"It looks like there was a problem loading your table file. {{suggestion}}",xml:"It looks like there was a problem loading your XML file. {{suggestion}}"},friendlyParamError:{type_EMPTY_VAR:"{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received an empty variable instead. If not intentional, this is often a problem with scope.\n\n+ More info: {{url}}",type_TOO_FEW_ARGUMENTS:"{{location}} {{func}}() was expecting at least {{minParams}} arguments, but received only {{argCount}}.",type_TOO_MANY_ARGUMENTS:"{{location}} {{func}}() was expecting no more than {{maxParams}} arguments, but received {{argCount}}.",type_WRONG_TYPE:"{{location}} {{func}}() was expecting {{formatType}} for the {{position}} parameter, received {{argType}} instead."},globalErrors:{reference:{cannotAccess:'\n{{location}} "{{symbol}}" is used before declaration. Make sure you have declared the variable before using it.\n\n+ More info: {{url}}',notDefined:'\n{{location}} "{{symbol}}" is not defined in the current scope. If you have defined it in your code, you should check its scope, spelling, and letter-casing (JavaScript is case-sensitive).\n\n+ More info: {{url}}'},stackSubseq:"└[{{location}}] \n\t Called from line {{line}} in {{func}}()\n",stackTop:"┌[{{location}}] \n\t Error at line {{line}} in {{func}}()\n",syntax:{badReturnOrYield:"\nSyntax Error - return lies outside of a function. Make sure you’re not missing any brackets, so that return lies inside a function.\n\n+ More info: {{url}}",invalidToken:"\nSyntax Error - Found a symbol that JavaScript doesn't recognize or didn't expect at it's place.\n\n+ More info: {{url}}",missingInitializer:"\nSyntax Error - A const variable is declared but not initialized. In JavaScript, an initializer for a const is required. A value must be specified in the same statement in which the variable is declared. Check the line number in the error and assign the const variable a value.\n\n+ More info: {{url}}",redeclaredVariable:'\nSyntax Error - "{{symbol}}" is being redeclared. JavaScript doesn\'t allow declaring a variable more than once. Check the line number in error for redeclaration of the variable.\n\n+ More info: {{url}}',unexpectedToken:"\nSyntax Error - Symbol present at a place that wasn't expected.\nUsually this is due to a typo. Check the line number in the error for anything missing/extra.\n\n+ More info: {{url}}"},type:{constAssign:"\n{{location}} A const variable is being re-assigned. In javascript, re-assigning a value to a constant is not allowed. If you want to re-assign new values to a variable, make sure it is declared as var or let.\n\n+ More info: {{url}}",notfunc:'\n{{location}} "{{symbol}}" could not be called as a function.\nCheck the spelling, letter-casing (JavaScript is case-sensitive) and its type.\n\n+ More info: {{url}}',notfuncObj:'\n{{location}} "{{symbol}}" could not be called as a function.\nVerify whether "{{obj}}" has "{{symbol}}" in it and check the spelling, letter-casing (JavaScript is case-sensitive) and its type.\n\n+ More info: {{url}}',readFromNull:"\n{{location}} The property of null can't be read. In javascript the value null indicates that an object has no value.\n\n+ More info: {{url}}",readFromUndefined:"\n{{location}} Cannot read property of undefined. Check the line number in error and make sure the variable which is being operated is not undefined.\n\n + More info: {{url}}"}},libraryError:'{{location}} An error with message "{{error}}" occurred inside the p5js library when {{func}} was called. If not stated otherwise, it might be an issue with the arguments passed to {{func}}.',location:"[{{file}}, line {{line}}]",misspelling:'{{location}} It seems that you may have accidentally written "{{name}}" instead of "{{actualName}}". Please correct it to {{actualName}} if you wish to use the {{type}} from p5.js.',misspelling_plural:'{{location}} It seems that you may have accidentally written "{{name}}".\nYou may have meant one of the following: \n{{suggestions}}',misusedTopLevel:"Did you just try to use p5.js's {{symbolName}} {{symbolType}}? If so, you may want to move it into your sketch's setup() function.\n\n+ More info: {{url}}",positions:{p_1:"first",p_10:"tenth",p_11:"eleventh",p_12:"twelfth",p_2:"second",p_3:"third",p_4:"fourth",p_5:"fifth",p_6:"sixth",p_7:"seventh",p_8:"eighth",p_9:"ninth"},pre:"\n🌸 p5.js says: {{message}}",sketchReaderErrors:{reservedConst:'you have used a p5.js reserved variable "{{symbol}}" make sure you change the variable name to something else.\n\n+ More info: {{url}}',reservedFunc:'you have used a p5.js reserved function "{{symbol}}" make sure you change the function name to something else.\n\n+ More info: {{url}}'},welcome:"Welcome! This is your friendly debugger. To turn me off, switch to using p5.min.js.",wrongPreload:'{{location}} An error with message "{{error}}" occurred inside the p5js library when "{{func}}" was called. If not stated otherwise, it might be due to "{{func}}" being called from preload. Nothing besides load calls (loadImage, loadJSON, loadFont, loadStrings, etc.) should be inside the preload function.'}}},{}],346:[function(_dereq_,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.languages=exports.default=void 0;var _translation=_interopRequireDefault(_dereq_("./en/translation"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _default={en:{translation:_translation.default}};exports.default=_default;var languages=["en","es","ko"];exports.languages=languages},{"./en/translation":345}]},{},[270])(270);console.log("p55555",p55555);return p55555};